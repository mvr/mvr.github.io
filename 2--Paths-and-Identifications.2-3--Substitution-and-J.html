<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>3: Substitution and J - Introduction to Cubical Type Theory in Agda</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/css/Agda.css">
        <link rel="stylesheet" href="theme/css/Agda-highlight.css">
        <link rel="stylesheet" href="theme/pagetoc.css">

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "coal" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="index.html">Home</a></li><li class="chapter-item affix "><a href="INSTALLING_AGDA.html">Installing Agda</a></li><li class="chapter-item affix "><a href="USING_AGDA.html">Using Agda</a></li><li class="chapter-item affix "><li class="part-title">Type Theory</li><li class="chapter-item "><a href="1--Type-Theory.1-1--Types-and-Functions.html">1: Types and Functions</a></li><li class="chapter-item "><a href="1--Type-Theory.1-2--Inductive-Types.html">2: Inductive Types</a></li><li class="chapter-item "><a href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html">3: Universes and More Inductive Types</a></li><li class="chapter-item "><a href="1--Type-Theory.1-X--Record-Types-and-Copatterns.html">X: Record Types and Copatterns</a></li><li class="chapter-item "><a href="1--Type-Theory.1-4--Propositions-as-Types.html">4: Propositions as Types</a></li><li class="chapter-item affix "><li class="part-title">Paths and Identifications</li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-1--Paths.html">1: Paths</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html">2: Equivalences and Path Algebra</a></li><li class="chapter-item expanded "><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html" class="active">3: Substitution and J</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html">4: Composition and Filling</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-5--Transport.html">5: Transport</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-6--Univalence.html">6: Univalence</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-7--Propositions.html">7: Propositions</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-8--Sets.html">8: Sets</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-9--Contractible-Maps.html">9: Contractible Maps</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-10--Higher-Types.html">10: Higher Types</a></li><li class="chapter-item affix "><li class="part-title">Topics</li><li class="chapter-item "><a href="3--Structures.3-1--Structure-Identity-Principle.html">1: The Structure Identity Principle</a></li><li class="chapter-item "><a href="3--Structures.3-2--Modalities.html">2: Modalities</a></li><li class="chapter-item "><a href="3--Structures.3-3--Constructive-Logic.html">3: Constructive Logic</a></li><li class="spacer"></li><li class="chapter-item affix "><a href="Library.Primitive.html">Primitives</a></li><li class="chapter-item affix "><a href="Library.Prelude.html">Prelude</a></li><li class="chapter-item affix "><a href="Library.Univalence.html">Univalence</a></li><li class="chapter-item affix "><a href="UNICODE_DICTIONARY.html">Unicode Dictionary</a></li><li class="spacer"></li><li class="chapter-item affix "><a href="ACKNOWLEDGEMENTS.html">Acknowledgements</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <!-- <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li> -->
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Introduction to Cubical Type Theory in Agda</h1>

                    <div class="right-buttons">
                        <a href="https://github.com/CQTS/introduction-to-cubical" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                  <main>
                    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<!--
<pre class="Agda"><a id="10" class="Keyword">module</a> <a id="17" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html" class="Module">2--Paths-and-Identifications.2-3--Substitution-and-J</a> <a id="70" class="Keyword">where</a>

<a id="77" class="Keyword">open</a> <a id="82" class="Keyword">import</a> <a id="89" href="Library.Prelude.html" class="Module">Library.Prelude</a>
<a id="105" class="Keyword">open</a> <a id="110" class="Keyword">import</a> <a id="117" href="1--Type-Theory.1-1--Types-and-Functions.html" class="Module">1--Type-Theory.1-1--Types-and-Functions</a>
<a id="157" class="Keyword">open</a> <a id="162" class="Keyword">import</a> <a id="169" href="1--Type-Theory.1-2--Inductive-Types.html" class="Module">1--Type-Theory.1-2--Inductive-Types</a>
<a id="205" class="Keyword">open</a> <a id="210" class="Keyword">import</a> <a id="217" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html" class="Module">1--Type-Theory.1-3--Universes-and-More-Inductive-Types</a>
<a id="272" class="Keyword">open</a> <a id="277" class="Keyword">import</a> <a id="284" href="1--Type-Theory.1-4--Propositions-as-Types.html" class="Module">1--Type-Theory.1-4--Propositions-as-Types</a>
<a id="326" class="Keyword">open</a> <a id="331" class="Keyword">import</a> <a id="338" href="2--Paths-and-Identifications.2-1--Paths.html" class="Module">2--Paths-and-Identifications.2-1--Paths</a>
<a id="378" class="Keyword">open</a> <a id="383" class="Keyword">import</a> <a id="390" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html" class="Module">2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra</a>

<a id="455" class="Keyword">private</a>
  <a id="465" class="Keyword">variable</a>
    <a id="478" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#478" class="Generalizable">ℓ</a> <a id="480" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#480" class="Generalizable">ℓ&#39;</a> <a id="483" class="Symbol">:</a> <a id="485" href="Library.Primitive.html#1060" class="Postulate">Level</a>
    <a id="495" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a> <a id="497" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#497" class="Generalizable">B</a> <a id="499" class="Symbol">:</a> <a id="501" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="506" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#478" class="Generalizable">ℓ</a>
    <a id="512" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="514" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#514" class="Generalizable">y</a> <a id="516" class="Symbol">:</a> <a id="518" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a>
</pre>-->
<h1 id="lecture-2-3-substitution-and-j"><a class="header" href="#lecture-2-3-substitution-and-j">Lecture 2-3: Substitution and J</a></h1>
<p>A fundamental principle of equality is that we may substitute equal
things for equal things. Consider a predicate like <code class="Agda"><a href="1--Type-Theory.1-4--Propositions-as-Types.html#22501" class="Function">isEvenP</a></code>.
If <code>x</code> and <code>y</code> are natural numbers so that <code>x ≡ y</code>, and we know that
<code>isEvenP x</code>, then we should certainly be able to conclude that
<code>isEvenP y</code>.</p>
<p>There is nothing we’ve seen that lets us do this, so we’ll need a new
primitive notion. </p>
<h2 id="substitution"><a class="header" href="#substitution">Substitution</a></h2>
<p>Given a type family <code>B : A → Type</code> thought of as a predicate, and a
path <code>p : x ≡ y</code> in the type <code>A</code>, we want a function <code>subst B p : B x → B y</code> that “substitutes <code>x</code> for <code>y</code> in things of type <code>B x</code>”.</p>
<pre class="Agda"><a id="subst"></a><a id="1157" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1157" class="Function">subst</a> <a id="1163" class="Symbol">:</a> <a id="1165" class="Symbol">(</a><a id="1166" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1166" class="Bound">B</a> <a id="1168" class="Symbol">:</a> <a id="1170" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a> <a id="1172" class="Symbol">→</a> <a id="1174" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="1179" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#478" class="Generalizable">ℓ</a><a id="1180" class="Symbol">)</a> <a id="1182" class="Symbol">→</a> <a id="1184" class="Symbol">(</a><a id="1185" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1185" class="Bound">p</a> <a id="1187" class="Symbol">:</a> <a id="1189" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="1191" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="1193" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#514" class="Generalizable">y</a><a id="1194" class="Symbol">)</a> <a id="1196" class="Symbol">→</a> <a id="1198" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1166" class="Bound">B</a> <a id="1200" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="1202" class="Symbol">→</a> <a id="1204" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1166" class="Bound">B</a> <a id="1206" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#514" class="Generalizable">y</a>
</pre>
<p>To see exactly what primitive notion we are missing, consider that we
haven’t yet said what a path <code>I → Type</code> should be.</p>
<p>Taking a cue from homotopy theory, we expect that a path between
spaces should be a continuous deformation of one space into
another — a so-called “homotopy equivalence”. In particular, then,
if we have a path <code>A : I → Type</code>, we should be able to “continuously
move” an element <code>a : A i0</code> to some element of <code>A i1</code>. This is called
“transporting” the element <code>a</code> from <code>A i0</code> to <code>A i1</code> along the path of
types <code>A</code>. Agda axiomatizes this idea with a function called
<code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1820" class="Function">transport</a></code>.</p>
<pre class="Agda"><a id="transport"></a><a id="1820" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1820" class="Function">transport</a> <a id="1830" class="Symbol">:</a> <a id="1832" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a> <a id="1834" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="1836" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#497" class="Generalizable">B</a> <a id="1838" class="Symbol">→</a> <a id="1840" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a> <a id="1842" class="Symbol">→</a> <a id="1844" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#497" class="Generalizable">B</a>
</pre>
<div class="info">
<p><span class="info-label">Aside:</span>
Well, actually, <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1820" class="Function">transport</a></code> is defined via a slightly more
general operation unhelpfully called <code class="Agda"><a href="" class="Primitive">transport-fixing</a></code>, which we will
return to in Lecture 2-X.</p>
<pre class="Agda"><a id="2026" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1820" class="Function">transport</a> <a id="2036" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2036" class="Bound">p</a> <a id="2038" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2038" class="Bound">a</a> <a id="2040" class="Symbol">=</a> <a id="2042" href="Library.Prelude.html#447" class="Primitive">transport-fixing</a> <a id="2059" class="Symbol">(λ</a> <a id="2062" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2062" class="Bound">i</a> <a id="2064" class="Symbol">→</a> <a id="2066" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2036" class="Bound">p</a> <a id="2068" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2062" class="Bound">i</a><a id="2069" class="Symbol">)</a> <a id="2071" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a> <a id="2074" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2038" class="Bound">a</a>
</pre>
</div>
<p>Using <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1820" class="Function">transport</a></code>, we can define <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1157" class="Function">subst</a></code> by transporting in the
path of types <code>(λ i → B (p i)) : B x ≡ B y</code>. We know the endpoints of
this path are correct because <code>p i0</code> is exactly <code>x</code> and <code>p i1</code> is
exactly <code>y</code>.</p>
<pre class="Agda"><a id="2307" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1157" class="Function">subst</a> <a id="2313" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2313" class="Bound">B</a> <a id="2315" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2315" class="Bound">p</a> <a id="2317" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2317" class="Bound">b</a> <a id="2319" class="Symbol">=</a> <a id="2321" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1820" class="Function">transport</a> <a id="2331" class="Symbol">(λ</a> <a id="2334" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2334" class="Bound">i</a> <a id="2336" class="Symbol">→</a> <a id="2338" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2313" class="Bound">B</a> <a id="2340" class="Symbol">(</a><a id="2341" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2315" class="Bound">p</a> <a id="2343" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2334" class="Bound">i</a><a id="2344" class="Symbol">))</a> <a id="2347" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2317" class="Bound">b</a>
</pre>
<p>Our first application of <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1157" class="Function">subst</a></code>, is showing that there is no path
from <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a></code> to <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#430" class="InductiveConstructor">false</a></code> in <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#395" class="Datatype">Bool</a></code>.</p>
<pre class="Agda"><a id="true≢false"></a><a id="2468" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2468" class="Function">true≢false</a> <a id="2479" class="Symbol">:</a> <a id="2481" href="1--Type-Theory.1-4--Propositions-as-Types.html#5060" class="Function Operator">¬</a> <a id="2483" href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a> <a id="2488" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="2490" href="1--Type-Theory.1-2--Inductive-Types.html#430" class="InductiveConstructor">false</a>
<a id="2496" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2468" class="Function">true≢false</a> <a id="2507" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2507" class="Bound">p</a> <a id="2509" class="Symbol">=</a> <a id="2511" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1157" class="Function">subst</a> <a id="2517" class="Symbol">(λ</a> <a id="2520" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2520" class="Bound">b</a> <a id="2522" class="Symbol">→</a> <a id="2524" href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a> <a id="2529" href="1--Type-Theory.1-4--Propositions-as-Types.html#12297" class="Function Operator">≡Bool</a> <a id="2535" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2520" class="Bound">b</a><a id="2536" class="Symbol">)</a> <a id="2538" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2507" class="Bound">p</a> <a id="2540" href="1--Type-Theory.1-2--Inductive-Types.html#7837" class="InductiveConstructor">tt</a>
</pre>
<p>Let’s take a minute to make sure we understand what’s going on here.
Remember that <code class="Agda"><a href="1--Type-Theory.1-4--Propositions-as-Types.html#5060" class="Function">¬</a></code> is defined to be simply functions into <code class="Agda"><a href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6064" class="Datatype">∅</a></code>, so
<code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2468" class="Function">true≢false</a></code> is a function <code>true ≡ false → ∅</code>. That is, to prove
that <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a></code> doesn’t equal <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#430" class="InductiveConstructor">false</a></code>, we assume we have a path <code>true ≡ false</code> and derive a contradiction. How do we do this?</p>
<p>Well, we have by definition that <code>true ≡Bool true</code> is <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#7820" class="Datatype">⊤</a></code> and that
<code>true ≡Bool false</code> is <code class="Agda"><a href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6064" class="Datatype">∅</a></code>, this time using the type family <code class="Agda"><a href="1--Type-Theory.1-4--Propositions-as-Types.html#12297" class="Function">≡Bool</a></code>
that we defined for observational equality. If we’re given a path <code>p : true ≡ false</code>, then we could replace the second <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a></code> in <code>true ≡Bool true</code> with <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#430" class="InductiveConstructor">false</a></code> to get an element of <code>true ≡Bool false</code>,
which would finish our proof.</p>
<p>The family we are substituting in is therefore <code>(λ b → true ≡Bool b)</code>.
The resulting term <code>subst (λ b → true ≡Bool b) p</code> is a function <code>true ≡Bool true → true ≡Bool false</code>, so unwinding the definition of
<code class="Agda"><a href="1--Type-Theory.1-4--Propositions-as-Types.html#12297" class="Function">≡Bool</a></code>, a function <code>⊤ → ∅</code>. This we can simply feed in <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#7837" class="InductiveConstructor">tt</a></code> to
obtain an element of <code class="Agda"><a href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6064" class="Datatype">∅</a></code>, our contradiction.</p>
<p>Try proving a similar fact for <code class="Agda"><a href="Library.Prelude.html#3629" class="Datatype">ℕ</a></code>, that zero is not equal to any
successor.</p>
<pre class="Agda"><a id="zero≢suc"></a><a id="3660" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#3660" class="Function">zero≢suc</a> <a id="3669" class="Symbol">:</a> <a id="3671" class="Symbol">{</a><a id="3672" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#3672" class="Bound">n</a> <a id="3674" class="Symbol">:</a> <a id="3676" href="Library.Prelude.html#3629" class="Datatype">ℕ</a><a id="3677" class="Symbol">}</a> <a id="3679" class="Symbol">→</a> <a id="3681" href="1--Type-Theory.1-4--Propositions-as-Types.html#5060" class="Function Operator">¬</a> <a id="3683" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a> <a id="3688" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="3690" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="3694" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#3672" class="Bound">n</a>
<a id="3696" class="Comment">-- Exercise:</a>
<a id="3709" class="Comment">-- zero≢suc p = {!!}</a>
</pre><!--
<pre class="Agda"><a id="3743" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#3660" class="Function">zero≢suc</a> <a id="3752" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#3752" class="Bound">p</a> <a id="3754" class="Symbol">=</a> <a id="3756" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1157" class="Function">subst</a> <a id="3762" class="Symbol">(λ</a> <a id="3765" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#3765" class="Bound">b</a> <a id="3767" class="Symbol">→</a> <a id="3769" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a> <a id="3774" href="1--Type-Theory.1-4--Propositions-as-Types.html#15585" class="Function Operator">≡ℕ</a> <a id="3777" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#3765" class="Bound">b</a><a id="3778" class="Symbol">)</a> <a id="3780" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#3752" class="Bound">p</a> <a id="3782" href="1--Type-Theory.1-2--Inductive-Types.html#7837" class="InductiveConstructor">tt</a>

</pre>-->
<p>While we’re here, we can show that the constructors for <code class="Agda"><a href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8019" class="Datatype">⊎</a></code> are also
disjoint. These proofs all go roughly the same way.</p>
<pre class="Agda"><a id="IsInl"></a><a id="3931" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#3931" class="Function">IsInl</a> <a id="3937" class="Symbol">:</a> <a id="3939" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a> <a id="3941" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8019" class="Datatype Operator">⊎</a> <a id="3943" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#497" class="Generalizable">B</a> <a id="3945" class="Symbol">→</a> <a id="3947" href="Library.Primitive.html#422" class="Primitive">Type</a>
<a id="3952" class="Comment">-- Exercise:</a>
<a id="3965" class="Comment">-- IsInl s = {!!}</a>
</pre><!--
<pre class="Agda"><a id="3996" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#3931" class="Function">IsInl</a> <a id="4002" class="Symbol">(</a><a id="4003" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8093" class="InductiveConstructor">inl</a> <a id="4007" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#4007" class="Bound">a</a><a id="4008" class="Symbol">)</a> <a id="4010" class="Symbol">=</a> <a id="4012" href="1--Type-Theory.1-2--Inductive-Types.html#7820" class="Datatype">⊤</a>
<a id="4014" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#3931" class="Function">IsInl</a> <a id="4020" class="Symbol">(</a><a id="4021" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8111" class="InductiveConstructor">inr</a> <a id="4025" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#4025" class="Bound">b</a><a id="4026" class="Symbol">)</a> <a id="4028" class="Symbol">=</a> <a id="4030" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6064" class="Datatype">∅</a>

</pre>-->
<pre class="Agda">
<a id="inl≠inr"></a><a id="4046" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#4046" class="Function">inl≠inr</a> <a id="4054" class="Symbol">:</a> <a id="4056" href="1--Type-Theory.1-4--Propositions-as-Types.html#5060" class="Function Operator">¬</a> <a id="4058" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8093" class="InductiveConstructor">inl</a> <a id="4062" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="4064" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="4066" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8111" class="InductiveConstructor">inr</a> <a id="4070" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#514" class="Generalizable">y</a>
<a id="4072" class="Comment">-- Exercise:</a>
<a id="4085" class="Comment">-- inl≠inr path = {!!}</a>
</pre><!--
<pre class="Agda"><a id="4121" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#4046" class="Function">inl≠inr</a> <a id="4129" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#4129" class="Bound">path</a> <a id="4134" class="Symbol">=</a> <a id="4136" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1157" class="Function">subst</a> <a id="4142" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#3931" class="Function">IsInl</a> <a id="4148" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#4129" class="Bound">path</a> <a id="4153" href="1--Type-Theory.1-2--Inductive-Types.html#7837" class="InductiveConstructor">tt</a>

</pre>-->
<pre class="Agda">
<a id="inr≠inl"></a><a id="4170" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#4170" class="Function">inr≠inl</a> <a id="4178" class="Symbol">:</a> <a id="4180" href="1--Type-Theory.1-4--Propositions-as-Types.html#5060" class="Function Operator">¬</a> <a id="4182" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8111" class="InductiveConstructor">inr</a> <a id="4186" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="4188" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="4190" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8093" class="InductiveConstructor">inl</a> <a id="4194" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#514" class="Generalizable">y</a>
<a id="4196" class="Comment">-- Exercise:</a>
<a id="4209" class="Comment">-- inr≠inl path = {!!}</a>
</pre><!--
<pre class="Agda"><a id="4245" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#4170" class="Function">inr≠inl</a> <a id="4253" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#4253" class="Bound">path</a> <a id="4258" class="Symbol">=</a> <a id="4260" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#4046" class="Function">inl≠inr</a> <a id="4268" class="Symbol">(</a><a id="4269" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#22252" class="Function">sym</a> <a id="4273" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#4253" class="Bound">path</a><a id="4277" class="Symbol">)</a>

</pre>-->
<h2 id="martin-löfs-j-rule"><a class="header" href="#martin-löfs-j-rule">Martin-Löf’s J Rule</a></h2>
<p>Combining transport with the the De Morgan structure on the interval,
we can show a fundamental but not-as-well-known principle of identity:
Martin-Löf’s <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a></code> rule.</p>
<p>Recall the <code class="Agda"><a href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#26261" class="Function">connection∧</a></code> square:</p>
<pre><code>          p
     x — — — &gt; y
     ^         ^
refl |         | p               ^
     |         |               j |
     x — — — &gt; x                 ∙ — &gt;
        refl                       i
</code></pre>
<p>Reading this square in the <code>i</code> direction, we can see it as a path
between <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a></code> and <code>p</code> which keeps the beginning of the path
constant at <code>x</code> but lets the other end vary along <code>p</code>. We can
therefore take any property of the path <code>refl : x ≡ x</code> and transport
it to any path <code>p : x ≡ y</code> beginning with <code>x</code>. The <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a></code>-rule
expresses this principle.</p>
<pre class="Agda"><a id="J-line"></a><a id="5099" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5099" class="Function">J-line</a> <a id="5106" class="Symbol">:</a> <a id="5108" class="Symbol">(</a><a id="5109" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5109" class="Bound">Q</a> <a id="5111" class="Symbol">:</a> <a id="5113" class="Symbol">(</a><a id="5114" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5114" class="Bound">y</a> <a id="5116" class="Symbol">:</a> <a id="5118" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a><a id="5119" class="Symbol">)</a> <a id="5121" class="Symbol">→</a> <a id="5123" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="5125" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="5127" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5114" class="Bound">y</a> <a id="5129" class="Symbol">→</a> <a id="5131" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="5136" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#478" class="Generalizable">ℓ</a><a id="5137" class="Symbol">)</a>
  <a id="5141" class="Symbol">→</a> <a id="5143" class="Symbol">(</a><a id="5144" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5144" class="Bound">p</a> <a id="5146" class="Symbol">:</a> <a id="5148" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="5150" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="5152" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#514" class="Generalizable">y</a><a id="5153" class="Symbol">)</a>
  <a id="5157" class="Symbol">→</a> <a id="5159" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5109" class="Bound">Q</a> <a id="5161" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="5163" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a> <a id="5168" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="5170" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5109" class="Bound">Q</a> <a id="5172" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#514" class="Generalizable">y</a> <a id="5174" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5144" class="Bound">p</a>
<a id="5176" class="Comment">-- Exercise:</a>
<a id="5189" class="Comment">-- J-line Q p i = Q {!!} {!!}</a>
</pre><!--
<pre class="Agda"><a id="5232" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5099" class="Function">J-line</a> <a id="5239" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5239" class="Bound">Q</a> <a id="5241" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5241" class="Bound">p</a> <a id="5243" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5243" class="Bound">i</a> <a id="5245" class="Symbol">=</a> <a id="5247" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5239" class="Bound">Q</a> <a id="5249" class="Symbol">(</a><a id="5250" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5241" class="Bound">p</a> <a id="5252" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5243" class="Bound">i</a><a id="5253" class="Symbol">)</a> <a id="5255" class="Symbol">(</a><a id="5256" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#26261" class="Function">connection∧</a> <a id="5268" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5241" class="Bound">p</a> <a id="5270" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5243" class="Bound">i</a><a id="5271" class="Symbol">)</a>

</pre>-->
<pre class="Agda">
<a id="J"></a><a id="5287" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a> <a id="5289" class="Symbol">:</a> <a id="5291" class="Symbol">(</a><a id="5292" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5292" class="Bound">Q</a> <a id="5294" class="Symbol">:</a> <a id="5296" class="Symbol">(</a><a id="5297" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5297" class="Bound">y</a> <a id="5299" class="Symbol">:</a> <a id="5301" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a><a id="5302" class="Symbol">)</a> <a id="5304" class="Symbol">→</a> <a id="5306" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="5308" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="5310" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5297" class="Bound">y</a> <a id="5312" class="Symbol">→</a> <a id="5314" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="5319" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#478" class="Generalizable">ℓ</a><a id="5320" class="Symbol">)</a> 
  <a id="5325" class="Symbol">→</a> <a id="5327" class="Symbol">(</a><a id="5328" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5328" class="Bound">r</a> <a id="5330" class="Symbol">:</a> <a id="5332" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5292" class="Bound">Q</a> <a id="5334" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="5336" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a><a id="5340" class="Symbol">)</a>
  <a id="5344" class="Symbol">→</a> <a id="5346" class="Symbol">(</a><a id="5347" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5347" class="Bound">p</a> <a id="5349" class="Symbol">:</a> <a id="5351" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="5353" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="5355" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#514" class="Generalizable">y</a><a id="5356" class="Symbol">)</a> 
  <a id="5361" class="Symbol">→</a> <a id="5363" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5292" class="Bound">Q</a> <a id="5365" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#514" class="Generalizable">y</a> <a id="5367" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5347" class="Bound">p</a>
<a id="5369" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a> <a id="5371" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5371" class="Bound">Q</a> <a id="5373" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5373" class="Bound">r</a> <a id="5375" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5375" class="Bound">p</a> <a id="5377" class="Symbol">=</a> <a id="5379" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1820" class="Function">transport</a> <a id="5389" class="Symbol">(</a><a id="5390" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5099" class="Function">J-line</a> <a id="5397" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5371" class="Bound">Q</a> <a id="5399" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5375" class="Bound">p</a><a id="5400" class="Symbol">)</a> <a id="5402" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5373" class="Bound">r</a>
</pre>
<p>If we think of the dependent type <code>P</code> as a property, then the
<code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a></code> rule says that to prove <code>Q y p</code> for all <code>y : A</code> and <code>p : x ≡ y</code>, it suffices to prove <code>P</code> just when <code>y</code> is <code>x</code> and the path <code>p</code>
is <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a></code>. For this reason, the <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a></code> rule is sometimes
known as “path induction” since it resembles an induction principle
like <code class="Agda"><a href="1--Type-Theory.1-4--Propositions-as-Types.html#19708" class="Function">Bool-ind</a></code> or <code class="Agda"><a href="1--Type-Theory.1-4--Propositions-as-Types.html#21448" class="Function">ℕ-ind</a></code>: proving a property of all
elements of a type by proving the property for specific cases.</p>
<p>For comparison:</p>
<ul>
<li>Induction for <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#395" class="Datatype">Bool</a></code>: To prove <code>Q b</code> for all <code>b : Bool</code>, it
suffices to prove <code>Q true</code> and <code>Q false</code>.</li>
<li>Induction for <code class="Agda"><a href="Library.Prelude.html#3629" class="Datatype">ℕ</a></code>: To prove <code>Q n</code> for all <code>n : ℕ</code>, it
suffices to prove <code>Q zero</code>, and <code>Q (suc n)</code> assuming that <code>Q n</code>.</li>
<li>Induction for <code class="Agda"><a href="Library.Prelude.html#1916" class="Function">Path</a></code>: To prove <code>Q y p</code> for all elements <code>y : A</code>
and paths <code>p : x ≡ y</code>, it suffices to prove <code>Q x refl</code>.</li>
</ul>
<p>The induction principle for <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#395" class="Datatype">Bool</a></code> includes a convenient computation
rule: if <code>f b : Q b</code> is defined by induction from <code>x : P true</code> and <code>y : Q false</code>, then if we know <code>b</code> concretely then we get back exactly
the corresponding input we used: <code>f true = x</code> and <code>f false = y</code> by
definition. We can prove a similar fact for the <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a></code> rule, but
unfortunately we only get a path, and <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a></code> doesn’t actually <em>compute</em>
to <code>r</code> when handed <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a></code>.</p>
<pre class="Agda"><a id="J-refl"></a><a id="6675" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6675" class="Function">J-refl</a> <a id="6682" class="Symbol">:</a> <a id="6684" class="Symbol">(</a><a id="6685" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6685" class="Bound">Q</a> <a id="6687" class="Symbol">:</a> <a id="6689" class="Symbol">(</a><a id="6690" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6690" class="Bound">y</a> <a id="6692" class="Symbol">:</a> <a id="6694" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a><a id="6695" class="Symbol">)</a> <a id="6697" class="Symbol">→</a> <a id="6699" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="6701" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="6703" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6690" class="Bound">y</a> <a id="6705" class="Symbol">→</a> <a id="6707" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="6712" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#478" class="Generalizable">ℓ</a><a id="6713" class="Symbol">)</a> <a id="6715" class="Symbol">(</a><a id="6716" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6716" class="Bound">r</a> <a id="6718" class="Symbol">:</a> <a id="6720" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6685" class="Bound">Q</a> <a id="6722" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="6724" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a><a id="6728" class="Symbol">)</a>
      <a id="6736" class="Symbol">→</a> <a id="6738" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a> <a id="6740" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6685" class="Bound">Q</a> <a id="6742" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6716" class="Bound">r</a> <a id="6744" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a> <a id="6749" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="6751" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6716" class="Bound">r</a>
<a id="6753" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6675" class="Function">J-refl</a> <a id="6760" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6760" class="Bound">Q</a> <a id="6762" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6762" class="Bound">r</a> <a id="6764" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6764" class="Bound">i</a> <a id="6766" class="Symbol">=</a> <a id="6768" href="Library.Prelude.html#447" class="Primitive">transport-fixing</a> <a id="6785" class="Symbol">(λ</a> <a id="6788" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6788" class="Bound">_</a> <a id="6790" class="Symbol">→</a> <a id="6792" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6760" class="Bound">Q</a> <a id="6794" class="Symbol">_</a> <a id="6796" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a><a id="6800" class="Symbol">)</a> <a id="6802" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6764" class="Bound">i</a> <a id="6804" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6762" class="Bound">r</a>
</pre>
<div class="info">
<p><span class="info-label">Aside:</span>
Right now we don’t have the tools to understand the definition of
<code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6675" class="Function">J-refl</a></code>, but when we cover <code class="Agda"><a href="" class="Primitive">transport-fixing</a></code> in Lecture 2-X, we will
recognise the above definition as exactly <code class="Agda"><a href="2--Paths-and-Identifications.2-5--Transport.html#4148" class="Function">transport-refl</a></code>.</p>
</div>
<p>The <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a></code> rule is one half of an equivalence, giving a universal
mapping property for paths.</p>
<pre class="Agda"><a id="J-ump-≃"></a><a id="7128" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7128" class="Function">J-ump-≃</a> <a id="7136" class="Symbol">:</a> <a id="7138" class="Symbol">(</a><a id="7139" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7139" class="Bound">Q</a> <a id="7141" class="Symbol">:</a> <a id="7143" class="Symbol">(</a><a id="7144" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7144" class="Bound">y</a> <a id="7146" class="Symbol">:</a> <a id="7148" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a><a id="7149" class="Symbol">)</a> <a id="7151" class="Symbol">→</a> <a id="7153" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="7155" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="7157" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7144" class="Bound">y</a> <a id="7159" class="Symbol">→</a> <a id="7161" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="7166" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#478" class="Generalizable">ℓ</a><a id="7167" class="Symbol">)</a>
  <a id="7171" class="Symbol">→</a> <a id="7173" class="Symbol">((</a><a id="7175" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7175" class="Bound">y</a> <a id="7177" class="Symbol">:</a> <a id="7179" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a><a id="7180" class="Symbol">)</a> <a id="7182" class="Symbol">→</a> <a id="7184" class="Symbol">(</a><a id="7185" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7185" class="Bound">p</a> <a id="7187" class="Symbol">:</a> <a id="7189" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="7191" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="7193" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7175" class="Bound">y</a><a id="7194" class="Symbol">)</a> <a id="7196" class="Symbol">→</a> <a id="7198" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7139" class="Bound">Q</a> <a id="7200" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7175" class="Bound">y</a> <a id="7202" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7185" class="Bound">p</a><a id="7203" class="Symbol">)</a> <a id="7205" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="7207" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7139" class="Bound">Q</a> <a id="7209" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="7211" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>
<a id="7216" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7128" class="Function">J-ump-≃</a> <a id="7224" class="Symbol">{</a><a id="7225" class="Argument">A</a> <a id="7227" class="Symbol">=</a> <a id="7229" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7229" class="Bound">A</a><a id="7230" class="Symbol">}</a> <a id="7232" class="Symbol">{</a><a id="7233" class="Argument">x</a> <a id="7235" class="Symbol">=</a> <a id="7237" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7237" class="Bound">x</a><a id="7238" class="Symbol">}</a> <a id="7240" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7240" class="Bound">Q</a> <a id="7242" class="Symbol">=</a> <a id="7244" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#7262" class="Function">inv→equiv</a> <a id="7254" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7287" class="Function">to</a> <a id="7257" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7416" class="Function">fro</a> <a id="7261" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7555" class="Function">to-fro</a> <a id="7268" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7712" class="Function">fro-to</a>
  <a id="7277" class="Keyword">where</a>
    <a id="7287" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7287" class="Function">to</a> <a id="7290" class="Symbol">:</a> <a id="7292" class="Symbol">((</a><a id="7294" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7294" class="Bound">y</a> <a id="7296" class="Symbol">:</a> <a id="7298" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7229" class="Bound">A</a><a id="7299" class="Symbol">)</a> <a id="7301" class="Symbol">→</a> <a id="7303" class="Symbol">(</a><a id="7304" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7304" class="Bound">p</a> <a id="7306" class="Symbol">:</a> <a id="7308" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7237" class="Bound">x</a> <a id="7310" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="7312" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7294" class="Bound">y</a><a id="7313" class="Symbol">)</a> <a id="7315" class="Symbol">→</a> <a id="7317" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7240" class="Bound">Q</a> <a id="7319" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7294" class="Bound">y</a> <a id="7321" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7304" class="Bound">p</a><a id="7322" class="Symbol">)</a> <a id="7324" class="Symbol">→</a> <a id="7326" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7240" class="Bound">Q</a> <a id="7328" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7237" class="Bound">x</a> <a id="7330" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>
<a id="7335" class="Comment">--  Exercise:</a>
<a id="7349" class="Comment">--  to f = {!!}</a>
</pre><!--
<pre class="Agda">    <a id="7382" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7287" class="Function">to</a> <a id="7385" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7385" class="Bound">f</a> <a id="7387" class="Symbol">=</a> <a id="7389" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7385" class="Bound">f</a> <a id="7391" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7237" class="Bound">x</a> <a id="7393" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>

</pre>-->
<pre class="Agda">
    <a id="7416" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7416" class="Function">fro</a> <a id="7420" class="Symbol">:</a> <a id="7422" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7240" class="Bound">Q</a> <a id="7424" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7237" class="Bound">x</a> <a id="7426" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a> <a id="7431" class="Symbol">→</a> <a id="7433" class="Symbol">((</a><a id="7435" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7435" class="Bound">y</a> <a id="7437" class="Symbol">:</a> <a id="7439" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7229" class="Bound">A</a><a id="7440" class="Symbol">)</a> <a id="7442" class="Symbol">→</a> <a id="7444" class="Symbol">(</a><a id="7445" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7445" class="Bound">p</a> <a id="7447" class="Symbol">:</a> <a id="7449" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7237" class="Bound">x</a> <a id="7451" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="7453" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7435" class="Bound">y</a><a id="7454" class="Symbol">)</a> <a id="7456" class="Symbol">→</a> <a id="7458" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7240" class="Bound">Q</a> <a id="7460" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7435" class="Bound">y</a> <a id="7462" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7445" class="Bound">p</a><a id="7463" class="Symbol">)</a>
<a id="7465" class="Comment">--  Exercise:</a>
<a id="7479" class="Comment">--  fro q y p = {!!}</a>
</pre><!--
<pre class="Agda">    <a id="7517" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7416" class="Function">fro</a> <a id="7521" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7521" class="Bound">q</a> <a id="7523" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7523" class="Bound">y</a> <a id="7525" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7525" class="Bound">p</a> <a id="7527" class="Symbol">=</a> <a id="7529" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a> <a id="7531" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7240" class="Bound">Q</a> <a id="7533" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7521" class="Bound">q</a> <a id="7535" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7525" class="Bound">p</a>

</pre>-->
<pre class="Agda">
    <a id="7555" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7555" class="Function">to-fro</a> <a id="7562" class="Symbol">:</a> <a id="7564" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#1688" class="Function">isSection</a> <a id="7574" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7287" class="Function">to</a> <a id="7577" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7416" class="Function">fro</a>
<a id="7581" class="Comment">--  Exercise: (Hint: this is an instance of `J-refl`)</a>
<a id="7635" class="Comment">--  to-fro q = {!!}</a>
</pre><!--
<pre class="Agda">    <a id="7672" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7555" class="Function">to-fro</a> <a id="7679" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7679" class="Bound">q</a> <a id="7681" class="Symbol">=</a> <a id="7683" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6675" class="Function">J-refl</a> <a id="7690" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7240" class="Bound">Q</a> <a id="7692" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7679" class="Bound">q</a>

</pre>-->
<pre class="Agda">
    <a id="7712" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7712" class="Function">fro-to</a> <a id="7719" class="Symbol">:</a> <a id="7721" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#3991" class="Function">isRetract</a> <a id="7731" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7287" class="Function">to</a> <a id="7734" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7416" class="Function">fro</a>
<a id="7738" class="Comment">--  Exercise: (Hint: use `J` again!)</a>
<a id="7775" class="Comment">--  fro-to f i y p = J (λ y&#39; p&#39; → fro (to f) y&#39; p&#39; ≡ f y&#39; p&#39;) ? ? ?</a>
</pre><!--
<pre class="Agda">    <a id="7860" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7712" class="Function">fro-to</a> <a id="7867" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7867" class="Bound">f</a> <a id="7869" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7869" class="Bound">i</a> <a id="7871" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7871" class="Bound">y</a> <a id="7873" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7873" class="Bound">p</a> <a id="7875" class="Symbol">=</a> <a id="7877" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a> <a id="7879" class="Symbol">(λ</a> <a id="7882" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7882" class="Bound">y&#39;</a> <a id="7885" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7885" class="Bound">p&#39;</a> <a id="7888" class="Symbol">→</a> <a id="7890" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7416" class="Function">fro</a> <a id="7894" class="Symbol">(</a><a id="7895" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7287" class="Function">to</a> <a id="7898" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7867" class="Bound">f</a><a id="7899" class="Symbol">)</a> <a id="7901" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7882" class="Bound">y&#39;</a> <a id="7904" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7885" class="Bound">p&#39;</a> <a id="7907" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="7909" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7867" class="Bound">f</a> <a id="7911" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7882" class="Bound">y&#39;</a> <a id="7914" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7885" class="Bound">p&#39;</a><a id="7916" class="Symbol">)</a> <a id="7918" class="Symbol">(</a><a id="7919" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6675" class="Function">J-refl</a> <a id="7926" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7240" class="Bound">Q</a> <a id="7928" class="Symbol">(</a><a id="7929" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7867" class="Bound">f</a> <a id="7931" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7237" class="Bound">x</a> <a id="7933" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a><a id="7937" class="Symbol">))</a> <a id="7940" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7873" class="Bound">p</a> <a id="7942" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7869" class="Bound">i</a>

</pre>-->
<p>When the type family used in <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a></code> ignores the path, then we recover
the <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1157" class="Function">subst</a></code> operation that we started with.</p>
<pre class="Agda"><a id="subst-from-J"></a><a id="8082" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8082" class="Function">subst-from-J</a> <a id="8095" class="Symbol">:</a> <a id="8097" class="Symbol">(</a><a id="8098" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8098" class="Bound">B</a> <a id="8100" class="Symbol">:</a> <a id="8102" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a> <a id="8104" class="Symbol">→</a> <a id="8106" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="8111" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#478" class="Generalizable">ℓ</a><a id="8112" class="Symbol">)</a> <a id="8114" class="Symbol">→</a> <a id="8116" class="Symbol">(</a><a id="8117" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8117" class="Bound">p</a> <a id="8119" class="Symbol">:</a> <a id="8121" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="8123" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="8125" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#514" class="Generalizable">y</a><a id="8126" class="Symbol">)</a> <a id="8128" class="Symbol">→</a> <a id="8130" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8098" class="Bound">B</a> <a id="8132" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="8134" class="Symbol">→</a> <a id="8136" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8098" class="Bound">B</a> <a id="8138" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#514" class="Generalizable">y</a>
<a id="8140" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8082" class="Function">subst-from-J</a> <a id="8153" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8153" class="Bound">B</a> <a id="8155" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8155" class="Bound">p</a> <a id="8157" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8157" class="Bound">b</a> <a id="8159" class="Symbol">=</a> <a id="8161" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a> <a id="8163" class="Symbol">(λ</a> <a id="8166" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8166" class="Bound">y</a> <a id="8168" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8168" class="Bound">_</a> <a id="8170" class="Symbol">→</a> <a id="8172" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8153" class="Bound">B</a> <a id="8174" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8166" class="Bound">y</a><a id="8175" class="Symbol">)</a> <a id="8177" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8157" class="Bound">b</a> <a id="8179" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8155" class="Bound">p</a>

<a id="8182" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8182" class="Function">_</a> <a id="8184" class="Symbol">=</a> <a id="8186" class="Symbol">λ</a> <a id="8188" class="Symbol">{</a><a id="8189" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8189" class="Bound">ℓ</a> <a id="8191" class="Symbol">:</a> <a id="8193" href="Library.Primitive.html#1060" class="Postulate">Level</a><a id="8198" class="Symbol">}</a> <a id="8200" class="Symbol">(</a><a id="8201" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8201" class="Bound">A</a> <a id="8203" class="Symbol">:</a> <a id="8205" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="8210" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8189" class="Bound">ℓ</a><a id="8211" class="Symbol">)</a> <a id="8213" class="Symbol">(</a><a id="8214" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8214" class="Bound">B</a> <a id="8216" class="Symbol">:</a> <a id="8218" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8201" class="Bound">A</a> <a id="8220" class="Symbol">→</a> <a id="8222" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="8227" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8189" class="Bound">ℓ</a><a id="8228" class="Symbol">)</a> <a id="8230" class="Symbol">(</a><a id="8231" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8231" class="Bound">x</a> <a id="8233" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8233" class="Bound">y</a> <a id="8235" class="Symbol">:</a> <a id="8237" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8201" class="Bound">A</a><a id="8238" class="Symbol">)</a> <a id="8240" class="Symbol">(</a><a id="8241" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8241" class="Bound">p</a> <a id="8243" class="Symbol">:</a> <a id="8245" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8231" class="Bound">x</a> <a id="8247" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="8249" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8233" class="Bound">y</a><a id="8250" class="Symbol">)</a> 
  <a id="8255" class="Symbol">→</a> <a id="8257" href="Library.Prelude.html#2894" class="InductiveConstructor">test-identical</a> <a id="8272" class="Symbol">(</a><a id="8273" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8082" class="Function">subst-from-J</a> <a id="8286" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8214" class="Bound">B</a> <a id="8288" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8241" class="Bound">p</a><a id="8289" class="Symbol">)</a> <a id="8291" class="Symbol">(</a><a id="8292" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1157" class="Function">subst</a> <a id="8298" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8214" class="Bound">B</a> <a id="8300" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8241" class="Bound">p</a><a id="8301" class="Symbol">)</a>
</pre>
<p>There’s a very subtle point here that we would like to mention. In the
above definition, we used <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a></code> to define an element of <code>B y</code> given
that we already had an element <code>b : B x</code>. But we could also have used
<code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a></code> to define the function <code>B x → B y</code> in its entirety.</p>
<pre class="Agda"><a id="subst-from-J&#39;"></a><a id="8580" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8580" class="Function">subst-from-J&#39;</a> <a id="8594" class="Symbol">:</a> <a id="8596" class="Symbol">(</a><a id="8597" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8597" class="Bound">B</a> <a id="8599" class="Symbol">:</a> <a id="8601" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a> <a id="8603" class="Symbol">→</a> <a id="8605" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="8610" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#478" class="Generalizable">ℓ</a><a id="8611" class="Symbol">)</a> <a id="8613" class="Symbol">→</a> <a id="8615" class="Symbol">(</a><a id="8616" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8616" class="Bound">p</a> <a id="8618" class="Symbol">:</a> <a id="8620" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="8622" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="8624" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#514" class="Generalizable">y</a><a id="8625" class="Symbol">)</a> <a id="8627" class="Symbol">→</a> <a id="8629" class="Symbol">(</a><a id="8630" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8597" class="Bound">B</a> <a id="8632" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="8634" class="Symbol">→</a> <a id="8636" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8597" class="Bound">B</a> <a id="8638" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#514" class="Generalizable">y</a><a id="8639" class="Symbol">)</a>
<a id="8641" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8580" class="Function">subst-from-J&#39;</a> <a id="8655" class="Symbol">{</a><a id="8656" class="Argument">x</a> <a id="8658" class="Symbol">=</a> <a id="8660" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8660" class="Bound">x</a><a id="8661" class="Symbol">}</a> <a id="8663" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8663" class="Bound">B</a> <a id="8665" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8665" class="Bound">p</a> <a id="8667" class="Symbol">=</a> <a id="8669" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a> <a id="8671" class="Symbol">(λ</a> <a id="8674" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8674" class="Bound">y</a> <a id="8676" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8676" class="Bound">p</a> <a id="8678" class="Symbol">→</a> <a id="8680" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8663" class="Bound">B</a> <a id="8682" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8660" class="Bound">x</a> <a id="8684" class="Symbol">→</a> <a id="8686" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8663" class="Bound">B</a> <a id="8688" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8674" class="Bound">y</a><a id="8689" class="Symbol">)</a> <a id="8691" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#1936" class="Function">idfun</a> <a id="8697" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8665" class="Bound">p</a>
</pre>
<p>Why does this work? Well, we have to produce a function <code>B x → B y</code>
when <code>y</code> is in fact the same as <code>x</code>, but this is easy: we have
<code class="Agda"><a href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#1936" class="Function">idfun</a></code>. This <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8580" class="Function">subst-from-J’</a></code> is no longer <em>exactly</em> the same as
<code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1157" class="Function">subst</a></code>, but we can still prove them to be the same using <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a></code> and
<code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6675" class="Function">J-refl</a></code>.</p>
<h2 id="applications-of-j"><a class="header" href="#applications-of-j">Applications of J</a></h2>
<p>mvrnote Do path composition, also rewrite the following to not use composition of equivalences</p>
<pre class="Agda"><a id="9110" class="Comment">-- funexthalf-≃ : {A : Type ℓ} {B : I → Type ℓ&#39;}</a>
<a id="9159" class="Comment">--   {f : A → B i0} {g : A → B i1}</a>
<a id="9194" class="Comment">--   → ((x₀ : A) (x₁ : A) → Path A x₀ x₁ → PathP B (f x₀) (g x₁))</a>
<a id="9260" class="Comment">--   ≃ PathP (λ i → A → B i) f g</a>
<a id="9293" class="Comment">-- funexthalf-≃ {A = A} {B = B} {f = f} {g = g} =</a>
<a id="9343" class="Comment">--   ((x₀ x₁ : A) → Path A x₀ x₁ → PathP B (f x₀) (g x₁))</a>
<a id="9401" class="Comment">--   ≃⟨ Π-map-cod≃ (λ x₀ → J-ump-≃ (λ y _ → PathP B (f x₀) (g y))) ⟩</a>
<a id="9470" class="Comment">--   ((x : A) → PathP B (f x) (g x))</a>
<a id="9507" class="Comment">--   ≃⟨ funextP-≃ ⟩</a>
<a id="9527" class="Comment">--   PathP (λ i → A → B i) f g ∎e</a>

<a id="9562" class="Comment">-- funextP-ump-≃ : {A : I → Type ℓ} {B : I → Type ℓ&#39;}</a>
<a id="9616" class="Comment">--   {f : A i0 → B i0} {g : A i1 → B i1}</a>
<a id="9657" class="Comment">--   → ((x₀ : A i0) (x₁ : A i1) → PathP A x₀ x₁ → PathP B (f x₀) (g x₁))</a>
<a id="9730" class="Comment">--   ≃ PathP (λ i → A i → B i) f g</a>
<a id="9765" class="Comment">-- funextP-ump-≃ {A = A} {B = B} {f = f} {g = g} =</a>
<a id="9816" class="Comment">--   J</a>
<a id="9823" class="Comment">--   (λ A1 A → {f : A i0 → B i0} {g : A i1 → B i1}</a>
<a id="9874" class="Comment">--   → ((x₀ : A i0) (x₁ : A i1) → PathP (λ i → A i) x₀ x₁ → PathP B (f x₀) (g x₁))</a>
<a id="9957" class="Comment">--   ≃ PathP (λ i → A i → B i) f g)</a>
<a id="9993" class="Comment">--   funexthalf-≃ (λ i → A i)</a>
</pre>
<h2 id="paths-in-bool"><a class="header" href="#paths-in-bool">Paths in Bool</a></h2>
<p>One lingering question is what we get if we look at paths in the
inductive types we have seen so far (<code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#7820" class="Datatype">⊤</a></code>, <code class="Agda"><a href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6064" class="Datatype">∅</a></code>, <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#395" class="Datatype">Bool</a></code>, <code class="Agda"><a href="Library.Prelude.html#3629" class="Datatype">ℕ</a></code> and
<code class="Agda"><a href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8019" class="Datatype">⊎</a></code>). There is a general way these constructions go for inductive
types known as the “encode-decode” method, which is due to Dan Licata.</p>
<p>Let’s take <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#395" class="Datatype">Bool</a></code> as our first example. We already have a candidate
for what paths in <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#395" class="Datatype">Bool</a></code> should be, that is, <code class="Agda"><a href="1--Type-Theory.1-4--Propositions-as-Types.html#12297" class="Function">≡Bool</a></code>. We’ll call
this type the <code>code</code> for paths in <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#395" class="Datatype">Bool</a></code>. Our plan is to show that
the type <code>x ≡ y</code> is equivalent to <code>code x y</code> by giving explicit
encoding and decoding functions.</p>
<pre class="Agda"><a id="≡≃≡Bool"></a><a id="10632" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10632" class="Function">≡≃≡Bool</a> <a id="10640" class="Symbol">:</a> <a id="10642" class="Symbol">(</a><a id="10643" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10643" class="Bound">x</a> <a id="10645" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10645" class="Bound">y</a> <a id="10647" class="Symbol">:</a> <a id="10649" href="1--Type-Theory.1-2--Inductive-Types.html#395" class="Datatype">Bool</a><a id="10653" class="Symbol">)</a> <a id="10655" class="Symbol">→</a> <a id="10657" class="Symbol">(</a><a id="10658" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10643" class="Bound">x</a> <a id="10660" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="10662" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10645" class="Bound">y</a><a id="10663" class="Symbol">)</a> <a id="10665" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="10667" class="Symbol">(</a><a id="10668" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10643" class="Bound">x</a> <a id="10670" href="1--Type-Theory.1-4--Propositions-as-Types.html#12297" class="Function Operator">≡Bool</a> <a id="10676" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10645" class="Bound">y</a><a id="10677" class="Symbol">)</a>
<a id="10679" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10632" class="Function">≡≃≡Bool</a> <a id="10687" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10687" class="Bound">x</a> <a id="10689" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10689" class="Bound">y</a> <a id="10691" class="Symbol">=</a> <a id="10693" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#7262" class="Function">inv→equiv</a> <a id="10703" class="Symbol">(</a><a id="10704" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11428" class="Function">encode</a> <a id="10711" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10687" class="Bound">x</a> <a id="10713" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10689" class="Bound">y</a><a id="10714" class="Symbol">)</a> <a id="10716" class="Symbol">(</a><a id="10717" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11898" class="Function">decode</a> <a id="10724" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10687" class="Bound">x</a> <a id="10726" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10689" class="Bound">y</a><a id="10727" class="Symbol">)</a> <a id="10729" class="Symbol">(</a><a id="10730" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12156" class="Function">to-fro</a> <a id="10737" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10687" class="Bound">x</a> <a id="10739" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10689" class="Bound">y</a><a id="10740" class="Symbol">)</a> <a id="10742" class="Symbol">(</a><a id="10743" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12747" class="Function">fro-to</a> <a id="10750" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10687" class="Bound">x</a> <a id="10752" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10689" class="Bound">y</a><a id="10753" class="Symbol">)</a>
  <a id="10757" class="Keyword">where</a>
    <a id="10767" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10767" class="Function">code</a> <a id="10772" class="Symbol">:</a> <a id="10774" href="1--Type-Theory.1-2--Inductive-Types.html#395" class="Datatype">Bool</a> <a id="10779" class="Symbol">→</a> <a id="10781" href="1--Type-Theory.1-2--Inductive-Types.html#395" class="Datatype">Bool</a> <a id="10786" class="Symbol">→</a> <a id="10788" href="Library.Primitive.html#422" class="Primitive">Type</a>
    <a id="10797" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10767" class="Function">code</a> <a id="10802" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10802" class="Bound">x</a> <a id="10804" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10804" class="Bound">y</a> <a id="10806" class="Symbol">=</a> <a id="10808" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10802" class="Bound">x</a> <a id="10810" href="1--Type-Theory.1-4--Propositions-as-Types.html#12297" class="Function Operator">≡Bool</a> <a id="10816" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10804" class="Bound">y</a>
</pre>
<p>We need an <code>encode</code> function that takes paths in <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#395" class="Datatype">Bool</a></code> to codes, in
this case, elements of <code class="Agda"><a href="1--Type-Theory.1-4--Propositions-as-Types.html#12297" class="Function">≡Bool</a></code>. It is easy to come up with codes
that should correspond to the reflexivity paths:</p>
<pre class="Agda">    <a id="11019" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11019" class="Function">encode-refl</a> <a id="11031" class="Symbol">:</a> <a id="11033" class="Symbol">(</a><a id="11034" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11034" class="Bound">x</a> <a id="11036" class="Symbol">:</a> <a id="11038" href="1--Type-Theory.1-2--Inductive-Types.html#395" class="Datatype">Bool</a><a id="11042" class="Symbol">)</a> <a id="11044" class="Symbol">→</a> <a id="11046" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10767" class="Function">code</a> <a id="11051" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11034" class="Bound">x</a> <a id="11053" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11034" class="Bound">x</a>
    <a id="11059" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11019" class="Function">encode-refl</a> <a id="11071" href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a> <a id="11076" class="Symbol">=</a> <a id="11078" href="1--Type-Theory.1-2--Inductive-Types.html#7837" class="InductiveConstructor">tt</a>
    <a id="11085" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11019" class="Function">encode-refl</a> <a id="11097" href="1--Type-Theory.1-2--Inductive-Types.html#430" class="InductiveConstructor">false</a> <a id="11103" class="Symbol">=</a> <a id="11105" href="1--Type-Theory.1-2--Inductive-Types.html#7837" class="InductiveConstructor">tt</a>
</pre>
<p>It’s not strange that <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#430" class="InductiveConstructor">false</a></code> is sent to <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#7837" class="InductiveConstructor">tt</a></code>: remember
that <code>encode-refl false</code> is supposed to encode the fact that <code>false ≡ false</code>, and this is certainly true!</p>
<p>And now the <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a></code> rule allows us to extend this to all
paths. Specifically, we use <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a></code> for the type family <code>code x : (y : Bool) → Type</code>.</p>
<pre class="Agda">    <a id="11428" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11428" class="Function">encode</a> <a id="11435" class="Symbol">:</a> <a id="11437" class="Symbol">(</a><a id="11438" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11438" class="Bound">x</a> <a id="11440" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11440" class="Bound">y</a> <a id="11442" class="Symbol">:</a> <a id="11444" href="1--Type-Theory.1-2--Inductive-Types.html#395" class="Datatype">Bool</a><a id="11448" class="Symbol">)</a> <a id="11450" class="Symbol">→</a> <a id="11452" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11438" class="Bound">x</a> <a id="11454" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="11456" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11440" class="Bound">y</a> <a id="11458" class="Symbol">→</a> <a id="11460" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10767" class="Function">code</a> <a id="11465" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11438" class="Bound">x</a> <a id="11467" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11440" class="Bound">y</a>
    <a id="11473" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11428" class="Function">encode</a> <a id="11480" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11480" class="Bound">x</a> <a id="11482" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11482" class="Bound">y</a> <a id="11484" class="Symbol">=</a> <a id="11486" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a> <a id="11488" class="Symbol">(λ</a> <a id="11491" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11491" class="Bound">z</a> <a id="11493" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11493" class="Bound">_</a> <a id="11495" class="Symbol">→</a> <a id="11497" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10767" class="Function">code</a> <a id="11502" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11480" class="Bound">x</a> <a id="11504" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11491" class="Bound">z</a><a id="11505" class="Symbol">)</a> <a id="11507" class="Symbol">(</a><a id="11508" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11019" class="Function">encode-refl</a> <a id="11520" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11480" class="Bound">x</a><a id="11521" class="Symbol">)</a>
</pre>
<p>Similarly, we need a <code class="Agda"><a href="2--Paths-and-Identifications.2-6--Univalence.html#22147" class="Function">decode</a></code> function that turns codes back
into ordinary paths. Looking at <code>x ≡Bool y</code>, once we split <code>x</code> and <code>y</code>
into cases we know exactly the type is and can act accordingly. Either
the endpoints are the same, in which case we have <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a></code>, or
the endpoints are different, in which case <code>x ≡Bool y</code> is <code class="Agda"><a href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6064" class="Datatype">∅</a></code>
and we have a contradiction.</p>
<pre class="Agda">    <a id="11898" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11898" class="Function">decode</a> <a id="11905" class="Symbol">:</a> <a id="11907" class="Symbol">(</a><a id="11908" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11908" class="Bound">x</a> <a id="11910" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11910" class="Bound">y</a> <a id="11912" class="Symbol">:</a> <a id="11914" href="1--Type-Theory.1-2--Inductive-Types.html#395" class="Datatype">Bool</a><a id="11918" class="Symbol">)</a> <a id="11920" class="Symbol">→</a> <a id="11922" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10767" class="Function">code</a> <a id="11927" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11908" class="Bound">x</a> <a id="11929" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11910" class="Bound">y</a> <a id="11931" class="Symbol">→</a> <a id="11933" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11908" class="Bound">x</a> <a id="11935" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="11937" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11910" class="Bound">y</a>
    <a id="11943" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11898" class="Function">decode</a> <a id="11950" href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a> <a id="11955" href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a> <a id="11960" class="Symbol">_</a> <a id="11962" class="Symbol">=</a> <a id="11964" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>
    <a id="11973" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11898" class="Function">decode</a> <a id="11980" href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a> <a id="11985" href="1--Type-Theory.1-2--Inductive-Types.html#430" class="InductiveConstructor">false</a> <a id="11991" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11991" class="Bound">e</a> <a id="11993" class="Symbol">=</a> <a id="11995" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6727" class="Function">∅-rec</a> <a id="12001" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11991" class="Bound">e</a>
    <a id="12007" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11898" class="Function">decode</a> <a id="12014" href="1--Type-Theory.1-2--Inductive-Types.html#430" class="InductiveConstructor">false</a> <a id="12020" href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a> <a id="12025" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12025" class="Bound">e</a> <a id="12027" class="Symbol">=</a> <a id="12029" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6727" class="Function">∅-rec</a> <a id="12035" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12025" class="Bound">e</a>
    <a id="12041" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11898" class="Function">decode</a> <a id="12048" href="1--Type-Theory.1-2--Inductive-Types.html#430" class="InductiveConstructor">false</a> <a id="12054" href="1--Type-Theory.1-2--Inductive-Types.html#430" class="InductiveConstructor">false</a> <a id="12060" class="Symbol">_</a> <a id="12062" class="Symbol">=</a> <a id="12064" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>
</pre>
<p>That this is a section is similar, after splitting into cases it’s
easy:</p>
<pre class="Agda">    <a id="12156" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12156" class="Function">to-fro</a> <a id="12163" class="Symbol">:</a> <a id="12165" class="Symbol">(</a><a id="12166" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12166" class="Bound">x</a> <a id="12168" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12168" class="Bound">y</a> <a id="12170" class="Symbol">:</a> <a id="12172" href="1--Type-Theory.1-2--Inductive-Types.html#395" class="Datatype">Bool</a><a id="12176" class="Symbol">)</a> <a id="12178" class="Symbol">→</a> <a id="12180" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#1688" class="Function">isSection</a> <a id="12190" class="Symbol">(</a><a id="12191" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11428" class="Function">encode</a> <a id="12198" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12166" class="Bound">x</a> <a id="12200" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12168" class="Bound">y</a><a id="12201" class="Symbol">)</a> <a id="12203" class="Symbol">(</a><a id="12204" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11898" class="Function">decode</a> <a id="12211" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12166" class="Bound">x</a> <a id="12213" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12168" class="Bound">y</a><a id="12214" class="Symbol">)</a>
    <a id="12220" class="Comment">-- Exercise:</a>
    <a id="12237" class="Comment">-- to-fro x y p = {!!}</a>
</pre><!--
<pre class="Agda">    <a id="12277" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12156" class="Function">to-fro</a> <a id="12284" href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a> <a id="12289" href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a> <a id="12294" href="1--Type-Theory.1-2--Inductive-Types.html#7837" class="InductiveConstructor">tt</a> <a id="12297" class="Symbol">=</a> <a id="12299" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>
    <a id="12308" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12156" class="Function">to-fro</a> <a id="12315" href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a> <a id="12320" href="1--Type-Theory.1-2--Inductive-Types.html#430" class="InductiveConstructor">false</a> <a id="12326" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12326" class="Bound">b</a> <a id="12328" class="Symbol">=</a> <a id="12330" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6727" class="Function">∅-rec</a> <a id="12336" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12326" class="Bound">b</a>
    <a id="12342" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12156" class="Function">to-fro</a> <a id="12349" href="1--Type-Theory.1-2--Inductive-Types.html#430" class="InductiveConstructor">false</a> <a id="12355" href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a> <a id="12360" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12360" class="Bound">b</a> <a id="12362" class="Symbol">=</a> <a id="12364" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6727" class="Function">∅-rec</a> <a id="12370" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12360" class="Bound">b</a>
    <a id="12376" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12156" class="Function">to-fro</a> <a id="12383" href="1--Type-Theory.1-2--Inductive-Types.html#430" class="InductiveConstructor">false</a> <a id="12389" href="1--Type-Theory.1-2--Inductive-Types.html#430" class="InductiveConstructor">false</a> <a id="12395" href="1--Type-Theory.1-2--Inductive-Types.html#7837" class="InductiveConstructor">tt</a> <a id="12398" class="Symbol">=</a> <a id="12400" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>

</pre>-->
<p>For the retract, we plan to use <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a></code> again, so we just have to check
the retract property for <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a></code>.</p>
<pre class="Agda">    <a id="12537" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12537" class="Function">fro-to-refl</a> <a id="12549" class="Symbol">:</a> <a id="12551" class="Symbol">(</a><a id="12552" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12552" class="Bound">x</a> <a id="12554" class="Symbol">:</a> <a id="12556" href="1--Type-Theory.1-2--Inductive-Types.html#395" class="Datatype">Bool</a><a id="12560" class="Symbol">)</a> <a id="12562" class="Symbol">→</a> <a id="12564" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11898" class="Function">decode</a> <a id="12571" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12552" class="Bound">x</a> <a id="12573" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12552" class="Bound">x</a> <a id="12575" class="Symbol">(</a><a id="12576" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11428" class="Function">encode</a> <a id="12583" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12552" class="Bound">x</a> <a id="12585" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12552" class="Bound">x</a> <a id="12587" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a><a id="12591" class="Symbol">)</a> <a id="12593" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="12595" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>
    <a id="12604" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12537" class="Function">fro-to-refl</a> <a id="12616" href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a> <a id="12621" class="Symbol">=</a> <a id="12623" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>
    <a id="12632" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12537" class="Function">fro-to-refl</a> <a id="12644" href="1--Type-Theory.1-2--Inductive-Types.html#430" class="InductiveConstructor">false</a> <a id="12650" class="Symbol">=</a> <a id="12652" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>
</pre>
<p>And the <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a></code> rule is exactly what is required to extend this to
all paths.</p>
<pre class="Agda">    <a id="12747" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12747" class="Function">fro-to</a> <a id="12754" class="Symbol">:</a> <a id="12756" class="Symbol">(</a><a id="12757" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12757" class="Bound">x</a> <a id="12759" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12759" class="Bound">y</a> <a id="12761" class="Symbol">:</a> <a id="12763" href="1--Type-Theory.1-2--Inductive-Types.html#395" class="Datatype">Bool</a><a id="12767" class="Symbol">)</a> <a id="12769" class="Symbol">→</a> <a id="12771" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#3991" class="Function">isRetract</a> <a id="12781" class="Symbol">(</a><a id="12782" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11428" class="Function">encode</a> <a id="12789" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12757" class="Bound">x</a> <a id="12791" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12759" class="Bound">y</a><a id="12792" class="Symbol">)</a> <a id="12794" class="Symbol">(</a><a id="12795" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11898" class="Function">decode</a> <a id="12802" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12757" class="Bound">x</a> <a id="12804" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12759" class="Bound">y</a><a id="12805" class="Symbol">)</a> 
    <a id="12812" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12747" class="Function">fro-to</a> <a id="12819" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12819" class="Bound">x</a> <a id="12821" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12821" class="Bound">y</a> <a id="12823" class="Symbol">=</a> <a id="12825" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a> <a id="12827" class="Symbol">(λ</a> <a id="12830" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12830" class="Bound">z</a> <a id="12832" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12832" class="Bound">p</a> <a id="12834" class="Symbol">→</a> <a id="12836" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11898" class="Function">decode</a> <a id="12843" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12819" class="Bound">x</a> <a id="12845" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12830" class="Bound">z</a> <a id="12847" class="Symbol">(</a><a id="12848" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11428" class="Function">encode</a> <a id="12855" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12819" class="Bound">x</a> <a id="12857" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12830" class="Bound">z</a> <a id="12859" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12832" class="Bound">p</a><a id="12860" class="Symbol">)</a> <a id="12862" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="12864" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12832" class="Bound">p</a><a id="12865" class="Symbol">)</a> <a id="12867" class="Symbol">(</a><a id="12868" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12537" class="Function">fro-to-refl</a> <a id="12880" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12819" class="Bound">x</a><a id="12881" class="Symbol">)</a>
</pre>
<p>This completes the equivalence!</p>
<h2 id="the-encode-decode-method"><a class="header" href="#the-encode-decode-method">The Encode-Decode Method</a></h2>
<p>These encode-decode proofs all have a similar shape. Let’s summarise
what we did, noting what was unique to <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#395" class="Datatype">Bool</a></code> and what we can re-use
for an arbitrary type.</p>
<!--
<pre class="Agda"><a id="13124" class="Keyword">module</a> <a id="EncodePattern"></a><a id="13131" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13131" class="Module">EncodePattern</a>
  <a id="13147" class="Symbol">(</a><a id="13148" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13148" class="Bound">X</a> <a id="13150" class="Symbol">:</a> <a id="13152" href="Library.Primitive.html#422" class="Primitive">Type</a><a id="13156" class="Symbol">)</a>
  <a id="13160" class="Symbol">(</a><a id="13161" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13161" class="Bound">code</a> <a id="13166" class="Symbol">:</a> <a id="13168" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13148" class="Bound">X</a> <a id="13170" class="Symbol">→</a> <a id="13172" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13148" class="Bound">X</a> <a id="13174" class="Symbol">→</a> <a id="13176" href="Library.Primitive.html#422" class="Primitive">Type</a><a id="13180" class="Symbol">)</a>
  <a id="13184" class="Symbol">(</a><a id="13185" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13185" class="Bound">encode-refl</a> <a id="13197" class="Symbol">:</a> <a id="13199" class="Symbol">(</a><a id="13200" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13200" class="Bound">x</a> <a id="13202" class="Symbol">:</a> <a id="13204" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13148" class="Bound">X</a><a id="13205" class="Symbol">)</a> <a id="13207" class="Symbol">→</a> <a id="13209" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13161" class="Bound">code</a> <a id="13214" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13200" class="Bound">x</a> <a id="13216" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13200" class="Bound">x</a><a id="13217" class="Symbol">)</a>
  <a id="13221" class="Symbol">(</a><a id="13222" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13222" class="Bound">decode</a> <a id="13229" class="Symbol">:</a> <a id="13231" class="Symbol">(</a><a id="13232" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13232" class="Bound">x</a> <a id="13234" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13234" class="Bound">y</a> <a id="13236" class="Symbol">:</a> <a id="13238" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13148" class="Bound">X</a><a id="13239" class="Symbol">)</a> <a id="13241" class="Symbol">→</a> <a id="13243" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13161" class="Bound">code</a> <a id="13248" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13232" class="Bound">x</a> <a id="13250" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13234" class="Bound">y</a> <a id="13252" class="Symbol">→</a> <a id="13254" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13232" class="Bound">x</a> <a id="13256" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="13258" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13234" class="Bound">y</a><a id="13259" class="Symbol">)</a>
  <a id="13263" class="Symbol">(</a><a id="13264" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13264" class="Bound">fro-to-refl</a> <a id="13276" class="Symbol">:</a> <a id="13278" class="Symbol">(</a><a id="13279" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13279" class="Bound">x</a> <a id="13281" class="Symbol">:</a> <a id="13283" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13148" class="Bound">X</a><a id="13284" class="Symbol">)</a> <a id="13286" class="Symbol">→</a> <a id="13288" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13222" class="Bound">decode</a> <a id="13295" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13279" class="Bound">x</a> <a id="13297" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13279" class="Bound">x</a> <a id="13299" class="Symbol">(</a><a id="13300" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1157" class="Function">subst</a> <a id="13306" class="Symbol">(λ</a> <a id="13309" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13309" class="Bound">z</a> <a id="13311" class="Symbol">→</a> <a id="13313" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13161" class="Bound">code</a> <a id="13318" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13279" class="Bound">x</a> <a id="13320" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13309" class="Bound">z</a><a id="13321" class="Symbol">)</a> <a id="13323" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a> <a id="13328" class="Symbol">(</a><a id="13329" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13185" class="Bound">encode-refl</a> <a id="13341" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13279" class="Bound">x</a><a id="13342" class="Symbol">))</a> <a id="13345" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="13347" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a><a id="13351" class="Symbol">)</a>
  <a id="13355" class="Keyword">where</a>
</pre>-->
<p>We start with a type <code>X</code> with the goal of characterising paths <code>x ≡ y</code>
in <code>X</code>. We make a guess at the answer as a type family </p>
<pre><code>  code : X → X → Type
</code></pre>
<p>with the idea that <code>code x y</code> will be equivalent to <code>x ≡ y</code>. Choosing
<code>code</code> will involve some creativity or luck, but it can usually be
intuited from the definition of <code>X</code>. As a rule of thumb, the path
types of inductive types should also be describable as inductive types
themselves; it is helpful if <code>code</code> is an inductive type so that it is
easy to define functions out of it.</p>
<p>For our guess to pass the smell test, we should at least be able to
define a function corresponding to reflexivity.</p>
<pre><code>  encode-refl : (x : X) → code x x
</code></pre>
<p>With this in hand, we can always make the definition</p>
<pre class="Agda">  <a id="EncodePattern.encode"></a><a id="14124" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14124" class="Function">encode</a> <a id="14131" class="Symbol">:</a> <a id="14133" class="Symbol">(</a><a id="14134" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14134" class="Bound">x</a> <a id="14136" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14136" class="Bound">y</a> <a id="14138" class="Symbol">:</a> <a id="14140" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13148" class="Bound">X</a><a id="14141" class="Symbol">)</a> <a id="14143" class="Symbol">→</a> <a id="14145" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14134" class="Bound">x</a> <a id="14147" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="14149" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14136" class="Bound">y</a> <a id="14151" class="Symbol">→</a> <a id="14153" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13161" class="Bound">code</a> <a id="14158" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14134" class="Bound">x</a> <a id="14160" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14136" class="Bound">y</a>
  <a id="14164" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14124" class="Function">encode</a> <a id="14171" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14171" class="Bound">x</a> <a id="14173" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14173" class="Bound">y</a> <a id="14175" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14175" class="Bound">p</a> <a id="14177" class="Symbol">=</a> <a id="14179" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a> <a id="14181" class="Symbol">(λ</a> <a id="14184" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14184" class="Bound">z</a> <a id="14186" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14186" class="Bound">_</a> <a id="14188" class="Symbol">→</a> <a id="14190" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13161" class="Bound">code</a> <a id="14195" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14171" class="Bound">x</a> <a id="14197" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14184" class="Bound">z</a><a id="14198" class="Symbol">)</a> <a id="14200" class="Symbol">(</a><a id="14201" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13185" class="Bound">encode-refl</a> <a id="14213" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14171" class="Bound">x</a><a id="14214" class="Symbol">)</a> <a id="14216" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14175" class="Bound">p</a>
</pre>
<p>Next we need a decoding map. So long as we choose <code class="Agda"><a href="2--Paths-and-Identifications.2-6--Univalence.html#21752" class="Function">code</a></code> so that it
has a nice mapping-out property — for example, when it is an
inductive type — this should be easy. </p>
<pre><code>  decode : (x y : X) → code x y → x ≡ y
</code></pre>
<p>The proof that this is a section should be similarly easy, because it
also involves mapping out of <code class="Agda"><a href="2--Paths-and-Identifications.2-6--Univalence.html#21752" class="Function">code</a></code>.</p>
<pre><code>  to-fro : (x y : X) → isSection (encode x y) (decode x y)
</code></pre>
<p>All that remains is to prove that it is also a retract. In this case,
we need a function with type <code>(x y : X) → decode x y (encode x y p) ≡ p</code>. When <code>p</code> is <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a></code>, so we are aiming to construct <code>fro-to-refl : (x y : X) → decode x y (encode x y p) ≡ p</code>, this is easy, because
<code class="Agda"><a href="2--Paths-and-Identifications.2-6--Univalence.html#21993" class="Function">encode</a></code> was defined in terms of <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#11019" class="Function">encode-refl</a></code>. The <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a></code> rule
extends this to a general path.</p>
<pre class="Agda">  <a id="EncodePattern.fro-to"></a><a id="15000" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15000" class="Function">fro-to</a> <a id="15007" class="Symbol">:</a> <a id="15009" class="Symbol">(</a><a id="15010" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15010" class="Bound">x</a> <a id="15012" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15012" class="Bound">y</a> <a id="15014" class="Symbol">:</a> <a id="15016" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13148" class="Bound">X</a><a id="15017" class="Symbol">)</a> <a id="15019" class="Symbol">→</a> <a id="15021" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#3991" class="Function">isRetract</a> <a id="15031" class="Symbol">(</a><a id="15032" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14124" class="Function">encode</a> <a id="15039" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15010" class="Bound">x</a> <a id="15041" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15012" class="Bound">y</a><a id="15042" class="Symbol">)</a> <a id="15044" class="Symbol">(</a><a id="15045" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13222" class="Bound">decode</a> <a id="15052" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15010" class="Bound">x</a> <a id="15054" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15012" class="Bound">y</a><a id="15055" class="Symbol">)</a> 
  <a id="15060" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15000" class="Function">fro-to</a> <a id="15067" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15067" class="Bound">x</a> <a id="15069" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15069" class="Bound">y</a> <a id="15071" class="Symbol">=</a> <a id="15073" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a> <a id="15075" class="Symbol">(λ</a> <a id="15078" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15078" class="Bound">c</a> <a id="15080" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15080" class="Bound">p</a> <a id="15082" class="Symbol">→</a> <a id="15084" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13222" class="Bound">decode</a> <a id="15091" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15067" class="Bound">x</a> <a id="15093" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15078" class="Bound">c</a> <a id="15095" class="Symbol">(</a><a id="15096" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14124" class="Function">encode</a> <a id="15103" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15067" class="Bound">x</a> <a id="15105" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15078" class="Bound">c</a> <a id="15107" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15080" class="Bound">p</a><a id="15108" class="Symbol">)</a> <a id="15110" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="15112" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15080" class="Bound">p</a><a id="15113" class="Symbol">)</a> <a id="15115" class="Symbol">(</a><a id="15116" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13264" class="Bound">fro-to-refl</a> <a id="15128" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15067" class="Bound">x</a><a id="15129" class="Symbol">)</a>
</pre>
<h2 id="encode-decode-practice"><a class="header" href="#encode-decode-practice">Encode-Decode Practice</a></h2>
<p>Try characterising the paths in <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#7820" class="Datatype">⊤</a></code>. This should essentially be
the same as the proof for <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#395" class="Datatype">Bool</a></code> but with half of the cases
deleted.</p>
<pre class="Agda"><a id="≡≃≡⊤"></a><a id="15306" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15306" class="Function">≡≃≡⊤</a> <a id="15311" class="Symbol">:</a> <a id="15313" class="Symbol">(</a><a id="15314" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15314" class="Bound">x</a> <a id="15316" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15316" class="Bound">y</a> <a id="15318" class="Symbol">:</a> <a id="15320" href="1--Type-Theory.1-2--Inductive-Types.html#7820" class="Datatype">⊤</a><a id="15321" class="Symbol">)</a> <a id="15323" class="Symbol">→</a> <a id="15325" class="Symbol">(</a><a id="15326" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15314" class="Bound">x</a> <a id="15328" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="15330" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15316" class="Bound">y</a><a id="15331" class="Symbol">)</a> <a id="15333" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="15335" href="1--Type-Theory.1-2--Inductive-Types.html#7820" class="Datatype">⊤</a>
<a id="15337" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15306" class="Function">≡≃≡⊤</a> <a id="15342" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15342" class="Bound">x</a> <a id="15344" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15344" class="Bound">y</a> <a id="15346" class="Symbol">=</a> <a id="15348" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#7262" class="Function">inv→equiv</a> <a id="15358" class="Symbol">(</a><a id="15359" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15596" class="Function">encode</a> <a id="15366" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15342" class="Bound">x</a> <a id="15368" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15344" class="Bound">y</a><a id="15369" class="Symbol">)</a> <a id="15371" class="Symbol">(</a><a id="15372" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15697" class="Function">decode</a> <a id="15379" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15342" class="Bound">x</a> <a id="15381" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15344" class="Bound">y</a><a id="15382" class="Symbol">)</a> <a id="15384" class="Symbol">(</a><a id="15385" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15836" class="Function">to-fro</a> <a id="15392" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15342" class="Bound">x</a> <a id="15394" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15344" class="Bound">y</a><a id="15395" class="Symbol">)</a> <a id="15397" class="Symbol">(</a><a id="15398" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16157" class="Function">fro-to</a> <a id="15405" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15342" class="Bound">x</a> <a id="15407" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15344" class="Bound">y</a><a id="15408" class="Symbol">)</a>
  <a id="15412" class="Keyword">where</a>
    <a id="15422" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15422" class="Function">code</a> <a id="15427" class="Symbol">:</a> <a id="15429" href="1--Type-Theory.1-2--Inductive-Types.html#7820" class="Datatype">⊤</a> <a id="15431" class="Symbol">→</a> <a id="15433" href="1--Type-Theory.1-2--Inductive-Types.html#7820" class="Datatype">⊤</a> <a id="15435" class="Symbol">→</a> <a id="15437" href="Library.Primitive.html#422" class="Primitive">Type</a>
    <a id="15446" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15422" class="Function">code</a> <a id="15451" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15451" class="Bound">x</a> <a id="15453" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15453" class="Bound">y</a> <a id="15455" class="Symbol">=</a> <a id="15457" href="1--Type-Theory.1-2--Inductive-Types.html#7820" class="Datatype">⊤</a>

    <a id="15464" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15464" class="Function">encode-refl</a> <a id="15476" class="Symbol">:</a> <a id="15478" class="Symbol">(</a><a id="15479" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15479" class="Bound">x</a> <a id="15481" class="Symbol">:</a> <a id="15483" href="1--Type-Theory.1-2--Inductive-Types.html#7820" class="Datatype">⊤</a><a id="15484" class="Symbol">)</a> <a id="15486" class="Symbol">→</a> <a id="15488" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15422" class="Function">code</a> <a id="15493" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15479" class="Bound">x</a> <a id="15495" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15479" class="Bound">x</a>
    <a id="15501" class="Comment">-- Exercise:</a>
    <a id="15518" class="Comment">-- encode-refl x = {!!}</a>
</pre><!--
<pre class="Agda">    <a id="15559" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15464" class="Function">encode-refl</a> <a id="15571" class="Symbol">_</a> <a id="15573" class="Symbol">=</a> <a id="15575" href="1--Type-Theory.1-2--Inductive-Types.html#7837" class="InductiveConstructor">tt</a>

</pre>-->
<pre class="Agda">
    <a id="15596" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15596" class="Function">encode</a> <a id="15603" class="Symbol">:</a> <a id="15605" class="Symbol">(</a><a id="15606" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15606" class="Bound">x</a> <a id="15608" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15608" class="Bound">y</a> <a id="15610" class="Symbol">:</a> <a id="15612" href="1--Type-Theory.1-2--Inductive-Types.html#7820" class="Datatype">⊤</a><a id="15613" class="Symbol">)</a> <a id="15615" class="Symbol">→</a> <a id="15617" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15606" class="Bound">x</a> <a id="15619" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="15621" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15608" class="Bound">y</a> <a id="15623" class="Symbol">→</a> <a id="15625" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15422" class="Function">code</a> <a id="15630" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15606" class="Bound">x</a> <a id="15632" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15608" class="Bound">y</a>
    <a id="15638" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15596" class="Function">encode</a> <a id="15645" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15645" class="Bound">x</a> <a id="15647" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15647" class="Bound">y</a> <a id="15649" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15649" class="Bound">p</a> <a id="15651" class="Symbol">=</a> <a id="15653" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a> <a id="15655" class="Symbol">(λ</a> <a id="15658" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15658" class="Bound">z</a> <a id="15660" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15660" class="Bound">_</a> <a id="15662" class="Symbol">→</a> <a id="15664" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15422" class="Function">code</a> <a id="15669" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15645" class="Bound">x</a> <a id="15671" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15658" class="Bound">z</a><a id="15672" class="Symbol">)</a> <a id="15674" class="Symbol">(</a><a id="15675" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15464" class="Function">encode-refl</a> <a id="15687" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15645" class="Bound">x</a><a id="15688" class="Symbol">)</a> <a id="15690" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15649" class="Bound">p</a>

    <a id="15697" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15697" class="Function">decode</a> <a id="15704" class="Symbol">:</a> <a id="15706" class="Symbol">(</a><a id="15707" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15707" class="Bound">x</a> <a id="15709" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15709" class="Bound">y</a> <a id="15711" class="Symbol">:</a> <a id="15713" href="1--Type-Theory.1-2--Inductive-Types.html#7820" class="Datatype">⊤</a><a id="15714" class="Symbol">)</a> <a id="15716" class="Symbol">→</a> <a id="15718" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15422" class="Function">code</a> <a id="15723" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15707" class="Bound">x</a> <a id="15725" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15709" class="Bound">y</a> <a id="15727" class="Symbol">→</a> <a id="15729" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15707" class="Bound">x</a> <a id="15731" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="15733" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15709" class="Bound">y</a>
    <a id="15739" class="Comment">-- Exercise:</a>
    <a id="15756" class="Comment">-- decode x y c = {!!}</a>
</pre><!--
<pre class="Agda">    <a id="15796" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15697" class="Function">decode</a> <a id="15803" href="1--Type-Theory.1-2--Inductive-Types.html#7837" class="InductiveConstructor">tt</a> <a id="15806" href="1--Type-Theory.1-2--Inductive-Types.html#7837" class="InductiveConstructor">tt</a> <a id="15809" class="Symbol">_</a> <a id="15811" class="Symbol">=</a> <a id="15813" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>

</pre>-->
<pre class="Agda">
    <a id="15836" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15836" class="Function">to-fro</a> <a id="15843" class="Symbol">:</a> <a id="15845" class="Symbol">(</a><a id="15846" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15846" class="Bound">x</a> <a id="15848" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15848" class="Bound">y</a> <a id="15850" class="Symbol">:</a> <a id="15852" href="1--Type-Theory.1-2--Inductive-Types.html#7820" class="Datatype">⊤</a><a id="15853" class="Symbol">)</a> <a id="15855" class="Symbol">→</a> <a id="15857" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#1688" class="Function">isSection</a> <a id="15867" class="Symbol">(</a><a id="15868" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15596" class="Function">encode</a> <a id="15875" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15846" class="Bound">x</a> <a id="15877" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15848" class="Bound">y</a><a id="15878" class="Symbol">)</a> <a id="15880" class="Symbol">(</a><a id="15881" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15697" class="Function">decode</a> <a id="15888" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15846" class="Bound">x</a> <a id="15890" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15848" class="Bound">y</a><a id="15891" class="Symbol">)</a>
    <a id="15897" class="Comment">-- Exercise:</a>
    <a id="15914" class="Comment">-- to-fro x y c = {!!}</a>
</pre><!--
<pre class="Agda">    <a id="15954" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15836" class="Function">to-fro</a> <a id="15961" href="1--Type-Theory.1-2--Inductive-Types.html#7837" class="InductiveConstructor">tt</a> <a id="15964" href="1--Type-Theory.1-2--Inductive-Types.html#7837" class="InductiveConstructor">tt</a> <a id="15967" href="1--Type-Theory.1-2--Inductive-Types.html#7837" class="InductiveConstructor">tt</a> <a id="15970" class="Symbol">=</a> <a id="15972" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>

</pre>-->
<pre class="Agda">
    <a id="15995" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15995" class="Function">fro-to-refl</a> <a id="16007" class="Symbol">:</a> <a id="16009" class="Symbol">(</a><a id="16010" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16010" class="Bound">x</a> <a id="16012" class="Symbol">:</a> <a id="16014" href="1--Type-Theory.1-2--Inductive-Types.html#7820" class="Datatype">⊤</a><a id="16015" class="Symbol">)</a> <a id="16017" class="Symbol">→</a> <a id="16019" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15697" class="Function">decode</a> <a id="16026" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16010" class="Bound">x</a> <a id="16028" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16010" class="Bound">x</a> <a id="16030" class="Symbol">(</a><a id="16031" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15596" class="Function">encode</a> <a id="16038" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16010" class="Bound">x</a> <a id="16040" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16010" class="Bound">x</a> <a id="16042" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a><a id="16046" class="Symbol">)</a> <a id="16048" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="16050" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>
    <a id="16059" class="Comment">-- Exercise:</a>
    <a id="16076" class="Comment">-- fro-to-refl x = {!!}</a>
</pre><!--
<pre class="Agda">    <a id="16117" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15995" class="Function">fro-to-refl</a> <a id="16129" href="1--Type-Theory.1-2--Inductive-Types.html#7837" class="InductiveConstructor">tt</a> <a id="16132" class="Symbol">=</a> <a id="16134" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>

</pre>-->
<pre class="Agda">
    <a id="16157" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16157" class="Function">fro-to</a> <a id="16164" class="Symbol">:</a> <a id="16166" class="Symbol">(</a><a id="16167" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16167" class="Bound">x</a> <a id="16169" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16169" class="Bound">y</a> <a id="16171" class="Symbol">:</a> <a id="16173" href="1--Type-Theory.1-2--Inductive-Types.html#7820" class="Datatype">⊤</a><a id="16174" class="Symbol">)</a> <a id="16176" class="Symbol">→</a> <a id="16178" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#3991" class="Function">isRetract</a> <a id="16188" class="Symbol">(</a><a id="16189" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15596" class="Function">encode</a> <a id="16196" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16167" class="Bound">x</a> <a id="16198" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16169" class="Bound">y</a><a id="16199" class="Symbol">)</a> <a id="16201" class="Symbol">(</a><a id="16202" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15697" class="Function">decode</a> <a id="16209" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16167" class="Bound">x</a> <a id="16211" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16169" class="Bound">y</a><a id="16212" class="Symbol">)</a> 
    <a id="16219" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16157" class="Function">fro-to</a> <a id="16226" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16226" class="Bound">x</a> <a id="16228" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16228" class="Bound">y</a> <a id="16230" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16230" class="Bound">p</a> <a id="16232" class="Symbol">=</a> <a id="16234" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a> <a id="16236" class="Symbol">(λ</a> <a id="16239" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16239" class="Bound">c</a> <a id="16241" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16241" class="Bound">p</a> <a id="16243" class="Symbol">→</a> <a id="16245" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15697" class="Function">decode</a> <a id="16252" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16226" class="Bound">x</a> <a id="16254" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16239" class="Bound">c</a> <a id="16256" class="Symbol">(</a><a id="16257" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15596" class="Function">encode</a> <a id="16264" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16226" class="Bound">x</a> <a id="16266" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16239" class="Bound">c</a> <a id="16268" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16241" class="Bound">p</a><a id="16269" class="Symbol">)</a> <a id="16271" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="16273" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16241" class="Bound">p</a><a id="16274" class="Symbol">)</a> <a id="16276" class="Symbol">(</a><a id="16277" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15995" class="Function">fro-to-refl</a> <a id="16289" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16226" class="Bound">x</a><a id="16290" class="Symbol">)</a> <a id="16292" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16230" class="Bound">p</a>
</pre>
<div class="info">
<p><span class="info-label">Aside:</span>
In <code>code</code> above, we <em>don’t</em> case-split on <code>x</code> and <code>y</code>, because we want
to show that <code>(x ≡ y) ≃ ⊤</code> regardless of what <code>x</code> and <code>y</code> are. If we
case split and write <code>code tt tt = ⊤</code> then the types no longer line
up, because Agda doesn’t automatically know that every element of <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#7820" class="Datatype">⊤</a></code>
is <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#7837" class="InductiveConstructor">tt</a></code>.</p>
</div>
<p>For <code class="Agda"><a href="Library.Prelude.html#3629" class="Datatype">ℕ</a></code>, we already have a candidate for <code>code</code>: observational
equality <code class="Agda"><a href="1--Type-Theory.1-4--Propositions-as-Types.html#15585" class="Function">≡ℕ</a></code>.</p>
<pre class="Agda"><a id="≡≃≡ℕ"></a><a id="16693" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16693" class="Function">≡≃≡ℕ</a> <a id="16698" class="Symbol">:</a> <a id="16700" class="Symbol">(</a><a id="16701" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16701" class="Bound">x</a> <a id="16703" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16703" class="Bound">y</a> <a id="16705" class="Symbol">:</a> <a id="16707" href="Library.Prelude.html#3629" class="Datatype">ℕ</a><a id="16708" class="Symbol">)</a> <a id="16710" class="Symbol">→</a> <a id="16712" class="Symbol">(</a><a id="16713" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16701" class="Bound">x</a> <a id="16715" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="16717" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16703" class="Bound">y</a><a id="16718" class="Symbol">)</a> <a id="16720" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="16722" class="Symbol">(</a><a id="16723" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16701" class="Bound">x</a> <a id="16725" href="1--Type-Theory.1-4--Propositions-as-Types.html#15585" class="Function Operator">≡ℕ</a> <a id="16728" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16703" class="Bound">y</a><a id="16729" class="Symbol">)</a>
<a id="16731" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16693" class="Function">≡≃≡ℕ</a> <a id="16736" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16736" class="Bound">x</a> <a id="16738" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16738" class="Bound">y</a> <a id="16740" class="Symbol">=</a> <a id="16742" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#7262" class="Function">inv→equiv</a> <a id="16752" class="Symbol">(</a><a id="16753" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17038" class="Function">encode</a> <a id="16760" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16736" class="Bound">x</a> <a id="16762" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16738" class="Bound">y</a><a id="16763" class="Symbol">)</a> <a id="16765" class="Symbol">(</a><a id="16766" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17139" class="Function">decode</a> <a id="16773" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16736" class="Bound">x</a> <a id="16775" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16738" class="Bound">y</a><a id="16776" class="Symbol">)</a> <a id="16778" class="Symbol">(</a><a id="16779" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17407" class="Function">to-fro</a> <a id="16786" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16736" class="Bound">x</a> <a id="16788" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16738" class="Bound">y</a><a id="16789" class="Symbol">)</a> <a id="16791" class="Symbol">(</a><a id="16792" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17903" class="Function">fro-to</a> <a id="16799" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16736" class="Bound">x</a> <a id="16801" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16738" class="Bound">y</a><a id="16802" class="Symbol">)</a>
  <a id="16806" class="Keyword">where</a>
    <a id="16816" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16816" class="Function">code</a> <a id="16821" class="Symbol">:</a> <a id="16823" href="Library.Prelude.html#3629" class="Datatype">ℕ</a> <a id="16825" class="Symbol">→</a> <a id="16827" href="Library.Prelude.html#3629" class="Datatype">ℕ</a> <a id="16829" class="Symbol">→</a> <a id="16831" href="Library.Primitive.html#422" class="Primitive">Type</a>
    <a id="16840" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16816" class="Function">code</a> <a id="16845" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16845" class="Bound">x</a> <a id="16847" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16847" class="Bound">y</a> <a id="16849" class="Symbol">=</a> <a id="16851" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16845" class="Bound">x</a> <a id="16853" href="1--Type-Theory.1-4--Propositions-as-Types.html#15585" class="Function Operator">≡ℕ</a> <a id="16856" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16847" class="Bound">y</a>

    <a id="16863" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16863" class="Function">encode-refl</a> <a id="16875" class="Symbol">:</a> <a id="16877" class="Symbol">(</a><a id="16878" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16878" class="Bound">x</a> <a id="16880" class="Symbol">:</a> <a id="16882" href="Library.Prelude.html#3629" class="Datatype">ℕ</a><a id="16883" class="Symbol">)</a> <a id="16885" class="Symbol">→</a> <a id="16887" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16816" class="Function">code</a> <a id="16892" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16878" class="Bound">x</a> <a id="16894" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16878" class="Bound">x</a>
    <a id="16900" class="Comment">-- Exercise:</a>
    <a id="16917" class="Comment">-- encode-refl x = {!!}</a>
</pre><!--
<pre class="Agda">    <a id="16958" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16863" class="Function">encode-refl</a> <a id="16970" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a> <a id="16975" class="Symbol">=</a> <a id="16977" href="1--Type-Theory.1-2--Inductive-Types.html#7837" class="InductiveConstructor">tt</a>
    <a id="16984" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16863" class="Function">encode-refl</a> <a id="16996" class="Symbol">(</a><a id="16997" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="17001" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17001" class="Bound">x</a><a id="17002" class="Symbol">)</a> <a id="17004" class="Symbol">=</a> <a id="17006" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16863" class="Function">encode-refl</a> <a id="17018" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17001" class="Bound">x</a>

</pre>-->
<pre class="Agda">
    <a id="17038" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17038" class="Function">encode</a> <a id="17045" class="Symbol">:</a> <a id="17047" class="Symbol">(</a><a id="17048" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17048" class="Bound">x</a> <a id="17050" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17050" class="Bound">y</a> <a id="17052" class="Symbol">:</a> <a id="17054" href="Library.Prelude.html#3629" class="Datatype">ℕ</a><a id="17055" class="Symbol">)</a> <a id="17057" class="Symbol">→</a> <a id="17059" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17048" class="Bound">x</a> <a id="17061" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="17063" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17050" class="Bound">y</a> <a id="17065" class="Symbol">→</a> <a id="17067" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16816" class="Function">code</a> <a id="17072" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17048" class="Bound">x</a> <a id="17074" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17050" class="Bound">y</a>
    <a id="17080" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17038" class="Function">encode</a> <a id="17087" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17087" class="Bound">x</a> <a id="17089" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17089" class="Bound">y</a> <a id="17091" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17091" class="Bound">p</a> <a id="17093" class="Symbol">=</a> <a id="17095" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a> <a id="17097" class="Symbol">(λ</a> <a id="17100" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17100" class="Bound">z</a> <a id="17102" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17102" class="Bound">_</a> <a id="17104" class="Symbol">→</a> <a id="17106" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16816" class="Function">code</a> <a id="17111" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17087" class="Bound">x</a> <a id="17113" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17100" class="Bound">z</a><a id="17114" class="Symbol">)</a> <a id="17116" class="Symbol">(</a><a id="17117" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16863" class="Function">encode-refl</a> <a id="17129" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17087" class="Bound">x</a><a id="17130" class="Symbol">)</a> <a id="17132" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17091" class="Bound">p</a>

    <a id="17139" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17139" class="Function">decode</a> <a id="17146" class="Symbol">:</a> <a id="17148" class="Symbol">(</a><a id="17149" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17149" class="Bound">x</a> <a id="17151" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17151" class="Bound">y</a> <a id="17153" class="Symbol">:</a> <a id="17155" href="Library.Prelude.html#3629" class="Datatype">ℕ</a><a id="17156" class="Symbol">)</a> <a id="17158" class="Symbol">→</a> <a id="17160" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16816" class="Function">code</a> <a id="17165" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17149" class="Bound">x</a> <a id="17167" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17151" class="Bound">y</a> <a id="17169" class="Symbol">→</a> <a id="17171" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17149" class="Bound">x</a> <a id="17173" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="17175" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17151" class="Bound">y</a>
    <a id="17181" class="Comment">-- Exercise:</a>
    <a id="17198" class="Comment">-- decode x y c = {!!}</a>
</pre><!--
<pre class="Agda">    <a id="17238" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17139" class="Function">decode</a> <a id="17245" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a> <a id="17250" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a> <a id="17255" class="Symbol">_</a> <a id="17257" class="Symbol">=</a> <a id="17259" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>
    <a id="17268" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17139" class="Function">decode</a> <a id="17275" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a> <a id="17280" class="Symbol">(</a><a id="17281" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="17285" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17285" class="Bound">y</a><a id="17286" class="Symbol">)</a> <a id="17288" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17288" class="Bound">c</a> <a id="17290" class="Symbol">=</a> <a id="17292" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6727" class="Function">∅-rec</a> <a id="17298" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17288" class="Bound">c</a>
    <a id="17304" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17139" class="Function">decode</a> <a id="17311" class="Symbol">(</a><a id="17312" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="17316" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17316" class="Bound">x</a><a id="17317" class="Symbol">)</a> <a id="17319" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a> <a id="17324" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17324" class="Bound">c</a> <a id="17326" class="Symbol">=</a> <a id="17328" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6727" class="Function">∅-rec</a> <a id="17334" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17324" class="Bound">c</a>
    <a id="17340" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17139" class="Function">decode</a> <a id="17347" class="Symbol">(</a><a id="17348" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="17352" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17352" class="Bound">x</a><a id="17353" class="Symbol">)</a> <a id="17355" class="Symbol">(</a><a id="17356" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="17360" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17360" class="Bound">y</a><a id="17361" class="Symbol">)</a> <a id="17363" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17363" class="Bound">c</a> <a id="17365" class="Symbol">=</a> <a id="17367" href="2--Paths-and-Identifications.2-1--Paths.html#16985" class="Function">ap</a> <a id="17370" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="17374" class="Symbol">(</a><a id="17375" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17139" class="Function">decode</a> <a id="17382" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17352" class="Bound">x</a> <a id="17384" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17360" class="Bound">y</a> <a id="17386" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17363" class="Bound">c</a><a id="17387" class="Symbol">)</a>

</pre>-->
<pre class="Agda">
    <a id="17407" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17407" class="Function">to-fro</a> <a id="17414" class="Symbol">:</a> <a id="17416" class="Symbol">(</a><a id="17417" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17417" class="Bound">x</a> <a id="17419" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17419" class="Bound">y</a> <a id="17421" class="Symbol">:</a> <a id="17423" href="Library.Prelude.html#3629" class="Datatype">ℕ</a><a id="17424" class="Symbol">)</a> <a id="17426" class="Symbol">→</a> <a id="17428" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#1688" class="Function">isSection</a> <a id="17438" class="Symbol">(</a><a id="17439" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17038" class="Function">encode</a> <a id="17446" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17417" class="Bound">x</a> <a id="17448" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17419" class="Bound">y</a><a id="17449" class="Symbol">)</a> <a id="17451" class="Symbol">(</a><a id="17452" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17139" class="Function">decode</a> <a id="17459" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17417" class="Bound">x</a> <a id="17461" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17419" class="Bound">y</a><a id="17462" class="Symbol">)</a>
    <a id="17468" class="Comment">-- Exercise:</a>
    <a id="17485" class="Comment">-- to-fro x y p = {!!}</a>
</pre><!--
<pre class="Agda">    <a id="17525" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17407" class="Function">to-fro</a> <a id="17532" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a> <a id="17537" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a> <a id="17542" href="1--Type-Theory.1-2--Inductive-Types.html#7837" class="InductiveConstructor">tt</a> <a id="17545" class="Symbol">=</a> <a id="17547" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>
    <a id="17556" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17407" class="Function">to-fro</a> <a id="17563" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a> <a id="17568" class="Symbol">(</a><a id="17569" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="17573" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17573" class="Bound">y</a><a id="17574" class="Symbol">)</a> <a id="17576" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17576" class="Bound">p</a> <a id="17578" class="Symbol">=</a> <a id="17580" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6727" class="Function">∅-rec</a> <a id="17586" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17576" class="Bound">p</a>
    <a id="17592" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17407" class="Function">to-fro</a> <a id="17599" class="Symbol">(</a><a id="17600" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="17604" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17604" class="Bound">x</a><a id="17605" class="Symbol">)</a> <a id="17607" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a> <a id="17612" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17612" class="Bound">p</a> <a id="17614" class="Symbol">=</a> <a id="17616" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6727" class="Function">∅-rec</a> <a id="17622" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17612" class="Bound">p</a>
    <a id="17628" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17407" class="Function">to-fro</a> <a id="17635" class="Symbol">(</a><a id="17636" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="17640" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17640" class="Bound">x</a><a id="17641" class="Symbol">)</a> <a id="17643" class="Symbol">(</a><a id="17644" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="17648" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17648" class="Bound">y</a><a id="17649" class="Symbol">)</a> <a id="17651" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17651" class="Bound">p</a> <a id="17653" class="Symbol">=</a> <a id="17655" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17407" class="Function">to-fro</a> <a id="17662" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17640" class="Bound">x</a> <a id="17664" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17648" class="Bound">y</a> <a id="17666" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17651" class="Bound">p</a>

</pre>-->
<pre class="Agda">
    <a id="17686" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17686" class="Function">fro-to-refl</a> <a id="17698" class="Symbol">:</a> <a id="17700" class="Symbol">(</a><a id="17701" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17701" class="Bound">x</a> <a id="17703" class="Symbol">:</a> <a id="17705" href="Library.Prelude.html#3629" class="Datatype">ℕ</a><a id="17706" class="Symbol">)</a> <a id="17708" class="Symbol">→</a> <a id="17710" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17139" class="Function">decode</a> <a id="17717" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17701" class="Bound">x</a> <a id="17719" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17701" class="Bound">x</a> <a id="17721" class="Symbol">(</a><a id="17722" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17038" class="Function">encode</a> <a id="17729" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17701" class="Bound">x</a> <a id="17731" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17701" class="Bound">x</a> <a id="17733" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a><a id="17737" class="Symbol">)</a> <a id="17739" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="17741" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>
    <a id="17750" class="Comment">-- Exercise:</a>
    <a id="17767" class="Comment">-- fro-to-refl x = {!!}</a>
</pre><!--
<pre class="Agda">    <a id="17808" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17686" class="Function">fro-to-refl</a> <a id="17820" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a> <a id="17825" class="Symbol">=</a> <a id="17827" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>
    <a id="17836" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17686" class="Function">fro-to-refl</a> <a id="17848" class="Symbol">(</a><a id="17849" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="17853" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17853" class="Bound">x</a><a id="17854" class="Symbol">)</a> <a id="17856" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17856" class="Bound">i</a> <a id="17858" class="Symbol">=</a> <a id="17860" href="2--Paths-and-Identifications.2-1--Paths.html#16985" class="Function">ap</a> <a id="17863" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="17867" class="Symbol">(</a><a id="17868" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17686" class="Function">fro-to-refl</a> <a id="17880" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17853" class="Bound">x</a> <a id="17882" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17856" class="Bound">i</a><a id="17883" class="Symbol">)</a>

</pre>-->
<pre class="Agda">
    <a id="17903" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17903" class="Function">fro-to</a> <a id="17910" class="Symbol">:</a> <a id="17912" class="Symbol">(</a><a id="17913" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17913" class="Bound">x</a> <a id="17915" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17915" class="Bound">y</a> <a id="17917" class="Symbol">:</a> <a id="17919" href="Library.Prelude.html#3629" class="Datatype">ℕ</a><a id="17920" class="Symbol">)</a> <a id="17922" class="Symbol">→</a> <a id="17924" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#3991" class="Function">isRetract</a> <a id="17934" class="Symbol">(</a><a id="17935" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17038" class="Function">encode</a> <a id="17942" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17913" class="Bound">x</a> <a id="17944" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17915" class="Bound">y</a><a id="17945" class="Symbol">)</a> <a id="17947" class="Symbol">(</a><a id="17948" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17139" class="Function">decode</a> <a id="17955" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17913" class="Bound">x</a> <a id="17957" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17915" class="Bound">y</a><a id="17958" class="Symbol">)</a> 
    <a id="17965" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17903" class="Function">fro-to</a> <a id="17972" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17972" class="Bound">x</a> <a id="17974" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17974" class="Bound">y</a> <a id="17976" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17976" class="Bound">p</a> <a id="17978" class="Symbol">=</a> <a id="17980" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a> <a id="17982" class="Symbol">(λ</a> <a id="17985" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17985" class="Bound">z</a> <a id="17987" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17987" class="Bound">q</a> <a id="17989" class="Symbol">→</a> <a id="17991" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17139" class="Function">decode</a> <a id="17998" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17972" class="Bound">x</a> <a id="18000" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17985" class="Bound">z</a> <a id="18002" class="Symbol">(</a><a id="18003" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17038" class="Function">encode</a> <a id="18010" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17972" class="Bound">x</a> <a id="18012" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17985" class="Bound">z</a> <a id="18014" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17987" class="Bound">q</a><a id="18015" class="Symbol">)</a> <a id="18017" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="18019" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17987" class="Bound">q</a><a id="18020" class="Symbol">)</a> <a id="18022" class="Symbol">(</a><a id="18023" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17686" class="Function">fro-to-refl</a> <a id="18035" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17972" class="Bound">x</a><a id="18036" class="Symbol">)</a> <a id="18038" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17976" class="Bound">p</a>
</pre>
<p>And one final application: disjoint unions. We didn’t define a
candidate <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18509" class="Function">≡⊎</a></code> for the paths to be equal to back in Lecture 1-X as
we did with the others, but it’s not hard to guess what it should be.
After all, the two sides are supposed to be <em>disjoint</em>, so paths
between <code class="Agda"><a href="3--Structures.3-2--Modalities.html#8298" class="InductiveConstructor">inl</a></code>s should be exactly paths in the left type, paths
between <code class="Agda"><a href="3--Structures.3-2--Modalities.html#8319" class="InductiveConstructor">inr</a></code>s should be exactly paths in the right type, and there
should be no paths at all between <code class="Agda"><a href="3--Structures.3-2--Modalities.html#8298" class="InductiveConstructor">inl</a></code>s and <code class="Agda"><a href="3--Structures.3-2--Modalities.html#8319" class="InductiveConstructor">inr</a></code>s.</p>
<pre class="Agda"><a id="_≡⊎_"></a><a id="18509" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18509" class="Function Operator">_≡⊎_</a> <a id="18514" class="Symbol">:</a> <a id="18516" class="Symbol">{</a><a id="18517" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18517" class="Bound">A</a> <a id="18519" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18519" class="Bound">B</a> <a id="18521" class="Symbol">:</a> <a id="18523" href="Library.Primitive.html#422" class="Primitive">Type</a><a id="18527" class="Symbol">}</a> <a id="18529" class="Symbol">(</a><a id="18530" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18530" class="Bound">x</a> <a id="18532" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18532" class="Bound">y</a> <a id="18534" class="Symbol">:</a> <a id="18536" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18517" class="Bound">A</a> <a id="18538" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8019" class="Datatype Operator">⊎</a> <a id="18540" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18519" class="Bound">B</a><a id="18541" class="Symbol">)</a> <a id="18543" class="Symbol">→</a> <a id="18545" href="Library.Primitive.html#422" class="Primitive">Type</a>
<a id="18550" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8093" class="InductiveConstructor">inl</a> <a id="18554" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18554" class="Bound">a1</a> <a id="18557" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18509" class="Function Operator">≡⊎</a> <a id="18560" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8093" class="InductiveConstructor">inl</a> <a id="18564" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18564" class="Bound">a2</a> <a id="18567" class="Symbol">=</a> <a id="18569" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18554" class="Bound">a1</a> <a id="18572" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="18574" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18564" class="Bound">a2</a>
<a id="18577" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8093" class="InductiveConstructor">inl</a> <a id="18581" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18581" class="Bound">a</a>  <a id="18584" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18509" class="Function Operator">≡⊎</a> <a id="18587" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8111" class="InductiveConstructor">inr</a> <a id="18591" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18591" class="Bound">b</a>  <a id="18594" class="Symbol">=</a> <a id="18596" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6064" class="Datatype">∅</a>
<a id="18598" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8111" class="InductiveConstructor">inr</a> <a id="18602" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18602" class="Bound">b</a>  <a id="18605" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18509" class="Function Operator">≡⊎</a> <a id="18608" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8093" class="InductiveConstructor">inl</a> <a id="18612" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18612" class="Bound">a</a>  <a id="18615" class="Symbol">=</a> <a id="18617" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6064" class="Datatype">∅</a>
<a id="18619" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8111" class="InductiveConstructor">inr</a> <a id="18623" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18623" class="Bound">b1</a> <a id="18626" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18509" class="Function Operator">≡⊎</a> <a id="18629" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8111" class="InductiveConstructor">inr</a> <a id="18633" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18633" class="Bound">b2</a> <a id="18636" class="Symbol">=</a> <a id="18638" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18623" class="Bound">b1</a> <a id="18641" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="18643" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18633" class="Bound">b2</a>
</pre>
<div class="info">
<p><span class="info-label">Aside:</span>
This is not the most general definition of <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18509" class="Function">≡⊎</a></code> we could use: notice
that this only handles types <code>A</code> and <code>B</code> in the lowest universe. To do
this right, we would have to land in <code>Type (ℓ-max ℓ ℓ')</code>, and <code class="Agda"><a href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#5322" class="Datatype">Lift</a></code>
each right-hand side to that level. This doesn’t change anything important
about the encode-decode proof, so we omit it here to cut down on
noise.</p>
</div>
<p>For this particular proof, it is more convenient to define <code>encode</code>
manually by pattern matching, rather than using <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a></code>.</p>
<pre class="Agda"><a id="≡≃≡⊎"></a><a id="19155" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19155" class="Function">≡≃≡⊎</a> <a id="19160" class="Symbol">:</a> <a id="19162" class="Symbol">(</a><a id="19163" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19163" class="Bound">x</a> <a id="19165" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19165" class="Bound">y</a> <a id="19167" class="Symbol">:</a> <a id="19169" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a> <a id="19171" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8019" class="Datatype Operator">⊎</a> <a id="19173" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#497" class="Generalizable">B</a><a id="19174" class="Symbol">)</a> <a id="19176" class="Symbol">→</a> <a id="19178" class="Symbol">(</a><a id="19179" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19163" class="Bound">x</a> <a id="19181" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="19183" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19165" class="Bound">y</a><a id="19184" class="Symbol">)</a> <a id="19186" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="19188" class="Symbol">(</a><a id="19189" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19163" class="Bound">x</a> <a id="19191" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18509" class="Function Operator">≡⊎</a> <a id="19194" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19165" class="Bound">y</a><a id="19195" class="Symbol">)</a>
<a id="19197" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19155" class="Function">≡≃≡⊎</a> <a id="19202" class="Symbol">{</a><a id="19203" class="Argument">A</a> <a id="19205" class="Symbol">=</a> <a id="19207" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19207" class="Bound">A</a><a id="19208" class="Symbol">}</a> <a id="19210" class="Symbol">{</a><a id="19211" class="Argument">B</a> <a id="19213" class="Symbol">=</a> <a id="19215" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19215" class="Bound">B</a><a id="19216" class="Symbol">}</a> <a id="19218" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19218" class="Bound">x</a> <a id="19220" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19220" class="Bound">y</a> <a id="19222" class="Symbol">=</a> <a id="19224" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#7262" class="Function">inv→equiv</a> <a id="19234" class="Symbol">(</a><a id="19235" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19353" class="Function">encode</a> <a id="19242" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19218" class="Bound">x</a> <a id="19244" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19220" class="Bound">y</a><a id="19245" class="Symbol">)</a> <a id="19247" class="Symbol">(</a><a id="19248" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19548" class="Function">decode</a> <a id="19255" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19218" class="Bound">x</a> <a id="19257" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19220" class="Bound">y</a><a id="19258" class="Symbol">)</a> <a id="19260" class="Symbol">(</a><a id="19261" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19815" class="Function">to-fro</a> <a id="19268" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19218" class="Bound">x</a> <a id="19270" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19220" class="Bound">y</a><a id="19271" class="Symbol">)</a> <a id="19273" class="Symbol">(</a><a id="19274" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20289" class="Function">fro-to</a> <a id="19281" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19218" class="Bound">x</a> <a id="19283" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19220" class="Bound">y</a><a id="19284" class="Symbol">)</a>
  <a id="19288" class="Keyword">where</a>
    <a id="19298" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19298" class="Function">code</a> <a id="19303" class="Symbol">:</a> <a id="19305" class="Symbol">(</a><a id="19306" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19306" class="Bound">x</a> <a id="19308" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19308" class="Bound">y</a> <a id="19310" class="Symbol">:</a> <a id="19312" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19207" class="Bound">A</a> <a id="19314" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8019" class="Datatype Operator">⊎</a> <a id="19316" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19215" class="Bound">B</a><a id="19317" class="Symbol">)</a> <a id="19319" class="Symbol">→</a> <a id="19321" href="Library.Primitive.html#422" class="Primitive">Type</a>
    <a id="19330" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19298" class="Function">code</a> <a id="19335" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19335" class="Bound">x</a> <a id="19337" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19337" class="Bound">y</a> <a id="19339" class="Symbol">=</a> <a id="19341" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19335" class="Bound">x</a> <a id="19343" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18509" class="Function Operator">≡⊎</a> <a id="19346" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19337" class="Bound">y</a>

    <a id="19353" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19353" class="Function">encode</a> <a id="19360" class="Symbol">:</a> <a id="19362" class="Symbol">(</a><a id="19363" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19363" class="Bound">x</a> <a id="19365" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19365" class="Bound">y</a> <a id="19367" class="Symbol">:</a> <a id="19369" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19207" class="Bound">A</a> <a id="19371" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8019" class="Datatype Operator">⊎</a> <a id="19373" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19215" class="Bound">B</a><a id="19374" class="Symbol">)</a> <a id="19376" class="Symbol">→</a> <a id="19378" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19363" class="Bound">x</a> <a id="19380" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="19382" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19365" class="Bound">y</a> <a id="19384" class="Symbol">→</a> <a id="19386" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19298" class="Function">code</a> <a id="19391" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19363" class="Bound">x</a> <a id="19393" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19365" class="Bound">y</a>
    <a id="19399" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19353" class="Function">encode</a> <a id="19406" class="Symbol">(</a><a id="19407" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8093" class="InductiveConstructor">inl</a> <a id="19411" class="Symbol">_)</a> <a id="19414" class="Symbol">(</a><a id="19415" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8093" class="InductiveConstructor">inl</a> <a id="19419" class="Symbol">_)</a> <a id="19422" class="Symbol">=</a> <a id="19424" href="2--Paths-and-Identifications.2-1--Paths.html#8910" class="Function">inl-inj</a>
    <a id="19436" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19353" class="Function">encode</a> <a id="19443" class="Symbol">(</a><a id="19444" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8093" class="InductiveConstructor">inl</a> <a id="19448" class="Symbol">_)</a> <a id="19451" class="Symbol">(</a><a id="19452" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8111" class="InductiveConstructor">inr</a> <a id="19456" class="Symbol">_)</a> <a id="19459" class="Symbol">=</a> <a id="19461" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#4046" class="Function">inl≠inr</a>
    <a id="19473" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19353" class="Function">encode</a> <a id="19480" class="Symbol">(</a><a id="19481" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8111" class="InductiveConstructor">inr</a> <a id="19485" class="Symbol">_)</a> <a id="19488" class="Symbol">(</a><a id="19489" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8093" class="InductiveConstructor">inl</a> <a id="19493" class="Symbol">_)</a> <a id="19496" class="Symbol">=</a> <a id="19498" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#4170" class="Function">inr≠inl</a>
    <a id="19510" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19353" class="Function">encode</a> <a id="19517" class="Symbol">(</a><a id="19518" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8111" class="InductiveConstructor">inr</a> <a id="19522" class="Symbol">_)</a> <a id="19525" class="Symbol">(</a><a id="19526" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8111" class="InductiveConstructor">inr</a> <a id="19530" class="Symbol">_)</a> <a id="19533" class="Symbol">=</a> <a id="19535" href="2--Paths-and-Identifications.2-1--Paths.html#9084" class="Function">inr-inj</a>

    <a id="19548" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19548" class="Function">decode</a> <a id="19555" class="Symbol">:</a> <a id="19557" class="Symbol">(</a><a id="19558" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19558" class="Bound">x</a> <a id="19560" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19560" class="Bound">y</a> <a id="19562" class="Symbol">:</a> <a id="19564" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19207" class="Bound">A</a> <a id="19566" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8019" class="Datatype Operator">⊎</a> <a id="19568" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19215" class="Bound">B</a><a id="19569" class="Symbol">)</a> <a id="19571" class="Symbol">→</a> <a id="19573" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19298" class="Function">code</a> <a id="19578" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19558" class="Bound">x</a> <a id="19580" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19560" class="Bound">y</a> <a id="19582" class="Symbol">→</a> <a id="19584" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19558" class="Bound">x</a> <a id="19586" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="19588" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19560" class="Bound">y</a>
<a id="19590" class="Comment">--  Exercise:</a>
<a id="19604" class="Comment">--  decode x y = {!!}</a>
</pre><!--
<pre class="Agda">    <a id="19643" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19548" class="Function">decode</a> <a id="19650" class="Symbol">(</a><a id="19651" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8093" class="InductiveConstructor">inl</a> <a id="19655" class="Symbol">_)</a> <a id="19658" class="Symbol">(</a><a id="19659" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8093" class="InductiveConstructor">inl</a> <a id="19663" class="Symbol">_)</a> <a id="19666" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19666" class="Bound">p</a> <a id="19668" class="Symbol">=</a> <a id="19670" href="2--Paths-and-Identifications.2-1--Paths.html#16985" class="Function">ap</a> <a id="19673" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8093" class="InductiveConstructor">inl</a> <a id="19677" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19666" class="Bound">p</a>
    <a id="19683" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19548" class="Function">decode</a> <a id="19690" class="Symbol">(</a><a id="19691" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8093" class="InductiveConstructor">inl</a> <a id="19695" class="Symbol">_)</a> <a id="19698" class="Symbol">(</a><a id="19699" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8111" class="InductiveConstructor">inr</a> <a id="19703" class="Symbol">_)</a> <a id="19706" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19706" class="Bound">p</a> <a id="19708" class="Symbol">=</a> <a id="19710" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6727" class="Function">∅-rec</a> <a id="19716" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19706" class="Bound">p</a>
    <a id="19722" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19548" class="Function">decode</a> <a id="19729" class="Symbol">(</a><a id="19730" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8111" class="InductiveConstructor">inr</a> <a id="19734" class="Symbol">_)</a> <a id="19737" class="Symbol">(</a><a id="19738" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8093" class="InductiveConstructor">inl</a> <a id="19742" class="Symbol">_)</a> <a id="19745" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19745" class="Bound">p</a> <a id="19747" class="Symbol">=</a> <a id="19749" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6727" class="Function">∅-rec</a> <a id="19755" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19745" class="Bound">p</a>
    <a id="19761" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19548" class="Function">decode</a> <a id="19768" class="Symbol">(</a><a id="19769" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8111" class="InductiveConstructor">inr</a> <a id="19773" class="Symbol">_)</a> <a id="19776" class="Symbol">(</a><a id="19777" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8111" class="InductiveConstructor">inr</a> <a id="19781" class="Symbol">_)</a> <a id="19784" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19784" class="Bound">p</a> <a id="19786" class="Symbol">=</a> <a id="19788" href="2--Paths-and-Identifications.2-1--Paths.html#16985" class="Function">ap</a> <a id="19791" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8111" class="InductiveConstructor">inr</a> <a id="19795" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19784" class="Bound">p</a>

</pre>-->
<pre class="Agda">
    <a id="19815" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19815" class="Function">to-fro</a> <a id="19822" class="Symbol">:</a> <a id="19824" class="Symbol">(</a><a id="19825" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19825" class="Bound">x</a> <a id="19827" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19827" class="Bound">y</a> <a id="19829" class="Symbol">:</a> <a id="19831" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19207" class="Bound">A</a> <a id="19833" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8019" class="Datatype Operator">⊎</a> <a id="19835" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19215" class="Bound">B</a><a id="19836" class="Symbol">)</a> <a id="19838" class="Symbol">→</a> <a id="19840" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#1688" class="Function">isSection</a> <a id="19850" class="Symbol">(</a><a id="19851" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19353" class="Function">encode</a> <a id="19858" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19825" class="Bound">x</a> <a id="19860" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19827" class="Bound">y</a><a id="19861" class="Symbol">)</a> <a id="19863" class="Symbol">(</a><a id="19864" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19548" class="Function">decode</a> <a id="19871" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19825" class="Bound">x</a> <a id="19873" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19827" class="Bound">y</a><a id="19874" class="Symbol">)</a>
<a id="19876" class="Comment">--  Exercise:</a>
<a id="19890" class="Comment">--  to-fro x y = {!!}</a>
</pre><!--
<pre class="Agda">    <a id="19929" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19815" class="Function">to-fro</a> <a id="19936" class="Symbol">(</a><a id="19937" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8093" class="InductiveConstructor">inl</a> <a id="19941" class="Symbol">_)</a> <a id="19944" class="Symbol">(</a><a id="19945" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8093" class="InductiveConstructor">inl</a> <a id="19949" class="Symbol">_)</a> <a id="19952" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19952" class="Bound">c</a> <a id="19954" class="Symbol">=</a> <a id="19956" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>
    <a id="19965" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19815" class="Function">to-fro</a> <a id="19972" class="Symbol">(</a><a id="19973" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8093" class="InductiveConstructor">inl</a> <a id="19977" class="Symbol">_)</a> <a id="19980" class="Symbol">(</a><a id="19981" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8111" class="InductiveConstructor">inr</a> <a id="19985" class="Symbol">_)</a> <a id="19988" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19988" class="Bound">c</a> <a id="19990" class="Symbol">=</a> <a id="19992" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6727" class="Function">∅-rec</a> <a id="19998" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19988" class="Bound">c</a>
    <a id="20004" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19815" class="Function">to-fro</a> <a id="20011" class="Symbol">(</a><a id="20012" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8111" class="InductiveConstructor">inr</a> <a id="20016" class="Symbol">_)</a> <a id="20019" class="Symbol">(</a><a id="20020" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8093" class="InductiveConstructor">inl</a> <a id="20024" class="Symbol">_)</a> <a id="20027" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20027" class="Bound">c</a> <a id="20029" class="Symbol">=</a> <a id="20031" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6727" class="Function">∅-rec</a> <a id="20037" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20027" class="Bound">c</a>
    <a id="20043" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19815" class="Function">to-fro</a> <a id="20050" class="Symbol">(</a><a id="20051" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8111" class="InductiveConstructor">inr</a> <a id="20055" class="Symbol">_)</a> <a id="20058" class="Symbol">(</a><a id="20059" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8111" class="InductiveConstructor">inr</a> <a id="20063" class="Symbol">_)</a> <a id="20066" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20066" class="Bound">c</a> <a id="20068" class="Symbol">=</a> <a id="20070" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>

</pre>-->
<pre class="Agda">
    <a id="20093" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20093" class="Function">fro-to-refl</a> <a id="20105" class="Symbol">:</a> <a id="20107" class="Symbol">(</a><a id="20108" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20108" class="Bound">x</a> <a id="20110" class="Symbol">:</a> <a id="20112" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19207" class="Bound">A</a> <a id="20114" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8019" class="Datatype Operator">⊎</a> <a id="20116" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19215" class="Bound">B</a><a id="20117" class="Symbol">)</a> <a id="20119" class="Symbol">→</a> <a id="20121" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19548" class="Function">decode</a> <a id="20128" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20108" class="Bound">x</a> <a id="20130" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20108" class="Bound">x</a> <a id="20132" class="Symbol">(</a><a id="20133" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19353" class="Function">encode</a> <a id="20140" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20108" class="Bound">x</a> <a id="20142" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20108" class="Bound">x</a> <a id="20144" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a><a id="20148" class="Symbol">)</a> <a id="20150" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="20152" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>
<a id="20157" class="Comment">--  Exercise:</a>
<a id="20171" class="Comment">--  fro-to-refl x = {!!}</a>
</pre><!--
<pre class="Agda">    <a id="20213" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20093" class="Function">fro-to-refl</a> <a id="20225" class="Symbol">(</a><a id="20226" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8093" class="InductiveConstructor">inl</a> <a id="20230" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20230" class="Bound">a</a><a id="20231" class="Symbol">)</a> <a id="20233" class="Symbol">=</a> <a id="20235" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>
    <a id="20244" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20093" class="Function">fro-to-refl</a> <a id="20256" class="Symbol">(</a><a id="20257" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8111" class="InductiveConstructor">inr</a> <a id="20261" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20261" class="Bound">x</a><a id="20262" class="Symbol">)</a> <a id="20264" class="Symbol">=</a> <a id="20266" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>

</pre>-->
<pre class="Agda">
    <a id="20289" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20289" class="Function">fro-to</a> <a id="20296" class="Symbol">:</a> <a id="20298" class="Symbol">(</a><a id="20299" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20299" class="Bound">x</a> <a id="20301" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20301" class="Bound">y</a> <a id="20303" class="Symbol">:</a> <a id="20305" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19207" class="Bound">A</a> <a id="20307" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8019" class="Datatype Operator">⊎</a> <a id="20309" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19215" class="Bound">B</a><a id="20310" class="Symbol">)</a> <a id="20312" class="Symbol">→</a> <a id="20314" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#3991" class="Function">isRetract</a> <a id="20324" class="Symbol">(</a><a id="20325" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19353" class="Function">encode</a> <a id="20332" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20299" class="Bound">x</a> <a id="20334" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20301" class="Bound">y</a><a id="20335" class="Symbol">)</a> <a id="20337" class="Symbol">(</a><a id="20338" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19548" class="Function">decode</a> <a id="20345" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20299" class="Bound">x</a> <a id="20347" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20301" class="Bound">y</a><a id="20348" class="Symbol">)</a> 
<a id="20351" class="Comment">--  Exercise:</a>
<a id="20365" class="Comment">--  fro-to x y = {!!}</a>
</pre><!--
<pre class="Agda">    <a id="20404" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20289" class="Function">fro-to</a> <a id="20411" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20411" class="Bound">x</a> <a id="20413" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20413" class="Bound">y</a> <a id="20415" class="Symbol">=</a> <a id="20417" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5287" class="Function">J</a> <a id="20419" class="Symbol">(λ</a> <a id="20422" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20422" class="Bound">c</a> <a id="20424" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20424" class="Bound">p</a> <a id="20426" class="Symbol">→</a> <a id="20428" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19548" class="Function">decode</a> <a id="20435" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20411" class="Bound">x</a> <a id="20437" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20422" class="Bound">c</a> <a id="20439" class="Symbol">(</a><a id="20440" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19353" class="Function">encode</a> <a id="20447" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20411" class="Bound">x</a> <a id="20449" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20422" class="Bound">c</a> <a id="20451" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20424" class="Bound">p</a><a id="20452" class="Symbol">)</a> <a id="20454" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="20456" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20424" class="Bound">p</a><a id="20457" class="Symbol">)</a> <a id="20459" class="Symbol">(</a><a id="20460" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20093" class="Function">fro-to-refl</a> <a id="20472" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20411" class="Bound">x</a><a id="20473" class="Symbol">)</a>

</pre>-->
<h2 id="references-and-further-reading"><a class="header" href="#references-and-further-reading">References and Further Reading</a></h2>
<p>mvrnote: encode-decode</p>

                  </main>
                  <div class="sidetoc">
                    <nav class="pagetoc"></nav>
                  </div>
                </div>
            </div>
        </div>



        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="theme/pagetoc.js"></script>


    </div>
    </body>
</html>
