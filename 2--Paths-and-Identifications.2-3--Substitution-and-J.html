<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>2.3: Substitution and J - Introduction to Homotopy Type Theory in Cubical Agda</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/css/Agda.css">
        <link rel="stylesheet" href="theme/css/Agda-highlight.css">
        <link rel="stylesheet" href="theme/pagetoc.css">

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "coal" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="index.html">Introduction</a></li><li class="chapter-item affix "><a href="INSTALLING_AGDA.html">Installing Agda</a></li><li class="chapter-item affix "><a href="USING_AGDA.html">Using Agda</a></li><li class="chapter-item affix "><li class="part-title">Type Theory</li><li class="chapter-item "><a href="1--Type-Theory.1-1--Types-and-Functions.html">1.1: Types and Functions</a></li><li class="chapter-item "><a href="1--Type-Theory.1-2--Inductive-Types.html">1.2: Inductive Types</a></li><li class="chapter-item "><a href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html">1.3: Universes and More Inductive Types</a></li><li class="chapter-item "><a href="1--Type-Theory.1-4--Record-Types-and-Copatterns.html">1.4: Record Types and Copatterns</a></li><li class="chapter-item "><a href="1--Type-Theory.1-5--Propositions-as-Types.html">1.5: Propositions as Types</a></li><li class="chapter-item affix "><li class="part-title">Paths and Identifications</li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-1--Paths.html">2.1: Paths</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html">2.2: Equivalences and Path Algebra</a></li><li class="chapter-item expanded "><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html" class="active">2.3: Substitution and J</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html">2.4: Composition and Filling</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-5--Transport.html">2.5: Transport</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-6--Univalence.html">2.6: Univalence</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-7--Propositions.html">2.7: Propositions</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-8--Sets-and-Higher-Types.html">2.8: Sets and Higher Types</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-9--Contractible-Maps.html">2.9: Contractible Maps</a></li><li class="chapter-item affix "><li class="part-title">Topics</li><li class="chapter-item "><a href="3--Topics.3-1--Structure-Identity-Principle.html">3.1: The Structure Identity Principle</a></li><li class="chapter-item "><a href="3--Topics.3-2--Modalities.html">3.2: Modalities</a></li><li class="chapter-item "><a href="3--Topics.3-3--Constructive-Logic.html">3.3: Constructive Logic</a></li><li class="chapter-item affix "><li class="part-title">Behind-the-Scenes</li><li class="chapter-item "><a href="Library.Primitive.html">Primitives</a></li><li class="chapter-item "><a href="Library.Prelude.html">Prelude</a></li><li class="chapter-item "><a href="Library.Univalence.html">Univalence</a></li><li class="spacer"></li><li class="chapter-item affix "><a href="UNICODE_DICTIONARY.html">Unicode Dictionary</a></li><li class="chapter-item affix "><a href="ACKNOWLEDGEMENTS.html">Acknowledgements</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <!-- <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li> -->
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Introduction to Homotopy Type Theory in Cubical Agda</h1>

                    <div class="right-buttons">
                        <a href="https://github.com/CQTS/introduction-to-cubical" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                  <main>
                    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<!--
<pre class="Agda"><a id="10" class="Keyword">module</a> <a id="17" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html" class="Module">2--Paths-and-Identifications.2-3--Substitution-and-J</a> <a id="70" class="Keyword">where</a>

<a id="77" class="Keyword">open</a> <a id="82" class="Keyword">import</a> <a id="89" href="Library.Prelude.html" class="Module">Library.Prelude</a>
<a id="105" class="Keyword">open</a> <a id="110" class="Keyword">import</a> <a id="117" href="1--Type-Theory.1-1--Types-and-Functions.html" class="Module">1--Type-Theory.1-1--Types-and-Functions</a>
<a id="157" class="Keyword">open</a> <a id="162" class="Keyword">import</a> <a id="169" href="1--Type-Theory.1-2--Inductive-Types.html" class="Module">1--Type-Theory.1-2--Inductive-Types</a>
<a id="205" class="Keyword">open</a> <a id="210" class="Keyword">import</a> <a id="217" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html" class="Module">1--Type-Theory.1-3--Universes-and-More-Inductive-Types</a>
<a id="272" class="Keyword">open</a> <a id="277" class="Keyword">import</a> <a id="284" href="1--Type-Theory.1-5--Propositions-as-Types.html" class="Module">1--Type-Theory.1-5--Propositions-as-Types</a>
<a id="326" class="Keyword">open</a> <a id="331" class="Keyword">import</a> <a id="338" href="2--Paths-and-Identifications.2-1--Paths.html" class="Module">2--Paths-and-Identifications.2-1--Paths</a>
<a id="378" class="Keyword">open</a> <a id="383" class="Keyword">import</a> <a id="390" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html" class="Module">2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra</a>

<a id="455" class="Keyword">private</a>
  <a id="465" class="Keyword">variable</a>
    <a id="478" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#478" class="Generalizable">ℓ</a> <a id="480" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#480" class="Generalizable">ℓ&#39;</a> <a id="483" class="Symbol">:</a> <a id="485" href="Library.Primitive.html#1060" class="Postulate">Level</a>
    <a id="495" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a> <a id="497" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#497" class="Generalizable">B</a> <a id="499" class="Symbol">:</a> <a id="501" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="506" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#478" class="Generalizable">ℓ</a>
    <a id="512" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="514" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#514" class="Generalizable">y</a> <a id="516" class="Symbol">:</a> <a id="518" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a>
</pre>-->
<h1 id="lecture-2-3-substitution-and-j"><a class="header" href="#lecture-2-3-substitution-and-j">Lecture 2-3: Substitution and J</a></h1>
<p>A fundamental principle of equality is that we may substitute equal
things for equal things. Consider a predicate like <code class="Agda"><a href="1--Type-Theory.1-5--Propositions-as-Types.html#24716" class="Function">isEvenP</a></code>.
If <code>x</code> and <code>y</code> are natural numbers so that <code>x ≡ y</code>, and we know that
<code>isEvenP x</code>, then we should certainly be able to conclude that
<code>isEvenP y</code>.</p>
<p>There is nothing we’ve seen that lets us do this, so we’ll need a new
primitive notion. </p>
<p>mvrnote: more summary</p>
<h2 id="substitution"><a class="header" href="#substitution">Substitution</a></h2>
<p>Given a type family <code>B : A → Type</code> thought of as a predicate, and a
path <code>p : x ≡ y</code> in the type <code>A</code>, we want a function <code>subst B p : B x → B y</code> that “substitutes <code>x</code> for <code>y</code> in things of type <code>B x</code>”.</p>
<pre class="Agda"><a id="subst"></a><a id="1180" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1180" class="Function">subst</a> <a id="1186" class="Symbol">:</a> <a id="1188" class="Symbol">(</a><a id="1189" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1189" class="Bound">B</a> <a id="1191" class="Symbol">:</a> <a id="1193" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a> <a id="1195" class="Symbol">→</a> <a id="1197" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="1202" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#478" class="Generalizable">ℓ</a><a id="1203" class="Symbol">)</a> <a id="1205" class="Symbol">→</a> <a id="1207" class="Symbol">(</a><a id="1208" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1208" class="Bound">p</a> <a id="1210" class="Symbol">:</a> <a id="1212" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="1214" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="1216" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#514" class="Generalizable">y</a><a id="1217" class="Symbol">)</a> <a id="1219" class="Symbol">→</a> <a id="1221" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1189" class="Bound">B</a> <a id="1223" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="1225" class="Symbol">→</a> <a id="1227" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1189" class="Bound">B</a> <a id="1229" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#514" class="Generalizable">y</a>
</pre>
<p>To see exactly what primitive notion we are missing, consider that we
haven’t yet said what a path <code>I → Type</code> should be.</p>
<p>Taking a cue from homotopy theory, we expect that a path between
spaces should be a continuous deformation of one space into
another — a so-called “homotopy equivalence”. In particular, then,
if we have a path <code>A : I → Type</code>, we should be able to “continuously
move” an element <code>a : A i0</code> to some element of <code>A i1</code>. This is called
“transporting” the element <code>a</code> from <code>A i0</code> to <code>A i1</code> along the path of
types <code>A</code>. Agda axiomatizes this idea with a function called
<code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1843" class="Function">transport</a></code>.</p>
<pre class="Agda"><a id="transport"></a><a id="1843" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1843" class="Function">transport</a> <a id="1853" class="Symbol">:</a> <a id="1855" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a> <a id="1857" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="1859" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#497" class="Generalizable">B</a> <a id="1861" class="Symbol">→</a> <a id="1863" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a> <a id="1865" class="Symbol">→</a> <a id="1867" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#497" class="Generalizable">B</a>
</pre>
<div class="info">
<p><span class="info-label">Aside:</span>
Well, actually, <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1843" class="Function">transport</a></code> is defined via a slightly more
general operation unhelpfully called <code class="Agda"><a href="" class="Primitive">transport-fixing</a></code>, which we will
return to in Lecture 2-X.</p>
<pre class="Agda"><a id="2049" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1843" class="Function">transport</a> <a id="2059" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2059" class="Bound">p</a> <a id="2061" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2061" class="Bound">a</a> <a id="2063" class="Symbol">=</a> <a id="2065" href="Library.Prelude.html#447" class="Primitive">transport-fixing</a> <a id="2082" class="Symbol">(λ</a> <a id="2085" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2085" class="Bound">i</a> <a id="2087" class="Symbol">→</a> <a id="2089" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2059" class="Bound">p</a> <a id="2091" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2085" class="Bound">i</a><a id="2092" class="Symbol">)</a> <a id="2094" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a> <a id="2097" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2061" class="Bound">a</a>
</pre>
</div>
<p>Using <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1843" class="Function">transport</a></code>, we can define <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1180" class="Function">subst</a></code> by transporting in the
path of types <code>(λ i → B (p i)) : B x ≡ B y</code>. We know the endpoints of
this path are correct because <code>p i0</code> is exactly <code>x</code> and <code>p i1</code> is
exactly <code>y</code>.</p>
<pre class="Agda"><a id="2330" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1180" class="Function">subst</a> <a id="2336" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2336" class="Bound">B</a> <a id="2338" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2338" class="Bound">p</a> <a id="2340" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2340" class="Bound">b</a> <a id="2342" class="Symbol">=</a> <a id="2344" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1843" class="Function">transport</a> <a id="2354" class="Symbol">(λ</a> <a id="2357" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2357" class="Bound">i</a> <a id="2359" class="Symbol">→</a> <a id="2361" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2336" class="Bound">B</a> <a id="2363" class="Symbol">(</a><a id="2364" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2338" class="Bound">p</a> <a id="2366" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2357" class="Bound">i</a><a id="2367" class="Symbol">))</a> <a id="2370" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2340" class="Bound">b</a>
</pre>
<p>Our first application of <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1180" class="Function">subst</a></code> is showing that there is no path
from <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1042" class="InductiveConstructor">true</a></code> to <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1057" class="InductiveConstructor">false</a></code> in <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1022" class="Datatype">Bool</a></code>.</p>
<pre class="Agda"><a id="true≢false"></a><a id="2490" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2490" class="Function">true≢false</a> <a id="2501" class="Symbol">:</a> <a id="2503" href="1--Type-Theory.1-5--Propositions-as-Types.html#5483" class="Function Operator">¬</a> <a id="2505" class="Symbol">(</a><a id="2506" href="1--Type-Theory.1-2--Inductive-Types.html#1042" class="InductiveConstructor">true</a> <a id="2511" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="2513" href="1--Type-Theory.1-2--Inductive-Types.html#1057" class="InductiveConstructor">false</a><a id="2518" class="Symbol">)</a>
<a id="2520" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2490" class="Function">true≢false</a> <a id="2531" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2531" class="Bound">p</a> <a id="2533" class="Symbol">=</a> <a id="2535" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1180" class="Function">subst</a> <a id="2541" class="Symbol">(λ</a> <a id="2544" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2544" class="Bound">b</a> <a id="2546" class="Symbol">→</a> <a id="2548" href="1--Type-Theory.1-2--Inductive-Types.html#1042" class="InductiveConstructor">true</a> <a id="2553" href="1--Type-Theory.1-5--Propositions-as-Types.html#13214" class="Function Operator">≡Bool</a> <a id="2559" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2544" class="Bound">b</a><a id="2560" class="Symbol">)</a> <a id="2562" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2531" class="Bound">p</a> <a id="2564" href="1--Type-Theory.1-2--Inductive-Types.html#8988" class="InductiveConstructor">tt</a>
</pre>
<p>Let’s take a minute to make sure we understand what’s going on here.
Remember that <code class="Agda"><a href="1--Type-Theory.1-5--Propositions-as-Types.html#5483" class="Function">¬</a></code> is defined to be simply functions into <code class="Agda"><a href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6308" class="Datatype">∅</a></code>, so
<code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2490" class="Function">true≢false</a></code> is a function <code>true ≡ false → ∅</code>. That is, to prove
that <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1042" class="InductiveConstructor">true</a></code> doesn’t equal <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1057" class="InductiveConstructor">false</a></code>, we assume we have a path <code>true ≡ false</code> and derive a contradiction. How do we do this?</p>
<p>Well, we have by definition that <code>true ≡Bool true</code> is <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#8971" class="Datatype">⊤</a></code> and that
<code>true ≡Bool false</code> is <code class="Agda"><a href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6308" class="Datatype">∅</a></code>, this time using the type family <code class="Agda"><a href="1--Type-Theory.1-5--Propositions-as-Types.html#13214" class="Function">≡Bool</a></code>
that we defined for observational equality. If we’re given a path <code>p : true ≡ false</code>, then we could replace the second <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1042" class="InductiveConstructor">true</a></code> in <code>true ≡Bool true</code> with <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1057" class="InductiveConstructor">false</a></code> to get an element of <code>true ≡Bool false</code>,
which would finish our proof.</p>
<p>The family we are substituting in is therefore <code>(λ b → true ≡Bool b)</code>.
The resulting term <code>subst (λ b → true ≡Bool b) p</code> is a function <code>true ≡Bool true → true ≡Bool false</code>, so unwinding the definition of
<code class="Agda"><a href="1--Type-Theory.1-5--Propositions-as-Types.html#13214" class="Function">≡Bool</a></code>, a function <code>⊤ → ∅</code>. This we can simply feed in <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#8988" class="InductiveConstructor">tt</a></code> to
obtain an element of <code class="Agda"><a href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6308" class="Datatype">∅</a></code>, our contradiction.</p>
<p>Try proving a similar fact for <code class="Agda"><a href="Library.Prelude.html#3629" class="Datatype">ℕ</a></code>, that zero is not equal to any
successor.</p>
<pre class="Agda"><a id="zero≢suc"></a><a id="3684" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#3684" class="Function">zero≢suc</a> <a id="3693" class="Symbol">:</a> <a id="3695" class="Symbol">{</a><a id="3696" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#3696" class="Bound">n</a> <a id="3698" class="Symbol">:</a> <a id="3700" href="Library.Prelude.html#3629" class="Datatype">ℕ</a><a id="3701" class="Symbol">}</a> <a id="3703" class="Symbol">→</a> <a id="3705" href="1--Type-Theory.1-5--Propositions-as-Types.html#5483" class="Function Operator">¬</a> <a id="3707" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a> <a id="3712" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="3714" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="3718" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#3696" class="Bound">n</a>
<a id="3720" class="Comment">-- Exercise:</a>
<a id="3733" class="Comment">-- zero≢suc p = {!!}</a>
</pre>
<p>While we’re here, we can show that the constructors for <code class="Agda"><a href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8265" class="Datatype">⊎</a></code> are also
disjoint. These proofs all go roughly the same way. You’ll first need
a predicate <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#4058" class="Function">IsInl</a></code>, to take the place of <code>true ≡Bool b</code> in the
previous proof.</p>
<pre class="Agda"><a id="IsInl"></a><a id="4058" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#4058" class="Function">IsInl</a> <a id="4064" class="Symbol">:</a> <a id="4066" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a> <a id="4068" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8265" class="Datatype Operator">⊎</a> <a id="4070" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#497" class="Generalizable">B</a> <a id="4072" class="Symbol">→</a> <a id="4074" href="Library.Primitive.html#422" class="Primitive">Type</a>
<a id="4079" class="Comment">-- Exercise:</a>
<a id="4092" class="Comment">-- IsInl s = {!!}</a>

<a id="inl≠inr"></a><a id="4201" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#4201" class="Function">inl≠inr</a> <a id="4209" class="Symbol">:</a> <a id="4211" href="1--Type-Theory.1-5--Propositions-as-Types.html#5483" class="Function Operator">¬</a> <a id="4213" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8339" class="InductiveConstructor">inl</a> <a id="4217" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="4219" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="4221" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8357" class="InductiveConstructor">inr</a> <a id="4225" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#514" class="Generalizable">y</a>
<a id="4227" class="Comment">-- Exercise:</a>
<a id="4240" class="Comment">-- inl≠inr path = {!!}</a>

<a id="inr≠inl"></a><a id="4326" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#4326" class="Function">inr≠inl</a> <a id="4334" class="Symbol">:</a> <a id="4336" href="1--Type-Theory.1-5--Propositions-as-Types.html#5483" class="Function Operator">¬</a> <a id="4338" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8357" class="InductiveConstructor">inr</a> <a id="4342" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="4344" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="4346" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8339" class="InductiveConstructor">inl</a> <a id="4350" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#514" class="Generalizable">y</a>
<a id="4352" class="Comment">-- Exercise:</a>
<a id="4365" class="Comment">-- inr≠inl path = {!!}</a>
</pre>
<h2 id="martin-löfs-j-rule"><a class="header" href="#martin-löfs-j-rule">Martin-Löf’s J Rule</a></h2>
<p>Combining transport with the the De Morgan structure on the interval,
we can show a fundamental but not-as-well-known principle of identity:
Martin-Löf’s <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a></code> rule.</p>
<p>Recall the <code class="Agda"><a href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#28356" class="Function">connection∧</a></code> square:</p>
<pre><code>          p
     x — — — &gt; y
     ^         ^
refl |         | p               ^
     |         |               j |
     x — — — &gt; x                 ∙ — &gt;
        refl                       i
</code></pre>
<p>Reading this square in the <code>i</code> direction, we can see it as a path
between <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a></code> and <code>p</code> which keeps the beginning of the path
constant at <code>x</code> but lets the other end vary along <code>p</code>. We can
therefore take any property of the path <code>refl : x ≡ x</code> and transport
it to any path <code>p : x ≡ y</code> beginning with <code>x</code>. The <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a></code>-rule
expresses this principle.</p>
<pre class="Agda"><a id="J-line"></a><a id="5256" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5256" class="Function">J-line</a> <a id="5263" class="Symbol">:</a> <a id="5265" class="Symbol">(</a><a id="5266" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5266" class="Bound">Q</a> <a id="5268" class="Symbol">:</a> <a id="5270" class="Symbol">(</a><a id="5271" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5271" class="Bound">y</a> <a id="5273" class="Symbol">:</a> <a id="5275" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a><a id="5276" class="Symbol">)</a> <a id="5278" class="Symbol">→</a> <a id="5280" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="5282" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="5284" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5271" class="Bound">y</a> <a id="5286" class="Symbol">→</a> <a id="5288" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="5293" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#478" class="Generalizable">ℓ</a><a id="5294" class="Symbol">)</a>
  <a id="5298" class="Symbol">→</a> <a id="5300" class="Symbol">(</a><a id="5301" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5301" class="Bound">p</a> <a id="5303" class="Symbol">:</a> <a id="5305" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="5307" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="5309" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#514" class="Generalizable">y</a><a id="5310" class="Symbol">)</a>
  <a id="5314" class="Symbol">→</a> <a id="5316" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5266" class="Bound">Q</a> <a id="5318" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="5320" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a> <a id="5325" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="5327" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5266" class="Bound">Q</a> <a id="5329" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#514" class="Generalizable">y</a> <a id="5331" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5301" class="Bound">p</a>
<a id="5333" class="Comment">-- Exercise:</a>
<a id="5346" class="Comment">-- J-line Q p i = Q {!!} {!!}</a>

<a id="J"></a><a id="5445" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a> <a id="5447" class="Symbol">:</a> <a id="5449" class="Symbol">(</a><a id="5450" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5450" class="Bound">Q</a> <a id="5452" class="Symbol">:</a> <a id="5454" class="Symbol">(</a><a id="5455" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5455" class="Bound">y</a> <a id="5457" class="Symbol">:</a> <a id="5459" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a><a id="5460" class="Symbol">)</a> <a id="5462" class="Symbol">→</a> <a id="5464" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="5466" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="5468" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5455" class="Bound">y</a> <a id="5470" class="Symbol">→</a> <a id="5472" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="5477" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#478" class="Generalizable">ℓ</a><a id="5478" class="Symbol">)</a> 
  <a id="5483" class="Symbol">→</a> <a id="5485" class="Symbol">(</a><a id="5486" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5486" class="Bound">r</a> <a id="5488" class="Symbol">:</a> <a id="5490" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5450" class="Bound">Q</a> <a id="5492" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="5494" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a><a id="5498" class="Symbol">)</a>
  <a id="5502" class="Symbol">→</a> <a id="5504" class="Symbol">(</a><a id="5505" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5505" class="Bound">p</a> <a id="5507" class="Symbol">:</a> <a id="5509" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="5511" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="5513" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#514" class="Generalizable">y</a><a id="5514" class="Symbol">)</a> 
  <a id="5519" class="Symbol">→</a> <a id="5521" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5450" class="Bound">Q</a> <a id="5523" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#514" class="Generalizable">y</a> <a id="5525" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5505" class="Bound">p</a>
<a id="5527" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a> <a id="5529" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5529" class="Bound">Q</a> <a id="5531" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5531" class="Bound">r</a> <a id="5533" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5533" class="Bound">p</a> <a id="5535" class="Symbol">=</a> <a id="5537" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1843" class="Function">transport</a> <a id="5547" class="Symbol">(</a><a id="5548" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5256" class="Function">J-line</a> <a id="5555" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5529" class="Bound">Q</a> <a id="5557" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5533" class="Bound">p</a><a id="5558" class="Symbol">)</a> <a id="5560" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5531" class="Bound">r</a>
</pre>
<p>If we think of the dependent type <code>P</code> as a property, then the
<code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a></code> rule says that to prove <code>Q y p</code> for all <code>y : A</code> and <code>p : x ≡ y</code>, it suffices to prove <code>P</code> just when <code>y</code> is <code>x</code> and the path <code>p</code>
is <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a></code>. For this reason, the <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a></code> rule is sometimes
known as “path induction” since it resembles an induction principle
like <code class="Agda"><a href="1--Type-Theory.1-5--Propositions-as-Types.html#21757" class="Function">Bool-ind</a></code> or <code class="Agda"><a href="1--Type-Theory.1-5--Propositions-as-Types.html#23635" class="Function">ℕ-ind</a></code>: proving a property of all
elements of a type by proving the property for specific cases.</p>
<p>For comparison:</p>
<ul>
<li>Induction for <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1022" class="Datatype">Bool</a></code>: To prove <code>Q b</code> for all <code>b : Bool</code>, it
suffices to prove <code>Q true</code> and <code>Q false</code>.</li>
<li>Induction for <code class="Agda"><a href="Library.Prelude.html#3629" class="Datatype">ℕ</a></code>: To prove <code>Q n</code> for all <code>n : ℕ</code>, it
suffices to prove <code>Q zero</code>, and <code>Q (suc n)</code> assuming that <code>Q n</code>.</li>
<li>Induction for <code class="Agda"><a href="Library.Prelude.html#1916" class="Function">Path</a></code>: To prove <code>Q y p</code> for all elements <code>y : A</code>
and paths <code>p : x ≡ y</code>, it suffices to prove <code>Q x refl</code>.</li>
</ul>
<p>The induction principle for <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1022" class="Datatype">Bool</a></code> includes a convenient computation
rule: if <code>f b : Q b</code> is defined by induction from <code>x : P true</code> and <code>y : Q false</code>, then if we know <code>b</code> concretely then we get back exactly
the corresponding input we used: <code>f true = x</code> and <code>f false = y</code> by
definition. We can prove a similar fact for the <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a></code> rule, but
unfortunately we only get a path, and <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a></code> doesn’t actually <em>compute</em>
to <code>r</code> when handed <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a></code>.</p>
<pre class="Agda"><a id="J-refl"></a><a id="6833" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6833" class="Function">J-refl</a> <a id="6840" class="Symbol">:</a> <a id="6842" class="Symbol">(</a><a id="6843" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6843" class="Bound">Q</a> <a id="6845" class="Symbol">:</a> <a id="6847" class="Symbol">(</a><a id="6848" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6848" class="Bound">y</a> <a id="6850" class="Symbol">:</a> <a id="6852" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a><a id="6853" class="Symbol">)</a> <a id="6855" class="Symbol">→</a> <a id="6857" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="6859" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="6861" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6848" class="Bound">y</a> <a id="6863" class="Symbol">→</a> <a id="6865" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="6870" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#478" class="Generalizable">ℓ</a><a id="6871" class="Symbol">)</a> <a id="6873" class="Symbol">(</a><a id="6874" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6874" class="Bound">r</a> <a id="6876" class="Symbol">:</a> <a id="6878" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6843" class="Bound">Q</a> <a id="6880" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="6882" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a><a id="6886" class="Symbol">)</a>
      <a id="6894" class="Symbol">→</a> <a id="6896" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a> <a id="6898" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6843" class="Bound">Q</a> <a id="6900" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6874" class="Bound">r</a> <a id="6902" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a> <a id="6907" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="6909" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6874" class="Bound">r</a>
<a id="6911" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6833" class="Function">J-refl</a> <a id="6918" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6918" class="Bound">Q</a> <a id="6920" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6920" class="Bound">r</a> <a id="6922" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6922" class="Bound">i</a> <a id="6924" class="Symbol">=</a> <a id="6926" href="Library.Prelude.html#447" class="Primitive">transport-fixing</a> <a id="6943" class="Symbol">(λ</a> <a id="6946" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6946" class="Bound">_</a> <a id="6948" class="Symbol">→</a> <a id="6950" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6918" class="Bound">Q</a> <a id="6952" class="Symbol">_</a> <a id="6954" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a><a id="6958" class="Symbol">)</a> <a id="6960" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6922" class="Bound">i</a> <a id="6962" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6920" class="Bound">r</a>
</pre>
<div class="info">
<p><span class="info-label">Aside:</span>
Right now we don’t have the tools to understand the definition of
<code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6833" class="Function">J-refl</a></code>, but when we cover <code class="Agda"><a href="" class="Primitive">transport-fixing</a></code> in Lecture 2-X, we will
recognise the above definition as exactly <code class="Agda"><a href="2--Paths-and-Identifications.2-5--Transport.html#4144" class="Function">transport-refl</a></code>.</p>
</div>
<p>The <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a></code> rule is one half of an equivalence, giving a universal
mapping property for paths.</p>
<pre class="Agda"><a id="J-ump-≃"></a><a id="7286" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7286" class="Function">J-ump-≃</a> <a id="7294" class="Symbol">:</a> <a id="7296" class="Symbol">(</a><a id="7297" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7297" class="Bound">Q</a> <a id="7299" class="Symbol">:</a> <a id="7301" class="Symbol">(</a><a id="7302" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7302" class="Bound">y</a> <a id="7304" class="Symbol">:</a> <a id="7306" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a><a id="7307" class="Symbol">)</a> <a id="7309" class="Symbol">→</a> <a id="7311" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="7313" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="7315" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7302" class="Bound">y</a> <a id="7317" class="Symbol">→</a> <a id="7319" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="7324" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#478" class="Generalizable">ℓ</a><a id="7325" class="Symbol">)</a>
  <a id="7329" class="Symbol">→</a> <a id="7331" class="Symbol">((</a><a id="7333" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7333" class="Bound">y</a> <a id="7335" class="Symbol">:</a> <a id="7337" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a><a id="7338" class="Symbol">)</a> <a id="7340" class="Symbol">→</a> <a id="7342" class="Symbol">(</a><a id="7343" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7343" class="Bound">p</a> <a id="7345" class="Symbol">:</a> <a id="7347" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="7349" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="7351" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7333" class="Bound">y</a><a id="7352" class="Symbol">)</a> <a id="7354" class="Symbol">→</a> <a id="7356" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7297" class="Bound">Q</a> <a id="7358" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7333" class="Bound">y</a> <a id="7360" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7343" class="Bound">p</a><a id="7361" class="Symbol">)</a> <a id="7363" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#6026" class="Function Operator">≃</a> <a id="7365" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7297" class="Bound">Q</a> <a id="7367" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="7369" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a>
<a id="7374" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7286" class="Function">J-ump-≃</a> <a id="7382" class="Symbol">{</a><a id="7383" class="Argument">A</a> <a id="7385" class="Symbol">=</a> <a id="7387" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7387" class="Bound">A</a><a id="7388" class="Symbol">}</a> <a id="7390" class="Symbol">{</a><a id="7391" class="Argument">x</a> <a id="7393" class="Symbol">=</a> <a id="7395" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7395" class="Bound">x</a><a id="7396" class="Symbol">}</a> <a id="7398" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7398" class="Bound">Q</a> <a id="7400" class="Symbol">=</a> <a id="7402" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#7290" class="Function">inv→equiv</a> <a id="7412" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7445" class="Function">to</a> <a id="7415" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7575" class="Function">fro</a> <a id="7419" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7715" class="Function">to-fro</a> <a id="7426" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7873" class="Function">fro-to</a>
  <a id="7435" class="Keyword">where</a>
    <a id="7445" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7445" class="Function">to</a> <a id="7448" class="Symbol">:</a> <a id="7450" class="Symbol">((</a><a id="7452" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7452" class="Bound">y</a> <a id="7454" class="Symbol">:</a> <a id="7456" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7387" class="Bound">A</a><a id="7457" class="Symbol">)</a> <a id="7459" class="Symbol">→</a> <a id="7461" class="Symbol">(</a><a id="7462" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7462" class="Bound">p</a> <a id="7464" class="Symbol">:</a> <a id="7466" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7395" class="Bound">x</a> <a id="7468" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="7470" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7452" class="Bound">y</a><a id="7471" class="Symbol">)</a> <a id="7473" class="Symbol">→</a> <a id="7475" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7398" class="Bound">Q</a> <a id="7477" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7452" class="Bound">y</a> <a id="7479" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7462" class="Bound">p</a><a id="7480" class="Symbol">)</a> <a id="7482" class="Symbol">→</a> <a id="7484" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7398" class="Bound">Q</a> <a id="7486" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7395" class="Bound">x</a> <a id="7488" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a>
<a id="7493" class="Comment">--  Exercise:</a>
<a id="7507" class="Comment">--  to f = {!!}</a>

    <a id="7575" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7575" class="Function">fro</a> <a id="7579" class="Symbol">:</a> <a id="7581" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7398" class="Bound">Q</a> <a id="7583" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7395" class="Bound">x</a> <a id="7585" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a> <a id="7590" class="Symbol">→</a> <a id="7592" class="Symbol">((</a><a id="7594" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7594" class="Bound">y</a> <a id="7596" class="Symbol">:</a> <a id="7598" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7387" class="Bound">A</a><a id="7599" class="Symbol">)</a> <a id="7601" class="Symbol">→</a> <a id="7603" class="Symbol">(</a><a id="7604" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7604" class="Bound">p</a> <a id="7606" class="Symbol">:</a> <a id="7608" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7395" class="Bound">x</a> <a id="7610" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="7612" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7594" class="Bound">y</a><a id="7613" class="Symbol">)</a> <a id="7615" class="Symbol">→</a> <a id="7617" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7398" class="Bound">Q</a> <a id="7619" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7594" class="Bound">y</a> <a id="7621" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7604" class="Bound">p</a><a id="7622" class="Symbol">)</a>
<a id="7624" class="Comment">--  Exercise:</a>
<a id="7638" class="Comment">--  fro q y p = {!!}</a>

    <a id="7715" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7715" class="Function">to-fro</a> <a id="7722" class="Symbol">:</a> <a id="7724" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#1716" class="Function">isSection</a> <a id="7734" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7445" class="Function">to</a> <a id="7737" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7575" class="Function">fro</a>
<a id="7741" class="Comment">--  Exercise: (Hint: this is an instance of `J-refl`)</a>
<a id="7795" class="Comment">--  to-fro q = {!!}</a>

    <a id="7873" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7873" class="Function">fro-to</a> <a id="7880" class="Symbol">:</a> <a id="7882" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#4019" class="Function">isRetract</a> <a id="7892" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7445" class="Function">to</a> <a id="7895" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#7575" class="Function">fro</a>
<a id="7899" class="Comment">--  Exercise: (Hint: use `J` again!)</a>
<a id="7936" class="Comment">--  fro-to f i y p = J (λ y&#39; p&#39; → fro (to f) y&#39; p&#39; ≡ f y&#39; p&#39;) ? ? ?</a>
</pre>
<p>When the type family used in <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a></code> ignores the path, then we recover
exactly the <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1180" class="Function">subst</a></code> operation that we started with.</p>
<pre class="Agda"><a id="subst-from-J"></a><a id="8252" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8252" class="Function">subst-from-J</a> <a id="8265" class="Symbol">:</a> <a id="8267" class="Symbol">(</a><a id="8268" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8268" class="Bound">B</a> <a id="8270" class="Symbol">:</a> <a id="8272" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a> <a id="8274" class="Symbol">→</a> <a id="8276" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="8281" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#478" class="Generalizable">ℓ</a><a id="8282" class="Symbol">)</a> <a id="8284" class="Symbol">→</a> <a id="8286" class="Symbol">(</a><a id="8287" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8287" class="Bound">p</a> <a id="8289" class="Symbol">:</a> <a id="8291" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="8293" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="8295" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#514" class="Generalizable">y</a><a id="8296" class="Symbol">)</a> <a id="8298" class="Symbol">→</a> <a id="8300" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8268" class="Bound">B</a> <a id="8302" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="8304" class="Symbol">→</a> <a id="8306" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8268" class="Bound">B</a> <a id="8308" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#514" class="Generalizable">y</a>
<a id="8310" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8252" class="Function">subst-from-J</a> <a id="8323" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8323" class="Bound">B</a> <a id="8325" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8325" class="Bound">p</a> <a id="8327" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8327" class="Bound">b</a> <a id="8329" class="Symbol">=</a> <a id="8331" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a> <a id="8333" class="Symbol">(λ</a> <a id="8336" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8336" class="Bound">y</a> <a id="8338" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8338" class="Bound">_</a> <a id="8340" class="Symbol">→</a> <a id="8342" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8323" class="Bound">B</a> <a id="8344" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8336" class="Bound">y</a><a id="8345" class="Symbol">)</a> <a id="8347" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8327" class="Bound">b</a> <a id="8349" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8325" class="Bound">p</a>

<a id="8352" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8352" class="Function">_</a> <a id="8354" class="Symbol">=</a> <a id="8356" class="Symbol">λ</a> <a id="8358" class="Symbol">{</a><a id="8359" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8359" class="Bound">ℓ</a> <a id="8361" class="Symbol">:</a> <a id="8363" href="Library.Primitive.html#1060" class="Postulate">Level</a><a id="8368" class="Symbol">}</a> <a id="8370" class="Symbol">(</a><a id="8371" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8371" class="Bound">A</a> <a id="8373" class="Symbol">:</a> <a id="8375" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="8380" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8359" class="Bound">ℓ</a><a id="8381" class="Symbol">)</a> <a id="8383" class="Symbol">(</a><a id="8384" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8384" class="Bound">B</a> <a id="8386" class="Symbol">:</a> <a id="8388" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8371" class="Bound">A</a> <a id="8390" class="Symbol">→</a> <a id="8392" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="8397" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8359" class="Bound">ℓ</a><a id="8398" class="Symbol">)</a> <a id="8400" class="Symbol">(</a><a id="8401" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8401" class="Bound">x</a> <a id="8403" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8403" class="Bound">y</a> <a id="8405" class="Symbol">:</a> <a id="8407" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8371" class="Bound">A</a><a id="8408" class="Symbol">)</a> <a id="8410" class="Symbol">(</a><a id="8411" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8411" class="Bound">p</a> <a id="8413" class="Symbol">:</a> <a id="8415" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8401" class="Bound">x</a> <a id="8417" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="8419" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8403" class="Bound">y</a><a id="8420" class="Symbol">)</a> 
  <a id="8425" class="Symbol">→</a> <a id="8427" href="Library.Prelude.html#2894" class="InductiveConstructor">test-identical</a> <a id="8442" class="Symbol">(</a><a id="8443" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8252" class="Function">subst-from-J</a> <a id="8456" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8384" class="Bound">B</a> <a id="8458" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8411" class="Bound">p</a><a id="8459" class="Symbol">)</a> <a id="8461" class="Symbol">(</a><a id="8462" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1180" class="Function">subst</a> <a id="8468" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8384" class="Bound">B</a> <a id="8470" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8411" class="Bound">p</a><a id="8471" class="Symbol">)</a>
</pre>
<p>There’s a very subtle point here that is worth mentioning. In the
above definition, we used <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a></code> to define an element of <code>B y</code> given
that we already had an element <code>b : B x</code>. But we could also have used
<code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a></code> to define the function <code>B x → B y</code> in its entirety.</p>
<pre class="Agda"><a id="subst-from-J&#39;"></a><a id="8745" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8745" class="Function">subst-from-J&#39;</a> <a id="8759" class="Symbol">:</a> <a id="8761" class="Symbol">(</a><a id="8762" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8762" class="Bound">B</a> <a id="8764" class="Symbol">:</a> <a id="8766" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a> <a id="8768" class="Symbol">→</a> <a id="8770" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="8775" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#478" class="Generalizable">ℓ</a><a id="8776" class="Symbol">)</a> <a id="8778" class="Symbol">→</a> <a id="8780" class="Symbol">(</a><a id="8781" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8781" class="Bound">p</a> <a id="8783" class="Symbol">:</a> <a id="8785" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="8787" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="8789" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#514" class="Generalizable">y</a><a id="8790" class="Symbol">)</a> <a id="8792" class="Symbol">→</a> <a id="8794" class="Symbol">(</a><a id="8795" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8762" class="Bound">B</a> <a id="8797" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#512" class="Generalizable">x</a> <a id="8799" class="Symbol">→</a> <a id="8801" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8762" class="Bound">B</a> <a id="8803" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#514" class="Generalizable">y</a><a id="8804" class="Symbol">)</a>
<a id="8806" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8745" class="Function">subst-from-J&#39;</a> <a id="8820" class="Symbol">{</a><a id="8821" class="Argument">x</a> <a id="8823" class="Symbol">=</a> <a id="8825" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8825" class="Bound">x</a><a id="8826" class="Symbol">}</a> <a id="8828" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8828" class="Bound">B</a> <a id="8830" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8830" class="Bound">p</a> <a id="8832" class="Symbol">=</a> <a id="8834" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a> <a id="8836" class="Symbol">(λ</a> <a id="8839" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8839" class="Bound">y</a> <a id="8841" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8841" class="Bound">p</a> <a id="8843" class="Symbol">→</a> <a id="8845" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8828" class="Bound">B</a> <a id="8847" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8825" class="Bound">x</a> <a id="8849" class="Symbol">→</a> <a id="8851" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8828" class="Bound">B</a> <a id="8853" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8839" class="Bound">y</a><a id="8854" class="Symbol">)</a> <a id="8856" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#2180" class="Function">idfun</a> <a id="8862" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8830" class="Bound">p</a>
</pre>
<p>Why does this work? Well, we have to produce a function <code>B x → B y</code>
when <code>y</code> is in fact the same as <code>x</code>, but this is easy: we have
<code class="Agda"><a href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#2180" class="Function">idfun</a></code>. This <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#8745" class="Function">subst-from-J’</a></code> is no longer <em>exactly</em> the same as
<code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1180" class="Function">subst</a></code>, but we can still prove them to be the same using <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a></code> and
<code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6833" class="Function">J-refl</a></code>.</p>
<h2 id="applications-of-j"><a class="header" href="#applications-of-j">Applications of J</a></h2>
<p>The <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a></code> principle is exceptionally powerful, much more powerful than
it might appear. In fact, in the bare Martin-Löf theory on which
Cubical Type Theory is based, the <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a></code> rule is taken as one of the
defining properties of equality.</p>
<pre class="Agda"><a id="sym-from-J"></a><a id="9417" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9417" class="Function">sym-from-J</a> <a id="9428" class="Symbol">:</a> <a id="9430" class="Symbol">{</a><a id="9431" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9431" class="Bound">x</a> <a id="9433" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9433" class="Bound">y</a> <a id="9435" class="Symbol">:</a> <a id="9437" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a><a id="9438" class="Symbol">}</a> <a id="9440" class="Symbol">→</a> <a id="9442" class="Symbol">(</a><a id="9443" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9431" class="Bound">x</a> <a id="9445" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="9447" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9433" class="Bound">y</a><a id="9448" class="Symbol">)</a> <a id="9450" class="Symbol">→</a> <a id="9452" class="Symbol">(</a><a id="9453" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9433" class="Bound">y</a> <a id="9455" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="9457" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9431" class="Bound">x</a><a id="9458" class="Symbol">)</a>
<a id="9460" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9417" class="Function">sym-from-J</a> <a id="9471" class="Symbol">{</a><a id="9472" class="Argument">x</a> <a id="9474" class="Symbol">=</a> <a id="9476" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9476" class="Bound">x</a><a id="9477" class="Symbol">}</a> <a id="9479" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9479" class="Bound">p</a> <a id="9481" class="Symbol">=</a> <a id="9483" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a> <a id="9485" class="Symbol">(λ</a> <a id="9488" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9488" class="Bound">z</a> <a id="9490" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9490" class="Bound">_</a> <a id="9492" class="Symbol">→</a> <a id="9494" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9488" class="Bound">z</a> <a id="9496" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="9498" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9476" class="Bound">x</a><a id="9499" class="Symbol">)</a> <a id="9501" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a> <a id="9506" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9479" class="Bound">p</a>
</pre>
<div class="warning">
<p><span class="warning-label">Caution:</span>
This is a perfectly valid way to define symmetry, but <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9417" class="Function">sym-from-J</a></code>
is not identical to the symmetry function we have already:</p>
<pre class="Agda"><a id="9659" class="Comment">-- Fails!</a>
<a id="9669" class="Comment">-- _ = λ {A : Type} {x y : A} (p : x ≡ y)</a>
<a id="9711" class="Comment">--   → test-identical (sym-from-J p) (sym p)</a>
</pre>
</div>
<p>Try reconstructing <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#17691" class="Function">ap</a></code> using <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a></code>:</p>
<pre class="Agda"><a id="ap-from-J"></a><a id="9809" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9809" class="Function">ap-from-J</a> <a id="9819" class="Symbol">:</a> <a id="9821" class="Symbol">(</a><a id="9822" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9822" class="Bound">f</a> <a id="9824" class="Symbol">:</a> <a id="9826" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a> <a id="9828" class="Symbol">→</a> <a id="9830" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#497" class="Generalizable">B</a><a id="9831" class="Symbol">)</a> <a id="9833" class="Symbol">→</a> <a id="9835" class="Symbol">{</a><a id="9836" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9836" class="Bound">x</a> <a id="9838" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9838" class="Bound">y</a> <a id="9840" class="Symbol">:</a> <a id="9842" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a><a id="9843" class="Symbol">}</a> <a id="9845" class="Symbol">→</a> <a id="9847" class="Symbol">(</a><a id="9848" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9836" class="Bound">x</a> <a id="9850" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="9852" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9838" class="Bound">y</a><a id="9853" class="Symbol">)</a> <a id="9855" class="Symbol">→</a> <a id="9857" class="Symbol">(</a><a id="9858" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9822" class="Bound">f</a> <a id="9860" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9836" class="Bound">x</a> <a id="9862" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="9864" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9822" class="Bound">f</a> <a id="9866" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9838" class="Bound">y</a><a id="9867" class="Symbol">)</a>
<a id="9869" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9809" class="Function">ap-from-J</a> <a id="9879" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9879" class="Bound">f</a> <a id="9881" class="Symbol">{</a><a id="9882" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9882" class="Bound">x</a><a id="9883" class="Symbol">}</a> <a id="9885" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9885" class="Bound">p</a> <a id="9887" class="Symbol">=</a> <a id="9889" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a> <a id="9891" class="Symbol">(λ</a> <a id="9894" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9894" class="Bound">z</a> <a id="9896" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9896" class="Bound">_</a> <a id="9898" class="Symbol">→</a> <a id="9900" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9879" class="Bound">f</a> <a id="9902" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9882" class="Bound">x</a> <a id="9904" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="9906" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9879" class="Bound">f</a> <a id="9908" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9894" class="Bound">z</a><a id="9909" class="Symbol">)</a> <a id="9911" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a> <a id="9916" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9885" class="Bound">p</a>
</pre>
<p>More interestingly, we can also get operations we haven’t encountered
yet:</p>
<pre class="Agda"><a id="comp-from-J"></a><a id="10003" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10003" class="Function">comp-from-J</a> <a id="10015" class="Symbol">:</a> <a id="10017" class="Symbol">{</a><a id="10018" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10018" class="Bound">x</a> <a id="10020" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10020" class="Bound">y</a> <a id="10022" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10022" class="Bound">z</a> <a id="10024" class="Symbol">:</a> <a id="10026" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a><a id="10027" class="Symbol">}</a> <a id="10029" class="Symbol">→</a> <a id="10031" class="Symbol">(</a><a id="10032" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10018" class="Bound">x</a> <a id="10034" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="10036" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10020" class="Bound">y</a><a id="10037" class="Symbol">)</a> <a id="10039" class="Symbol">→</a> <a id="10041" class="Symbol">(</a><a id="10042" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10020" class="Bound">y</a> <a id="10044" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="10046" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10022" class="Bound">z</a><a id="10047" class="Symbol">)</a> <a id="10049" class="Symbol">→</a> <a id="10051" class="Symbol">(</a><a id="10052" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10018" class="Bound">x</a> <a id="10054" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="10056" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10022" class="Bound">z</a><a id="10057" class="Symbol">)</a>
<a id="10059" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10003" class="Function">comp-from-J</a> <a id="10071" class="Symbol">{</a><a id="10072" class="Argument">x</a> <a id="10074" class="Symbol">=</a> <a id="10076" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10076" class="Bound">x</a><a id="10077" class="Symbol">}</a> <a id="10079" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10079" class="Bound">p</a> <a id="10081" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10081" class="Bound">q</a> <a id="10083" class="Symbol">=</a> <a id="10085" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a> <a id="10087" class="Symbol">(λ</a> <a id="10090" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10090" class="Bound">z</a> <a id="10092" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10092" class="Bound">_</a> <a id="10094" class="Symbol">→</a> <a id="10096" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10076" class="Bound">x</a> <a id="10098" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="10100" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10090" class="Bound">z</a><a id="10101" class="Symbol">)</a> <a id="10103" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10079" class="Bound">p</a> <a id="10105" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10081" class="Bound">q</a>
</pre>
<p>In these examples, we haven’t yet used the path parameter of the type
family <code>Q</code>. This often comes up when proving properties of
constructions that have themselves involved <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a></code>.</p>
<pre class="Agda"><a id="sym-inv-from-J"></a><a id="10297" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10297" class="Function">sym-inv-from-J</a> <a id="10312" class="Symbol">:</a> <a id="10314" class="Symbol">{</a><a id="10315" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10315" class="Bound">x</a> <a id="10317" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10317" class="Bound">y</a> <a id="10319" class="Symbol">:</a> <a id="10321" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a><a id="10322" class="Symbol">}</a> <a id="10324" class="Symbol">→</a> <a id="10326" class="Symbol">(</a><a id="10327" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10327" class="Bound">p</a> <a id="10329" class="Symbol">:</a> <a id="10331" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10315" class="Bound">x</a> <a id="10333" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="10335" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10317" class="Bound">y</a><a id="10336" class="Symbol">)</a> <a id="10338" class="Symbol">→</a> <a id="10340" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9417" class="Function">sym-from-J</a> <a id="10351" class="Symbol">(</a><a id="10352" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9417" class="Function">sym-from-J</a> <a id="10363" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10327" class="Bound">p</a><a id="10364" class="Symbol">)</a> <a id="10366" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="10368" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10327" class="Bound">p</a>
<a id="10370" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10297" class="Function">sym-inv-from-J</a> <a id="10385" class="Symbol">{</a><a id="10386" class="Argument">x</a> <a id="10388" class="Symbol">=</a> <a id="10390" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10390" class="Bound">x</a><a id="10391" class="Symbol">}</a> <a id="10393" class="Symbol">{</a><a id="10394" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10394" class="Bound">y</a><a id="10395" class="Symbol">}</a> <a id="10397" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10397" class="Bound">p</a> 
  <a id="10402" class="Symbol">=</a> <a id="10404" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a> <a id="10406" class="Symbol">(λ</a> <a id="10409" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10409" class="Bound">z</a> <a id="10411" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10411" class="Bound">q</a> <a id="10413" class="Symbol">→</a> <a id="10415" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9417" class="Function">sym-from-J</a> <a id="10426" class="Symbol">(</a><a id="10427" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9417" class="Function">sym-from-J</a> <a id="10438" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10411" class="Bound">q</a><a id="10439" class="Symbol">)</a> <a id="10441" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="10443" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10411" class="Bound">q</a><a id="10444" class="Symbol">)</a> <a id="10446" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10471" class="Function">refl-case</a> <a id="10456" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10397" class="Bound">p</a>
  <a id="10460" class="Keyword">where</a> 
    <a id="10471" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10471" class="Function">refl-case</a> <a id="10481" class="Symbol">:</a> <a id="10483" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9417" class="Function">sym-from-J</a> <a id="10494" class="Symbol">(</a><a id="10495" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9417" class="Function">sym-from-J</a> <a id="10506" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a><a id="10510" class="Symbol">)</a> <a id="10512" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="10514" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a>
    <a id="10523" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10471" class="Function">refl-case</a> <a id="10533" class="Symbol">=</a> <a id="10535" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10003" class="Function">comp-from-J</a> <a id="10547" class="Symbol">(</a><a id="10548" href="2--Paths-and-Identifications.2-1--Paths.html#17691" class="Function">ap</a> <a id="10551" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#9417" class="Function">sym-from-J</a> <a id="10562" class="Symbol">(</a><a id="10563" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6833" class="Function">J-refl</a> <a id="10570" class="Symbol">(λ</a> <a id="10573" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10573" class="Bound">z</a> <a id="10575" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10575" class="Bound">_</a> <a id="10577" class="Symbol">→</a> <a id="10579" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10573" class="Bound">z</a> <a id="10581" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="10583" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10390" class="Bound">x</a><a id="10584" class="Symbol">)</a> <a id="10586" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a><a id="10590" class="Symbol">))</a> 
                            <a id="10622" class="Symbol">(</a><a id="10623" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#6833" class="Function">J-refl</a> <a id="10630" class="Symbol">(λ</a> <a id="10633" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10633" class="Bound">z</a> <a id="10635" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10635" class="Bound">_</a> <a id="10637" class="Symbol">→</a> <a id="10639" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10633" class="Bound">z</a> <a id="10641" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="10643" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10390" class="Bound">x</a><a id="10644" class="Symbol">)</a> <a id="10646" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a><a id="10650" class="Symbol">)</a>
</pre>
<p>mvrnote: rewrite the following to not use composition of equivalences,
or delete</p>
<pre class="Agda"><a id="10743" class="Comment">-- funexthalf-≃ : {A : Type ℓ} {B : I → Type ℓ&#39;}</a>
<a id="10792" class="Comment">--   {f : A → B i0} {g : A → B i1}</a>
<a id="10827" class="Comment">--   → ((x₀ : A) (x₁ : A) → Path A x₀ x₁ → PathP B (f x₀) (g x₁))</a>
<a id="10893" class="Comment">--   ≃ PathP (λ i → A → B i) f g</a>
<a id="10926" class="Comment">-- funexthalf-≃ {A = A} {B = B} {f = f} {g = g} =</a>
<a id="10976" class="Comment">--   ((x₀ x₁ : A) → Path A x₀ x₁ → PathP B (f x₀) (g x₁))</a>
<a id="11034" class="Comment">--   ≃⟨ Π-map-cod≃ (λ x₀ → J-ump-≃ (λ y _ → PathP B (f x₀) (g y))) ⟩</a>
<a id="11103" class="Comment">--   ((x : A) → PathP B (f x) (g x))</a>
<a id="11140" class="Comment">--   ≃⟨ funextP-≃ ⟩</a>
<a id="11160" class="Comment">--   PathP (λ i → A → B i) f g ∎e</a>

<a id="11195" class="Comment">-- funextP-ump-≃ : {A : I → Type ℓ} {B : I → Type ℓ&#39;}</a>
<a id="11249" class="Comment">--   {f : A i0 → B i0} {g : A i1 → B i1}</a>
<a id="11290" class="Comment">--   → ((x₀ : A i0) (x₁ : A i1) → PathP A x₀ x₁ → PathP B (f x₀) (g x₁))</a>
<a id="11363" class="Comment">--   ≃ PathP (λ i → A i → B i) f g</a>
<a id="11398" class="Comment">-- funextP-ump-≃ {A = A} {B = B} {f = f} {g = g} =</a>
<a id="11449" class="Comment">--   J</a>
<a id="11456" class="Comment">--   (λ A1 A → {f : A i0 → B i0} {g : A i1 → B i1}</a>
<a id="11507" class="Comment">--   → ((x₀ : A i0) (x₁ : A i1) → PathP (λ i → A i) x₀ x₁ → PathP B (f x₀) (g x₁))</a>
<a id="11590" class="Comment">--   ≃ PathP (λ i → A i → B i) f g)</a>
<a id="11626" class="Comment">--   funexthalf-≃ (λ i → A i)</a>
</pre>
<p>As we’ve said, it is possible to continue down this road and do all of
Homotopy Type Theory relying solely on the <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a></code>-rule. But working in
the cubical style has significant advantages: far more equations hold
automatically rather than having to be proved by hand. We’ve just seen
an example of this: in <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#10297" class="Function">sym-inv-from-J</a></code> we’ve had to do a lot more
work to show what in <code class="Agda"><a href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#24866" class="Function">symP-inv</a></code> was immediate. In the next Lecture
we’ll see the more cubical approach to composition of paths, and
similar operations.</p>
<h2 id="paths-in-bool"><a class="header" href="#paths-in-bool">Paths in Bool</a></h2>
<p>One lingering question is what we get if we look at paths in the
inductive types we have seen so far (<code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#8971" class="Datatype">⊤</a></code>, <code class="Agda"><a href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6308" class="Datatype">∅</a></code>, <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1022" class="Datatype">Bool</a></code>, <code class="Agda"><a href="Library.Prelude.html#3629" class="Datatype">ℕ</a></code> and
<code class="Agda"><a href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8265" class="Datatype">⊎</a></code>). There is a general way these constructions go for inductive
types known as the “encode-decode” method, which is due to Dan Licata.</p>
<p>Let’s take <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1022" class="Datatype">Bool</a></code> as our first example. We already have a candidate
for what paths in <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1022" class="Datatype">Bool</a></code> should be, that is, <code class="Agda"><a href="1--Type-Theory.1-5--Propositions-as-Types.html#13214" class="Function">≡Bool</a></code>. We’ll call
this type the <code>code</code> for paths in <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1022" class="Datatype">Bool</a></code>. Our plan is to show that
the type <code>x ≡ y</code> is equivalent to <code>code x y</code> by giving explicit
encoding and decoding functions.</p>
<pre class="Agda"><a id="≡≃≡Bool"></a><a id="12772" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12772" class="Function">≡≃≡Bool</a> <a id="12780" class="Symbol">:</a> <a id="12782" class="Symbol">(</a><a id="12783" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12783" class="Bound">x</a> <a id="12785" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12785" class="Bound">y</a> <a id="12787" class="Symbol">:</a> <a id="12789" href="1--Type-Theory.1-2--Inductive-Types.html#1022" class="Datatype">Bool</a><a id="12793" class="Symbol">)</a> <a id="12795" class="Symbol">→</a> <a id="12797" class="Symbol">(</a><a id="12798" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12783" class="Bound">x</a> <a id="12800" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="12802" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12785" class="Bound">y</a><a id="12803" class="Symbol">)</a> <a id="12805" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#6026" class="Function Operator">≃</a> <a id="12807" class="Symbol">(</a><a id="12808" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12783" class="Bound">x</a> <a id="12810" href="1--Type-Theory.1-5--Propositions-as-Types.html#13214" class="Function Operator">≡Bool</a> <a id="12816" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12785" class="Bound">y</a><a id="12817" class="Symbol">)</a>
<a id="12819" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12772" class="Function">≡≃≡Bool</a> <a id="12827" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12827" class="Bound">x</a> <a id="12829" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12829" class="Bound">y</a> <a id="12831" class="Symbol">=</a> <a id="12833" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#7290" class="Function">inv→equiv</a> <a id="12843" class="Symbol">(</a><a id="12844" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13568" class="Function">encode</a> <a id="12851" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12827" class="Bound">x</a> <a id="12853" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12829" class="Bound">y</a><a id="12854" class="Symbol">)</a> <a id="12856" class="Symbol">(</a><a id="12857" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14038" class="Function">decode</a> <a id="12864" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12827" class="Bound">x</a> <a id="12866" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12829" class="Bound">y</a><a id="12867" class="Symbol">)</a> <a id="12869" class="Symbol">(</a><a id="12870" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14296" class="Function">to-fro</a> <a id="12877" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12827" class="Bound">x</a> <a id="12879" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12829" class="Bound">y</a><a id="12880" class="Symbol">)</a> <a id="12882" class="Symbol">(</a><a id="12883" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14969" class="Function">fro-to</a> <a id="12890" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12827" class="Bound">x</a> <a id="12892" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12829" class="Bound">y</a><a id="12893" class="Symbol">)</a>
  <a id="12897" class="Keyword">where</a>
    <a id="12907" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12907" class="Function">code</a> <a id="12912" class="Symbol">:</a> <a id="12914" href="1--Type-Theory.1-2--Inductive-Types.html#1022" class="Datatype">Bool</a> <a id="12919" class="Symbol">→</a> <a id="12921" href="1--Type-Theory.1-2--Inductive-Types.html#1022" class="Datatype">Bool</a> <a id="12926" class="Symbol">→</a> <a id="12928" href="Library.Primitive.html#422" class="Primitive">Type</a>
    <a id="12937" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12907" class="Function">code</a> <a id="12942" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12942" class="Bound">x</a> <a id="12944" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12944" class="Bound">y</a> <a id="12946" class="Symbol">=</a> <a id="12948" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12942" class="Bound">x</a> <a id="12950" href="1--Type-Theory.1-5--Propositions-as-Types.html#13214" class="Function Operator">≡Bool</a> <a id="12956" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12944" class="Bound">y</a>
</pre>
<p>We need an <code>encode</code> function that takes paths in <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1022" class="Datatype">Bool</a></code> to codes, in
this case, elements of <code class="Agda"><a href="1--Type-Theory.1-5--Propositions-as-Types.html#13214" class="Function">≡Bool</a></code>. It is easy to come up with codes
that should correspond to the reflexivity paths:</p>
<pre class="Agda">    <a id="13159" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13159" class="Function">encode-refl</a> <a id="13171" class="Symbol">:</a> <a id="13173" class="Symbol">(</a><a id="13174" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13174" class="Bound">x</a> <a id="13176" class="Symbol">:</a> <a id="13178" href="1--Type-Theory.1-2--Inductive-Types.html#1022" class="Datatype">Bool</a><a id="13182" class="Symbol">)</a> <a id="13184" class="Symbol">→</a> <a id="13186" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12907" class="Function">code</a> <a id="13191" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13174" class="Bound">x</a> <a id="13193" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13174" class="Bound">x</a>
    <a id="13199" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13159" class="Function">encode-refl</a> <a id="13211" href="1--Type-Theory.1-2--Inductive-Types.html#1042" class="InductiveConstructor">true</a> <a id="13216" class="Symbol">=</a> <a id="13218" href="1--Type-Theory.1-2--Inductive-Types.html#8988" class="InductiveConstructor">tt</a>
    <a id="13225" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13159" class="Function">encode-refl</a> <a id="13237" href="1--Type-Theory.1-2--Inductive-Types.html#1057" class="InductiveConstructor">false</a> <a id="13243" class="Symbol">=</a> <a id="13245" href="1--Type-Theory.1-2--Inductive-Types.html#8988" class="InductiveConstructor">tt</a>
</pre>
<p>It’s not strange that <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1057" class="InductiveConstructor">false</a></code> is sent to <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#8988" class="InductiveConstructor">tt</a></code>: remember
that <code>encode-refl false</code> is supposed to encode the fact that <code>false ≡ false</code>, and this is certainly true!</p>
<p>And now the <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a></code> rule allows us to extend this to all
paths. Specifically, we use <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a></code> for the type family <code>code x : (y : Bool) → Type</code>.</p>
<pre class="Agda">    <a id="13568" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13568" class="Function">encode</a> <a id="13575" class="Symbol">:</a> <a id="13577" class="Symbol">(</a><a id="13578" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13578" class="Bound">x</a> <a id="13580" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13580" class="Bound">y</a> <a id="13582" class="Symbol">:</a> <a id="13584" href="1--Type-Theory.1-2--Inductive-Types.html#1022" class="Datatype">Bool</a><a id="13588" class="Symbol">)</a> <a id="13590" class="Symbol">→</a> <a id="13592" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13578" class="Bound">x</a> <a id="13594" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="13596" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13580" class="Bound">y</a> <a id="13598" class="Symbol">→</a> <a id="13600" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12907" class="Function">code</a> <a id="13605" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13578" class="Bound">x</a> <a id="13607" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13580" class="Bound">y</a>
    <a id="13613" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13568" class="Function">encode</a> <a id="13620" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13620" class="Bound">x</a> <a id="13622" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13622" class="Bound">y</a> <a id="13624" class="Symbol">=</a> <a id="13626" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a> <a id="13628" class="Symbol">(λ</a> <a id="13631" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13631" class="Bound">z</a> <a id="13633" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13633" class="Bound">_</a> <a id="13635" class="Symbol">→</a> <a id="13637" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12907" class="Function">code</a> <a id="13642" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13620" class="Bound">x</a> <a id="13644" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13631" class="Bound">z</a><a id="13645" class="Symbol">)</a> <a id="13647" class="Symbol">(</a><a id="13648" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13159" class="Function">encode-refl</a> <a id="13660" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13620" class="Bound">x</a><a id="13661" class="Symbol">)</a>
</pre>
<p>Similarly, we need a <code class="Agda"><a href="2--Paths-and-Identifications.2-6--Univalence.html#22372" class="Function">decode</a></code> function that turns codes back
into ordinary paths. Looking at <code>x ≡Bool y</code>, once we split <code>x</code> and <code>y</code>
into cases we know exactly the type is and can act accordingly. Either
the endpoints are the same, in which case we have <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a></code>, or
the endpoints are different, in which case <code>x ≡Bool y</code> is <code class="Agda"><a href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6308" class="Datatype">∅</a></code>
and we have a contradiction.</p>
<pre class="Agda">    <a id="14038" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14038" class="Function">decode</a> <a id="14045" class="Symbol">:</a> <a id="14047" class="Symbol">(</a><a id="14048" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14048" class="Bound">x</a> <a id="14050" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14050" class="Bound">y</a> <a id="14052" class="Symbol">:</a> <a id="14054" href="1--Type-Theory.1-2--Inductive-Types.html#1022" class="Datatype">Bool</a><a id="14058" class="Symbol">)</a> <a id="14060" class="Symbol">→</a> <a id="14062" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#12907" class="Function">code</a> <a id="14067" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14048" class="Bound">x</a> <a id="14069" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14050" class="Bound">y</a> <a id="14071" class="Symbol">→</a> <a id="14073" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14048" class="Bound">x</a> <a id="14075" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="14077" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14050" class="Bound">y</a>
    <a id="14083" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14038" class="Function">decode</a> <a id="14090" href="1--Type-Theory.1-2--Inductive-Types.html#1042" class="InductiveConstructor">true</a> <a id="14095" href="1--Type-Theory.1-2--Inductive-Types.html#1042" class="InductiveConstructor">true</a> <a id="14100" class="Symbol">_</a> <a id="14102" class="Symbol">=</a> <a id="14104" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a>
    <a id="14113" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14038" class="Function">decode</a> <a id="14120" href="1--Type-Theory.1-2--Inductive-Types.html#1042" class="InductiveConstructor">true</a> <a id="14125" href="1--Type-Theory.1-2--Inductive-Types.html#1057" class="InductiveConstructor">false</a> <a id="14131" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14131" class="Bound">e</a> <a id="14133" class="Symbol">=</a> <a id="14135" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6971" class="Function">∅-rec</a> <a id="14141" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14131" class="Bound">e</a>
    <a id="14147" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14038" class="Function">decode</a> <a id="14154" href="1--Type-Theory.1-2--Inductive-Types.html#1057" class="InductiveConstructor">false</a> <a id="14160" href="1--Type-Theory.1-2--Inductive-Types.html#1042" class="InductiveConstructor">true</a> <a id="14165" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14165" class="Bound">e</a> <a id="14167" class="Symbol">=</a> <a id="14169" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6971" class="Function">∅-rec</a> <a id="14175" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14165" class="Bound">e</a>
    <a id="14181" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14038" class="Function">decode</a> <a id="14188" href="1--Type-Theory.1-2--Inductive-Types.html#1057" class="InductiveConstructor">false</a> <a id="14194" href="1--Type-Theory.1-2--Inductive-Types.html#1057" class="InductiveConstructor">false</a> <a id="14200" class="Symbol">_</a> <a id="14202" class="Symbol">=</a> <a id="14204" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a>
</pre>
<p>That this is a section is similar, after splitting into cases it’s
easy:</p>
<pre class="Agda">    <a id="14296" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14296" class="Function">to-fro</a> <a id="14303" class="Symbol">:</a> <a id="14305" class="Symbol">(</a><a id="14306" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14306" class="Bound">x</a> <a id="14308" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14308" class="Bound">y</a> <a id="14310" class="Symbol">:</a> <a id="14312" href="1--Type-Theory.1-2--Inductive-Types.html#1022" class="Datatype">Bool</a><a id="14316" class="Symbol">)</a> <a id="14318" class="Symbol">→</a> <a id="14320" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#1716" class="Function">isSection</a> <a id="14330" class="Symbol">(</a><a id="14331" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13568" class="Function">encode</a> <a id="14338" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14306" class="Bound">x</a> <a id="14340" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14308" class="Bound">y</a><a id="14341" class="Symbol">)</a> <a id="14343" class="Symbol">(</a><a id="14344" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14038" class="Function">decode</a> <a id="14351" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14306" class="Bound">x</a> <a id="14353" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14308" class="Bound">y</a><a id="14354" class="Symbol">)</a>
    <a id="14360" class="Comment">-- Exercise:</a>
    <a id="14377" class="Comment">-- to-fro x y p = {!!}</a>
</pre>
<p>For the retract, we plan to use <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a></code> again, so we just have to check
the retract property for <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a></code>.</p>
<pre class="Agda">    <a id="14759" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14759" class="Function">fro-to-refl</a> <a id="14771" class="Symbol">:</a> <a id="14773" class="Symbol">(</a><a id="14774" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14774" class="Bound">x</a> <a id="14776" class="Symbol">:</a> <a id="14778" href="1--Type-Theory.1-2--Inductive-Types.html#1022" class="Datatype">Bool</a><a id="14782" class="Symbol">)</a> <a id="14784" class="Symbol">→</a> <a id="14786" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14038" class="Function">decode</a> <a id="14793" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14774" class="Bound">x</a> <a id="14795" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14774" class="Bound">x</a> <a id="14797" class="Symbol">(</a><a id="14798" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13568" class="Function">encode</a> <a id="14805" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14774" class="Bound">x</a> <a id="14807" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14774" class="Bound">x</a> <a id="14809" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a><a id="14813" class="Symbol">)</a> <a id="14815" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="14817" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a>
    <a id="14826" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14759" class="Function">fro-to-refl</a> <a id="14838" href="1--Type-Theory.1-2--Inductive-Types.html#1042" class="InductiveConstructor">true</a> <a id="14843" class="Symbol">=</a> <a id="14845" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a>
    <a id="14854" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14759" class="Function">fro-to-refl</a> <a id="14866" href="1--Type-Theory.1-2--Inductive-Types.html#1057" class="InductiveConstructor">false</a> <a id="14872" class="Symbol">=</a> <a id="14874" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a>
</pre>
<p>And the <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a></code> rule is exactly what is required to extend this to
all paths.</p>
<pre class="Agda">    <a id="14969" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14969" class="Function">fro-to</a> <a id="14976" class="Symbol">:</a> <a id="14978" class="Symbol">(</a><a id="14979" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14979" class="Bound">x</a> <a id="14981" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14981" class="Bound">y</a> <a id="14983" class="Symbol">:</a> <a id="14985" href="1--Type-Theory.1-2--Inductive-Types.html#1022" class="Datatype">Bool</a><a id="14989" class="Symbol">)</a> <a id="14991" class="Symbol">→</a> <a id="14993" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#4019" class="Function">isRetract</a> <a id="15003" class="Symbol">(</a><a id="15004" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13568" class="Function">encode</a> <a id="15011" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14979" class="Bound">x</a> <a id="15013" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14981" class="Bound">y</a><a id="15014" class="Symbol">)</a> <a id="15016" class="Symbol">(</a><a id="15017" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14038" class="Function">decode</a> <a id="15024" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14979" class="Bound">x</a> <a id="15026" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14981" class="Bound">y</a><a id="15027" class="Symbol">)</a> 
    <a id="15034" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14969" class="Function">fro-to</a> <a id="15041" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15041" class="Bound">x</a> <a id="15043" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15043" class="Bound">y</a> <a id="15045" class="Symbol">=</a> <a id="15047" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a> <a id="15049" class="Symbol">(λ</a> <a id="15052" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15052" class="Bound">z</a> <a id="15054" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15054" class="Bound">p</a> <a id="15056" class="Symbol">→</a> <a id="15058" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14038" class="Function">decode</a> <a id="15065" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15041" class="Bound">x</a> <a id="15067" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15052" class="Bound">z</a> <a id="15069" class="Symbol">(</a><a id="15070" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13568" class="Function">encode</a> <a id="15077" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15041" class="Bound">x</a> <a id="15079" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15052" class="Bound">z</a> <a id="15081" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15054" class="Bound">p</a><a id="15082" class="Symbol">)</a> <a id="15084" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="15086" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15054" class="Bound">p</a><a id="15087" class="Symbol">)</a> <a id="15089" class="Symbol">(</a><a id="15090" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#14759" class="Function">fro-to-refl</a> <a id="15102" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15041" class="Bound">x</a><a id="15103" class="Symbol">)</a>
</pre>
<p>This completes the equivalence!</p>
<h2 id="the-encode-decode-method"><a class="header" href="#the-encode-decode-method">The Encode-Decode Method</a></h2>
<p>These encode-decode proofs all have a similar shape. Let’s summarise
what we did, noting what was unique to <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1022" class="Datatype">Bool</a></code> and what we can re-use
for an arbitrary type.</p>
<!--
<pre class="Agda"><a id="15346" class="Keyword">module</a> <a id="EncodePattern"></a><a id="15353" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15353" class="Module">EncodePattern</a>
  <a id="15369" class="Symbol">(</a><a id="15370" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15370" class="Bound">X</a> <a id="15372" class="Symbol">:</a> <a id="15374" href="Library.Primitive.html#422" class="Primitive">Type</a><a id="15378" class="Symbol">)</a>
  <a id="15382" class="Symbol">(</a><a id="15383" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15383" class="Bound">code</a> <a id="15388" class="Symbol">:</a> <a id="15390" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15370" class="Bound">X</a> <a id="15392" class="Symbol">→</a> <a id="15394" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15370" class="Bound">X</a> <a id="15396" class="Symbol">→</a> <a id="15398" href="Library.Primitive.html#422" class="Primitive">Type</a><a id="15402" class="Symbol">)</a>
  <a id="15406" class="Symbol">(</a><a id="15407" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15407" class="Bound">encode-refl</a> <a id="15419" class="Symbol">:</a> <a id="15421" class="Symbol">(</a><a id="15422" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15422" class="Bound">x</a> <a id="15424" class="Symbol">:</a> <a id="15426" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15370" class="Bound">X</a><a id="15427" class="Symbol">)</a> <a id="15429" class="Symbol">→</a> <a id="15431" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15383" class="Bound">code</a> <a id="15436" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15422" class="Bound">x</a> <a id="15438" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15422" class="Bound">x</a><a id="15439" class="Symbol">)</a>
  <a id="15443" class="Symbol">(</a><a id="15444" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15444" class="Bound">decode</a> <a id="15451" class="Symbol">:</a> <a id="15453" class="Symbol">(</a><a id="15454" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15454" class="Bound">x</a> <a id="15456" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15456" class="Bound">y</a> <a id="15458" class="Symbol">:</a> <a id="15460" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15370" class="Bound">X</a><a id="15461" class="Symbol">)</a> <a id="15463" class="Symbol">→</a> <a id="15465" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15383" class="Bound">code</a> <a id="15470" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15454" class="Bound">x</a> <a id="15472" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15456" class="Bound">y</a> <a id="15474" class="Symbol">→</a> <a id="15476" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15454" class="Bound">x</a> <a id="15478" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="15480" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15456" class="Bound">y</a><a id="15481" class="Symbol">)</a>
  <a id="15485" class="Symbol">(</a><a id="15486" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15486" class="Bound">fro-to-refl</a> <a id="15498" class="Symbol">:</a> <a id="15500" class="Symbol">(</a><a id="15501" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15501" class="Bound">x</a> <a id="15503" class="Symbol">:</a> <a id="15505" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15370" class="Bound">X</a><a id="15506" class="Symbol">)</a> <a id="15508" class="Symbol">→</a> <a id="15510" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15444" class="Bound">decode</a> <a id="15517" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15501" class="Bound">x</a> <a id="15519" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15501" class="Bound">x</a> <a id="15521" class="Symbol">(</a><a id="15522" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1180" class="Function">subst</a> <a id="15528" class="Symbol">(λ</a> <a id="15531" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15531" class="Bound">z</a> <a id="15533" class="Symbol">→</a> <a id="15535" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15383" class="Bound">code</a> <a id="15540" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15501" class="Bound">x</a> <a id="15542" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15531" class="Bound">z</a><a id="15543" class="Symbol">)</a> <a id="15545" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a> <a id="15550" class="Symbol">(</a><a id="15551" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15407" class="Bound">encode-refl</a> <a id="15563" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15501" class="Bound">x</a><a id="15564" class="Symbol">))</a> <a id="15567" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="15569" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a><a id="15573" class="Symbol">)</a>
  <a id="15577" class="Keyword">where</a>
</pre>-->
<p>We start with a type <code>X</code> with the goal of characterising paths <code>x ≡ y</code>
in <code>X</code>. We make a guess at the answer as a type family </p>
<pre><code>  code : X → X → Type
</code></pre>
<p>with the idea that <code>code x y</code> will be equivalent to <code>x ≡ y</code>. Choosing
<code>code</code> will involve some creativity or luck, but it can usually be
intuited from the definition of <code>X</code>. As a rule of thumb, the path
types of inductive types should also be describable as inductive types
themselves; it is helpful if <code>code</code> is an inductive type so that it is
easy to define functions out of it.</p>
<p>For our guess to pass the smell test, we should at least be able to
define a function corresponding to reflexivity.</p>
<pre><code>  encode-refl : (x : X) → code x x
</code></pre>
<p>With this in hand, we can always make the definition</p>
<pre class="Agda">  <a id="EncodePattern.encode"></a><a id="16346" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16346" class="Function">encode</a> <a id="16353" class="Symbol">:</a> <a id="16355" class="Symbol">(</a><a id="16356" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16356" class="Bound">x</a> <a id="16358" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16358" class="Bound">y</a> <a id="16360" class="Symbol">:</a> <a id="16362" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15370" class="Bound">X</a><a id="16363" class="Symbol">)</a> <a id="16365" class="Symbol">→</a> <a id="16367" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16356" class="Bound">x</a> <a id="16369" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="16371" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16358" class="Bound">y</a> <a id="16373" class="Symbol">→</a> <a id="16375" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15383" class="Bound">code</a> <a id="16380" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16356" class="Bound">x</a> <a id="16382" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16358" class="Bound">y</a>
  <a id="16386" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16346" class="Function">encode</a> <a id="16393" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16393" class="Bound">x</a> <a id="16395" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16395" class="Bound">y</a> <a id="16397" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16397" class="Bound">p</a> <a id="16399" class="Symbol">=</a> <a id="16401" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a> <a id="16403" class="Symbol">(λ</a> <a id="16406" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16406" class="Bound">z</a> <a id="16408" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16408" class="Bound">_</a> <a id="16410" class="Symbol">→</a> <a id="16412" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15383" class="Bound">code</a> <a id="16417" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16393" class="Bound">x</a> <a id="16419" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16406" class="Bound">z</a><a id="16420" class="Symbol">)</a> <a id="16422" class="Symbol">(</a><a id="16423" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15407" class="Bound">encode-refl</a> <a id="16435" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16393" class="Bound">x</a><a id="16436" class="Symbol">)</a> <a id="16438" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16397" class="Bound">p</a>
</pre>
<p>Next we need a decoding map. So long as we choose <code class="Agda"><a href="2--Paths-and-Identifications.2-6--Univalence.html#21977" class="Function">code</a></code> so that it
has a nice mapping-out property — for example, when it is an
inductive type — this should be easy. </p>
<pre><code>  decode : (x y : X) → code x y → x ≡ y
</code></pre>
<p>The proof that this is a section should be similarly easy, because it
also involves mapping out of <code class="Agda"><a href="2--Paths-and-Identifications.2-6--Univalence.html#21977" class="Function">code</a></code>.</p>
<pre><code>  to-fro : (x y : X) → isSection (encode x y) (decode x y)
</code></pre>
<p>All that remains is to prove that it is also a retract. In this case,
we need a function with type <code>(x y : X) → decode x y (encode x y p) ≡ p</code>. When <code>p</code> is <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a></code>, so we are aiming to construct <code>fro-to-refl : (x y : X) → decode x y (encode x y p) ≡ p</code>, this is easy, because
<code class="Agda"><a href="2--Paths-and-Identifications.2-6--Univalence.html#22218" class="Function">encode</a></code> was defined in terms of <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#13159" class="Function">encode-refl</a></code>. The <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a></code> rule
extends this to a general path.</p>
<pre class="Agda">  <a id="EncodePattern.fro-to"></a><a id="17222" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17222" class="Function">fro-to</a> <a id="17229" class="Symbol">:</a> <a id="17231" class="Symbol">(</a><a id="17232" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17232" class="Bound">x</a> <a id="17234" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17234" class="Bound">y</a> <a id="17236" class="Symbol">:</a> <a id="17238" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15370" class="Bound">X</a><a id="17239" class="Symbol">)</a> <a id="17241" class="Symbol">→</a> <a id="17243" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#4019" class="Function">isRetract</a> <a id="17253" class="Symbol">(</a><a id="17254" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16346" class="Function">encode</a> <a id="17261" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17232" class="Bound">x</a> <a id="17263" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17234" class="Bound">y</a><a id="17264" class="Symbol">)</a> <a id="17266" class="Symbol">(</a><a id="17267" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15444" class="Bound">decode</a> <a id="17274" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17232" class="Bound">x</a> <a id="17276" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17234" class="Bound">y</a><a id="17277" class="Symbol">)</a> 
  <a id="17282" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17222" class="Function">fro-to</a> <a id="17289" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17289" class="Bound">x</a> <a id="17291" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17291" class="Bound">y</a> <a id="17293" class="Symbol">=</a> <a id="17295" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a> <a id="17297" class="Symbol">(λ</a> <a id="17300" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17300" class="Bound">c</a> <a id="17302" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17302" class="Bound">p</a> <a id="17304" class="Symbol">→</a> <a id="17306" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15444" class="Bound">decode</a> <a id="17313" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17289" class="Bound">x</a> <a id="17315" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17300" class="Bound">c</a> <a id="17317" class="Symbol">(</a><a id="17318" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#16346" class="Function">encode</a> <a id="17325" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17289" class="Bound">x</a> <a id="17327" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17300" class="Bound">c</a> <a id="17329" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17302" class="Bound">p</a><a id="17330" class="Symbol">)</a> <a id="17332" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="17334" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17302" class="Bound">p</a><a id="17335" class="Symbol">)</a> <a id="17337" class="Symbol">(</a><a id="17338" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#15486" class="Bound">fro-to-refl</a> <a id="17350" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17289" class="Bound">x</a><a id="17351" class="Symbol">)</a>
</pre>
<h2 id="more-encode-decode"><a class="header" href="#more-encode-decode">More Encode-Decode</a></h2>
<p>Try characterising the paths in <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#8971" class="Datatype">⊤</a></code>. This should essentially be
the same as the proof for <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1022" class="Datatype">Bool</a></code> but with half of the cases
deleted.</p>
<pre class="Agda"><a id="≡≃≡⊤"></a><a id="17524" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17524" class="Function">≡≃≡⊤</a> <a id="17529" class="Symbol">:</a> <a id="17531" class="Symbol">(</a><a id="17532" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17532" class="Bound">x</a> <a id="17534" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17534" class="Bound">y</a> <a id="17536" class="Symbol">:</a> <a id="17538" href="1--Type-Theory.1-2--Inductive-Types.html#8971" class="Datatype">⊤</a><a id="17539" class="Symbol">)</a> <a id="17541" class="Symbol">→</a> <a id="17543" class="Symbol">(</a><a id="17544" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17532" class="Bound">x</a> <a id="17546" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="17548" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17534" class="Bound">y</a><a id="17549" class="Symbol">)</a> <a id="17551" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#6026" class="Function Operator">≃</a> <a id="17553" href="1--Type-Theory.1-2--Inductive-Types.html#8971" class="Datatype">⊤</a>
<a id="17555" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17524" class="Function">≡≃≡⊤</a> <a id="17560" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17560" class="Bound">x</a> <a id="17562" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17562" class="Bound">y</a> <a id="17564" class="Symbol">=</a> <a id="17566" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#7290" class="Function">inv→equiv</a> <a id="17576" class="Symbol">(</a><a id="17577" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17815" class="Function">encode</a> <a id="17584" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17560" class="Bound">x</a> <a id="17586" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17562" class="Bound">y</a><a id="17587" class="Symbol">)</a> <a id="17589" class="Symbol">(</a><a id="17590" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17916" class="Function">decode</a> <a id="17597" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17560" class="Bound">x</a> <a id="17599" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17562" class="Bound">y</a><a id="17600" class="Symbol">)</a> <a id="17602" class="Symbol">(</a><a id="17603" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18056" class="Function">to-fro</a> <a id="17610" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17560" class="Bound">x</a> <a id="17612" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17562" class="Bound">y</a><a id="17613" class="Symbol">)</a> <a id="17615" class="Symbol">(</a><a id="17616" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18379" class="Function">fro-to</a> <a id="17623" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17560" class="Bound">x</a> <a id="17625" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17562" class="Bound">y</a><a id="17626" class="Symbol">)</a>
  <a id="17630" class="Keyword">where</a>
    <a id="17640" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17640" class="Function">code</a> <a id="17645" class="Symbol">:</a> <a id="17647" href="1--Type-Theory.1-2--Inductive-Types.html#8971" class="Datatype">⊤</a> <a id="17649" class="Symbol">→</a> <a id="17651" href="1--Type-Theory.1-2--Inductive-Types.html#8971" class="Datatype">⊤</a> <a id="17653" class="Symbol">→</a> <a id="17655" href="Library.Primitive.html#422" class="Primitive">Type</a>
    <a id="17664" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17640" class="Function">code</a> <a id="17669" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17669" class="Bound">x</a> <a id="17671" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17671" class="Bound">y</a> <a id="17673" class="Symbol">=</a> <a id="17675" href="1--Type-Theory.1-2--Inductive-Types.html#8971" class="Datatype">⊤</a>

    <a id="17682" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17682" class="Function">encode-refl</a> <a id="17694" class="Symbol">:</a> <a id="17696" class="Symbol">(</a><a id="17697" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17697" class="Bound">x</a> <a id="17699" class="Symbol">:</a> <a id="17701" href="1--Type-Theory.1-2--Inductive-Types.html#8971" class="Datatype">⊤</a><a id="17702" class="Symbol">)</a> <a id="17704" class="Symbol">→</a> <a id="17706" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17640" class="Function">code</a> <a id="17711" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17697" class="Bound">x</a> <a id="17713" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17697" class="Bound">x</a>
    <a id="17719" class="Comment">-- Exercise:</a>
    <a id="17736" class="Comment">-- encode-refl x = {!!}</a>

    <a id="17815" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17815" class="Function">encode</a> <a id="17822" class="Symbol">:</a> <a id="17824" class="Symbol">(</a><a id="17825" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17825" class="Bound">x</a> <a id="17827" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17827" class="Bound">y</a> <a id="17829" class="Symbol">:</a> <a id="17831" href="1--Type-Theory.1-2--Inductive-Types.html#8971" class="Datatype">⊤</a><a id="17832" class="Symbol">)</a> <a id="17834" class="Symbol">→</a> <a id="17836" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17825" class="Bound">x</a> <a id="17838" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="17840" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17827" class="Bound">y</a> <a id="17842" class="Symbol">→</a> <a id="17844" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17640" class="Function">code</a> <a id="17849" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17825" class="Bound">x</a> <a id="17851" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17827" class="Bound">y</a>
    <a id="17857" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17815" class="Function">encode</a> <a id="17864" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17864" class="Bound">x</a> <a id="17866" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17866" class="Bound">y</a> <a id="17868" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17868" class="Bound">p</a> <a id="17870" class="Symbol">=</a> <a id="17872" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a> <a id="17874" class="Symbol">(λ</a> <a id="17877" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17877" class="Bound">z</a> <a id="17879" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17879" class="Bound">_</a> <a id="17881" class="Symbol">→</a> <a id="17883" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17640" class="Function">code</a> <a id="17888" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17864" class="Bound">x</a> <a id="17890" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17877" class="Bound">z</a><a id="17891" class="Symbol">)</a> <a id="17893" class="Symbol">(</a><a id="17894" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17682" class="Function">encode-refl</a> <a id="17906" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17864" class="Bound">x</a><a id="17907" class="Symbol">)</a> <a id="17909" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17868" class="Bound">p</a>

    <a id="17916" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17916" class="Function">decode</a> <a id="17923" class="Symbol">:</a> <a id="17925" class="Symbol">(</a><a id="17926" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17926" class="Bound">x</a> <a id="17928" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17928" class="Bound">y</a> <a id="17930" class="Symbol">:</a> <a id="17932" href="1--Type-Theory.1-2--Inductive-Types.html#8971" class="Datatype">⊤</a><a id="17933" class="Symbol">)</a> <a id="17935" class="Symbol">→</a> <a id="17937" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17640" class="Function">code</a> <a id="17942" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17926" class="Bound">x</a> <a id="17944" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17928" class="Bound">y</a> <a id="17946" class="Symbol">→</a> <a id="17948" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17926" class="Bound">x</a> <a id="17950" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="17952" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17928" class="Bound">y</a>
    <a id="17958" class="Comment">-- Exercise:</a>
    <a id="17975" class="Comment">-- decode x y c = {!!}</a>

    <a id="18056" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18056" class="Function">to-fro</a> <a id="18063" class="Symbol">:</a> <a id="18065" class="Symbol">(</a><a id="18066" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18066" class="Bound">x</a> <a id="18068" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18068" class="Bound">y</a> <a id="18070" class="Symbol">:</a> <a id="18072" href="1--Type-Theory.1-2--Inductive-Types.html#8971" class="Datatype">⊤</a><a id="18073" class="Symbol">)</a> <a id="18075" class="Symbol">→</a> <a id="18077" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#1716" class="Function">isSection</a> <a id="18087" class="Symbol">(</a><a id="18088" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17815" class="Function">encode</a> <a id="18095" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18066" class="Bound">x</a> <a id="18097" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18068" class="Bound">y</a><a id="18098" class="Symbol">)</a> <a id="18100" class="Symbol">(</a><a id="18101" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17916" class="Function">decode</a> <a id="18108" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18066" class="Bound">x</a> <a id="18110" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18068" class="Bound">y</a><a id="18111" class="Symbol">)</a>
    <a id="18117" class="Comment">-- Exercise:</a>
    <a id="18134" class="Comment">-- to-fro x y c = {!!}</a>

    <a id="18216" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18216" class="Function">fro-to-refl</a> <a id="18228" class="Symbol">:</a> <a id="18230" class="Symbol">(</a><a id="18231" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18231" class="Bound">x</a> <a id="18233" class="Symbol">:</a> <a id="18235" href="1--Type-Theory.1-2--Inductive-Types.html#8971" class="Datatype">⊤</a><a id="18236" class="Symbol">)</a> <a id="18238" class="Symbol">→</a> <a id="18240" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17916" class="Function">decode</a> <a id="18247" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18231" class="Bound">x</a> <a id="18249" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18231" class="Bound">x</a> <a id="18251" class="Symbol">(</a><a id="18252" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17815" class="Function">encode</a> <a id="18259" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18231" class="Bound">x</a> <a id="18261" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18231" class="Bound">x</a> <a id="18263" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a><a id="18267" class="Symbol">)</a> <a id="18269" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="18271" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a>
    <a id="18280" class="Comment">-- Exercise:</a>
    <a id="18297" class="Comment">-- fro-to-refl x = {!!}</a>

    <a id="18379" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18379" class="Function">fro-to</a> <a id="18386" class="Symbol">:</a> <a id="18388" class="Symbol">(</a><a id="18389" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18389" class="Bound">x</a> <a id="18391" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18391" class="Bound">y</a> <a id="18393" class="Symbol">:</a> <a id="18395" href="1--Type-Theory.1-2--Inductive-Types.html#8971" class="Datatype">⊤</a><a id="18396" class="Symbol">)</a> <a id="18398" class="Symbol">→</a> <a id="18400" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#4019" class="Function">isRetract</a> <a id="18410" class="Symbol">(</a><a id="18411" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17815" class="Function">encode</a> <a id="18418" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18389" class="Bound">x</a> <a id="18420" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18391" class="Bound">y</a><a id="18421" class="Symbol">)</a> <a id="18423" class="Symbol">(</a><a id="18424" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17916" class="Function">decode</a> <a id="18431" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18389" class="Bound">x</a> <a id="18433" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18391" class="Bound">y</a><a id="18434" class="Symbol">)</a> 
    <a id="18441" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18379" class="Function">fro-to</a> <a id="18448" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18448" class="Bound">x</a> <a id="18450" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18450" class="Bound">y</a> <a id="18452" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18452" class="Bound">p</a> <a id="18454" class="Symbol">=</a> <a id="18456" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a> <a id="18458" class="Symbol">(λ</a> <a id="18461" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18461" class="Bound">c</a> <a id="18463" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18463" class="Bound">p</a> <a id="18465" class="Symbol">→</a> <a id="18467" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17916" class="Function">decode</a> <a id="18474" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18448" class="Bound">x</a> <a id="18476" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18461" class="Bound">c</a> <a id="18478" class="Symbol">(</a><a id="18479" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#17815" class="Function">encode</a> <a id="18486" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18448" class="Bound">x</a> <a id="18488" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18461" class="Bound">c</a> <a id="18490" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18463" class="Bound">p</a><a id="18491" class="Symbol">)</a> <a id="18493" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="18495" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18463" class="Bound">p</a><a id="18496" class="Symbol">)</a> <a id="18498" class="Symbol">(</a><a id="18499" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18216" class="Function">fro-to-refl</a> <a id="18511" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18448" class="Bound">x</a><a id="18512" class="Symbol">)</a> <a id="18514" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18452" class="Bound">p</a>
</pre>
<div class="info">
<p><span class="info-label">Aside:</span>
In <code>code</code> above, we <em>don’t</em> case-split on <code>x</code> and <code>y</code>, because we want
to show that <code>(x ≡ y) ≃ ⊤</code> regardless of what <code>x</code> and <code>y</code> are. If we
case split and write <code>code tt tt = ⊤</code> then the types no longer line
up, because Agda doesn’t automatically know that every element of <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#8971" class="Datatype">⊤</a></code>
is <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#8988" class="InductiveConstructor">tt</a></code>.</p>
</div>
<p>For <code class="Agda"><a href="Library.Prelude.html#3629" class="Datatype">ℕ</a></code>, we already have a candidate for <code>code</code>: observational
equality <code class="Agda"><a href="1--Type-Theory.1-5--Propositions-as-Types.html#17221" class="Function">≡ℕ</a></code>.</p>
<pre class="Agda"><a id="≡≃≡ℕ"></a><a id="18915" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18915" class="Function">≡≃≡ℕ</a> <a id="18920" class="Symbol">:</a> <a id="18922" class="Symbol">(</a><a id="18923" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18923" class="Bound">x</a> <a id="18925" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18925" class="Bound">y</a> <a id="18927" class="Symbol">:</a> <a id="18929" href="Library.Prelude.html#3629" class="Datatype">ℕ</a><a id="18930" class="Symbol">)</a> <a id="18932" class="Symbol">→</a> <a id="18934" class="Symbol">(</a><a id="18935" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18923" class="Bound">x</a> <a id="18937" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="18939" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18925" class="Bound">y</a><a id="18940" class="Symbol">)</a> <a id="18942" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#6026" class="Function Operator">≃</a> <a id="18944" class="Symbol">(</a><a id="18945" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18923" class="Bound">x</a> <a id="18947" href="1--Type-Theory.1-5--Propositions-as-Types.html#17221" class="Function Operator">≡ℕ</a> <a id="18950" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18925" class="Bound">y</a><a id="18951" class="Symbol">)</a>
<a id="18953" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18915" class="Function">≡≃≡ℕ</a> <a id="18958" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18958" class="Bound">x</a> <a id="18960" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18960" class="Bound">y</a> <a id="18962" class="Symbol">=</a> <a id="18964" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#7290" class="Function">inv→equiv</a> <a id="18974" class="Symbol">(</a><a id="18975" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19288" class="Function">encode</a> <a id="18982" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18958" class="Bound">x</a> <a id="18984" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18960" class="Bound">y</a><a id="18985" class="Symbol">)</a> <a id="18987" class="Symbol">(</a><a id="18988" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19389" class="Function">decode</a> <a id="18995" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18958" class="Bound">x</a> <a id="18997" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18960" class="Bound">y</a><a id="18998" class="Symbol">)</a> <a id="19000" class="Symbol">(</a><a id="19001" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19739" class="Function">to-fro</a> <a id="19008" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18958" class="Bound">x</a> <a id="19010" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18960" class="Bound">y</a><a id="19011" class="Symbol">)</a> <a id="19013" class="Symbol">(</a><a id="19014" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20345" class="Function">fro-to</a> <a id="19021" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18958" class="Bound">x</a> <a id="19023" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#18960" class="Bound">y</a><a id="19024" class="Symbol">)</a>
  <a id="19028" class="Keyword">where</a>
    <a id="19038" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19038" class="Function">code</a> <a id="19043" class="Symbol">:</a> <a id="19045" href="Library.Prelude.html#3629" class="Datatype">ℕ</a> <a id="19047" class="Symbol">→</a> <a id="19049" href="Library.Prelude.html#3629" class="Datatype">ℕ</a> <a id="19051" class="Symbol">→</a> <a id="19053" href="Library.Primitive.html#422" class="Primitive">Type</a>
    <a id="19062" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19038" class="Function">code</a> <a id="19067" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19067" class="Bound">x</a> <a id="19069" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19069" class="Bound">y</a> <a id="19071" class="Symbol">=</a> <a id="19073" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19067" class="Bound">x</a> <a id="19075" href="1--Type-Theory.1-5--Propositions-as-Types.html#17221" class="Function Operator">≡ℕ</a> <a id="19078" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19069" class="Bound">y</a>

    <a id="19085" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19085" class="Function">encode-refl</a> <a id="19097" class="Symbol">:</a> <a id="19099" class="Symbol">(</a><a id="19100" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19100" class="Bound">x</a> <a id="19102" class="Symbol">:</a> <a id="19104" href="Library.Prelude.html#3629" class="Datatype">ℕ</a><a id="19105" class="Symbol">)</a> <a id="19107" class="Symbol">→</a> <a id="19109" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19038" class="Function">code</a> <a id="19114" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19100" class="Bound">x</a> <a id="19116" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19100" class="Bound">x</a>
    <a id="19122" class="Comment">-- Exercise:</a>
    <a id="19139" class="Comment">-- encode-refl x = {!!}</a>

    <a id="19288" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19288" class="Function">encode</a> <a id="19295" class="Symbol">:</a> <a id="19297" class="Symbol">(</a><a id="19298" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19298" class="Bound">x</a> <a id="19300" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19300" class="Bound">y</a> <a id="19302" class="Symbol">:</a> <a id="19304" href="Library.Prelude.html#3629" class="Datatype">ℕ</a><a id="19305" class="Symbol">)</a> <a id="19307" class="Symbol">→</a> <a id="19309" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19298" class="Bound">x</a> <a id="19311" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="19313" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19300" class="Bound">y</a> <a id="19315" class="Symbol">→</a> <a id="19317" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19038" class="Function">code</a> <a id="19322" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19298" class="Bound">x</a> <a id="19324" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19300" class="Bound">y</a>
    <a id="19330" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19288" class="Function">encode</a> <a id="19337" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19337" class="Bound">x</a> <a id="19339" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19339" class="Bound">y</a> <a id="19341" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19341" class="Bound">p</a> <a id="19343" class="Symbol">=</a> <a id="19345" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a> <a id="19347" class="Symbol">(λ</a> <a id="19350" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19350" class="Bound">z</a> <a id="19352" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19352" class="Bound">_</a> <a id="19354" class="Symbol">→</a> <a id="19356" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19038" class="Function">code</a> <a id="19361" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19337" class="Bound">x</a> <a id="19363" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19350" class="Bound">z</a><a id="19364" class="Symbol">)</a> <a id="19366" class="Symbol">(</a><a id="19367" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19085" class="Function">encode-refl</a> <a id="19379" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19337" class="Bound">x</a><a id="19380" class="Symbol">)</a> <a id="19382" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19341" class="Bound">p</a>

    <a id="19389" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19389" class="Function">decode</a> <a id="19396" class="Symbol">:</a> <a id="19398" class="Symbol">(</a><a id="19399" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19399" class="Bound">x</a> <a id="19401" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19401" class="Bound">y</a> <a id="19403" class="Symbol">:</a> <a id="19405" href="Library.Prelude.html#3629" class="Datatype">ℕ</a><a id="19406" class="Symbol">)</a> <a id="19408" class="Symbol">→</a> <a id="19410" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19038" class="Function">code</a> <a id="19415" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19399" class="Bound">x</a> <a id="19417" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19401" class="Bound">y</a> <a id="19419" class="Symbol">→</a> <a id="19421" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19399" class="Bound">x</a> <a id="19423" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="19425" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19401" class="Bound">y</a>
    <a id="19431" class="Comment">-- Exercise:</a>
    <a id="19448" class="Comment">-- decode x y c = {!!}</a>

    <a id="19739" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19739" class="Function">to-fro</a> <a id="19746" class="Symbol">:</a> <a id="19748" class="Symbol">(</a><a id="19749" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19749" class="Bound">x</a> <a id="19751" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19751" class="Bound">y</a> <a id="19753" class="Symbol">:</a> <a id="19755" href="Library.Prelude.html#3629" class="Datatype">ℕ</a><a id="19756" class="Symbol">)</a> <a id="19758" class="Symbol">→</a> <a id="19760" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#1716" class="Function">isSection</a> <a id="19770" class="Symbol">(</a><a id="19771" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19288" class="Function">encode</a> <a id="19778" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19749" class="Bound">x</a> <a id="19780" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19751" class="Bound">y</a><a id="19781" class="Symbol">)</a> <a id="19783" class="Symbol">(</a><a id="19784" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19389" class="Function">decode</a> <a id="19791" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19749" class="Bound">x</a> <a id="19793" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19751" class="Bound">y</a><a id="19794" class="Symbol">)</a>
    <a id="19800" class="Comment">-- Exercise:</a>
    <a id="19817" class="Comment">-- to-fro x y p = {!!}</a>

    <a id="20100" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20100" class="Function">fro-to-refl</a> <a id="20112" class="Symbol">:</a> <a id="20114" class="Symbol">(</a><a id="20115" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20115" class="Bound">x</a> <a id="20117" class="Symbol">:</a> <a id="20119" href="Library.Prelude.html#3629" class="Datatype">ℕ</a><a id="20120" class="Symbol">)</a> <a id="20122" class="Symbol">→</a> <a id="20124" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19389" class="Function">decode</a> <a id="20131" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20115" class="Bound">x</a> <a id="20133" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20115" class="Bound">x</a> <a id="20135" class="Symbol">(</a><a id="20136" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19288" class="Function">encode</a> <a id="20143" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20115" class="Bound">x</a> <a id="20145" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20115" class="Bound">x</a> <a id="20147" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a><a id="20151" class="Symbol">)</a> <a id="20153" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="20155" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a>
    <a id="20164" class="Comment">-- Exercise:</a>
    <a id="20181" class="Comment">-- fro-to-refl x = {!!}</a>

    <a id="20345" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20345" class="Function">fro-to</a> <a id="20352" class="Symbol">:</a> <a id="20354" class="Symbol">(</a><a id="20355" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20355" class="Bound">x</a> <a id="20357" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20357" class="Bound">y</a> <a id="20359" class="Symbol">:</a> <a id="20361" href="Library.Prelude.html#3629" class="Datatype">ℕ</a><a id="20362" class="Symbol">)</a> <a id="20364" class="Symbol">→</a> <a id="20366" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#4019" class="Function">isRetract</a> <a id="20376" class="Symbol">(</a><a id="20377" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19288" class="Function">encode</a> <a id="20384" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20355" class="Bound">x</a> <a id="20386" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20357" class="Bound">y</a><a id="20387" class="Symbol">)</a> <a id="20389" class="Symbol">(</a><a id="20390" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19389" class="Function">decode</a> <a id="20397" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20355" class="Bound">x</a> <a id="20399" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20357" class="Bound">y</a><a id="20400" class="Symbol">)</a> 
    <a id="20407" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20345" class="Function">fro-to</a> <a id="20414" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20414" class="Bound">x</a> <a id="20416" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20416" class="Bound">y</a> <a id="20418" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20418" class="Bound">p</a> <a id="20420" class="Symbol">=</a> <a id="20422" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a> <a id="20424" class="Symbol">(λ</a> <a id="20427" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20427" class="Bound">z</a> <a id="20429" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20429" class="Bound">q</a> <a id="20431" class="Symbol">→</a> <a id="20433" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19389" class="Function">decode</a> <a id="20440" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20414" class="Bound">x</a> <a id="20442" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20427" class="Bound">z</a> <a id="20444" class="Symbol">(</a><a id="20445" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#19288" class="Function">encode</a> <a id="20452" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20414" class="Bound">x</a> <a id="20454" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20427" class="Bound">z</a> <a id="20456" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20429" class="Bound">q</a><a id="20457" class="Symbol">)</a> <a id="20459" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="20461" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20429" class="Bound">q</a><a id="20462" class="Symbol">)</a> <a id="20464" class="Symbol">(</a><a id="20465" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20100" class="Function">fro-to-refl</a> <a id="20477" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20414" class="Bound">x</a><a id="20478" class="Symbol">)</a> <a id="20480" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20418" class="Bound">p</a>
</pre>
<p>Next, disjoint unions. We didn’t define a candidate <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20930" class="Function">≡⊎</a></code> for the
paths to be equal to back in Lecture 1-X as we did with the others,
but it’s not hard to guess what it should be. After all, the two sides
are supposed to be <em>disjoint</em>, so paths between <code class="Agda"><a href="3--Topics.3-2--Modalities.html#8098" class="InductiveConstructor">inl</a></code>s should be
exactly paths in the left type, paths between <code class="Agda"><a href="3--Topics.3-2--Modalities.html#8119" class="InductiveConstructor">inr</a></code>s should be
exactly paths in the right type, and there should be no paths at all
between <code class="Agda"><a href="3--Topics.3-2--Modalities.html#8098" class="InductiveConstructor">inl</a></code>s and <code class="Agda"><a href="3--Topics.3-2--Modalities.html#8119" class="InductiveConstructor">inr</a></code>s.</p>
<pre class="Agda"><a id="_≡⊎_"></a><a id="20930" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20930" class="Function Operator">_≡⊎_</a> <a id="20935" class="Symbol">:</a> <a id="20937" class="Symbol">{</a><a id="20938" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20938" class="Bound">A</a> <a id="20940" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20940" class="Bound">B</a> <a id="20942" class="Symbol">:</a> <a id="20944" href="Library.Primitive.html#422" class="Primitive">Type</a><a id="20948" class="Symbol">}</a> <a id="20950" class="Symbol">(</a><a id="20951" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20951" class="Bound">x</a> <a id="20953" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20953" class="Bound">y</a> <a id="20955" class="Symbol">:</a> <a id="20957" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20938" class="Bound">A</a> <a id="20959" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8265" class="Datatype Operator">⊎</a> <a id="20961" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20940" class="Bound">B</a><a id="20962" class="Symbol">)</a> <a id="20964" class="Symbol">→</a> <a id="20966" href="Library.Primitive.html#422" class="Primitive">Type</a>
<a id="20971" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8339" class="InductiveConstructor">inl</a> <a id="20975" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20975" class="Bound">a1</a> <a id="20978" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20930" class="Function Operator">≡⊎</a> <a id="20981" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8339" class="InductiveConstructor">inl</a> <a id="20985" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20985" class="Bound">a2</a> <a id="20988" class="Symbol">=</a> <a id="20990" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20975" class="Bound">a1</a> <a id="20993" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="20995" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20985" class="Bound">a2</a>
<a id="20998" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8339" class="InductiveConstructor">inl</a> <a id="21002" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21002" class="Bound">a</a>  <a id="21005" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20930" class="Function Operator">≡⊎</a> <a id="21008" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8357" class="InductiveConstructor">inr</a> <a id="21012" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21012" class="Bound">b</a>  <a id="21015" class="Symbol">=</a> <a id="21017" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6308" class="Datatype">∅</a>
<a id="21019" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8357" class="InductiveConstructor">inr</a> <a id="21023" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21023" class="Bound">b</a>  <a id="21026" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20930" class="Function Operator">≡⊎</a> <a id="21029" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8339" class="InductiveConstructor">inl</a> <a id="21033" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21033" class="Bound">a</a>  <a id="21036" class="Symbol">=</a> <a id="21038" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6308" class="Datatype">∅</a>
<a id="21040" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8357" class="InductiveConstructor">inr</a> <a id="21044" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21044" class="Bound">b1</a> <a id="21047" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20930" class="Function Operator">≡⊎</a> <a id="21050" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8357" class="InductiveConstructor">inr</a> <a id="21054" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21054" class="Bound">b2</a> <a id="21057" class="Symbol">=</a> <a id="21059" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21044" class="Bound">b1</a> <a id="21062" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="21064" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21054" class="Bound">b2</a>
</pre>
<div class="info">
<p><span class="info-label">Aside:</span>
This is not the most general definition of <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20930" class="Function">≡⊎</a></code> we could use: notice
that this only handles types <code>A</code> and <code>B</code> in the lowest universe. To do
this right, we would have to land in <code>Type (ℓ-max ℓ ℓ')</code>, and <code class="Agda"><a href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#5566" class="Datatype">Lift</a></code>
each right-hand side to that level. This doesn’t change anything important
about the encode-decode proof, so we omit it here to cut down on
noise.</p>
</div>
<p>For this particular proof, it is more convenient to define <code>encode</code>
manually by pattern matching, rather than using <code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a></code>.</p>
<pre class="Agda"><a id="≡≃≡⊎"></a><a id="21576" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21576" class="Function">≡≃≡⊎</a> <a id="21581" class="Symbol">:</a> <a id="21583" class="Symbol">(</a><a id="21584" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21584" class="Bound">x</a> <a id="21586" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21586" class="Bound">y</a> <a id="21588" class="Symbol">:</a> <a id="21590" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a> <a id="21592" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8265" class="Datatype Operator">⊎</a> <a id="21594" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#497" class="Generalizable">B</a><a id="21595" class="Symbol">)</a> <a id="21597" class="Symbol">→</a> <a id="21599" class="Symbol">(</a><a id="21600" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21584" class="Bound">x</a> <a id="21602" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="21604" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21586" class="Bound">y</a><a id="21605" class="Symbol">)</a> <a id="21607" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#6026" class="Function Operator">≃</a> <a id="21609" class="Symbol">(</a><a id="21610" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21584" class="Bound">x</a> <a id="21612" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20930" class="Function Operator">≡⊎</a> <a id="21615" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21586" class="Bound">y</a><a id="21616" class="Symbol">)</a>
<a id="21618" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21576" class="Function">≡≃≡⊎</a> <a id="21623" class="Symbol">{</a><a id="21624" class="Argument">A</a> <a id="21626" class="Symbol">=</a> <a id="21628" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21628" class="Bound">A</a><a id="21629" class="Symbol">}</a> <a id="21631" class="Symbol">{</a><a id="21632" class="Argument">B</a> <a id="21634" class="Symbol">=</a> <a id="21636" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21636" class="Bound">B</a><a id="21637" class="Symbol">}</a> <a id="21639" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21639" class="Bound">x</a> <a id="21641" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21641" class="Bound">y</a> <a id="21643" class="Symbol">=</a> <a id="21645" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#7290" class="Function">inv→equiv</a> <a id="21655" class="Symbol">(</a><a id="21656" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21774" class="Function">encode</a> <a id="21663" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21639" class="Bound">x</a> <a id="21665" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21641" class="Bound">y</a><a id="21666" class="Symbol">)</a> <a id="21668" class="Symbol">(</a><a id="21669" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21969" class="Function">decode</a> <a id="21676" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21639" class="Bound">x</a> <a id="21678" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21641" class="Bound">y</a><a id="21679" class="Symbol">)</a> <a id="21681" class="Symbol">(</a><a id="21682" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#22318" class="Function">to-fro</a> <a id="21689" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21639" class="Bound">x</a> <a id="21691" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21641" class="Bound">y</a><a id="21692" class="Symbol">)</a> <a id="21694" class="Symbol">(</a><a id="21695" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#22902" class="Function">fro-to</a> <a id="21702" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21639" class="Bound">x</a> <a id="21704" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21641" class="Bound">y</a><a id="21705" class="Symbol">)</a>
  <a id="21709" class="Keyword">where</a>
    <a id="21719" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21719" class="Function">code</a> <a id="21724" class="Symbol">:</a> <a id="21726" class="Symbol">(</a><a id="21727" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21727" class="Bound">x</a> <a id="21729" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21729" class="Bound">y</a> <a id="21731" class="Symbol">:</a> <a id="21733" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21628" class="Bound">A</a> <a id="21735" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8265" class="Datatype Operator">⊎</a> <a id="21737" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21636" class="Bound">B</a><a id="21738" class="Symbol">)</a> <a id="21740" class="Symbol">→</a> <a id="21742" href="Library.Primitive.html#422" class="Primitive">Type</a>
    <a id="21751" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21719" class="Function">code</a> <a id="21756" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21756" class="Bound">x</a> <a id="21758" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21758" class="Bound">y</a> <a id="21760" class="Symbol">=</a> <a id="21762" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21756" class="Bound">x</a> <a id="21764" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#20930" class="Function Operator">≡⊎</a> <a id="21767" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21758" class="Bound">y</a>

    <a id="21774" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21774" class="Function">encode</a> <a id="21781" class="Symbol">:</a> <a id="21783" class="Symbol">(</a><a id="21784" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21784" class="Bound">x</a> <a id="21786" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21786" class="Bound">y</a> <a id="21788" class="Symbol">:</a> <a id="21790" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21628" class="Bound">A</a> <a id="21792" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8265" class="Datatype Operator">⊎</a> <a id="21794" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21636" class="Bound">B</a><a id="21795" class="Symbol">)</a> <a id="21797" class="Symbol">→</a> <a id="21799" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21784" class="Bound">x</a> <a id="21801" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="21803" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21786" class="Bound">y</a> <a id="21805" class="Symbol">→</a> <a id="21807" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21719" class="Function">code</a> <a id="21812" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21784" class="Bound">x</a> <a id="21814" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21786" class="Bound">y</a>
    <a id="21820" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21774" class="Function">encode</a> <a id="21827" class="Symbol">(</a><a id="21828" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8339" class="InductiveConstructor">inl</a> <a id="21832" class="Symbol">_)</a> <a id="21835" class="Symbol">(</a><a id="21836" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8339" class="InductiveConstructor">inl</a> <a id="21840" class="Symbol">_)</a> <a id="21843" class="Symbol">=</a> <a id="21845" href="2--Paths-and-Identifications.2-1--Paths.html#9029" class="Function">inl-inj</a>
    <a id="21857" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21774" class="Function">encode</a> <a id="21864" class="Symbol">(</a><a id="21865" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8339" class="InductiveConstructor">inl</a> <a id="21869" class="Symbol">_)</a> <a id="21872" class="Symbol">(</a><a id="21873" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8357" class="InductiveConstructor">inr</a> <a id="21877" class="Symbol">_)</a> <a id="21880" class="Symbol">=</a> <a id="21882" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#4201" class="Function">inl≠inr</a>
    <a id="21894" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21774" class="Function">encode</a> <a id="21901" class="Symbol">(</a><a id="21902" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8357" class="InductiveConstructor">inr</a> <a id="21906" class="Symbol">_)</a> <a id="21909" class="Symbol">(</a><a id="21910" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8339" class="InductiveConstructor">inl</a> <a id="21914" class="Symbol">_)</a> <a id="21917" class="Symbol">=</a> <a id="21919" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#4326" class="Function">inr≠inl</a>
    <a id="21931" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21774" class="Function">encode</a> <a id="21938" class="Symbol">(</a><a id="21939" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8357" class="InductiveConstructor">inr</a> <a id="21943" class="Symbol">_)</a> <a id="21946" class="Symbol">(</a><a id="21947" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8357" class="InductiveConstructor">inr</a> <a id="21951" class="Symbol">_)</a> <a id="21954" class="Symbol">=</a> <a id="21956" href="2--Paths-and-Identifications.2-1--Paths.html#9203" class="Function">inr-inj</a>

    <a id="21969" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21969" class="Function">decode</a> <a id="21976" class="Symbol">:</a> <a id="21978" class="Symbol">(</a><a id="21979" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21979" class="Bound">x</a> <a id="21981" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21981" class="Bound">y</a> <a id="21983" class="Symbol">:</a> <a id="21985" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21628" class="Bound">A</a> <a id="21987" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8265" class="Datatype Operator">⊎</a> <a id="21989" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21636" class="Bound">B</a><a id="21990" class="Symbol">)</a> <a id="21992" class="Symbol">→</a> <a id="21994" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21719" class="Function">code</a> <a id="21999" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21979" class="Bound">x</a> <a id="22001" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21981" class="Bound">y</a> <a id="22003" class="Symbol">→</a> <a id="22005" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21979" class="Bound">x</a> <a id="22007" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="22009" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21981" class="Bound">y</a>
<a id="22011" class="Comment">--  Exercise:</a>
<a id="22025" class="Comment">--  decode x y = {!!}</a>

    <a id="22318" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#22318" class="Function">to-fro</a> <a id="22325" class="Symbol">:</a> <a id="22327" class="Symbol">(</a><a id="22328" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#22328" class="Bound">x</a> <a id="22330" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#22330" class="Bound">y</a> <a id="22332" class="Symbol">:</a> <a id="22334" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21628" class="Bound">A</a> <a id="22336" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8265" class="Datatype Operator">⊎</a> <a id="22338" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21636" class="Bound">B</a><a id="22339" class="Symbol">)</a> <a id="22341" class="Symbol">→</a> <a id="22343" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#1716" class="Function">isSection</a> <a id="22353" class="Symbol">(</a><a id="22354" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21774" class="Function">encode</a> <a id="22361" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#22328" class="Bound">x</a> <a id="22363" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#22330" class="Bound">y</a><a id="22364" class="Symbol">)</a> <a id="22366" class="Symbol">(</a><a id="22367" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21969" class="Function">decode</a> <a id="22374" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#22328" class="Bound">x</a> <a id="22376" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#22330" class="Bound">y</a><a id="22377" class="Symbol">)</a>
<a id="22379" class="Comment">--  Exercise:</a>
<a id="22393" class="Comment">--  to-fro x y = {!!}</a>

    <a id="22678" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#22678" class="Function">fro-to-refl</a> <a id="22690" class="Symbol">:</a> <a id="22692" class="Symbol">(</a><a id="22693" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#22693" class="Bound">x</a> <a id="22695" class="Symbol">:</a> <a id="22697" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21628" class="Bound">A</a> <a id="22699" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8265" class="Datatype Operator">⊎</a> <a id="22701" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21636" class="Bound">B</a><a id="22702" class="Symbol">)</a> <a id="22704" class="Symbol">→</a> <a id="22706" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21969" class="Function">decode</a> <a id="22713" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#22693" class="Bound">x</a> <a id="22715" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#22693" class="Bound">x</a> <a id="22717" class="Symbol">(</a><a id="22718" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21774" class="Function">encode</a> <a id="22725" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#22693" class="Bound">x</a> <a id="22727" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#22693" class="Bound">x</a> <a id="22729" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a><a id="22733" class="Symbol">)</a> <a id="22735" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="22737" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a>
<a id="22742" class="Comment">--  Exercise:</a>
<a id="22756" class="Comment">--  fro-to-refl x = {!!}</a>

    <a id="22902" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#22902" class="Function">fro-to</a> <a id="22909" class="Symbol">:</a> <a id="22911" class="Symbol">(</a><a id="22912" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#22912" class="Bound">x</a> <a id="22914" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#22914" class="Bound">y</a> <a id="22916" class="Symbol">:</a> <a id="22918" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21628" class="Bound">A</a> <a id="22920" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8265" class="Datatype Operator">⊎</a> <a id="22922" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21636" class="Bound">B</a><a id="22923" class="Symbol">)</a> <a id="22925" class="Symbol">→</a> <a id="22927" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#4019" class="Function">isRetract</a> <a id="22937" class="Symbol">(</a><a id="22938" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21774" class="Function">encode</a> <a id="22945" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#22912" class="Bound">x</a> <a id="22947" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#22914" class="Bound">y</a><a id="22948" class="Symbol">)</a> <a id="22950" class="Symbol">(</a><a id="22951" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#21969" class="Function">decode</a> <a id="22958" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#22912" class="Bound">x</a> <a id="22960" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#22914" class="Bound">y</a><a id="22961" class="Symbol">)</a> 
<a id="22964" class="Comment">--  Exercise:</a>
<a id="22978" class="Comment">--  fro-to x y = {!!}</a>
</pre>
<p>Finally, <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#15363" class="Datatype">List</a></code>s. Try this from scratch yourself, using <code class="Agda"><a href="Library.Prelude.html#3629" class="Datatype">ℕ</a></code> and
<code class="Agda"><a href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#8265" class="Datatype">⊎</a></code> as a model.</p>
<pre class="Agda"><a id="_≡List_"></a><a id="23198" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23198" class="Function Operator">_≡List_</a> <a id="23206" class="Symbol">:</a> <a id="23208" href="1--Type-Theory.1-2--Inductive-Types.html#15363" class="Datatype">List</a> <a id="23213" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a> <a id="23215" class="Symbol">→</a> <a id="23217" href="1--Type-Theory.1-2--Inductive-Types.html#15363" class="Datatype">List</a> <a id="23222" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a> <a id="23224" class="Symbol">→</a> <a id="23226" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="23231" href="Library.Primitive.html#1080" class="Primitive">ℓ-zero</a>
<a id="23238" class="Comment">-- Exercise:</a>
<a id="23251" class="Comment">-- xs ≡List ys = {!!}</a>

<a id="≡≃≡List"></a><a id="23494" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23494" class="Function">≡≃≡List</a> <a id="23502" class="Symbol">:</a> <a id="23504" class="Symbol">(</a><a id="23505" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23505" class="Bound">xs</a> <a id="23508" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23508" class="Bound">ys</a> <a id="23511" class="Symbol">:</a> <a id="23513" href="1--Type-Theory.1-2--Inductive-Types.html#15363" class="Datatype">List</a> <a id="23518" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#495" class="Generalizable">A</a><a id="23519" class="Symbol">)</a> <a id="23521" class="Symbol">→</a> <a id="23523" class="Symbol">(</a><a id="23524" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23505" class="Bound">xs</a> <a id="23527" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="23529" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23508" class="Bound">ys</a><a id="23531" class="Symbol">)</a> <a id="23533" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#6026" class="Function Operator">≃</a> <a id="23535" class="Symbol">(</a><a id="23536" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23505" class="Bound">xs</a> <a id="23539" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23198" class="Function Operator">≡List</a> <a id="23545" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23508" class="Bound">ys</a><a id="23547" class="Symbol">)</a>
<a id="23549" class="Comment">-- Exsercise:</a>
<a id="23563" class="Comment">-- ≡≃≡List {A = A} xs ys = {!!}</a>
<a id="23595" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23494" class="Function">≡≃≡List</a> <a id="23603" class="Symbol">{</a><a id="23604" class="Argument">A</a> <a id="23606" class="Symbol">=</a> <a id="23608" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23608" class="Bound">A</a><a id="23609" class="Symbol">}</a> <a id="23611" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23611" class="Bound">xs</a> <a id="23614" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23614" class="Bound">ys</a> <a id="23617" class="Symbol">=</a> <a id="23619" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#7290" class="Function">inv→equiv</a> <a id="23629" class="Symbol">(</a><a id="23630" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24380" class="Function">encode</a> <a id="23637" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23611" class="Bound">xs</a> <a id="23640" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23614" class="Bound">ys</a><a id="23642" class="Symbol">)</a> <a id="23644" class="Symbol">(</a><a id="23645" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24618" class="Function">decode</a> <a id="23652" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23611" class="Bound">xs</a> <a id="23655" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23614" class="Bound">ys</a><a id="23657" class="Symbol">)</a> <a id="23659" class="Symbol">(</a><a id="23660" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24823" class="Function">to-fro</a> <a id="23667" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23611" class="Bound">xs</a> <a id="23670" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23614" class="Bound">ys</a><a id="23672" class="Symbol">)</a> <a id="23674" class="Symbol">(</a><a id="23675" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25214" class="Function">fro-to</a> <a id="23682" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23611" class="Bound">xs</a> <a id="23685" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23614" class="Bound">ys</a><a id="23687" class="Symbol">)</a>
  <a id="23691" class="Keyword">where</a>
    <a id="23701" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23701" class="Function">IsHead</a> <a id="23708" class="Symbol">:</a> <a id="23710" href="1--Type-Theory.1-2--Inductive-Types.html#15363" class="Datatype">List</a> <a id="23715" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23608" class="Bound">A</a> <a id="23717" class="Symbol">→</a> <a id="23719" href="Library.Primitive.html#422" class="Primitive">Type</a>
    <a id="23728" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23701" class="Function">IsHead</a> <a id="23735" href="1--Type-Theory.1-2--Inductive-Types.html#15394" class="InductiveConstructor">[]</a> <a id="23738" class="Symbol">=</a> <a id="23740" href="1--Type-Theory.1-2--Inductive-Types.html#8971" class="Datatype">⊤</a>
    <a id="23746" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23701" class="Function">IsHead</a> <a id="23753" class="Symbol">(_</a> <a id="23756" href="1--Type-Theory.1-2--Inductive-Types.html#15444" class="InductiveConstructor Operator">::</a> <a id="23759" class="Symbol">_)</a> <a id="23762" class="Symbol">=</a> <a id="23764" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6308" class="Datatype">∅</a>
    <a id="23770" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23770" class="Function">[]≠::</a> <a id="23776" class="Symbol">:</a> <a id="23778" class="Symbol">{</a><a id="23779" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23779" class="Bound">x</a> <a id="23781" class="Symbol">:</a> <a id="23783" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23608" class="Bound">A</a><a id="23784" class="Symbol">}</a> <a id="23786" class="Symbol">→</a> <a id="23788" class="Symbol">{</a><a id="23789" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23789" class="Bound">xs</a> <a id="23792" class="Symbol">:</a> <a id="23794" href="1--Type-Theory.1-2--Inductive-Types.html#15363" class="Datatype">List</a> <a id="23799" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23608" class="Bound">A</a><a id="23800" class="Symbol">}</a> <a id="23802" class="Symbol">→</a> <a id="23804" href="1--Type-Theory.1-5--Propositions-as-Types.html#5483" class="Function Operator">¬</a> <a id="23806" href="1--Type-Theory.1-2--Inductive-Types.html#15394" class="InductiveConstructor">[]</a> <a id="23809" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="23811" class="Symbol">(</a><a id="23812" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23779" class="Bound">x</a> <a id="23814" href="1--Type-Theory.1-2--Inductive-Types.html#15444" class="InductiveConstructor Operator">::</a> <a id="23817" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23789" class="Bound">xs</a><a id="23819" class="Symbol">)</a>
    <a id="23825" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23770" class="Function">[]≠::</a> <a id="23831" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23831" class="Bound">p</a> <a id="23833" class="Symbol">=</a> <a id="23835" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#1180" class="Function">subst</a> <a id="23841" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23701" class="Function">IsHead</a> <a id="23848" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23831" class="Bound">p</a> <a id="23850" href="1--Type-Theory.1-2--Inductive-Types.html#8988" class="InductiveConstructor">tt</a>
    <a id="23857" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23857" class="Function">head-inj</a> <a id="23866" class="Symbol">:</a> <a id="23868" class="Symbol">{</a><a id="23869" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23869" class="Bound">x</a> <a id="23871" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23871" class="Bound">y</a> <a id="23873" class="Symbol">:</a> <a id="23875" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23608" class="Bound">A</a><a id="23876" class="Symbol">}</a> <a id="23878" class="Symbol">→</a> <a id="23880" class="Symbol">{</a><a id="23881" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23881" class="Bound">xs</a> <a id="23884" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23884" class="Bound">ys</a> <a id="23887" class="Symbol">:</a> <a id="23889" href="1--Type-Theory.1-2--Inductive-Types.html#15363" class="Datatype">List</a> <a id="23894" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23608" class="Bound">A</a><a id="23895" class="Symbol">}</a> <a id="23897" class="Symbol">→</a> <a id="23899" class="Symbol">(</a><a id="23900" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23869" class="Bound">x</a> <a id="23902" href="1--Type-Theory.1-2--Inductive-Types.html#15444" class="InductiveConstructor Operator">::</a> <a id="23905" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23881" class="Bound">xs</a><a id="23907" class="Symbol">)</a> <a id="23909" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="23911" class="Symbol">(</a><a id="23912" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23871" class="Bound">y</a> <a id="23914" href="1--Type-Theory.1-2--Inductive-Types.html#15444" class="InductiveConstructor Operator">::</a> <a id="23917" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23884" class="Bound">ys</a><a id="23919" class="Symbol">)</a> <a id="23921" class="Symbol">→</a> <a id="23923" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23869" class="Bound">x</a> <a id="23925" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="23927" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23871" class="Bound">y</a>
    <a id="23933" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23857" class="Function">head-inj</a> <a id="23942" class="Symbol">{</a><a id="23943" class="Argument">x</a> <a id="23945" class="Symbol">=</a> <a id="23947" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23947" class="Bound">x</a><a id="23948" class="Symbol">}</a> <a id="23950" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23950" class="Bound">p</a> <a id="23952" class="Symbol">=</a> <a id="23954" href="2--Paths-and-Identifications.2-1--Paths.html#17691" class="Function">ap</a> <a id="23957" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23984" class="Function">head</a> <a id="23962" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23950" class="Bound">p</a>
      <a id="23970" class="Keyword">where</a>
        <a id="23984" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23984" class="Function">head</a> <a id="23989" class="Symbol">:</a> <a id="23991" href="1--Type-Theory.1-2--Inductive-Types.html#15363" class="Datatype">List</a> <a id="23996" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23608" class="Bound">A</a> <a id="23998" class="Symbol">→</a> <a id="24000" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23608" class="Bound">A</a>
        <a id="24010" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23984" class="Function">head</a> <a id="24015" href="1--Type-Theory.1-2--Inductive-Types.html#15394" class="InductiveConstructor">[]</a> <a id="24018" class="Symbol">=</a> <a id="24020" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23947" class="Bound">x</a>
        <a id="24030" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23984" class="Function">head</a> <a id="24035" class="Symbol">(</a><a id="24036" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24036" class="Bound">h</a> <a id="24038" href="1--Type-Theory.1-2--Inductive-Types.html#15444" class="InductiveConstructor Operator">::</a> <a id="24041" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24041" class="Bound">hs</a><a id="24043" class="Symbol">)</a> <a id="24045" class="Symbol">=</a> <a id="24047" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24036" class="Bound">h</a>
    <a id="24053" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24053" class="Function">tail-inj</a> <a id="24062" class="Symbol">:</a> <a id="24064" class="Symbol">{</a><a id="24065" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24065" class="Bound">x</a> <a id="24067" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24067" class="Bound">y</a> <a id="24069" class="Symbol">:</a> <a id="24071" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23608" class="Bound">A</a><a id="24072" class="Symbol">}</a> <a id="24074" class="Symbol">→</a> <a id="24076" class="Symbol">{</a><a id="24077" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24077" class="Bound">xs</a> <a id="24080" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24080" class="Bound">ys</a> <a id="24083" class="Symbol">:</a> <a id="24085" href="1--Type-Theory.1-2--Inductive-Types.html#15363" class="Datatype">List</a> <a id="24090" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23608" class="Bound">A</a><a id="24091" class="Symbol">}</a> <a id="24093" class="Symbol">→</a> <a id="24095" class="Symbol">(</a><a id="24096" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24065" class="Bound">x</a> <a id="24098" href="1--Type-Theory.1-2--Inductive-Types.html#15444" class="InductiveConstructor Operator">::</a> <a id="24101" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24077" class="Bound">xs</a><a id="24103" class="Symbol">)</a> <a id="24105" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="24107" class="Symbol">(</a><a id="24108" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24067" class="Bound">y</a> <a id="24110" href="1--Type-Theory.1-2--Inductive-Types.html#15444" class="InductiveConstructor Operator">::</a> <a id="24113" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24080" class="Bound">ys</a><a id="24115" class="Symbol">)</a> <a id="24117" class="Symbol">→</a> <a id="24119" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24077" class="Bound">xs</a> <a id="24122" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="24124" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24080" class="Bound">ys</a>
    <a id="24131" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24053" class="Function">tail-inj</a> <a id="24140" class="Symbol">{</a><a id="24141" class="Argument">xs</a> <a id="24144" class="Symbol">=</a> <a id="24146" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24146" class="Bound">xs</a><a id="24148" class="Symbol">}</a> <a id="24150" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24150" class="Bound">p</a> <a id="24152" class="Symbol">=</a> <a id="24154" href="2--Paths-and-Identifications.2-1--Paths.html#17691" class="Function">ap</a> <a id="24157" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24184" class="Function">tail</a> <a id="24162" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24150" class="Bound">p</a>
      <a id="24170" class="Keyword">where</a>
        <a id="24184" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24184" class="Function">tail</a> <a id="24189" class="Symbol">:</a> <a id="24191" href="1--Type-Theory.1-2--Inductive-Types.html#15363" class="Datatype">List</a> <a id="24196" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23608" class="Bound">A</a> <a id="24198" class="Symbol">→</a> <a id="24200" href="1--Type-Theory.1-2--Inductive-Types.html#15363" class="Datatype">List</a> <a id="24205" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23608" class="Bound">A</a>
        <a id="24215" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24184" class="Function">tail</a> <a id="24220" href="1--Type-Theory.1-2--Inductive-Types.html#15394" class="InductiveConstructor">[]</a> <a id="24223" class="Symbol">=</a> <a id="24225" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24146" class="Bound">xs</a>
        <a id="24236" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24184" class="Function">tail</a> <a id="24241" class="Symbol">(</a><a id="24242" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24242" class="Bound">h</a> <a id="24244" href="1--Type-Theory.1-2--Inductive-Types.html#15444" class="InductiveConstructor Operator">::</a> <a id="24247" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24247" class="Bound">hs</a><a id="24249" class="Symbol">)</a> <a id="24251" class="Symbol">=</a> <a id="24253" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24247" class="Bound">hs</a>
    <a id="24260" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24260" class="Function">encode-refl</a> <a id="24272" class="Symbol">:</a> <a id="24274" class="Symbol">(</a><a id="24275" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24275" class="Bound">xs</a> <a id="24278" class="Symbol">:</a> <a id="24280" href="1--Type-Theory.1-2--Inductive-Types.html#15363" class="Datatype">List</a> <a id="24285" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23608" class="Bound">A</a><a id="24286" class="Symbol">)</a> <a id="24288" class="Symbol">→</a> <a id="24290" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24275" class="Bound">xs</a> <a id="24293" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23198" class="Function Operator">≡List</a> <a id="24299" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24275" class="Bound">xs</a>
    <a id="24306" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24260" class="Function">encode-refl</a> <a id="24318" href="1--Type-Theory.1-2--Inductive-Types.html#15394" class="InductiveConstructor">[]</a> <a id="24321" class="Symbol">=</a> <a id="24323" href="1--Type-Theory.1-2--Inductive-Types.html#8988" class="InductiveConstructor">tt</a>
    <a id="24330" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24260" class="Function">encode-refl</a> <a id="24342" class="Symbol">(_</a> <a id="24345" href="1--Type-Theory.1-2--Inductive-Types.html#15444" class="InductiveConstructor Operator">::</a> <a id="24348" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24348" class="Bound">xs</a><a id="24350" class="Symbol">)</a> <a id="24352" class="Symbol">=</a> <a id="24354" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a> <a id="24359" href="Library.Prelude.html#1090" class="InductiveConstructor Operator">,</a> <a id="24361" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24260" class="Function">encode-refl</a> <a id="24373" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24348" class="Bound">xs</a>
    <a id="24380" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24380" class="Function">encode</a> <a id="24387" class="Symbol">:</a> <a id="24389" class="Symbol">(</a><a id="24390" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24390" class="Bound">xs</a> <a id="24393" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24393" class="Bound">ys</a> <a id="24396" class="Symbol">:</a> <a id="24398" href="1--Type-Theory.1-2--Inductive-Types.html#15363" class="Datatype">List</a> <a id="24403" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23608" class="Bound">A</a><a id="24404" class="Symbol">)</a> <a id="24406" class="Symbol">→</a> <a id="24408" class="Symbol">(</a><a id="24409" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24409" class="Bound">p</a> <a id="24411" class="Symbol">:</a> <a id="24413" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24390" class="Bound">xs</a> <a id="24416" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="24418" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24393" class="Bound">ys</a><a id="24420" class="Symbol">)</a> <a id="24422" class="Symbol">→</a> <a id="24424" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24390" class="Bound">xs</a> <a id="24427" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23198" class="Function Operator">≡List</a> <a id="24433" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24393" class="Bound">ys</a>
    <a id="24440" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24380" class="Function">encode</a> <a id="24447" href="1--Type-Theory.1-2--Inductive-Types.html#15394" class="InductiveConstructor">[]</a> <a id="24450" href="1--Type-Theory.1-2--Inductive-Types.html#15394" class="InductiveConstructor">[]</a> <a id="24453" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24453" class="Bound">p</a> <a id="24455" class="Symbol">=</a> <a id="24457" href="1--Type-Theory.1-2--Inductive-Types.html#8988" class="InductiveConstructor">tt</a>
    <a id="24464" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24380" class="Function">encode</a> <a id="24471" href="1--Type-Theory.1-2--Inductive-Types.html#15394" class="InductiveConstructor">[]</a> <a id="24474" class="Symbol">(</a><a id="24475" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24475" class="Bound">x</a> <a id="24477" href="1--Type-Theory.1-2--Inductive-Types.html#15444" class="InductiveConstructor Operator">::</a> <a id="24480" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24480" class="Bound">ys</a><a id="24482" class="Symbol">)</a> <a id="24484" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24484" class="Bound">p</a> <a id="24486" class="Symbol">=</a> <a id="24488" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23770" class="Function">[]≠::</a> <a id="24494" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24484" class="Bound">p</a>
    <a id="24500" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24380" class="Function">encode</a> <a id="24507" class="Symbol">(</a><a id="24508" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24508" class="Bound">x</a> <a id="24510" href="1--Type-Theory.1-2--Inductive-Types.html#15444" class="InductiveConstructor Operator">::</a> <a id="24513" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24513" class="Bound">xs</a><a id="24515" class="Symbol">)</a> <a id="24517" href="1--Type-Theory.1-2--Inductive-Types.html#15394" class="InductiveConstructor">[]</a> <a id="24520" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24520" class="Bound">p</a> <a id="24522" class="Symbol">=</a> <a id="24524" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23770" class="Function">[]≠::</a> <a id="24530" class="Symbol">(</a><a id="24531" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#24347" class="Function">sym</a> <a id="24535" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24520" class="Bound">p</a><a id="24536" class="Symbol">)</a>
    <a id="24542" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24380" class="Function">encode</a> <a id="24549" class="Symbol">(</a><a id="24550" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24550" class="Bound">x</a> <a id="24552" href="1--Type-Theory.1-2--Inductive-Types.html#15444" class="InductiveConstructor Operator">::</a> <a id="24555" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24555" class="Bound">xs</a><a id="24557" class="Symbol">)</a> <a id="24559" class="Symbol">(</a><a id="24560" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24560" class="Bound">y</a> <a id="24562" href="1--Type-Theory.1-2--Inductive-Types.html#15444" class="InductiveConstructor Operator">::</a> <a id="24565" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24565" class="Bound">ys</a><a id="24567" class="Symbol">)</a> <a id="24569" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24569" class="Bound">p</a> <a id="24571" class="Symbol">=</a> <a id="24573" class="Symbol">(</a><a id="24574" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23857" class="Function">head-inj</a> <a id="24583" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24569" class="Bound">p</a><a id="24584" class="Symbol">)</a> <a id="24586" href="Library.Prelude.html#1090" class="InductiveConstructor Operator">,</a> <a id="24588" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24380" class="Function">encode</a> <a id="24595" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24555" class="Bound">xs</a> <a id="24598" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24565" class="Bound">ys</a> <a id="24601" class="Symbol">(</a><a id="24602" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24053" class="Function">tail-inj</a> <a id="24611" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24569" class="Bound">p</a><a id="24612" class="Symbol">)</a>
    <a id="24618" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24618" class="Function">decode</a> <a id="24625" class="Symbol">:</a> <a id="24627" class="Symbol">(</a><a id="24628" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24628" class="Bound">xs</a> <a id="24631" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24631" class="Bound">ys</a> <a id="24634" class="Symbol">:</a> <a id="24636" href="1--Type-Theory.1-2--Inductive-Types.html#15363" class="Datatype">List</a> <a id="24641" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23608" class="Bound">A</a><a id="24642" class="Symbol">)</a> <a id="24644" class="Symbol">→</a> <a id="24646" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24628" class="Bound">xs</a> <a id="24649" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23198" class="Function Operator">≡List</a> <a id="24655" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24631" class="Bound">ys</a> <a id="24658" class="Symbol">→</a> <a id="24660" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24628" class="Bound">xs</a> <a id="24663" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="24665" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24631" class="Bound">ys</a>
    <a id="24672" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24618" class="Function">decode</a> <a id="24679" href="1--Type-Theory.1-2--Inductive-Types.html#15394" class="InductiveConstructor">[]</a> <a id="24682" href="1--Type-Theory.1-2--Inductive-Types.html#15394" class="InductiveConstructor">[]</a> <a id="24685" class="Symbol">_</a> <a id="24687" class="Symbol">=</a> <a id="24689" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a>
    <a id="24698" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24618" class="Function">decode</a> <a id="24705" href="1--Type-Theory.1-2--Inductive-Types.html#15394" class="InductiveConstructor">[]</a> <a id="24708" class="Symbol">(_</a> <a id="24711" href="1--Type-Theory.1-2--Inductive-Types.html#15444" class="InductiveConstructor Operator">::</a> <a id="24714" class="Symbol">_)</a> <a id="24717" class="Symbol">()</a>
    <a id="24724" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24618" class="Function">decode</a> <a id="24731" class="Symbol">(</a><a id="24732" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24732" class="Bound">x</a> <a id="24734" href="1--Type-Theory.1-2--Inductive-Types.html#15444" class="InductiveConstructor Operator">::</a> <a id="24737" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24737" class="Bound">xs</a><a id="24739" class="Symbol">)</a> <a id="24741" href="1--Type-Theory.1-2--Inductive-Types.html#15394" class="InductiveConstructor">[]</a> <a id="24744" class="Symbol">()</a>
    <a id="24751" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24618" class="Function">decode</a> <a id="24758" class="Symbol">(</a><a id="24759" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24759" class="Bound">x</a> <a id="24761" href="1--Type-Theory.1-2--Inductive-Types.html#15444" class="InductiveConstructor Operator">::</a> <a id="24764" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24764" class="Bound">xs</a><a id="24766" class="Symbol">)</a> <a id="24768" class="Symbol">(</a><a id="24769" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24769" class="Bound">y</a> <a id="24771" href="1--Type-Theory.1-2--Inductive-Types.html#15444" class="InductiveConstructor Operator">::</a> <a id="24774" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24774" class="Bound">ys</a><a id="24776" class="Symbol">)</a> <a id="24778" class="Symbol">(</a><a id="24779" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24779" class="Bound">p</a> <a id="24781" href="Library.Prelude.html#1090" class="InductiveConstructor Operator">,</a> <a id="24783" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24783" class="Bound">c</a><a id="24784" class="Symbol">)</a> <a id="24786" class="Symbol">=</a> <a id="24788" href="2--Paths-and-Identifications.2-1--Paths.html#18205" class="Function">ap-bin</a> <a id="24795" href="1--Type-Theory.1-2--Inductive-Types.html#15444" class="InductiveConstructor Operator">_::_</a> <a id="24800" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24779" class="Bound">p</a> <a id="24802" class="Symbol">(</a><a id="24803" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24618" class="Function">decode</a> <a id="24810" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24764" class="Bound">xs</a> <a id="24813" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24774" class="Bound">ys</a> <a id="24816" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24783" class="Bound">c</a><a id="24817" class="Symbol">)</a>
    <a id="24823" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24823" class="Function">to-fro</a> <a id="24830" class="Symbol">:</a> <a id="24832" class="Symbol">(</a><a id="24833" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24833" class="Bound">xs</a> <a id="24836" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24836" class="Bound">ys</a> <a id="24839" class="Symbol">:</a> <a id="24841" href="1--Type-Theory.1-2--Inductive-Types.html#15363" class="Datatype">List</a> <a id="24846" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23608" class="Bound">A</a><a id="24847" class="Symbol">)</a> <a id="24849" class="Symbol">→</a> <a id="24851" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#1716" class="Function">isSection</a> <a id="24861" class="Symbol">(</a><a id="24862" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24380" class="Function">encode</a> <a id="24869" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24833" class="Bound">xs</a> <a id="24872" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24836" class="Bound">ys</a><a id="24874" class="Symbol">)</a> <a id="24876" class="Symbol">(</a><a id="24877" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24618" class="Function">decode</a> <a id="24884" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24833" class="Bound">xs</a> <a id="24887" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24836" class="Bound">ys</a><a id="24889" class="Symbol">)</a>
    <a id="24895" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24823" class="Function">to-fro</a> <a id="24902" href="1--Type-Theory.1-2--Inductive-Types.html#15394" class="InductiveConstructor">[]</a> <a id="24905" href="1--Type-Theory.1-2--Inductive-Types.html#15394" class="InductiveConstructor">[]</a> <a id="24908" href="1--Type-Theory.1-2--Inductive-Types.html#8988" class="InductiveConstructor">tt</a> <a id="24911" class="Symbol">=</a> <a id="24913" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a>
    <a id="24922" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24823" class="Function">to-fro</a> <a id="24929" href="1--Type-Theory.1-2--Inductive-Types.html#15394" class="InductiveConstructor">[]</a> <a id="24932" class="Symbol">(</a><a id="24933" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24933" class="Bound">x</a> <a id="24935" href="1--Type-Theory.1-2--Inductive-Types.html#15444" class="InductiveConstructor Operator">::</a> <a id="24938" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24938" class="Bound">ys</a><a id="24940" class="Symbol">)</a> <a id="24942" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24942" class="Bound">c</a> <a id="24944" class="Symbol">=</a> <a id="24946" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6971" class="Function">∅-rec</a> <a id="24952" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24942" class="Bound">c</a>
    <a id="24958" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24823" class="Function">to-fro</a> <a id="24965" class="Symbol">(</a><a id="24966" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24966" class="Bound">x</a> <a id="24968" href="1--Type-Theory.1-2--Inductive-Types.html#15444" class="InductiveConstructor Operator">::</a> <a id="24971" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24971" class="Bound">xs</a><a id="24973" class="Symbol">)</a> <a id="24975" href="1--Type-Theory.1-2--Inductive-Types.html#15394" class="InductiveConstructor">[]</a> <a id="24978" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24978" class="Bound">c</a> <a id="24980" class="Symbol">=</a> <a id="24982" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6971" class="Function">∅-rec</a> <a id="24988" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24978" class="Bound">c</a>
    <a id="24994" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24823" class="Function">to-fro</a> <a id="25001" class="Symbol">(</a><a id="25002" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25002" class="Bound">x</a> <a id="25004" href="1--Type-Theory.1-2--Inductive-Types.html#15444" class="InductiveConstructor Operator">::</a> <a id="25007" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25007" class="Bound">xs</a><a id="25009" class="Symbol">)</a> <a id="25011" class="Symbol">(</a><a id="25012" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25012" class="Bound">y</a> <a id="25014" href="1--Type-Theory.1-2--Inductive-Types.html#15444" class="InductiveConstructor Operator">::</a> <a id="25017" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25017" class="Bound">ys</a><a id="25019" class="Symbol">)</a> <a id="25021" class="Symbol">(</a><a id="25022" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25022" class="Bound">p</a> <a id="25024" href="Library.Prelude.html#1090" class="InductiveConstructor Operator">,</a> <a id="25026" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25026" class="Bound">q</a><a id="25027" class="Symbol">)</a> <a id="25029" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25029" class="Bound">i</a> <a id="25031" class="Symbol">=</a> <a id="25033" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25022" class="Bound">p</a> <a id="25035" href="Library.Prelude.html#1090" class="InductiveConstructor Operator">,</a> <a id="25037" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24823" class="Function">to-fro</a> <a id="25044" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25007" class="Bound">xs</a> <a id="25047" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25017" class="Bound">ys</a> <a id="25050" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25026" class="Bound">q</a> <a id="25052" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25029" class="Bound">i</a>
    <a id="25058" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25058" class="Function">fro-to-refl</a> <a id="25070" class="Symbol">:</a> <a id="25072" class="Symbol">(</a><a id="25073" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25073" class="Bound">x</a> <a id="25075" class="Symbol">:</a> <a id="25077" href="1--Type-Theory.1-2--Inductive-Types.html#15363" class="Datatype">List</a> <a id="25082" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23608" class="Bound">A</a><a id="25083" class="Symbol">)</a> <a id="25085" class="Symbol">→</a> <a id="25087" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24618" class="Function">decode</a> <a id="25094" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25073" class="Bound">x</a> <a id="25096" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25073" class="Bound">x</a> <a id="25098" class="Symbol">(</a><a id="25099" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24380" class="Function">encode</a> <a id="25106" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25073" class="Bound">x</a> <a id="25108" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25073" class="Bound">x</a> <a id="25110" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a><a id="25114" class="Symbol">)</a> <a id="25116" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="25118" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a>
    <a id="25127" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25058" class="Function">fro-to-refl</a> <a id="25139" href="1--Type-Theory.1-2--Inductive-Types.html#15394" class="InductiveConstructor">[]</a> <a id="25142" class="Symbol">=</a> <a id="25144" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a>
    <a id="25153" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25058" class="Function">fro-to-refl</a> <a id="25165" class="Symbol">(</a><a id="25166" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25166" class="Bound">x</a> <a id="25168" href="1--Type-Theory.1-2--Inductive-Types.html#15444" class="InductiveConstructor Operator">::</a> <a id="25171" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25171" class="Bound">xs</a><a id="25173" class="Symbol">)</a> <a id="25175" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25175" class="Bound">i</a> <a id="25177" class="Symbol">=</a> <a id="25179" href="2--Paths-and-Identifications.2-1--Paths.html#17691" class="Function">ap</a> <a id="25182" class="Symbol">(</a><a id="25183" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25166" class="Bound">x</a> <a id="25185" href="1--Type-Theory.1-2--Inductive-Types.html#15444" class="InductiveConstructor Operator">::_</a><a id="25188" class="Symbol">)</a> <a id="25190" class="Symbol">(</a><a id="25191" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25058" class="Function">fro-to-refl</a> <a id="25203" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25171" class="Bound">xs</a> <a id="25206" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25175" class="Bound">i</a><a id="25207" class="Symbol">)</a> 
    <a id="25214" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25214" class="Function">fro-to</a> <a id="25221" class="Symbol">:</a> <a id="25223" class="Symbol">(</a><a id="25224" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25224" class="Bound">xs</a> <a id="25227" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25227" class="Bound">ys</a> <a id="25230" class="Symbol">:</a> <a id="25232" href="1--Type-Theory.1-2--Inductive-Types.html#15363" class="Datatype">List</a> <a id="25237" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#23608" class="Bound">A</a><a id="25238" class="Symbol">)</a> <a id="25240" class="Symbol">→</a> <a id="25242" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#4019" class="Function">isRetract</a> <a id="25252" class="Symbol">(</a><a id="25253" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24380" class="Function">encode</a> <a id="25260" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25224" class="Bound">xs</a> <a id="25263" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25227" class="Bound">ys</a><a id="25265" class="Symbol">)</a> <a id="25267" class="Symbol">(</a><a id="25268" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24618" class="Function">decode</a> <a id="25275" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25224" class="Bound">xs</a> <a id="25278" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25227" class="Bound">ys</a><a id="25280" class="Symbol">)</a>
    <a id="25286" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25214" class="Function">fro-to</a> <a id="25293" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25293" class="Bound">xs</a> <a id="25296" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25296" class="Bound">ys</a> <a id="25299" class="Symbol">=</a> <a id="25301" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#5445" class="Function">J</a> <a id="25303" class="Symbol">(λ</a> <a id="25306" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25306" class="Bound">c</a> <a id="25308" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25308" class="Bound">p</a> <a id="25310" class="Symbol">→</a> <a id="25312" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24618" class="Function">decode</a> <a id="25319" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25293" class="Bound">xs</a> <a id="25322" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25306" class="Bound">c</a> <a id="25324" class="Symbol">(</a><a id="25325" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#24380" class="Function">encode</a> <a id="25332" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25293" class="Bound">xs</a> <a id="25335" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25306" class="Bound">c</a> <a id="25337" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25308" class="Bound">p</a><a id="25338" class="Symbol">)</a> <a id="25340" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="25342" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25308" class="Bound">p</a><a id="25343" class="Symbol">)</a> <a id="25345" class="Symbol">(</a><a id="25346" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25058" class="Function">fro-to-refl</a> <a id="25358" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#25293" class="Bound">xs</a><a id="25360" class="Symbol">)</a>
</pre>
<h2 id="references-and-further-reading"><a class="header" href="#references-and-further-reading">References and Further Reading</a></h2>
<p>mvrnote: encode-decode</p>

                  </main>
                  <div class="sidetoc">
                    <nav class="pagetoc"></nav>
                  </div>
                </div>
            </div>
        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="theme/pagetoc.js"></script>


    </div>
    </body>
</html>
