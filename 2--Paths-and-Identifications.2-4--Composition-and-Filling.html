<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>2.4: Composition and Filling - Introduction to Homotopy Type Theory in Cubical Agda</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/css/Agda.css">
        <link rel="stylesheet" href="theme/css/Agda-highlight.css">
        <link rel="stylesheet" href="theme/pagetoc.css">

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "coal" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="index.html">Introduction</a></li><li class="chapter-item affix "><a href="INSTALLING_AGDA.html">Installing Agda</a></li><li class="chapter-item affix "><a href="USING_AGDA.html">Using Agda</a></li><li class="chapter-item affix "><li class="part-title">Type Theory</li><li class="chapter-item "><a href="1--Type-Theory.1-1--Types-and-Functions.html">1.1: Types and Functions</a></li><li class="chapter-item "><a href="1--Type-Theory.1-2--Inductive-Types.html">1.2: Inductive Types</a></li><li class="chapter-item "><a href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html">1.3: Universes and More Inductive Types</a></li><li class="chapter-item "><a href="1--Type-Theory.1-4--Record-Types-and-Copatterns.html">1.4: Record Types and Copatterns</a></li><li class="chapter-item "><a href="1--Type-Theory.1-5--Propositions-as-Types.html">1.5: Propositions as Types</a></li><li class="chapter-item affix "><li class="part-title">Paths and Identifications</li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-1--Paths.html">2.1: Paths</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html">2.2: Equivalences and Path Algebra</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html">2.3: Substitution and J</a></li><li class="chapter-item expanded "><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html" class="active">2.4: Composition and Filling</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-5--Transport.html">2.5: Transport</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-6--Univalence.html">2.6: Univalence</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-7--Propositions.html">2.7: Propositions</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-8--Sets-and-Higher-Types.html">2.8: Sets and Higher Types</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-9--Contractible-Maps.html">2.9: Contractible Maps</a></li><li class="chapter-item affix "><li class="part-title">Topics</li><li class="chapter-item "><a href="3--Topics.3-1--Structure-Identity-Principle.html">3.1: The Structure Identity Principle</a></li><li class="chapter-item "><a href="3--Topics.3-2--Modalities.html">3.2: Modalities</a></li><li class="chapter-item "><a href="3--Topics.3-3--Constructive-Logic.html">3.3: Constructive Logic</a></li><li class="spacer"></li><li class="chapter-item affix "><li class="part-title">Behind-the-Scenes</li><li class="chapter-item "><a href="Library.Primitive.html">Primitives</a></li><li class="chapter-item "><a href="Library.Prelude.html">Prelude</a></li><li class="chapter-item "><a href="Library.Univalence.html">Univalence</a></li><li class="spacer"></li><li class="chapter-item affix "><a href="UNICODE_DICTIONARY.html">Unicode Dictionary</a></li><li class="chapter-item affix "><a href="ACKNOWLEDGEMENTS.html">Acknowledgements</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <!-- <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li> -->
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Introduction to Homotopy Type Theory in Cubical Agda</h1>

                    <div class="right-buttons">
                        <a href="https://github.com/CQTS/introduction-to-cubical" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                  <main>
                    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<!--
<pre class="Agda"><a id="10" class="Keyword">module</a> <a id="17" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html" class="Module">2--Paths-and-Identifications.2-4--Composition-and-Filling</a> <a id="75" class="Keyword">where</a>

<a id="82" class="Keyword">open</a> <a id="87" class="Keyword">import</a> <a id="94" href="Library.Prelude.html" class="Module">Library.Prelude</a>
<a id="110" class="Keyword">open</a> <a id="115" class="Keyword">import</a> <a id="122" href="1--Type-Theory.1-1--Types-and-Functions.html" class="Module">1--Type-Theory.1-1--Types-and-Functions</a>
<a id="162" class="Keyword">open</a> <a id="167" class="Keyword">import</a> <a id="174" href="1--Type-Theory.1-2--Inductive-Types.html" class="Module">1--Type-Theory.1-2--Inductive-Types</a>
<a id="210" class="Keyword">open</a> <a id="215" class="Keyword">import</a> <a id="222" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html" class="Module">1--Type-Theory.1-3--Universes-and-More-Inductive-Types</a>
<a id="277" class="Keyword">open</a> <a id="282" class="Keyword">import</a> <a id="289" href="1--Type-Theory.1-5--Propositions-as-Types.html" class="Module">1--Type-Theory.1-5--Propositions-as-Types</a>
<a id="331" class="Keyword">open</a> <a id="336" class="Keyword">import</a> <a id="343" href="2--Paths-and-Identifications.2-1--Paths.html" class="Module">2--Paths-and-Identifications.2-1--Paths</a>
<a id="383" class="Keyword">open</a> <a id="388" class="Keyword">import</a> <a id="395" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html" class="Module">2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra</a>
<a id="459" class="Keyword">open</a> <a id="464" class="Keyword">import</a> <a id="471" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html" class="Module">2--Paths-and-Identifications.2-3--Substitution-and-J</a>

<a id="525" class="Keyword">private</a>
  <a id="535" class="Keyword">variable</a>
    <a id="548" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#548" class="Generalizable">ℓ</a> <a id="550" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#550" class="Generalizable">ℓ&#39;</a> <a id="553" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#553" class="Generalizable">ℓ&#39;&#39;</a> <a id="557" class="Symbol">:</a> <a id="559" href="Library.Primitive.html#1060" class="Postulate">Level</a>
    <a id="569" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a> <a id="571" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#571" class="Generalizable">B</a> <a id="573" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#573" class="Generalizable">C</a> <a id="575" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#575" class="Generalizable">D</a> <a id="577" class="Symbol">:</a> <a id="579" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="584" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#548" class="Generalizable">ℓ</a>
    <a id="590" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="592" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a> <a id="594" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a> <a id="596" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#596" class="Generalizable">w</a> <a id="598" class="Symbol">:</a> <a id="600" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a>
</pre>-->
<h1 id="lecture-2-4-composition-and-filling"><a class="header" href="#lecture-2-4-composition-and-filling">Lecture 2-4: Composition and Filling</a></h1>
<p>Cubical Agda adds a number of primitive notions that make working with
paths-between-paths easier. To understand how they work, we will
really have to start putting the “cubical” in Cubical Agda.</p>
<p>In this lecture, we will learn about partial elements (open boxes) and
composition (filling those open boxes). Before we dive into all these
cubical features, it will be worth exploring an analogue in the more
familiar Boolean world.</p>
<h2 id="warm-up-boolean-partial-elements"><a class="header" href="#warm-up-boolean-partial-elements">Warm-up: Boolean Partial Elements</a></h2>
<p>Let’s revisit our function <code class="Agda"><a href="1--Type-Theory.1-5--Propositions-as-Types.html#2556" class="Function">IsTrue</a></code> which converts a Boolean into a
type. Recall that we defined <code>IsTrue true</code> to be <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#8426" class="Datatype">⊤</a></code>, with its
element <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#8443" class="InductiveConstructor">tt</a></code> a proof that <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1042" class="InductiveConstructor">true</a></code> is in fact <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1042" class="InductiveConstructor">true</a></code>. And we
defined <code>IsTrue false</code> to be <code class="Agda"><a href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6308" class="Datatype">∅</a></code>, since there should be no way to
prove that <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1057" class="InductiveConstructor">false</a></code> is <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1042" class="InductiveConstructor">true</a></code>. Let’s give a special name to the
element <code>tt : IsTrue true</code> to help us remember. (Yes, this is a bit
silly.)</p>
<pre class="Agda"><a id="IsTrue-true"></a><a id="1539" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1539" class="Function">IsTrue-true</a> <a id="1551" class="Symbol">:</a> <a id="1553" href="1--Type-Theory.1-5--Propositions-as-Types.html#2556" class="Function">IsTrue</a> <a id="1560" href="1--Type-Theory.1-2--Inductive-Types.html#1042" class="InductiveConstructor">true</a>
<a id="1565" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1539" class="Function">IsTrue-true</a> <a id="1577" class="Symbol">=</a> <a id="1579" href="1--Type-Theory.1-2--Inductive-Types.html#8443" class="InductiveConstructor">tt</a>
</pre>
<p>A <em>Boolean partial element</em> of a type <code>A</code> is an element of <code>A</code> which
exists only conditionally, with the condition being some Boolean <code>φ</code>.</p>
<pre class="Agda"><a id="BooleanPartial"></a><a id="1731" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1731" class="Function">BooleanPartial</a> <a id="1746" class="Symbol">:</a> <a id="1748" href="1--Type-Theory.1-2--Inductive-Types.html#1022" class="Datatype">Bool</a> <a id="1753" class="Symbol">→</a> <a id="1755" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="1760" class="Symbol">→</a> <a id="1762" href="Library.Primitive.html#422" class="Primitive">Type</a>
<a id="1767" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1731" class="Function">BooleanPartial</a> <a id="1782" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1782" class="Bound">φ</a> <a id="1784" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1784" class="Bound">A</a> <a id="1786" class="Symbol">=</a> <a id="1788" href="1--Type-Theory.1-5--Propositions-as-Types.html#2556" class="Function">IsTrue</a> <a id="1795" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1782" class="Bound">φ</a> <a id="1797" class="Symbol">→</a> <a id="1799" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1784" class="Bound">A</a>
</pre>
<p>Any actual element of <code>A</code> is also a partially defined one: if it
always exists, then it certainly still exists when <code>φ</code> happens to be
<code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1042" class="InductiveConstructor">true</a></code>.</p>
<pre class="Agda"><a id="just"></a><a id="1955" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1955" class="Function">just</a> <a id="1960" class="Symbol">:</a> <a id="1962" class="Symbol">{</a><a id="1963" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1963" class="Bound">A</a> <a id="1965" class="Symbol">:</a> <a id="1967" href="Library.Primitive.html#422" class="Primitive">Type</a><a id="1971" class="Symbol">}</a> <a id="1973" class="Symbol">{</a><a id="1974" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1974" class="Bound">φ</a> <a id="1976" class="Symbol">:</a> <a id="1978" href="1--Type-Theory.1-2--Inductive-Types.html#1022" class="Datatype">Bool</a><a id="1982" class="Symbol">}</a> <a id="1984" class="Symbol">→</a> <a id="1986" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1963" class="Bound">A</a> <a id="1988" class="Symbol">→</a> <a id="1990" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1731" class="Function">BooleanPartial</a> <a id="2005" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1974" class="Bound">φ</a> <a id="2007" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1963" class="Bound">A</a>
<a id="2009" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1955" class="Function">just</a> <a id="2014" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#2014" class="Bound">a</a> <a id="2016" class="Symbol">=</a> <a id="2018" class="Symbol">λ</a> <a id="2020" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#2020" class="Bound">_</a> <a id="2022" class="Symbol">→</a> <a id="2024" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#2014" class="Bound">a</a>
</pre>
<p>And there’s always the completely undefined element of <code>A</code> which is
defined when <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1057" class="InductiveConstructor">false</a></code> is <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1042" class="InductiveConstructor">true</a></code>, i.e., never.</p>
<pre class="Agda"><a id="nothing"></a><a id="2153" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#2153" class="Function">nothing</a> <a id="2161" class="Symbol">:</a> <a id="2163" class="Symbol">{</a><a id="2164" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#2164" class="Bound">A</a> <a id="2166" class="Symbol">:</a> <a id="2168" href="Library.Primitive.html#422" class="Primitive">Type</a><a id="2172" class="Symbol">}</a> <a id="2174" class="Symbol">→</a> <a id="2176" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1731" class="Function">BooleanPartial</a> <a id="2191" href="1--Type-Theory.1-2--Inductive-Types.html#1057" class="InductiveConstructor">false</a> <a id="2197" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#2164" class="Bound">A</a>
<a id="2199" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#2153" class="Function">nothing</a> <a id="2207" class="Symbol">=</a> <a id="2209" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6971" class="Function">∅-rec</a>
</pre>
<p>Now, you might wonder at the utility of these definitions. After all,
if <code>φ</code> is <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1042" class="InductiveConstructor">true</a></code>, then <code>BooleanPartial φ A</code> is <code>⊤ → A</code>, which is
equivalent to <code>A</code>. If <code>φ</code> is <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1057" class="InductiveConstructor">false</a></code>, then <code>BooleanPartial φ A</code> is <code>∅ → A</code>, which is equivalent to <code>⊤</code>. In other words, this type is either
equivalent to <code>A</code> or <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#8426" class="Datatype">⊤</a></code>, depending on whether <code>φ</code> is <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1042" class="InductiveConstructor">true</a></code> or
<code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1057" class="InductiveConstructor">false</a></code> — what’s the big deal?</p>
<p>The reason that <code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1731" class="Function">BooleanPartial</a></code> is an interesting type is that,
when we use it, we don’t think of <code>φ</code> as representing a single Boolean
value; we think of <code>φ</code> as representing a Boolean <em>formula</em>. That is,
we will usually be using this type <em>in context</em> and in that case, <code>φ</code>
can be some formula involving other Booleans (or other things
entirely).</p>
<p>Consider this function which divides a natural number evenly in two,
for example.</p>
<pre class="Agda"><a id="halfOf"></a><a id="3041" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3041" class="Function">halfOf</a> <a id="3048" class="Symbol">:</a> <a id="3050" class="Symbol">(</a><a id="3051" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3051" class="Bound">n</a> <a id="3053" class="Symbol">:</a> <a id="3055" href="Library.Prelude.html#3629" class="Datatype">ℕ</a><a id="3056" class="Symbol">)</a> <a id="3058" class="Symbol">→</a> <a id="3060" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1731" class="Function">BooleanPartial</a> <a id="3075" class="Symbol">(</a><a id="3076" href="1--Type-Theory.1-2--Inductive-Types.html#12097" class="Function">isEven</a> <a id="3083" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3051" class="Bound">n</a><a id="3084" class="Symbol">)</a> <a id="3086" href="Library.Prelude.html#3629" class="Datatype">ℕ</a>
<a id="3088" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3041" class="Function">halfOf</a> <a id="3095" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a>          <a id="3109" class="Symbol">=</a> <a id="3111" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1955" class="Function">just</a> <a id="3116" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a>         <a id="3129" class="Comment">-- half of 0 is 0</a>
<a id="3147" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3041" class="Function">halfOf</a> <a id="3154" class="Symbol">(</a><a id="3155" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="3159" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a><a id="3163" class="Symbol">)</a>    <a id="3168" class="Symbol">=</a> <a id="3170" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#2153" class="Function">nothing</a>           <a id="3188" class="Comment">-- half of 1 is not defined</a>
<a id="3216" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3041" class="Function">halfOf</a> <a id="3223" class="Symbol">(</a><a id="3224" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="3228" class="Symbol">(</a><a id="3229" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="3233" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3233" class="Bound">n</a><a id="3234" class="Symbol">))</a> <a id="3237" class="Symbol">=</a> <a id="3239" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="3243" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#3978" class="Function Operator">∘</a> <a id="3245" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3041" class="Function">halfOf</a> <a id="3252" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3233" class="Bound">n</a>    <a id="3257" class="Comment">-- half of (n + 2) is one more than half of n</a>
</pre>
<p>This function cannot produce a natural number on every input, since
not every input can be divided evenly in two. We can, however, think
of <code>halfOf n</code> as a <em>partially defined</em> element of <code class="Agda"><a href="Library.Prelude.html#3629" class="Datatype">ℕ</a></code>; specifically,
<code>halfOf n</code> is only well-defined when <code>isEven n</code> is <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1042" class="InductiveConstructor">true</a></code> — or, in
other words, <code>IsTrue-true : IsTrue (isEven n)</code> using our definitions
above.</p>
<p>Here’s another example of a partially defined element, which shows
what can happen when <code>φ</code> is a Boolean formula.</p>
<pre class="Agda"><a id="zeroOrOne-Partial"></a><a id="3783" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3783" class="Function">zeroOrOne-Partial</a> <a id="3801" class="Symbol">:</a> <a id="3803" class="Symbol">(</a><a id="3804" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3804" class="Bound">b</a> <a id="3806" class="Symbol">:</a> <a id="3808" href="1--Type-Theory.1-2--Inductive-Types.html#1022" class="Datatype">Bool</a><a id="3812" class="Symbol">)</a> <a id="3814" class="Symbol">→</a> <a id="3816" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1731" class="Function">BooleanPartial</a> <a id="3831" class="Symbol">(</a><a id="3832" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3804" class="Bound">b</a> <a id="3834" href="1--Type-Theory.1-2--Inductive-Types.html#3861" class="Function Operator">or</a> <a id="3837" class="Symbol">(</a><a id="3838" href="1--Type-Theory.1-2--Inductive-Types.html#1637" class="Function">not</a> <a id="3842" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3804" class="Bound">b</a><a id="3843" class="Symbol">))</a> <a id="3846" href="Library.Prelude.html#3629" class="Datatype">ℕ</a>
<a id="3848" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3783" class="Function">zeroOrOne-Partial</a> <a id="3866" href="1--Type-Theory.1-2--Inductive-Types.html#1042" class="InductiveConstructor">true</a> <a id="3871" class="Symbol">=</a> <a id="3873" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1955" class="Function">just</a> <a id="3878" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a>
<a id="3883" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3783" class="Function">zeroOrOne-Partial</a> <a id="3901" href="1--Type-Theory.1-2--Inductive-Types.html#1057" class="InductiveConstructor">false</a> <a id="3907" class="Symbol">=</a> <a id="3909" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1955" class="Function">just</a> <a id="3914" class="Symbol">(</a><a id="3915" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="3919" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a><a id="3923" class="Symbol">)</a>
</pre>
<p>We can ask whether a partial element <code>p</code> <em>extends</em> to an fully defined
element <code>x</code>. That is, is there an <code>x : A</code> so that <code>p ≡ just x</code>? In
this case, we say that “<code>x</code> <em>extends</em> <code>p</code>”. For <code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3783" class="Function">zeroOrOne-Partial</a></code>
we can say the answer is yes.</p>
<pre class="Agda"><a id="zeroOrOne-Total"></a><a id="4173" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4173" class="Function">zeroOrOne-Total</a> <a id="4189" class="Symbol">:</a> <a id="4191" href="1--Type-Theory.1-2--Inductive-Types.html#1022" class="Datatype">Bool</a> <a id="4196" class="Symbol">→</a> <a id="4198" href="Library.Prelude.html#3629" class="Datatype">ℕ</a>
<a id="4200" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4173" class="Function">zeroOrOne-Total</a> <a id="4216" href="1--Type-Theory.1-2--Inductive-Types.html#1042" class="InductiveConstructor">true</a> <a id="4221" class="Symbol">=</a> <a id="4223" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a>
<a id="4228" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4173" class="Function">zeroOrOne-Total</a> <a id="4244" href="1--Type-Theory.1-2--Inductive-Types.html#1057" class="InductiveConstructor">false</a> <a id="4250" class="Symbol">=</a> <a id="4252" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="4256" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a>

<a id="zeroOrOne-PartialExtends"></a><a id="4262" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4262" class="Function">zeroOrOne-PartialExtends</a> <a id="4287" class="Symbol">:</a> <a id="4289" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3783" class="Function">zeroOrOne-Partial</a> <a id="4307" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="4309" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1955" class="Function">just</a> <a id="4314" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#3978" class="Function Operator">∘</a> <a id="4316" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4173" class="Function">zeroOrOne-Total</a>
<a id="4332" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4262" class="Function">zeroOrOne-PartialExtends</a> <a id="4357" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4357" class="Bound">i</a> <a id="4359" href="1--Type-Theory.1-2--Inductive-Types.html#1042" class="InductiveConstructor">true</a> <a id="4364" class="Symbol">=</a> <a id="4366" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1955" class="Function">just</a> <a id="4371" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a>
<a id="4376" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4262" class="Function">zeroOrOne-PartialExtends</a> <a id="4401" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4401" class="Bound">i</a> <a id="4403" href="1--Type-Theory.1-2--Inductive-Types.html#1057" class="InductiveConstructor">false</a> <a id="4409" class="Symbol">=</a> <a id="4411" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1955" class="Function">just</a> <a id="4416" class="Symbol">(</a><a id="4417" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="4421" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a><a id="4425" class="Symbol">)</a>
</pre>
<p>In the case of <code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3041" class="Function">halfOf</a></code> above, the answer is no — not every
natural number can be evenly divided in half.</p>
<p>Here’s a practical exercise in Boolean partial functions. Write a
function which takes the first <code>n</code> elements of a list, as long as the
list has at least <code>n</code> elements.</p>
<pre class="Agda"><a id="_≤_"></a><a id="4716" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4716" class="Function Operator">_≤_</a> <a id="4720" class="Symbol">:</a> <a id="4722" href="Library.Prelude.html#3629" class="Datatype">ℕ</a> <a id="4724" class="Symbol">→</a> <a id="4726" href="Library.Prelude.html#3629" class="Datatype">ℕ</a> <a id="4728" class="Symbol">→</a> <a id="4730" href="1--Type-Theory.1-2--Inductive-Types.html#1022" class="Datatype">Bool</a>
<a id="4735" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a> <a id="4740" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4716" class="Function Operator">≤</a> <a id="4742" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4742" class="Bound">m</a> <a id="4744" class="Symbol">=</a> <a id="4746" href="1--Type-Theory.1-2--Inductive-Types.html#1042" class="InductiveConstructor">true</a>
<a id="4751" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="4755" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4755" class="Bound">n</a> <a id="4757" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4716" class="Function Operator">≤</a> <a id="4759" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a> <a id="4764" class="Symbol">=</a> <a id="4766" href="1--Type-Theory.1-2--Inductive-Types.html#1057" class="InductiveConstructor">false</a>
<a id="4772" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="4776" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4776" class="Bound">n</a> <a id="4778" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4716" class="Function Operator">≤</a> <a id="4780" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="4784" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4784" class="Bound">m</a> <a id="4786" class="Symbol">=</a> <a id="4788" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4776" class="Bound">n</a> <a id="4790" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4716" class="Function Operator">≤</a> <a id="4792" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4784" class="Bound">m</a>

<a id="take"></a><a id="4795" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4795" class="Function">take</a> <a id="4800" class="Symbol">:</a> <a id="4802" class="Symbol">(</a><a id="4803" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4803" class="Bound">n</a> <a id="4805" class="Symbol">:</a> <a id="4807" href="Library.Prelude.html#3629" class="Datatype">ℕ</a><a id="4808" class="Symbol">)</a> <a id="4810" class="Symbol">(</a><a id="4811" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4811" class="Bound">L</a> <a id="4813" class="Symbol">:</a> <a id="4815" href="1--Type-Theory.1-2--Inductive-Types.html#14730" class="Datatype">List</a> <a id="4820" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="4821" class="Symbol">)</a> <a id="4823" class="Symbol">→</a> <a id="4825" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1731" class="Function">BooleanPartial</a> <a id="4840" class="Symbol">(</a><a id="4841" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4803" class="Bound">n</a> <a id="4843" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4716" class="Function Operator">≤</a> <a id="4845" href="1--Type-Theory.1-2--Inductive-Types.html#16985" class="Function">length</a> <a id="4852" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4811" class="Bound">L</a><a id="4853" class="Symbol">)</a> <a id="4855" class="Symbol">(</a><a id="4856" href="1--Type-Theory.1-2--Inductive-Types.html#14730" class="Datatype">List</a> <a id="4861" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="4862" class="Symbol">)</a>
<a id="4864" class="Comment">-- Exercise:</a>
<a id="4877" class="Comment">-- take n L = {!!}</a>
</pre><!--
<pre class="Agda"><a id="4909" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4795" class="Function">take</a> <a id="4914" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a> <a id="4919" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4919" class="Bound">L</a> <a id="4921" class="Symbol">=</a> <a id="4923" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1955" class="Function">just</a> <a id="4928" href="1--Type-Theory.1-2--Inductive-Types.html#14761" class="InductiveConstructor">[]</a>
<a id="4931" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4795" class="Function">take</a> <a id="4936" class="Symbol">(</a><a id="4937" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="4941" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4941" class="Bound">n</a><a id="4942" class="Symbol">)</a> <a id="4944" href="1--Type-Theory.1-2--Inductive-Types.html#14761" class="InductiveConstructor">[]</a> <a id="4947" class="Symbol">=</a> <a id="4949" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#2153" class="Function">nothing</a>
<a id="4957" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4795" class="Function">take</a> <a id="4962" class="Symbol">(</a><a id="4963" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="4967" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4967" class="Bound">n</a><a id="4968" class="Symbol">)</a> <a id="4970" class="Symbol">(</a><a id="4971" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4971" class="Bound">x</a> <a id="4973" href="1--Type-Theory.1-2--Inductive-Types.html#14811" class="InductiveConstructor Operator">::</a> <a id="4976" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4976" class="Bound">L</a><a id="4977" class="Symbol">)</a> <a id="4979" class="Symbol">=</a> <a id="4981" class="Symbol">(</a><a id="4982" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4971" class="Bound">x</a> <a id="4984" href="1--Type-Theory.1-2--Inductive-Types.html#14811" class="InductiveConstructor Operator">::_</a><a id="4987" class="Symbol">)</a> <a id="4989" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#3978" class="Function Operator">∘</a> <a id="4991" class="Symbol">(</a><a id="4992" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4795" class="Function">take</a> <a id="4997" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4967" class="Bound">n</a> <a id="4999" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4976" class="Bound">L</a><a id="5000" class="Symbol">)</a>

</pre>-->
<pre class="Agda">
<a id="5016" class="Comment">-- mvrnote: tests</a>
</pre>
<h2 id="cubical-partial-elements"><a class="header" href="#cubical-partial-elements">Cubical Partial Elements</a></h2>
<p>Now we come to partial elements defined on intervals. As we saw in
Lecture 2-X, the interval <code class="Agda"><a href="Library.Primitive.html#1675" class="Datatype">I</a></code> has the structure of a De Morgan
algebra. This lets us write down logical formulas with cubical
variables, like <code>i ∨ (j ∧ ~ k)</code>. Thinking of <code class="Agda"><a href="Library.Primitive.html#1675" class="Datatype">I</a></code> as the
topological unit interval <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span>, this formula is meant to represent
the function <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">max</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">min</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">))</span></span></span></span>; thinking logically, it seems
to say “<code>i</code> or (<code>j</code> and not <code>k</code>)”. It will be useful to take both
perspectives.</p>
<p>Similarly to the Booleans, we will say that a formula like <code>i ∨ (j ∧ ~ k)</code> is “true” when it equals <code>i1</code>. This corresponds to a subset of the
cube <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span></span>, namely, the set <span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">max</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">min</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">))</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">}</span><span class="mord">.</span></span></span></span></span> We can therefore think of these interval formulas as
describing “subsets of cubes <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span>”, even though <code class="Agda"><a href="Library.Primitive.html#1675" class="Datatype">I</a></code> isn’t actually
a set that we can take subsets of.</p>
<p>For example, the formula <code>i ∨ ~ i</code> (which can be read “<code>i</code> or not
<code>i</code>”) should correspond to the subset <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">max</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">}</span></span></span></span>, which a bit of thinking shows is the subset of the interval
consisting of the endpoints <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span>. We will therefore
think of the formula <code>i ∨ ~ i</code> as defining the part of the interval
consisting only of the endpoints <code class="Agda"><a href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a></code> and <code class="Agda"><a href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a></code>.</p>
<p>Since <code>i ∨ ~ i</code> is a common pattern, it’s reasonable to give it a
name. We call it <code>∂ i</code>, since <code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6469" class="Function">∂</a></code> typically means “boundary” in
mathematics.</p>
<pre class="Agda"><a id="∂"></a><a id="6469" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6469" class="Function">∂</a> <a id="6471" class="Symbol">:</a> <a id="6473" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="6475" class="Symbol">→</a> <a id="6477" href="Library.Primitive.html#1675" class="Datatype">I</a>
<a id="6479" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6469" class="Function">∂</a> <a id="6481" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6481" class="Bound">i</a> <a id="6483" class="Symbol">=</a> <a id="6485" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6481" class="Bound">i</a> <a id="6487" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="6489" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="6491" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6481" class="Bound">i</a>
</pre>
<p>Corresponding to <code class="Agda"><a href="1--Type-Theory.1-5--Propositions-as-Types.html#2556" class="Function">IsTrue</a></code> for Booleans, Agda uses a built-in type
family <code>I → Type</code> called <code class="Agda"><a href="Library.Primitive.html#2485" class="Postulate">IsOne</a></code> (roughly). And corresponding to
<code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1731" class="Function">BooleanPartial</a></code>, Agda provides a primitive type former <code>Partial φ A</code> where <code>φ : I</code> is an element of the interval — thought of as a
formula — and <code>A</code> is a type. Interpreting the formula <code>φ</code> as
describing part of a cube, the type <code>Partial φ A</code> is then functions
from that piece of the cube to <code>A</code>.</p>
<p>We can see that <code>i ∨ ~ i</code> really behaves like the endpoints of the
interval by defining a <code class="Agda"><a href="Library.Primitive.html#3205" class="Primitive">Partial</a></code> element on it which sends <code class="Agda"><a href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a></code> to
<code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1042" class="InductiveConstructor">true</a></code> and <code class="Agda"><a href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a></code> to <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1057" class="InductiveConstructor">false</a></code>:</p>
<pre class="Agda"><a id="trueOrFalse"></a><a id="7114" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#7114" class="Function">trueOrFalse</a> <a id="7126" class="Symbol">:</a> <a id="7128" class="Symbol">(</a><a id="7129" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#7129" class="Bound">i</a> <a id="7131" class="Symbol">:</a> <a id="7133" href="Library.Primitive.html#1675" class="Datatype">I</a><a id="7134" class="Symbol">)</a> <a id="7136" class="Symbol">→</a> <a id="7138" href="Library.Primitive.html#3205" class="Primitive">Partial</a> <a id="7146" class="Symbol">(</a><a id="7147" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#7129" class="Bound">i</a> <a id="7149" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="7151" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="7153" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#7129" class="Bound">i</a><a id="7154" class="Symbol">)</a> <a id="7156" href="1--Type-Theory.1-2--Inductive-Types.html#1022" class="Datatype">Bool</a>
<a id="7161" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#7114" class="Function">trueOrFalse</a> <a id="7173" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#7173" class="Bound">i</a> <a id="7175" class="Symbol">(</a><a id="7176" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#7173" class="Bound">i</a> <a id="7178" class="Symbol">=</a> <a id="7180" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="7182" class="Symbol">)</a> <a id="7184" class="Symbol">=</a> <a id="7186" href="1--Type-Theory.1-2--Inductive-Types.html#1042" class="InductiveConstructor">true</a>
<a id="7191" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#7114" class="Function">trueOrFalse</a> <a id="7203" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#7203" class="Bound">i</a> <a id="7205" class="Symbol">(</a><a id="7206" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#7203" class="Bound">i</a> <a id="7208" class="Symbol">=</a> <a id="7210" href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a><a id="7212" class="Symbol">)</a> <a id="7214" class="Symbol">=</a> <a id="7216" href="1--Type-Theory.1-2--Inductive-Types.html#1057" class="InductiveConstructor">false</a>
</pre>
<p>This uses some built-in Agda syntax to “pattern match” on the hidden
element of <code>IsOne (i ∨ ~ i)</code>. Agda checks that all of the formula is
covered, so the above definition fails if one of the lines is omitted.
And in more complicated situations, Agda makes sure that the different
cases are exactly equal wherever they overlap. (We’ll see this below.)</p>
<p>We can’t turn <code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#7114" class="Function">trueOrFalse</a></code> into a <em>total</em> element of
<code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1022" class="Datatype">Bool</a></code> which is <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1042" class="InductiveConstructor">true</a></code> on <code class="Agda"><a href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a></code> and <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1057" class="InductiveConstructor">false</a></code>
on <code class="Agda"><a href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a></code>; there is no way to jump from <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1042" class="InductiveConstructor">true</a></code> to
<code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#1057" class="InductiveConstructor">false</a></code> as we move along the interval. (We proved this in
<code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2490" class="Function">true≢false</a></code>).</p>
<p>But because the partial element only has to be defined on the
endpoints, we can say what the values of <code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#7114" class="Function">trueOrFalse</a></code> on those
endpoints are and not worry about what happens in between.</p>
<p>For a more interesting partial element, consider an open box:</p>
<pre><code>    ∙         ∙
    ^         ^              ^    
    |         |            j |        
    |         |              ∙ — &gt;    
    ∙ — — — &gt; ∙                i      
</code></pre>
<p>This open box is part of a square, so we are in the context of two
interval variables <code>i j : I</code>. Now we need to figure out how to
describe the open box as a formula, which is to say, as a function
into <code>I</code>.</p>
<pre class="Agda"><a id="open-box"></a><a id="8468" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8468" class="Function">open-box</a> <a id="8477" class="Symbol">:</a> <a id="8479" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="8481" class="Symbol">→</a> <a id="8483" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="8485" class="Symbol">→</a> <a id="8487" href="Library.Primitive.html#1675" class="Datatype">I</a>
<a id="8489" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8468" class="Function">open-box</a> <a id="8498" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8498" class="Bound">i</a> <a id="8500" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8500" class="Bound">j</a> <a id="8502" class="Symbol">=</a>
<a id="8504" class="Comment">-- (continued below)</a>
</pre>
<p>We want an expression <code>open-box i j : I</code> which equals <code>i1</code> exactly
when the coordinates <code>(i, j)</code> lie on the open box. Now, <code>i</code> and <code>j</code>
are in the open box if they are in the left of the box, the right of
the box, or the bottom of the box. So our <code>φ i j</code> will be the “union”</p>
<pre class="Agda">  <a id="8811" class="Symbol">(</a><a id="8812" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8883" class="Function">right-of-box</a> <a id="8825" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8498" class="Bound">i</a> <a id="8827" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8500" class="Bound">j</a><a id="8828" class="Symbol">)</a> <a id="8830" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="8832" class="Symbol">(</a><a id="8833" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8911" class="Function">left-of-box</a> <a id="8845" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8498" class="Bound">i</a> <a id="8847" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8500" class="Bound">j</a><a id="8848" class="Symbol">)</a> <a id="8850" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="8852" class="Symbol">(</a><a id="8853" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8938" class="Function">bottom-of-box</a> <a id="8867" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8498" class="Bound">i</a> <a id="8869" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8500" class="Bound">j</a><a id="8870" class="Symbol">)</a>
  <a id="8874" class="Keyword">where</a>
   <a id="8883" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8883" class="Function">right-of-box</a> <a id="8896" class="Symbol">:</a> <a id="8898" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="8900" class="Symbol">→</a> <a id="8902" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="8904" class="Symbol">→</a> <a id="8906" href="Library.Primitive.html#1675" class="Datatype">I</a>
   <a id="8911" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8911" class="Function">left-of-box</a> <a id="8923" class="Symbol">:</a> <a id="8925" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="8927" class="Symbol">→</a> <a id="8929" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="8931" class="Symbol">→</a> <a id="8933" href="Library.Primitive.html#1675" class="Datatype">I</a>
   <a id="8938" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8938" class="Function">bottom-of-box</a> <a id="8952" class="Symbol">:</a> <a id="8954" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="8956" class="Symbol">→</a> <a id="8958" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="8960" class="Symbol">→</a> <a id="8962" href="Library.Primitive.html#1675" class="Datatype">I</a>
</pre>
<p>of those three sides. Now, <code>(i, j)</code> is on the right of the box just
when <code>i = i1</code>.</p>
<pre class="Agda">   <a id="9060" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8883" class="Function">right-of-box</a> <a id="9073" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9073" class="Bound">i</a> <a id="9075" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9075" class="Bound">j</a> <a id="9077" class="Symbol">=</a> <a id="9079" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9073" class="Bound">i</a>
</pre>
<p>Similarly, <code>(i, j)</code> is on the left of the box when <code>i = i0</code>, or in
other words when <code>~ i = i1</code>.</p>
<pre class="Agda">   <a id="9190" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8911" class="Function">left-of-box</a> <a id="9202" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9202" class="Bound">i</a> <a id="9204" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9204" class="Bound">j</a> <a id="9206" class="Symbol">=</a> <a id="9208" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="9210" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9202" class="Bound">i</a>
</pre>
<p>Finally, <code>(i, j)</code> is on the bottom of the box when <code>j = i0</code>, or when
<code>~ j = i1</code>, so</p>
<pre class="Agda">   <a id="9309" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8938" class="Function">bottom-of-box</a> <a id="9323" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9323" class="Bound">i</a> <a id="9325" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9325" class="Bound">j</a> <a id="9327" class="Symbol">=</a> <a id="9329" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="9331" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9325" class="Bound">j</a>
</pre>
<p>This completes our definition of the function <code>open-box : I → I → I</code>.
There was no need to split it out, we could have simply written a
single formula</p>
<pre class="Agda"><a id="open-box&#39;"></a><a id="9494" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9494" class="Function">open-box&#39;</a> <a id="9504" class="Symbol">:</a> <a id="9506" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="9508" class="Symbol">→</a> <a id="9510" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="9512" class="Symbol">→</a> <a id="9514" href="Library.Primitive.html#1675" class="Datatype">I</a>
<a id="9516" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9494" class="Function">open-box&#39;</a> <a id="9526" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9526" class="Bound">i</a> <a id="9528" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9528" class="Bound">j</a> <a id="9530" class="Symbol">=</a> <a id="9532" class="Symbol">(</a><a id="9533" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="9535" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9526" class="Bound">i</a><a id="9536" class="Symbol">)</a> <a id="9538" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="9540" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9526" class="Bound">i</a> <a id="9542" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="9544" class="Symbol">(</a><a id="9545" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="9547" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9528" class="Bound">j</a><a id="9548" class="Symbol">)</a>
</pre>
<p>Try it yourself: describe a formula which gives the two sides of a box</p>
<pre><code>    ∙         ∙
    ^         ^              ^
    |         |            j |
    |         |              ∙ — &gt;
    ∙         ∙                i
</code></pre>
<pre class="Agda"><a id="sides-of-square"></a><a id="9798" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9798" class="Function">sides-of-square</a> <a id="9814" class="Symbol">:</a> <a id="9816" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="9818" class="Symbol">→</a> <a id="9820" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="9822" class="Symbol">→</a> <a id="9824" href="Library.Primitive.html#1675" class="Datatype">I</a>
<a id="9826" class="Comment">-- Exercise:</a>
<a id="9839" class="Comment">-- sides-of-square i j = {!!}</a>
</pre><!--
<pre class="Agda"><a id="9882" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9798" class="Function">sides-of-square</a> <a id="9898" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9898" class="Bound">i</a> <a id="9900" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9900" class="Bound">j</a> <a id="9902" class="Symbol">=</a> <a id="9904" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6469" class="Function">∂</a> <a id="9906" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9898" class="Bound">i</a>

</pre>-->
<p>How about a three dimensional example. Come up with a formula to
describe this part of the cube consisting of the bottom face and the
three sides shown in the picture</p>
<pre><code>            ∙                   ∙
          / ^                 / ^
        /   |               /   |
      /     |             /     |
    ∙ — — — — — — — — &gt; .       |
    ^       |           ^       |                    ^   j
    |       |           |       |                  k | /
    |       |           |       |                    ∙ — &gt;
    |       |           |       |                      i
    |       . — — — — — | — — &gt; ∙
    |     /             |     /
    |   /               |   /
    | /                 | /
    ∙ — — — — — — — — &gt; ∙
</code></pre>
<pre class="Agda"><a id="exercise-shape"></a><a id="10707" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#10707" class="Function">exercise-shape</a> <a id="10722" class="Symbol">:</a> <a id="10724" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="10726" class="Symbol">→</a> <a id="10728" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="10730" class="Symbol">→</a> <a id="10732" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="10734" class="Symbol">→</a> <a id="10736" href="Library.Primitive.html#1675" class="Datatype">I</a>
<a id="10738" class="Comment">-- Exercise:</a>
<a id="10751" class="Comment">-- exercise-shape i j k = {!!}</a>
</pre><!--
<pre class="Agda"><a id="10795" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#10707" class="Function">exercise-shape</a> <a id="10810" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#10810" class="Bound">i</a> <a id="10812" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#10812" class="Bound">j</a> <a id="10814" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#10814" class="Bound">k</a> <a id="10816" class="Symbol">=</a> <a id="10818" class="Symbol">(</a><a id="10819" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6469" class="Function">∂</a> <a id="10821" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#10810" class="Bound">i</a><a id="10822" class="Symbol">)</a> <a id="10824" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="10826" class="Symbol">(</a><a id="10827" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="10829" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#10812" class="Bound">j</a><a id="10830" class="Symbol">)</a> <a id="10832" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="10834" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#10814" class="Bound">k</a>

</pre>-->
<h2 id="extensibility-and-composition"><a class="header" href="#extensibility-and-composition">Extensibility and Composition</a></h2>
<p>Just as we did for Boolean partial elements, we can ask whether a
partial element defined on some part of a cube can be extended to the
whole cube. The partial element <code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#7114" class="Function">trueOrFalse</a></code> above definitely
cannot extend to a whole element, since a whole element <code>p i : Bool</code>
for <code>i : I</code> for which <code>p i0 = true</code> and <code>p i1 = false</code> would be a path
<code>true ≡ false</code>, something we’ve already checked is contradictory in
<code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2490" class="Function">true≢false</a></code>.</p>
<p>However, Agda bakes in guarantees that certain partial elements can be
extended to total ones. In short, Agda allows us to “close off open
boxes” using an operation called <code class="Agda"><a href="Library.Prelude.html#650" class="Function">hcomp</a></code> (which stands for
“homogeneous composition”). An open box is a part of the cube which
contains the entire bottom face and some pieces of the side walls.</p>
<div class="info">
<p><span class="info-label">Aside:</span>
Every element of a type universe <code>Type ℓ</code> is supports <code class="Agda"><a href="Library.Prelude.html#650" class="Function">hcomp</a></code>, and
that encompasses almost every type that we use in practice. For
technical reasons, some of Agda’s back-end plumbing types do not
support <code class="Agda"><a href="Library.Prelude.html#650" class="Function">hcomp</a></code>. The only ones that get mentioned in these notes are
the interval <code class="Agda"><a href="Library.Primitive.html#1675" class="Datatype">I</a></code> itself, the <code class="Agda"><a href="Library.Primitive.html#2485" class="Postulate">IsOne</a></code> predicate, and partial
elements <code class="Agda"><a href="Library.Primitive.html#3253" class="Primitive">PartialP</a></code>. The types for which <code class="Agda"><a href="Library.Prelude.html#650" class="Function">hcomp</a></code> works are called
<em>fibrant</em> types, taking a name from homotopy theory. The types for
which <code class="Agda"><a href="Library.Prelude.html#650" class="Function">hcomp</a></code> fails live in their own universe hierarchy <code class="Agda"><a href="Library.Primitive.html#583" class="Primitive">SSet</a></code>.</p>
</div>
<p>Let’s see an example, which implements a crucial operation on paths:
path composition. The most natural notion of path composition in our
cubical setting is “double composition”, which composes three paths in
a line</p>
<pre><code>    r         p         q
w — — — &gt; x — — — &gt; y — — — &gt; z
</code></pre>
<p>by drawing them as three sides of a square:</p>
<pre><code>      w         z
      ^         ^            ^
sym r |         | q        j |
      |         |            ∙ — &gt;
      x — — — &gt; y              i
           p
</code></pre>
<p>We can represent this open box as a partial element:</p>
<pre class="Agda"><a id="double-comp-box"></a><a id="12779" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12779" class="Function">double-comp-box</a> <a id="12795" class="Symbol">:</a> <a id="12797" class="Symbol">{</a><a id="12798" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12798" class="Bound">x</a> <a id="12800" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12800" class="Bound">y</a> <a id="12802" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12802" class="Bound">z</a> <a id="12804" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12804" class="Bound">w</a> <a id="12806" class="Symbol">:</a> <a id="12808" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="12809" class="Symbol">}</a>
  <a id="12813" class="Symbol">→</a> <a id="12815" class="Symbol">(</a><a id="12816" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12816" class="Bound">r</a> <a id="12818" class="Symbol">:</a> <a id="12820" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12804" class="Bound">w</a> <a id="12822" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="12824" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12798" class="Bound">x</a><a id="12825" class="Symbol">)</a> <a id="12827" class="Symbol">(</a><a id="12828" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12828" class="Bound">p</a> <a id="12830" class="Symbol">:</a> <a id="12832" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12798" class="Bound">x</a> <a id="12834" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="12836" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12800" class="Bound">y</a><a id="12837" class="Symbol">)</a> <a id="12839" class="Symbol">(</a><a id="12840" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12840" class="Bound">q</a> <a id="12842" class="Symbol">:</a> <a id="12844" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12800" class="Bound">y</a> <a id="12846" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="12848" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12802" class="Bound">z</a><a id="12849" class="Symbol">)</a>
  <a id="12853" class="Symbol">→</a> <a id="12855" class="Symbol">(</a><a id="12856" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12856" class="Bound">i</a> <a id="12858" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12858" class="Bound">j</a> <a id="12860" class="Symbol">:</a> <a id="12862" href="Library.Primitive.html#1675" class="Datatype">I</a><a id="12863" class="Symbol">)</a> <a id="12865" class="Symbol">→</a> <a id="12867" href="Library.Primitive.html#3205" class="Primitive">Partial</a> <a id="12875" class="Symbol">(</a><a id="12876" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8468" class="Function">open-box</a> <a id="12885" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12856" class="Bound">i</a> <a id="12887" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12858" class="Bound">j</a><a id="12888" class="Symbol">)</a> <a id="12890" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a>
<a id="12892" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12779" class="Function">double-comp-box</a> <a id="12908" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12908" class="Bound">r</a> <a id="12910" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12910" class="Bound">p</a> <a id="12912" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12912" class="Bound">q</a> <a id="12914" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12914" class="Bound">i</a> <a id="12916" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12916" class="Bound">j</a> <a id="12918" class="Symbol">(</a><a id="12919" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12914" class="Bound">i</a> <a id="12921" class="Symbol">=</a> <a id="12923" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="12925" class="Symbol">)</a> <a id="12927" class="Symbol">=</a> <a id="12929" class="Symbol">(</a><a id="12930" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#22904" class="Function">sym</a> <a id="12934" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12908" class="Bound">r</a><a id="12935" class="Symbol">)</a> <a id="12937" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12916" class="Bound">j</a>
<a id="12939" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12779" class="Function">double-comp-box</a> <a id="12955" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12955" class="Bound">r</a> <a id="12957" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12957" class="Bound">p</a> <a id="12959" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12959" class="Bound">q</a> <a id="12961" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12961" class="Bound">i</a> <a id="12963" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12963" class="Bound">j</a> <a id="12965" class="Symbol">(</a><a id="12966" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12961" class="Bound">i</a> <a id="12968" class="Symbol">=</a> <a id="12970" href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a><a id="12972" class="Symbol">)</a> <a id="12974" class="Symbol">=</a> <a id="12976" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12959" class="Bound">q</a> <a id="12978" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12963" class="Bound">j</a>
<a id="12980" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12779" class="Function">double-comp-box</a> <a id="12996" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12996" class="Bound">r</a> <a id="12998" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12998" class="Bound">p</a> <a id="13000" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13000" class="Bound">q</a> <a id="13002" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13002" class="Bound">i</a> <a id="13004" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13004" class="Bound">j</a> <a id="13006" class="Symbol">(</a><a id="13007" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13004" class="Bound">j</a> <a id="13009" class="Symbol">=</a> <a id="13011" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="13013" class="Symbol">)</a> <a id="13015" class="Symbol">=</a> <a id="13017" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12998" class="Bound">p</a> <a id="13019" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13002" class="Bound">i</a>
</pre>
<p>We want to cap this box to get a path <code>w ≡ z</code>. This exactly what
<code class="Agda"><a href="Library.Prelude.html#650" class="Function">hcomp</a></code> does: speaking loosely, we have</p>
<pre><code>hcomp (the formula for where the sides are) 
      (the partial box)
  : (the type of full top face)
</code></pre>
<p>For this particular cube we get the “double composite” of the input
paths, which we will write as <code>r ∙∙ p ∙∙ q</code>.</p>
<pre class="Agda"><a id="_∙∙_∙∙_"></a><a id="13366" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13366" class="Function Operator">_∙∙_∙∙_</a> <a id="13374" class="Symbol">:</a> <a id="13376" class="Symbol">(</a><a id="13377" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13377" class="Bound">r</a> <a id="13379" class="Symbol">:</a> <a id="13381" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#596" class="Generalizable">w</a> <a id="13383" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="13385" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a><a id="13386" class="Symbol">)</a> <a id="13388" class="Symbol">→</a> <a id="13390" class="Symbol">(</a><a id="13391" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13391" class="Bound">p</a> <a id="13393" class="Symbol">:</a> <a id="13395" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="13397" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="13399" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a><a id="13400" class="Symbol">)</a> <a id="13402" class="Symbol">→</a> <a id="13404" class="Symbol">(</a><a id="13405" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13405" class="Bound">q</a> <a id="13407" class="Symbol">:</a> <a id="13409" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a> <a id="13411" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="13413" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a><a id="13414" class="Symbol">)</a> <a id="13416" class="Symbol">→</a> <a id="13418" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#596" class="Generalizable">w</a> <a id="13420" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="13422" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a>
<a id="13424" class="Symbol">(</a><a id="13425" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13425" class="Bound">r</a> <a id="13427" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13366" class="Function Operator">∙∙</a> <a id="13430" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13430" class="Bound">p</a> <a id="13432" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13366" class="Function Operator">∙∙</a> <a id="13435" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13435" class="Bound">q</a><a id="13436" class="Symbol">)</a> <a id="13438" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13438" class="Bound">i</a> <a id="13440" class="Symbol">=</a> <a id="13442" href="Library.Prelude.html#650" class="Function">hcomp</a> <a id="13448" class="Symbol">(</a><a id="13449" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6469" class="Function">∂</a> <a id="13451" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13438" class="Bound">i</a><a id="13452" class="Symbol">)</a> <a id="13454" class="Symbol">(</a><a id="13455" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12779" class="Function">double-comp-box</a> <a id="13471" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13425" class="Bound">r</a> <a id="13473" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13430" class="Bound">p</a> <a id="13475" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13435" class="Bound">q</a> <a id="13477" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13438" class="Bound">i</a><a id="13478" class="Symbol">)</a>
</pre>
<p>Writing more formally, <code class="Agda"><a href="Library.Prelude.html#650" class="Function">hcomp</a></code> takes in two arguments:</p>
<ul>
<li>
<p>A formula <code>φ : I</code>, specifying which sides of the box are going to be
present in the next argument.</p>
<p>For the double composite, we are specifying the left and right sides
of the square, that is, the places where where <code>∂ i</code> holds.</p>
</li>
<li>
<p>An open box <code>box : (j : I) → Partial (φ ∨ ~ j) A</code>. We can think of
<code>box</code> as specifying a vertical slice of the open box as <code>j</code> runs
from <code class="Agda"><a href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a></code> to <code class="Agda"><a href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a></code>. Each vertical slice will be defined in more
or fewer places depending on the formula <code>φ</code>. When <code>j</code> is <code class="Agda"><a href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a></code>,
the formula <code>φ ∨ ~ j</code> always holds and so these vertical slices are
all defined when <code>j = i0</code>.</p>
<p>For the double composite, <code>box j</code> is totally defined when <code>i = i0</code>,
because we are on the left side of the square in that case, and
similarly when <code>i = i1</code> and we are on the right side of the square.
Otherwise, we only know for sure that <code>box j</code> is defined when <code>j = i0</code>, in which case we are on the bottom of the square.</p>
</li>
</ul>
<p>And the result is an element <code>hcomp φ box : A</code> with the following
guarantee:</p>
<ul>
<li>
<p>If the formula <code>φ</code> holds, then <code>hcomp φ box</code> is identical to the
value of <code>box i1</code>, which we know is defined because <code>box</code> is known
to be defined when <code>φ</code> holds.</p>
<p>For the double composite, there are two places where <code>φ</code> holds: <code>i = i0</code> and <code>i = i1</code>. When <code>i = i0</code>, the value of <code>box i1</code> is <code>(sym r) i1 = r i0 = w</code>. When <code>i = i1</code>, the value of <code>box i1</code> is <code>q i1 = z</code>.</p>
</li>
</ul>
<p>This guarantee is the reason Agda knows that our definition is
actually a path <code>w ≡ z</code>!</p>
<div class="info">
<p><span class="info-label">Aside:</span>
We can use a pattern-matching <code>λ</code> to inline the definition of the
sides of the box when doing an <code class="Agda"><a href="Library.Prelude.html#650" class="Function">hcomp</a></code>. This is the same as
defining the sides separately, it just avoids giving them a name.</p>
<pre class="Agda"><a id="double-comp-inline"></a><a id="15248" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15248" class="Function">double-comp-inline</a> <a id="15267" class="Symbol">:</a> <a id="15269" class="Symbol">(</a><a id="15270" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15270" class="Bound">r</a> <a id="15272" class="Symbol">:</a> <a id="15274" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#596" class="Generalizable">w</a> <a id="15276" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="15278" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a><a id="15279" class="Symbol">)</a> <a id="15281" class="Symbol">(</a><a id="15282" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15282" class="Bound">p</a> <a id="15284" class="Symbol">:</a> <a id="15286" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="15288" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="15290" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a><a id="15291" class="Symbol">)</a> <a id="15293" class="Symbol">(</a><a id="15294" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15294" class="Bound">q</a> <a id="15296" class="Symbol">:</a> <a id="15298" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a> <a id="15300" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="15302" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a><a id="15303" class="Symbol">)</a> <a id="15305" class="Symbol">→</a> <a id="15307" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#596" class="Generalizable">w</a> <a id="15309" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="15311" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a>
<a id="15313" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15248" class="Function">double-comp-inline</a> <a id="15332" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15332" class="Bound">r</a> <a id="15334" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15334" class="Bound">p</a> <a id="15336" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15336" class="Bound">q</a> <a id="15338" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15338" class="Bound">i</a> 
  <a id="15343" class="Symbol">=</a> <a id="15345" href="Library.Prelude.html#650" class="Function">hcomp</a> <a id="15351" class="Symbol">(</a><a id="15352" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6469" class="Function">∂</a> <a id="15354" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15338" class="Bound">i</a><a id="15355" class="Symbol">)</a> <a id="15357" class="Symbol">(λ</a> <a id="15360" class="Symbol">{</a> <a id="15362" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15362" class="Bound">j</a> <a id="15364" class="Symbol">(</a><a id="15365" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15338" class="Bound">i</a> <a id="15367" class="Symbol">=</a> <a id="15369" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="15371" class="Symbol">)</a> <a id="15373" class="Symbol">→</a> <a id="15375" class="Symbol">(</a><a id="15376" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#22904" class="Function">sym</a> <a id="15380" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15332" class="Bound">r</a><a id="15381" class="Symbol">)</a> <a id="15383" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15362" class="Bound">j</a>
                   <a id="15404" class="Symbol">;</a> <a id="15406" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15406" class="Bound">j</a> <a id="15408" class="Symbol">(</a><a id="15409" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15338" class="Bound">i</a> <a id="15411" class="Symbol">=</a> <a id="15413" href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a><a id="15415" class="Symbol">)</a> <a id="15417" class="Symbol">→</a> <a id="15419" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15336" class="Bound">q</a> <a id="15421" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15406" class="Bound">j</a>
                   <a id="15442" class="Symbol">;</a> <a id="15444" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15444" class="Bound">j</a> <a id="15446" class="Symbol">(</a><a id="15447" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15444" class="Bound">j</a> <a id="15449" class="Symbol">=</a> <a id="15451" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="15453" class="Symbol">)</a> <a id="15455" class="Symbol">→</a> <a id="15457" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15334" class="Bound">p</a> <a id="15459" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15338" class="Bound">i</a> <a id="15461" class="Symbol">})</a>

<a id="15465" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15465" class="Function">_</a> <a id="15467" class="Symbol">=</a> <a id="15469" class="Symbol">λ</a> <a id="15471" class="Symbol">{</a><a id="15472" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15472" class="Bound">A</a> <a id="15474" class="Symbol">:</a> <a id="15476" href="Library.Primitive.html#422" class="Primitive">Type</a><a id="15480" class="Symbol">}</a> <a id="15482" class="Symbol">{</a><a id="15483" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15483" class="Bound">w</a> <a id="15485" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15485" class="Bound">x</a> <a id="15487" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15487" class="Bound">y</a> <a id="15489" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15489" class="Bound">z</a> <a id="15491" class="Symbol">:</a> <a id="15493" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15472" class="Bound">A</a><a id="15494" class="Symbol">}</a> <a id="15496" class="Symbol">(</a><a id="15497" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15497" class="Bound">r</a> <a id="15499" class="Symbol">:</a> <a id="15501" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15483" class="Bound">w</a> <a id="15503" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="15505" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15485" class="Bound">x</a><a id="15506" class="Symbol">)</a> <a id="15508" class="Symbol">(</a><a id="15509" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15509" class="Bound">p</a> <a id="15511" class="Symbol">:</a> <a id="15513" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15485" class="Bound">x</a> <a id="15515" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="15517" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15487" class="Bound">y</a><a id="15518" class="Symbol">)</a> <a id="15520" class="Symbol">(</a><a id="15521" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15521" class="Bound">q</a> <a id="15523" class="Symbol">:</a> <a id="15525" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15487" class="Bound">y</a> <a id="15527" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="15529" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15489" class="Bound">z</a><a id="15530" class="Symbol">)</a>
  <a id="15534" class="Symbol">→</a> <a id="15536" href="Library.Prelude.html#2894" class="InductiveConstructor">test-identical</a> 
    <a id="15556" class="Symbol">(</a><a id="15557" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15497" class="Bound">r</a> <a id="15559" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13366" class="Function Operator">∙∙</a> <a id="15562" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15509" class="Bound">p</a> <a id="15564" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13366" class="Function Operator">∙∙</a> <a id="15567" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15521" class="Bound">q</a><a id="15568" class="Symbol">)</a> 
    <a id="15575" class="Symbol">(</a><a id="15576" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15248" class="Function">double-comp-inline</a> <a id="15595" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15497" class="Bound">r</a> <a id="15597" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15509" class="Bound">p</a> <a id="15599" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15521" class="Bound">q</a><a id="15600" class="Symbol">)</a>
</pre>
</div>
<p>We are now ready to define ordinary composition of paths.</p>
<pre><code>         p ∙ q
      x ∙ ∙ ∙ &gt; z
      ^         ^            ^
 refl |         | q        j |
      |         |            ∙ — &gt;
      x — — — &gt; y              i
           p
</code></pre>
<pre class="Agda"><a id="15879" class="Keyword">infixr</a> <a id="15886" class="Number">30</a> <a id="15889" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15893" class="Function Operator">_∙_</a>
<a id="_∙_"></a><a id="15893" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15893" class="Function Operator">_∙_</a> <a id="15897" class="Symbol">:</a> <a id="15899" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="15901" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="15903" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a> <a id="15905" class="Symbol">→</a> <a id="15907" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a> <a id="15909" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="15911" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a> <a id="15913" class="Symbol">→</a> <a id="15915" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="15917" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="15919" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a>
<a id="15921" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15921" class="Bound">p</a> <a id="15923" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15893" class="Function Operator">∙</a> <a id="15925" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15925" class="Bound">q</a> <a id="15927" class="Symbol">=</a> <a id="15929" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a> <a id="15934" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13366" class="Function Operator">∙∙</a> <a id="15937" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15921" class="Bound">p</a> <a id="15939" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13366" class="Function Operator">∙∙</a> <a id="15942" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15925" class="Bound">q</a>
</pre>
<div class="info">
<p><span class="info-label">Aside:</span>
It seems like we shouldn’t really need to specify the left side of the
box in this definition. The following code seems like a fine way to
define the composite:</p>
<pre class="Agda"><a id="16126" class="Comment">{- Error!
_∙∙_ : x ≡ y → y ≡ z → x ≡ z
(p ∙∙ q) i = hcomp i (λ { j (i = i1) → q j 
                             ; j (j = i0) → p i })
-}</a>
</pre>
<p>The problem is that when a case is left off like this, Agda fills in
the missing side with another <code class="Agda"><a href="Library.Prelude.html#650" class="Function">hcomp</a></code> of a lower dimension. In
this case, it gives us <code>hcomp (λ ()) x</code> in the top left corner.
Unfortunately, this is is not exactly the same as <code>x</code>, so this fails
to give us a path <code>x ≡ z</code>. This is related to the fact that
transporting over <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a></code> does not give us the identity function
definitionally.</p>
</div>
<h2 id="constructing-cubes"><a class="header" href="#constructing-cubes">Constructing Cubes</a></h2>
<p>Let’s do an example of a proper 3D cube. Let’s say we want to
construct this square:</p>
<pre><code>        q
   y — — — &gt; z
   ^         ^
 p |         | q            ^
   |         |            j |
   x — — — &gt; y              ∙ — &gt;
        p                     i
</code></pre>
<pre class="Agda"><a id="diamond"></a><a id="16991" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#16991" class="Function">diamond</a> <a id="16999" class="Symbol">:</a> <a id="17001" class="Symbol">(</a><a id="17002" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#17002" class="Bound">p</a> <a id="17004" class="Symbol">:</a> <a id="17006" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="17008" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="17010" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a><a id="17011" class="Symbol">)</a> <a id="17013" class="Symbol">(</a><a id="17014" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#17014" class="Bound">q</a> <a id="17016" class="Symbol">:</a> <a id="17018" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a> <a id="17020" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="17022" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a><a id="17023" class="Symbol">)</a> <a id="17025" class="Symbol">→</a> <a id="17027" href="2--Paths-and-Identifications.2-1--Paths.html#23426" class="Function">Square</a> <a id="17034" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#17002" class="Bound">p</a> <a id="17036" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#17014" class="Bound">q</a> <a id="17038" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#17002" class="Bound">p</a> <a id="17040" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#17014" class="Bound">q</a>
</pre>
<p>To construct this via <code class="Agda"><a href="Library.Prelude.html#650" class="Function">hcomp</a></code>, we need to cook up a cube (using a
third dimension <code>k</code>) with this square as the top face, and where we
know definitions for all the remaining sides.</p>
<pre><code>                      q
            y — — — — — — — — &gt; z
      p   / ^             q   / ^
        /   |               /   |
      /     |   p         /     |
    x — — — — — — — — &gt; y       |
    ^       |           ^       | q                  ^   j
    |       |           |       |                  k | /
    |       |           |       |                    ∙ — &gt;
    |       |           |       |                      i
    |       ? — — — — — | — — &gt; ?
    |  ?  /             |     /
    |   /               |   /  ?
    | /                 | /
    ? — — — — — — — — &gt; ?
              ?
</code></pre>
<p>We can make some educated guesses about which <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#23426" class="Function">Square</a></code> will work
best as the bottom face. The bottom-left corner should be <code>x</code>, because
<code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a></code> is the only immediately available path that ends in <code>x</code>.
Similarly, the two bottom-middle corners should be <code>x</code> or <code>y</code>. If we
choose <code>x</code>, then two of the resulting faces will involve all of <code>x</code>,
<code>y</code> and <code>z</code>, so in the hope of keeping thing simple we go with <code>y</code>.
Finally, if the bottom-right corner is <code>z</code>, then the bottom face is
exactly the thing we are trying to construct, so to make any progress
we must go with <code>y</code>:</p>
<pre><code>                      q
            y — — — — — — — — &gt; z
      p   / ^             q   / ^
        /   |               /   |
      /     |   p         /     |
    x — — — — — — — — &gt; y       |
    ^       |           ^       | q                  ^   j
    |       |           |       |                  k | /
    |       |           |       |                    ∙ — &gt;
    |       |           |       |                      i
    |       y — — — — — | — — &gt; y
    |  p  /             |     /
    |   /               |   /
    | /                 | /
    x — — — — — — — — &gt; y
              p
</code></pre>
<p>Now we have, in fact, seen all of these faces before! (Review the
interval algebra in Lecture 2-X if necessary.)</p>
<pre class="Agda"><a id="diamond-tube"></a><a id="19236" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19236" class="Function">diamond-tube</a> <a id="19249" class="Symbol">:</a> <a id="19251" class="Symbol">{</a><a id="19252" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19252" class="Bound">x</a> <a id="19254" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19254" class="Bound">y</a> <a id="19256" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19256" class="Bound">z</a> <a id="19258" class="Symbol">:</a> <a id="19260" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="19261" class="Symbol">}</a> 
  <a id="19266" class="Symbol">→</a> <a id="19268" class="Symbol">(</a><a id="19269" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19269" class="Bound">p</a> <a id="19271" class="Symbol">:</a> <a id="19273" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19252" class="Bound">x</a> <a id="19275" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="19277" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19254" class="Bound">y</a><a id="19278" class="Symbol">)</a> <a id="19280" class="Symbol">→</a> <a id="19282" class="Symbol">(</a><a id="19283" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19283" class="Bound">q</a> <a id="19285" class="Symbol">:</a> <a id="19287" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19254" class="Bound">y</a> <a id="19289" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="19291" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19256" class="Bound">z</a><a id="19292" class="Symbol">)</a>
  <a id="19296" class="Symbol">→</a> <a id="19298" class="Symbol">(</a><a id="19299" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19299" class="Bound">i</a> <a id="19301" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19301" class="Bound">j</a> <a id="19303" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19303" class="Bound">k</a> <a id="19305" class="Symbol">:</a> <a id="19307" href="Library.Primitive.html#1675" class="Datatype">I</a><a id="19308" class="Symbol">)</a> <a id="19310" class="Symbol">→</a> <a id="19312" href="Library.Primitive.html#3205" class="Primitive">Partial</a> <a id="19320" class="Symbol">(</a><a id="19321" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6469" class="Function">∂</a> <a id="19323" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19299" class="Bound">i</a> <a id="19325" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="19327" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6469" class="Function">∂</a> <a id="19329" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19301" class="Bound">j</a> <a id="19331" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="19333" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="19335" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19303" class="Bound">k</a><a id="19336" class="Symbol">)</a> <a id="19338" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a>
<a id="19340" class="Comment">-- Exercise:</a>
<a id="19353" class="Comment">-- diamond-tube p q i j k (i = i0) = {!!}</a>
<a id="19395" class="Comment">-- diamond-tube p q i j k (i = i1) = {!!}</a>
<a id="19437" class="Comment">-- diamond-tube p q i j k (j = i0) = {!!}</a>
<a id="19479" class="Comment">-- diamond-tube p q i j k (j = i1) = {!!}</a>
<a id="19521" class="Comment">-- diamond-tube p q i j k (k = i0) = {!!}</a>
</pre><!--
<pre class="Agda"><a id="19576" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19236" class="Function">diamond-tube</a> <a id="19589" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19589" class="Bound">p</a> <a id="19591" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19591" class="Bound">q</a> <a id="19593" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19593" class="Bound">i</a> <a id="19595" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19595" class="Bound">j</a> <a id="19597" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19597" class="Bound">k</a> <a id="19599" class="Symbol">(</a><a id="19600" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19593" class="Bound">i</a> <a id="19602" class="Symbol">=</a> <a id="19604" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="19606" class="Symbol">)</a> <a id="19608" class="Symbol">=</a> <a id="19610" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19589" class="Bound">p</a> <a id="19612" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19595" class="Bound">j</a>
<a id="19614" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19236" class="Function">diamond-tube</a> <a id="19627" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19627" class="Bound">p</a> <a id="19629" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19629" class="Bound">q</a> <a id="19631" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19631" class="Bound">i</a> <a id="19633" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19633" class="Bound">j</a> <a id="19635" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19635" class="Bound">k</a> <a id="19637" class="Symbol">(</a><a id="19638" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19631" class="Bound">i</a> <a id="19640" class="Symbol">=</a> <a id="19642" href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a><a id="19644" class="Symbol">)</a> <a id="19646" class="Symbol">=</a> <a id="19648" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#26913" class="Function">connection∧</a> <a id="19660" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19629" class="Bound">q</a> <a id="19662" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19633" class="Bound">j</a> <a id="19664" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19635" class="Bound">k</a>
<a id="19666" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19236" class="Function">diamond-tube</a> <a id="19679" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19679" class="Bound">p</a> <a id="19681" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19681" class="Bound">q</a> <a id="19683" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19683" class="Bound">i</a> <a id="19685" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19685" class="Bound">j</a> <a id="19687" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19687" class="Bound">k</a> <a id="19689" class="Symbol">(</a><a id="19690" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19685" class="Bound">j</a> <a id="19692" class="Symbol">=</a> <a id="19694" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="19696" class="Symbol">)</a> <a id="19698" class="Symbol">=</a> <a id="19700" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19679" class="Bound">p</a> <a id="19702" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19683" class="Bound">i</a>
<a id="19704" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19236" class="Function">diamond-tube</a> <a id="19717" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19717" class="Bound">p</a> <a id="19719" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19719" class="Bound">q</a> <a id="19721" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19721" class="Bound">i</a> <a id="19723" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19723" class="Bound">j</a> <a id="19725" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19725" class="Bound">k</a> <a id="19727" class="Symbol">(</a><a id="19728" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19723" class="Bound">j</a> <a id="19730" class="Symbol">=</a> <a id="19732" href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a><a id="19734" class="Symbol">)</a> <a id="19736" class="Symbol">=</a> <a id="19738" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#26913" class="Function">connection∧</a> <a id="19750" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19719" class="Bound">q</a> <a id="19752" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19721" class="Bound">i</a> <a id="19754" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19725" class="Bound">k</a>
<a id="19756" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19236" class="Function">diamond-tube</a> <a id="19769" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19769" class="Bound">p</a> <a id="19771" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19771" class="Bound">q</a> <a id="19773" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19773" class="Bound">i</a> <a id="19775" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19775" class="Bound">j</a> <a id="19777" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19777" class="Bound">k</a> <a id="19779" class="Symbol">(</a><a id="19780" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19777" class="Bound">k</a> <a id="19782" class="Symbol">=</a> <a id="19784" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="19786" class="Symbol">)</a> <a id="19788" class="Symbol">=</a> <a id="19790" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#27249" class="Function">connection∨</a> <a id="19802" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19769" class="Bound">p</a> <a id="19804" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19773" class="Bound">i</a> <a id="19806" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19775" class="Bound">j</a>

</pre>-->
<pre class="Agda">
<a id="19822" class="Comment">-- Exercise:</a>
<a id="19835" class="Comment">-- diamond p q i j = hcomp {!!} {!!}</a>
</pre><!--
<pre class="Agda"><a id="19885" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#16991" class="Function">diamond</a> <a id="19893" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19893" class="Bound">p</a> <a id="19895" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19895" class="Bound">q</a> <a id="19897" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19897" class="Bound">i</a> <a id="19899" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19899" class="Bound">j</a> <a id="19901" class="Symbol">=</a> <a id="19903" href="Library.Prelude.html#650" class="Function">hcomp</a> <a id="19909" class="Symbol">(</a><a id="19910" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6469" class="Function">∂</a> <a id="19912" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19897" class="Bound">i</a> <a id="19914" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="19916" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6469" class="Function">∂</a> <a id="19918" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19899" class="Bound">j</a><a id="19919" class="Symbol">)</a> <a id="19921" class="Symbol">(</a><a id="19922" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19236" class="Function">diamond-tube</a> <a id="19935" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19893" class="Bound">p</a> <a id="19937" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19895" class="Bound">q</a> <a id="19939" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19897" class="Bound">i</a> <a id="19941" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19899" class="Bound">j</a><a id="19942" class="Symbol">)</a>

</pre>-->
<p>The composition problems that result in some desired square are not
unique. Try constructing the same <code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#16991" class="Function">diamond</a></code> square as above,
but using the following alternative cube:</p>
<pre><code>                        q
              y — — — — — — — — &gt; z
        p   / ^             q   / ^
          /   |               /   |
        /     |   p         /     |
      x — — — — — — — — &gt; y       |
      ^       |           ^       | q                  ^   j
      |       |           |       |                  k | /
      |       |           |       |                    ∙ — &gt;
      |       |           |       |                      i
sym p |       y — — — — — | — — &gt; y
      |     /             |     /
      |   /               |   /
      | /                 | /
      y — — — — — — — — &gt; y
</code></pre>
<pre class="Agda"><a id="diamond-tube-alt"></a><a id="20807" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20807" class="Function">diamond-tube-alt</a> <a id="20824" class="Symbol">:</a> <a id="20826" class="Symbol">{</a><a id="20827" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20827" class="Bound">x</a> <a id="20829" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20829" class="Bound">y</a> <a id="20831" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20831" class="Bound">z</a> <a id="20833" class="Symbol">:</a> <a id="20835" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="20836" class="Symbol">}</a> <a id="20838" class="Symbol">(</a><a id="20839" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20839" class="Bound">p</a> <a id="20841" class="Symbol">:</a> <a id="20843" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20827" class="Bound">x</a> <a id="20845" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="20847" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20829" class="Bound">y</a><a id="20848" class="Symbol">)</a> <a id="20850" class="Symbol">(</a><a id="20851" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20851" class="Bound">q</a> <a id="20853" class="Symbol">:</a> <a id="20855" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20829" class="Bound">y</a> <a id="20857" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="20859" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20831" class="Bound">z</a><a id="20860" class="Symbol">)</a>
  <a id="20864" class="Symbol">→</a> <a id="20866" class="Symbol">(</a><a id="20867" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20867" class="Bound">i</a> <a id="20869" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20869" class="Bound">j</a> <a id="20871" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20871" class="Bound">k</a> <a id="20873" class="Symbol">:</a> <a id="20875" href="Library.Primitive.html#1675" class="Datatype">I</a><a id="20876" class="Symbol">)</a> <a id="20878" class="Symbol">→</a> <a id="20880" href="Library.Primitive.html#3205" class="Primitive">Partial</a> <a id="20888" class="Symbol">(</a><a id="20889" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6469" class="Function">∂</a> <a id="20891" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20867" class="Bound">i</a> <a id="20893" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="20895" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6469" class="Function">∂</a> <a id="20897" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20869" class="Bound">j</a> <a id="20899" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="20901" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="20903" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20871" class="Bound">k</a><a id="20904" class="Symbol">)</a> <a id="20906" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a>
<a id="20908" class="Comment">-- Exercise:</a>
<a id="20921" class="Comment">-- diamond-tube-alt p q i j k (i = i0) = {!!}</a>
<a id="20967" class="Comment">-- diamond-tube-alt p q i j k (i = i1) = {!!}</a>
<a id="21013" class="Comment">-- diamond-tube-alt p q i j k (j = i0) = {!!}</a>
<a id="21059" class="Comment">-- diamond-tube-alt p q i j k (j = i1) = {!!}</a>
<a id="21105" class="Comment">-- diamond-tube-alt p q i j k (k = i0) = {!!}</a>
</pre><!--
<pre class="Agda"><a id="21164" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20807" class="Function">diamond-tube-alt</a> <a id="21181" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21181" class="Bound">p</a> <a id="21183" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21183" class="Bound">q</a> <a id="21185" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21185" class="Bound">i</a> <a id="21187" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21187" class="Bound">j</a> <a id="21189" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21189" class="Bound">k</a> <a id="21191" class="Symbol">(</a><a id="21192" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21185" class="Bound">i</a> <a id="21194" class="Symbol">=</a> <a id="21196" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="21198" class="Symbol">)</a> <a id="21200" class="Symbol">=</a> <a id="21202" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21181" class="Bound">p</a> <a id="21204" class="Symbol">(</a><a id="21205" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21187" class="Bound">j</a> <a id="21207" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="21209" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="21211" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21189" class="Bound">k</a><a id="21212" class="Symbol">)</a>
<a id="21214" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20807" class="Function">diamond-tube-alt</a> <a id="21231" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21231" class="Bound">p</a> <a id="21233" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21233" class="Bound">q</a> <a id="21235" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21235" class="Bound">i</a> <a id="21237" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21237" class="Bound">j</a> <a id="21239" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21239" class="Bound">k</a> <a id="21241" class="Symbol">(</a><a id="21242" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21235" class="Bound">i</a> <a id="21244" class="Symbol">=</a> <a id="21246" href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a><a id="21248" class="Symbol">)</a> <a id="21250" class="Symbol">=</a> <a id="21252" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21233" class="Bound">q</a> <a id="21254" class="Symbol">(</a><a id="21255" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21237" class="Bound">j</a> <a id="21257" href="Library.Prelude.html#416" class="Primitive Operator">∧</a> <a id="21259" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21239" class="Bound">k</a><a id="21260" class="Symbol">)</a>
<a id="21262" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20807" class="Function">diamond-tube-alt</a> <a id="21279" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21279" class="Bound">p</a> <a id="21281" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21281" class="Bound">q</a> <a id="21283" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21283" class="Bound">i</a> <a id="21285" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21285" class="Bound">j</a> <a id="21287" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21287" class="Bound">k</a> <a id="21289" class="Symbol">(</a><a id="21290" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21285" class="Bound">j</a> <a id="21292" class="Symbol">=</a> <a id="21294" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="21296" class="Symbol">)</a> <a id="21298" class="Symbol">=</a> <a id="21300" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21279" class="Bound">p</a> <a id="21302" class="Symbol">(</a><a id="21303" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21283" class="Bound">i</a> <a id="21305" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="21307" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="21309" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21287" class="Bound">k</a><a id="21310" class="Symbol">)</a>
<a id="21312" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20807" class="Function">diamond-tube-alt</a> <a id="21329" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21329" class="Bound">p</a> <a id="21331" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21331" class="Bound">q</a> <a id="21333" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21333" class="Bound">i</a> <a id="21335" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21335" class="Bound">j</a> <a id="21337" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21337" class="Bound">k</a> <a id="21339" class="Symbol">(</a><a id="21340" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21335" class="Bound">j</a> <a id="21342" class="Symbol">=</a> <a id="21344" href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a><a id="21346" class="Symbol">)</a> <a id="21348" class="Symbol">=</a> <a id="21350" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21331" class="Bound">q</a> <a id="21352" class="Symbol">(</a><a id="21353" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21333" class="Bound">i</a> <a id="21355" href="Library.Prelude.html#416" class="Primitive Operator">∧</a> <a id="21357" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21337" class="Bound">k</a><a id="21358" class="Symbol">)</a>
<a id="21360" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20807" class="Function">diamond-tube-alt</a> <a id="21377" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21377" class="Bound">p</a> <a id="21379" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21379" class="Bound">q</a> <a id="21381" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21381" class="Bound">i</a> <a id="21383" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21383" class="Bound">j</a> <a id="21385" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21385" class="Bound">k</a> <a id="21387" class="Symbol">(</a><a id="21388" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21385" class="Bound">k</a> <a id="21390" class="Symbol">=</a> <a id="21392" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="21394" class="Symbol">)</a> <a id="21396" class="Symbol">=</a> <a id="21398" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21377" class="Bound">p</a> <a id="21400" href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a>

</pre>-->
<pre class="Agda">
<a id="diamond-alt"></a><a id="21417" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21417" class="Function">diamond-alt</a> <a id="21429" class="Symbol">:</a> <a id="21431" class="Symbol">(</a><a id="21432" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21432" class="Bound">p</a> <a id="21434" class="Symbol">:</a> <a id="21436" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="21438" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="21440" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a><a id="21441" class="Symbol">)</a> <a id="21443" class="Symbol">→</a> <a id="21445" class="Symbol">(</a><a id="21446" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21446" class="Bound">q</a> <a id="21448" class="Symbol">:</a> <a id="21450" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a> <a id="21452" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="21454" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a><a id="21455" class="Symbol">)</a> <a id="21457" class="Symbol">→</a> <a id="21459" href="2--Paths-and-Identifications.2-1--Paths.html#23426" class="Function">Square</a> <a id="21466" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21432" class="Bound">p</a> <a id="21468" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21446" class="Bound">q</a> <a id="21470" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21432" class="Bound">p</a> <a id="21472" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21446" class="Bound">q</a>
<a id="21474" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21417" class="Function">diamond-alt</a> <a id="21486" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21486" class="Bound">p</a> <a id="21488" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21488" class="Bound">q</a> <a id="21490" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21490" class="Bound">i</a> <a id="21492" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21492" class="Bound">j</a> <a id="21494" class="Symbol">=</a> <a id="21496" href="Library.Prelude.html#650" class="Function">hcomp</a> <a id="21502" class="Symbol">(</a><a id="21503" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6469" class="Function">∂</a> <a id="21505" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21490" class="Bound">i</a> <a id="21507" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="21509" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6469" class="Function">∂</a> <a id="21511" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21492" class="Bound">j</a><a id="21512" class="Symbol">)</a> <a id="21514" class="Symbol">(</a><a id="21515" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20807" class="Function">diamond-tube-alt</a> <a id="21532" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21486" class="Bound">p</a> <a id="21534" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21488" class="Bound">q</a> <a id="21536" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21490" class="Bound">i</a> <a id="21538" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21492" class="Bound">j</a><a id="21539" class="Symbol">)</a>
</pre>
<p>A crucial application of <code class="Agda"><a href="Library.Prelude.html#650" class="Function">hcomp</a></code> for 3-d cubes is showing that the
composition square <code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12779" class="Function">double-comp-box</a></code> has a filler. That is, not only
do we have the double-composition path <code>r ∙∙ p ∙∙ q</code> at the top, but
the interior of the square is filled in and we have an element of
<code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#23426" class="Function">Square</a></code> for</p>
<pre><code>           q
      y — — — &gt; z
      ^         ^
   p  |         | r ∙∙ p ∙∙ q          ^
      |         |                    j |
      x — — — &gt; w                      ∙ — &gt;
         sym r                           i
</code></pre>
<p>We orient this square in a diagonally flipped way. You will have to
trust us that this is the most convenient orientation to use this
square in!</p>
<p>Here’s the cube we want to fill.</p>
<pre><code>                      q
            y — — — — — — — — &gt; z
          / ^                 / ^
     p  /   |               /  r ∙∙ p ∙∙ q
      /     | sym r       /     |
    x — — — — — — — — &gt; w       |
    ^       |           ^       |                    ^   j
    |       |           |       |                  k | /
    |       |           |       |                    ∙ — &gt;
    |       |           |       |                      i
    |       y — — — — — | — — &gt; y
    |  p  /             |     /
    |   /               |   / p
    | /                 | /
    x — — — — — — — — &gt; x
</code></pre>
<p>We use a new trick to construct this cube. As mentioned above, if a
face is missing from the partial element then <code class="Agda"><a href="Library.Prelude.html#650" class="Function">hcomp</a></code> fills in the
missing face at the top with an <code class="Agda"><a href="Library.Prelude.html#650" class="Function">hcomp</a></code> of a lower dimension. In the
cube we are trying to construct, the <code class="Agda"><a href="Library.Prelude.html#650" class="Function">hcomp</a></code> of the sides for the
for the <code>i = i1</code> face is exactly the double-composite <code>r ∙∙ p ∙∙ q</code>
that we wanted as the top edge in the first place. So we don’t have to
worry about giving a <code>i = i1</code> case at all. (Which is lucky, because
that’s exactly the <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#23426" class="Function">Square</a></code> we are trying to construct right now!)</p>
<pre class="Agda"><a id="∙∙-filler-tube"></a><a id="23470" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23470" class="Function">∙∙-filler-tube</a> <a id="23485" class="Symbol">:</a> <a id="23487" class="Symbol">{</a><a id="23488" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23488" class="Bound">w</a> <a id="23490" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23490" class="Bound">x</a> <a id="23492" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23492" class="Bound">y</a> <a id="23494" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23494" class="Bound">z</a> <a id="23496" class="Symbol">:</a> <a id="23498" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="23499" class="Symbol">}</a>
    <a id="23505" class="Symbol">(</a><a id="23506" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23506" class="Bound">r</a> <a id="23508" class="Symbol">:</a> <a id="23510" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23488" class="Bound">w</a> <a id="23512" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="23514" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23490" class="Bound">x</a><a id="23515" class="Symbol">)</a> <a id="23517" class="Symbol">(</a><a id="23518" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23518" class="Bound">p</a> <a id="23520" class="Symbol">:</a> <a id="23522" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23490" class="Bound">x</a> <a id="23524" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="23526" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23492" class="Bound">y</a><a id="23527" class="Symbol">)</a> <a id="23529" class="Symbol">(</a><a id="23530" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23530" class="Bound">q</a> <a id="23532" class="Symbol">:</a> <a id="23534" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23492" class="Bound">y</a> <a id="23536" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="23538" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23494" class="Bound">z</a><a id="23539" class="Symbol">)</a>
  <a id="23543" class="Symbol">→</a> <a id="23545" class="Symbol">(</a><a id="23546" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23546" class="Bound">i</a> <a id="23548" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23548" class="Bound">j</a> <a id="23550" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23550" class="Bound">k</a> <a id="23552" class="Symbol">:</a> <a id="23554" href="Library.Primitive.html#1675" class="Datatype">I</a><a id="23555" class="Symbol">)</a> <a id="23557" class="Symbol">→</a> <a id="23559" href="Library.Primitive.html#3205" class="Primitive">Partial</a> <a id="23567" class="Symbol">(</a><a id="23568" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="23570" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23546" class="Bound">i</a> <a id="23572" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="23574" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6469" class="Function">∂</a> <a id="23576" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23548" class="Bound">j</a> <a id="23578" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="23580" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="23582" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23550" class="Bound">k</a><a id="23583" class="Symbol">)</a> <a id="23585" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a>
<a id="23587" class="Comment">-- Exercise:</a>
<a id="23600" class="Comment">-- ∙∙-filler-tube r p q i j k (j = i0) = {!!}</a>
<a id="23646" class="Comment">-- ∙∙-filler-tube r p q i j k (j = i1) = {!!}</a>
<a id="23692" class="Comment">-- ∙∙-filler-tube r p q i j k (i = i0) = {!!}</a>
<a id="23738" class="Comment">-- ∙∙-filler-tube r p q i j k (k = i0) = {!!}</a>
</pre><!--
<pre class="Agda"><a id="23797" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23470" class="Function">∙∙-filler-tube</a> <a id="23812" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23812" class="Bound">r</a> <a id="23814" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23814" class="Bound">p</a> <a id="23816" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23816" class="Bound">q</a> <a id="23818" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23818" class="Bound">i</a> <a id="23820" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23820" class="Bound">j</a> <a id="23822" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23822" class="Bound">k</a> <a id="23824" class="Symbol">(</a><a id="23825" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23820" class="Bound">j</a> <a id="23827" class="Symbol">=</a> <a id="23829" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="23831" class="Symbol">)</a> <a id="23833" class="Symbol">=</a> <a id="23835" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#26913" class="Function">connection∧</a> <a id="23847" class="Symbol">(</a><a id="23848" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#22904" class="Function">sym</a> <a id="23852" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23812" class="Bound">r</a><a id="23853" class="Symbol">)</a> <a id="23855" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23818" class="Bound">i</a> <a id="23857" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23822" class="Bound">k</a>
<a id="23859" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23470" class="Function">∙∙-filler-tube</a> <a id="23874" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23874" class="Bound">r</a> <a id="23876" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23876" class="Bound">p</a> <a id="23878" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23878" class="Bound">q</a> <a id="23880" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23880" class="Bound">i</a> <a id="23882" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23882" class="Bound">j</a> <a id="23884" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23884" class="Bound">k</a> <a id="23886" class="Symbol">(</a><a id="23887" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23882" class="Bound">j</a> <a id="23889" class="Symbol">=</a> <a id="23891" href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a><a id="23893" class="Symbol">)</a> <a id="23895" class="Symbol">=</a> <a id="23897" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#26913" class="Function">connection∧</a> <a id="23909" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23878" class="Bound">q</a> <a id="23911" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23880" class="Bound">i</a> <a id="23913" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23884" class="Bound">k</a>
<a id="23915" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23470" class="Function">∙∙-filler-tube</a> <a id="23930" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23930" class="Bound">r</a> <a id="23932" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23932" class="Bound">p</a> <a id="23934" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23934" class="Bound">q</a> <a id="23936" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23936" class="Bound">i</a> <a id="23938" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23938" class="Bound">j</a> <a id="23940" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23940" class="Bound">k</a> <a id="23942" class="Symbol">(</a><a id="23943" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23936" class="Bound">i</a> <a id="23945" class="Symbol">=</a> <a id="23947" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="23949" class="Symbol">)</a> <a id="23951" class="Symbol">=</a> <a id="23953" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23932" class="Bound">p</a> <a id="23955" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23938" class="Bound">j</a>
<a id="23957" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23470" class="Function">∙∙-filler-tube</a> <a id="23972" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23972" class="Bound">r</a> <a id="23974" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23974" class="Bound">p</a> <a id="23976" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23976" class="Bound">q</a> <a id="23978" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23978" class="Bound">i</a> <a id="23980" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23980" class="Bound">j</a> <a id="23982" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23982" class="Bound">k</a> <a id="23984" class="Symbol">(</a><a id="23985" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23982" class="Bound">k</a> <a id="23987" class="Symbol">=</a> <a id="23989" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="23991" class="Symbol">)</a> <a id="23993" class="Symbol">=</a> <a id="23995" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23974" class="Bound">p</a> <a id="23997" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23980" class="Bound">j</a>

</pre>-->
<pre class="Agda">
<a id="∙∙-filler"></a><a id="24013" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24013" class="Function">∙∙-filler</a> <a id="24023" class="Symbol">:</a> <a id="24025" class="Symbol">(</a><a id="24026" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24026" class="Bound">r</a> <a id="24028" class="Symbol">:</a> <a id="24030" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#596" class="Generalizable">w</a> <a id="24032" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="24034" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a><a id="24035" class="Symbol">)</a> <a id="24037" class="Symbol">(</a><a id="24038" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24038" class="Bound">p</a> <a id="24040" class="Symbol">:</a> <a id="24042" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="24044" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="24046" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a><a id="24047" class="Symbol">)</a> <a id="24049" class="Symbol">(</a><a id="24050" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24050" class="Bound">q</a> <a id="24052" class="Symbol">:</a> <a id="24054" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a> <a id="24056" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="24058" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a><a id="24059" class="Symbol">)</a>
  <a id="24063" class="Symbol">→</a> <a id="24065" href="2--Paths-and-Identifications.2-1--Paths.html#23426" class="Function">Square</a> <a id="24072" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24038" class="Bound">p</a> <a id="24074" class="Symbol">(</a><a id="24075" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24026" class="Bound">r</a> <a id="24077" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13366" class="Function Operator">∙∙</a> <a id="24080" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24038" class="Bound">p</a> <a id="24082" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13366" class="Function Operator">∙∙</a> <a id="24085" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24050" class="Bound">q</a><a id="24086" class="Symbol">)</a> <a id="24088" class="Symbol">(</a><a id="24089" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#22904" class="Function">sym</a> <a id="24093" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24026" class="Bound">r</a><a id="24094" class="Symbol">)</a> <a id="24096" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24050" class="Bound">q</a>
<a id="24098" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24013" class="Function">∙∙-filler</a> <a id="24108" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24108" class="Bound">r</a> <a id="24110" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24110" class="Bound">p</a> <a id="24112" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24112" class="Bound">q</a> <a id="24114" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24114" class="Bound">i</a> <a id="24116" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24116" class="Bound">j</a> <a id="24118" class="Symbol">=</a> <a id="24120" href="Library.Prelude.html#650" class="Function">hcomp</a> <a id="24126" class="Symbol">(</a><a id="24127" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="24129" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24114" class="Bound">i</a> <a id="24131" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="24133" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6469" class="Function">∂</a> <a id="24135" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24116" class="Bound">j</a><a id="24136" class="Symbol">)</a> <a id="24138" class="Symbol">(</a><a id="24139" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23470" class="Function">∙∙-filler-tube</a> <a id="24154" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24108" class="Bound">r</a> <a id="24156" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24110" class="Bound">p</a> <a id="24158" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24112" class="Bound">q</a> <a id="24160" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24114" class="Bound">i</a> <a id="24162" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24116" class="Bound">j</a><a id="24163" class="Symbol">)</a>
</pre>
<p>We also have the filler for ordinary composition, just by setting the
path <code>r</code> to <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a></code>.</p>
<pre><code>           q
      y — — — &gt; z
      ^         ^                   ^    
   p  |         | p ∙ q           j |       
      |         |                   ∙ — &gt;   
      x — — — &gt; x                     i     
         refl                        
</code></pre>
<pre class="Agda"><a id="∙-filler"></a><a id="24542" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24542" class="Function">∙-filler</a> <a id="24551" class="Symbol">:</a> <a id="24553" class="Symbol">(</a><a id="24554" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24554" class="Bound">p</a> <a id="24556" class="Symbol">:</a> <a id="24558" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="24560" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="24562" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a><a id="24563" class="Symbol">)</a> <a id="24565" class="Symbol">(</a><a id="24566" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24566" class="Bound">q</a> <a id="24568" class="Symbol">:</a> <a id="24570" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a> <a id="24572" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="24574" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a><a id="24575" class="Symbol">)</a> <a id="24577" class="Symbol">→</a> <a id="24579" href="2--Paths-and-Identifications.2-1--Paths.html#23426" class="Function">Square</a> <a id="24586" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24554" class="Bound">p</a> <a id="24588" class="Symbol">(</a><a id="24589" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24554" class="Bound">p</a> <a id="24591" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15893" class="Function Operator">∙</a> <a id="24593" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24566" class="Bound">q</a><a id="24594" class="Symbol">)</a> <a id="24596" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a> <a id="24601" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24566" class="Bound">q</a>
<a id="24603" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24542" class="Function">∙-filler</a> <a id="24612" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24612" class="Bound">p</a> <a id="24614" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24614" class="Bound">q</a> <a id="24616" class="Symbol">=</a> <a id="24618" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24013" class="Function">∙∙-filler</a> <a id="24628" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a> <a id="24633" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24612" class="Bound">p</a> <a id="24635" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24614" class="Bound">q</a>
</pre>
<h2 id="properties-of-path-composition"><a class="header" href="#properties-of-path-composition">Properties of Path Composition</a></h2>
<p>Let’s set about proving some basic facts about path composition.</p>
<p>First, <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a></code> is the unit for path composition. The fact that
<code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a></code> can be cancelled on the right is exactly an instance of the
<code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24542" class="Function">∙-filler</a></code> square above.</p>
<pre><code>       refl
    y — — — &gt; z
    ^         ^                     ^      
 p  |         | p ∙ refl          j |       
    |         |                     ∙ — &gt;   
    x — — — &gt; w                       i     
       refl                       
</code></pre>
<pre class="Agda"><a id="∙-idr"></a><a id="25180" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#25180" class="Function">∙-idr</a> <a id="25186" class="Symbol">:</a> <a id="25188" class="Symbol">(</a><a id="25189" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#25189" class="Bound">p</a> <a id="25191" class="Symbol">:</a> <a id="25193" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="25195" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="25197" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a><a id="25198" class="Symbol">)</a> <a id="25200" class="Symbol">→</a> <a id="25202" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#25189" class="Bound">p</a> <a id="25204" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="25206" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#25189" class="Bound">p</a> <a id="25208" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15893" class="Function Operator">∙</a> <a id="25210" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a>
<a id="25215" class="Comment">-- Exercise:</a>
<a id="25228" class="Comment">-- ∙-idr p = {!!}</a>
</pre><!--
<pre class="Agda"><a id="25259" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#25180" class="Function">∙-idr</a> <a id="25265" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#25265" class="Bound">p</a> <a id="25267" class="Symbol">=</a> <a id="25269" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24542" class="Function">∙-filler</a> <a id="25278" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#25265" class="Bound">p</a> <a id="25280" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a>

</pre>-->
<div class="info">
<p><span class="info-label">Aside:</span>
Proving <code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#25180" class="Function">∙-idr</a></code> and similar justifies orienting <code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24542" class="Function">∙-filler</a></code> the way
we do: when proving an identity involving paths, we are constructing a
square whose top and bottom are <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a></code>. When the right-hand side of
the identity is a composite, it is useful to have the filler oriented
so that the composite is also on the right-hand side.</p>
</div>
<p>To cancel <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a></code> on the left, we have to build another cube.</p>
<pre><code>            y — — — — — — — — &gt; y
          / ^                 / ^
     p  /   |               /  refl ∙ p
      /     |             /     |
    x — — — — — — — — &gt; x       |
    ^       |           ^       |                    ^   j
    |       |           |       |                  k | /
    |       |           |       |                    ∙ — &gt;
    |       |    sym p  |       |                      i
    |       y — — — — — | — — &gt; x
    |  p  /             |     /
    |   /               |   /
    | /                 | /
    x — — — — — — — — &gt; x
</code></pre>
<pre class="Agda"><a id="∙-idl-tube"></a><a id="26339" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26339" class="Function">∙-idl-tube</a> <a id="26350" class="Symbol">:</a> <a id="26352" class="Symbol">{</a><a id="26353" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26353" class="Bound">x</a> <a id="26355" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26355" class="Bound">y</a> <a id="26357" class="Symbol">:</a> <a id="26359" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="26360" class="Symbol">}</a> <a id="26362" class="Symbol">(</a><a id="26363" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26363" class="Bound">p</a> <a id="26365" class="Symbol">:</a> <a id="26367" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26353" class="Bound">x</a> <a id="26369" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="26371" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26355" class="Bound">y</a><a id="26372" class="Symbol">)</a> <a id="26374" class="Symbol">→</a> <a id="26376" class="Symbol">(</a><a id="26377" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26377" class="Bound">i</a> <a id="26379" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26379" class="Bound">j</a> <a id="26381" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26381" class="Bound">k</a> <a id="26383" class="Symbol">:</a> <a id="26385" href="Library.Primitive.html#1675" class="Datatype">I</a><a id="26386" class="Symbol">)</a> <a id="26388" class="Symbol">→</a> <a id="26390" href="Library.Primitive.html#3205" class="Primitive">Partial</a> <a id="26398" class="Symbol">(</a><a id="26399" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="26401" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26377" class="Bound">i</a> <a id="26403" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="26405" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6469" class="Function">∂</a> <a id="26407" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26379" class="Bound">j</a> <a id="26409" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="26411" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="26413" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26381" class="Bound">k</a><a id="26414" class="Symbol">)</a> <a id="26416" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a>
<a id="26418" class="Comment">-- Exercise:</a>
<a id="26431" class="Comment">-- ∙-idl-tube {x = x} p i j k (i = i0) = {!!} -- Constant in the `k` direction</a>
<a id="26510" class="Comment">-- ∙-idl-tube {x = x} p i j k (j = i0) = {!!} -- Completely constant</a>
<a id="26579" class="Comment">-- ∙-idl-tube {x = x} p i j k (j = i1) = {!!} -- Constructed from `p` using a connection</a>
<a id="26668" class="Comment">-- ∙-idl-tube {x = x} p i j k (k = i0) = {!!} -- Constructed from `p` using connections in a different way</a>
</pre><!--
<pre class="Agda"><a id="26788" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26339" class="Function">∙-idl-tube</a> <a id="26799" class="Symbol">{</a><a id="26800" class="Argument">x</a> <a id="26802" class="Symbol">=</a> <a id="26804" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26804" class="Bound">x</a><a id="26805" class="Symbol">}</a> <a id="26807" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26807" class="Bound">p</a> <a id="26809" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26809" class="Bound">i</a> <a id="26811" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26811" class="Bound">j</a> <a id="26813" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26813" class="Bound">k</a> <a id="26815" class="Symbol">(</a><a id="26816" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26809" class="Bound">i</a> <a id="26818" class="Symbol">=</a> <a id="26820" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="26822" class="Symbol">)</a> <a id="26824" class="Symbol">=</a> <a id="26826" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26807" class="Bound">p</a> <a id="26828" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26811" class="Bound">j</a>
<a id="26830" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26339" class="Function">∙-idl-tube</a> <a id="26841" class="Symbol">{</a><a id="26842" class="Argument">x</a> <a id="26844" class="Symbol">=</a> <a id="26846" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26846" class="Bound">x</a><a id="26847" class="Symbol">}</a> <a id="26849" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26849" class="Bound">p</a> <a id="26851" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26851" class="Bound">i</a> <a id="26853" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26853" class="Bound">j</a> <a id="26855" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26855" class="Bound">k</a> <a id="26857" class="Symbol">(</a><a id="26858" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26853" class="Bound">j</a> <a id="26860" class="Symbol">=</a> <a id="26862" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="26864" class="Symbol">)</a> <a id="26866" class="Symbol">=</a> <a id="26868" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26846" class="Bound">x</a>
<a id="26870" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26339" class="Function">∙-idl-tube</a> <a id="26881" class="Symbol">{</a><a id="26882" class="Argument">x</a> <a id="26884" class="Symbol">=</a> <a id="26886" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26886" class="Bound">x</a><a id="26887" class="Symbol">}</a> <a id="26889" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26889" class="Bound">p</a> <a id="26891" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26891" class="Bound">i</a> <a id="26893" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26893" class="Bound">j</a> <a id="26895" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26895" class="Bound">k</a> <a id="26897" class="Symbol">(</a><a id="26898" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26893" class="Bound">j</a> <a id="26900" class="Symbol">=</a> <a id="26902" href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a><a id="26904" class="Symbol">)</a> <a id="26906" class="Symbol">=</a> <a id="26908" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26889" class="Bound">p</a> <a id="26910" class="Symbol">(</a><a id="26911" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="26913" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26891" class="Bound">i</a> <a id="26915" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="26917" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26895" class="Bound">k</a><a id="26918" class="Symbol">)</a>
<a id="26920" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26339" class="Function">∙-idl-tube</a> <a id="26931" class="Symbol">{</a><a id="26932" class="Argument">x</a> <a id="26934" class="Symbol">=</a> <a id="26936" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26936" class="Bound">x</a><a id="26937" class="Symbol">}</a> <a id="26939" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26939" class="Bound">p</a> <a id="26941" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26941" class="Bound">i</a> <a id="26943" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26943" class="Bound">j</a> <a id="26945" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26945" class="Bound">k</a> <a id="26947" class="Symbol">(</a><a id="26948" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26945" class="Bound">k</a> <a id="26950" class="Symbol">=</a> <a id="26952" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="26954" class="Symbol">)</a> <a id="26956" class="Symbol">=</a> <a id="26958" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26939" class="Bound">p</a> <a id="26960" class="Symbol">(</a><a id="26961" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="26963" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26941" class="Bound">i</a> <a id="26965" href="Library.Prelude.html#416" class="Primitive Operator">∧</a> <a id="26967" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26943" class="Bound">j</a><a id="26968" class="Symbol">)</a>

</pre>-->
<pre class="Agda">
<a id="∙-idl"></a><a id="26984" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26984" class="Function">∙-idl</a> <a id="26990" class="Symbol">:</a> <a id="26992" class="Symbol">(</a><a id="26993" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26993" class="Bound">p</a> <a id="26995" class="Symbol">:</a> <a id="26997" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="26999" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="27001" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a><a id="27002" class="Symbol">)</a> <a id="27004" class="Symbol">→</a> <a id="27006" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26993" class="Bound">p</a> <a id="27008" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="27010" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a> <a id="27015" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15893" class="Function Operator">∙</a> <a id="27017" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26993" class="Bound">p</a>
<a id="27019" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26984" class="Function">∙-idl</a> <a id="27025" class="Symbol">{</a><a id="27026" class="Argument">x</a> <a id="27028" class="Symbol">=</a> <a id="27030" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27030" class="Bound">x</a><a id="27031" class="Symbol">}</a> <a id="27033" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27033" class="Bound">p</a> <a id="27035" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27035" class="Bound">i</a> <a id="27037" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27037" class="Bound">j</a> <a id="27039" class="Symbol">=</a> <a id="27041" href="Library.Prelude.html#650" class="Function">hcomp</a> <a id="27047" class="Symbol">(</a><a id="27048" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="27050" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27035" class="Bound">i</a> <a id="27052" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="27054" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6469" class="Function">∂</a> <a id="27056" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27037" class="Bound">j</a><a id="27057" class="Symbol">)</a> <a id="27059" class="Symbol">(</a><a id="27060" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26339" class="Function">∙-idl-tube</a> <a id="27071" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27033" class="Bound">p</a> <a id="27073" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27035" class="Bound">i</a> <a id="27075" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27037" class="Bound">j</a><a id="27076" class="Symbol">)</a>
</pre>
<p>Next, that composing a path with its inverse is equal to <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a></code>.</p>
<pre><code>                x — — — — — — — — &gt; x
              / ^                 / ^
 p ∙ sym p  /   |               /
          /     |             /     |
        x — — — — — — — — &gt; x       |
        ^       | sym p     ^       |                    ^   j
        |       |           |       |                  k | /
        |       |           |       |                    ∙ — &gt;
        |       |    sym p  |       |                      i
        |       y — — — — — | — — &gt; x
        |  p  /             |     /
        |   /               |   /
        | /                 | /
        x — — — — — — — — &gt; x
</code></pre>
<p>Here, the face on the left is exactly the composition square for <code>p</code>
and <code>sym p</code>, so we can leave it off.</p>
<pre class="Agda"><a id="∙-invr-tube"></a><a id="27923" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27923" class="Function">∙-invr-tube</a> <a id="27935" class="Symbol">:</a> <a id="27937" class="Symbol">{</a><a id="27938" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27938" class="Bound">x</a> <a id="27940" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27940" class="Bound">y</a> <a id="27942" class="Symbol">:</a> <a id="27944" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="27945" class="Symbol">}</a> <a id="27947" class="Symbol">(</a><a id="27948" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27948" class="Bound">p</a> <a id="27950" class="Symbol">:</a> <a id="27952" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27938" class="Bound">x</a> <a id="27954" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="27956" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27940" class="Bound">y</a><a id="27957" class="Symbol">)</a> <a id="27959" class="Symbol">→</a> <a id="27961" class="Symbol">(</a><a id="27962" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27962" class="Bound">i</a> <a id="27964" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27964" class="Bound">j</a> <a id="27966" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27966" class="Bound">k</a> <a id="27968" class="Symbol">:</a> <a id="27970" href="Library.Primitive.html#1675" class="Datatype">I</a><a id="27971" class="Symbol">)</a> <a id="27973" class="Symbol">→</a> <a id="27975" href="Library.Primitive.html#3205" class="Primitive">Partial</a> <a id="27983" class="Symbol">(</a><a id="27984" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27962" class="Bound">i</a> <a id="27986" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="27988" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6469" class="Function">∂</a> <a id="27990" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27964" class="Bound">j</a> <a id="27992" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="27994" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="27996" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27966" class="Bound">k</a><a id="27997" class="Symbol">)</a> <a id="27999" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a>
<a id="28001" class="Comment">-- Exercise:</a>
<a id="28014" class="Comment">-- ∙-invr-tube {x = x} p i j k (i = i1) = {!!}</a>
<a id="28061" class="Comment">-- ∙-invr-tube {x = x} p i j k (j = i0) = {!!}</a>
<a id="28108" class="Comment">-- ∙-invr-tube {x = x} p i j k (j = i1) = {!!}</a>
<a id="28155" class="Comment">-- ∙-invr-tube {x = x} p i j k (k = i0) = {!!}</a>
</pre><!--
<pre class="Agda"><a id="28215" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27923" class="Function">∙-invr-tube</a> <a id="28227" class="Symbol">{</a><a id="28228" class="Argument">x</a> <a id="28230" class="Symbol">=</a> <a id="28232" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28232" class="Bound">x</a><a id="28233" class="Symbol">}</a> <a id="28235" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28235" class="Bound">p</a> <a id="28237" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28237" class="Bound">i</a> <a id="28239" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28239" class="Bound">j</a> <a id="28241" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28241" class="Bound">k</a> <a id="28243" class="Symbol">(</a><a id="28244" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28237" class="Bound">i</a> <a id="28246" class="Symbol">=</a> <a id="28248" href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a><a id="28250" class="Symbol">)</a> <a id="28252" class="Symbol">=</a> <a id="28254" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28232" class="Bound">x</a>
<a id="28256" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27923" class="Function">∙-invr-tube</a> <a id="28268" class="Symbol">{</a><a id="28269" class="Argument">x</a> <a id="28271" class="Symbol">=</a> <a id="28273" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28273" class="Bound">x</a><a id="28274" class="Symbol">}</a> <a id="28276" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28276" class="Bound">p</a> <a id="28278" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28278" class="Bound">i</a> <a id="28280" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28280" class="Bound">j</a> <a id="28282" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28282" class="Bound">k</a> <a id="28284" class="Symbol">(</a><a id="28285" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28280" class="Bound">j</a> <a id="28287" class="Symbol">=</a> <a id="28289" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="28291" class="Symbol">)</a> <a id="28293" class="Symbol">=</a> <a id="28295" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28273" class="Bound">x</a>
<a id="28297" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27923" class="Function">∙-invr-tube</a> <a id="28309" class="Symbol">{</a><a id="28310" class="Argument">x</a> <a id="28312" class="Symbol">=</a> <a id="28314" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28314" class="Bound">x</a><a id="28315" class="Symbol">}</a> <a id="28317" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28317" class="Bound">p</a> <a id="28319" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28319" class="Bound">i</a> <a id="28321" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28321" class="Bound">j</a> <a id="28323" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28323" class="Bound">k</a> <a id="28325" class="Symbol">(</a><a id="28326" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28321" class="Bound">j</a> <a id="28328" class="Symbol">=</a> <a id="28330" href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a><a id="28332" class="Symbol">)</a> <a id="28334" class="Symbol">=</a> <a id="28336" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28317" class="Bound">p</a> <a id="28338" class="Symbol">(</a><a id="28339" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="28341" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28319" class="Bound">i</a> <a id="28343" href="Library.Prelude.html#416" class="Primitive Operator">∧</a> <a id="28345" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="28347" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28323" class="Bound">k</a><a id="28348" class="Symbol">)</a>
<a id="28350" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27923" class="Function">∙-invr-tube</a> <a id="28362" class="Symbol">{</a><a id="28363" class="Argument">x</a> <a id="28365" class="Symbol">=</a> <a id="28367" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28367" class="Bound">x</a><a id="28368" class="Symbol">}</a> <a id="28370" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28370" class="Bound">p</a> <a id="28372" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28372" class="Bound">i</a> <a id="28374" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28374" class="Bound">j</a> <a id="28376" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28376" class="Bound">k</a> <a id="28378" class="Symbol">(</a><a id="28379" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28376" class="Bound">k</a> <a id="28381" class="Symbol">=</a> <a id="28383" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="28385" class="Symbol">)</a> <a id="28387" class="Symbol">=</a> <a id="28389" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28370" class="Bound">p</a> <a id="28391" class="Symbol">(</a><a id="28392" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="28394" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28372" class="Bound">i</a> <a id="28396" href="Library.Prelude.html#416" class="Primitive Operator">∧</a> <a id="28398" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28374" class="Bound">j</a><a id="28399" class="Symbol">)</a>

</pre>-->
<pre class="Agda">
<a id="∙-invr"></a><a id="28415" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28415" class="Function">∙-invr</a> <a id="28422" class="Symbol">:</a> <a id="28424" class="Symbol">(</a><a id="28425" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28425" class="Bound">p</a> <a id="28427" class="Symbol">:</a> <a id="28429" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="28431" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="28433" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a><a id="28434" class="Symbol">)</a> <a id="28436" class="Symbol">→</a> <a id="28438" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28425" class="Bound">p</a> <a id="28440" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15893" class="Function Operator">∙</a> <a id="28442" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#22904" class="Function">sym</a> <a id="28446" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28425" class="Bound">p</a> <a id="28448" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="28450" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a>
<a id="28455" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28415" class="Function">∙-invr</a> <a id="28462" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28462" class="Bound">p</a> <a id="28464" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28464" class="Bound">i</a> <a id="28466" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28466" class="Bound">j</a> <a id="28468" class="Symbol">=</a> <a id="28470" href="Library.Prelude.html#650" class="Function">hcomp</a> <a id="28476" class="Symbol">(</a><a id="28477" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28464" class="Bound">i</a> <a id="28479" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="28481" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6469" class="Function">∂</a> <a id="28483" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28466" class="Bound">j</a><a id="28484" class="Symbol">)</a> <a id="28486" class="Symbol">(</a><a id="28487" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27923" class="Function">∙-invr-tube</a> <a id="28499" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28462" class="Bound">p</a> <a id="28501" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28464" class="Bound">i</a> <a id="28503" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28466" class="Bound">j</a><a id="28504" class="Symbol">)</a> 

<a id="∙-invl"></a><a id="28508" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28508" class="Function">∙-invl</a> <a id="28515" class="Symbol">:</a> <a id="28517" class="Symbol">(</a><a id="28518" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28518" class="Bound">p</a> <a id="28520" class="Symbol">:</a> <a id="28522" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="28524" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="28526" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a><a id="28527" class="Symbol">)</a> <a id="28529" class="Symbol">→</a> <a id="28531" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#22904" class="Function">sym</a> <a id="28535" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28518" class="Bound">p</a> <a id="28537" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15893" class="Function Operator">∙</a> <a id="28539" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28518" class="Bound">p</a> <a id="28541" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="28543" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a>
<a id="28548" class="Comment">-- Exercise: (Use symmetry and save work!)</a>
<a id="28591" class="Comment">-- ∙-invl p = {!!}</a>
</pre><!--
<pre class="Agda"><a id="28623" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28508" class="Function">∙-invl</a> <a id="28630" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28630" class="Bound">p</a> <a id="28632" class="Symbol">=</a> <a id="28634" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28415" class="Function">∙-invr</a> <a id="28641" class="Symbol">(</a><a id="28642" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#22904" class="Function">sym</a> <a id="28646" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28630" class="Bound">p</a><a id="28647" class="Symbol">)</a>

</pre>-->
<p>Finally, that composition is associative via one final cube.</p>
<pre><code>                  z — — — — — — — — &gt; z
                / ^                 / ^
 r ∙ (p ∙ q)  /   |               /  (r ∙ p) ∙ q
            /     |             /     |
          w — — — — — — — — &gt; w       |
          ^       |           ^       | q                  ^   j
          |     q |           |       |                  k | /
          |       |           |       |                    ∙ — &gt;
          |       |           |       |                      i
          |       y — — — — — | — — &gt; y
         r ∙ p  /             |     /
          |   /               |   /  r ∙ p
          | /                 | /
          w — — — — — — — — &gt; w
</code></pre>
<pre class="Agda"><a id="∙-assoc-tube"></a><a id="29443" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29443" class="Function">∙-assoc-tube</a> <a id="29456" class="Symbol">:</a> <a id="29458" class="Symbol">{</a><a id="29459" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29459" class="Bound">w</a> <a id="29461" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29461" class="Bound">x</a> <a id="29463" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29463" class="Bound">y</a> <a id="29465" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29465" class="Bound">z</a> <a id="29467" class="Symbol">:</a> <a id="29469" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="29470" class="Symbol">}</a> <a id="29472" class="Symbol">(</a><a id="29473" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29473" class="Bound">r</a> <a id="29475" class="Symbol">:</a> <a id="29477" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29459" class="Bound">w</a> <a id="29479" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="29481" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29461" class="Bound">x</a><a id="29482" class="Symbol">)</a> <a id="29484" class="Symbol">(</a><a id="29485" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29485" class="Bound">p</a> <a id="29487" class="Symbol">:</a> <a id="29489" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29461" class="Bound">x</a> <a id="29491" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="29493" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29463" class="Bound">y</a><a id="29494" class="Symbol">)</a> <a id="29496" class="Symbol">(</a><a id="29497" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29497" class="Bound">q</a> <a id="29499" class="Symbol">:</a> <a id="29501" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29463" class="Bound">y</a> <a id="29503" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="29505" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29465" class="Bound">z</a><a id="29506" class="Symbol">)</a>
  <a id="29510" class="Symbol">→</a> <a id="29512" class="Symbol">(</a><a id="29513" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29513" class="Bound">i</a> <a id="29515" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29515" class="Bound">j</a> <a id="29517" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29517" class="Bound">k</a> <a id="29519" class="Symbol">:</a> <a id="29521" href="Library.Primitive.html#1675" class="Datatype">I</a><a id="29522" class="Symbol">)</a> <a id="29524" class="Symbol">→</a> <a id="29526" href="Library.Primitive.html#3205" class="Primitive">Partial</a> <a id="29534" class="Symbol">(</a><a id="29535" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6469" class="Function">∂</a> <a id="29537" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29513" class="Bound">i</a> <a id="29539" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="29541" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6469" class="Function">∂</a> <a id="29543" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29515" class="Bound">j</a> <a id="29545" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="29547" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="29549" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29517" class="Bound">k</a><a id="29550" class="Symbol">)</a> <a id="29552" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a>
<a id="29554" class="Comment">-- Exercise: (Hint: a couple of cases use <code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24542" class="Function">∙-filler</a></code>)</a>
<a id="29610" class="Comment">-- ∙-assoc-tube {w = w} r p q i j k (i = i0) = {!!}</a>
<a id="29662" class="Comment">-- ∙-assoc-tube {w = w} r p q i j k (i = i1) = {!!}</a>
<a id="29714" class="Comment">-- ∙-assoc-tube {w = w} r p q i j k (j = i0) = {!!}</a>
<a id="29766" class="Comment">-- ∙-assoc-tube {w = w} r p q i j k (j = i1) = {!!}</a>
<a id="29818" class="Comment">-- ∙-assoc-tube {w = w} r p q i j k (k = i0) = {!!}</a>
</pre><!--
<pre class="Agda"><a id="29883" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29443" class="Function">∙-assoc-tube</a> <a id="29896" class="Symbol">{</a><a id="29897" class="Argument">w</a> <a id="29899" class="Symbol">=</a> <a id="29901" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29901" class="Bound">w</a><a id="29902" class="Symbol">}</a> <a id="29904" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29904" class="Bound">r</a> <a id="29906" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29906" class="Bound">p</a> <a id="29908" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29908" class="Bound">q</a> <a id="29910" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29910" class="Bound">i</a> <a id="29912" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29912" class="Bound">j</a> <a id="29914" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29914" class="Bound">k</a> <a id="29916" class="Symbol">(</a><a id="29917" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29910" class="Bound">i</a> <a id="29919" class="Symbol">=</a> <a id="29921" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="29923" class="Symbol">)</a> <a id="29925" class="Symbol">=</a> <a id="29927" class="Symbol">(</a><a id="29928" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29904" class="Bound">r</a> <a id="29930" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15893" class="Function Operator">∙</a> <a id="29932" class="Symbol">(</a><a id="29933" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24542" class="Function">∙-filler</a> <a id="29942" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29906" class="Bound">p</a> <a id="29944" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29908" class="Bound">q</a> <a id="29946" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29914" class="Bound">k</a><a id="29947" class="Symbol">))</a> <a id="29950" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29912" class="Bound">j</a>
<a id="29952" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29443" class="Function">∙-assoc-tube</a> <a id="29965" class="Symbol">{</a><a id="29966" class="Argument">w</a> <a id="29968" class="Symbol">=</a> <a id="29970" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29970" class="Bound">w</a><a id="29971" class="Symbol">}</a> <a id="29973" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29973" class="Bound">r</a> <a id="29975" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29975" class="Bound">p</a> <a id="29977" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29977" class="Bound">q</a> <a id="29979" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29979" class="Bound">i</a> <a id="29981" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29981" class="Bound">j</a> <a id="29983" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29983" class="Bound">k</a> <a id="29985" class="Symbol">(</a><a id="29986" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29979" class="Bound">i</a> <a id="29988" class="Symbol">=</a> <a id="29990" href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a><a id="29992" class="Symbol">)</a> <a id="29994" class="Symbol">=</a> <a id="29996" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24542" class="Function">∙-filler</a> <a id="30005" class="Symbol">(</a><a id="30006" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29973" class="Bound">r</a> <a id="30008" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15893" class="Function Operator">∙</a> <a id="30010" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29975" class="Bound">p</a><a id="30011" class="Symbol">)</a> <a id="30013" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29977" class="Bound">q</a> <a id="30015" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29983" class="Bound">k</a> <a id="30017" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29981" class="Bound">j</a>
<a id="30019" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29443" class="Function">∙-assoc-tube</a> <a id="30032" class="Symbol">{</a><a id="30033" class="Argument">w</a> <a id="30035" class="Symbol">=</a> <a id="30037" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30037" class="Bound">w</a><a id="30038" class="Symbol">}</a> <a id="30040" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30040" class="Bound">r</a> <a id="30042" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30042" class="Bound">p</a> <a id="30044" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30044" class="Bound">q</a> <a id="30046" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30046" class="Bound">i</a> <a id="30048" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30048" class="Bound">j</a> <a id="30050" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30050" class="Bound">k</a> <a id="30052" class="Symbol">(</a><a id="30053" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30048" class="Bound">j</a> <a id="30055" class="Symbol">=</a> <a id="30057" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="30059" class="Symbol">)</a> <a id="30061" class="Symbol">=</a> <a id="30063" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30037" class="Bound">w</a>
<a id="30065" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29443" class="Function">∙-assoc-tube</a> <a id="30078" class="Symbol">{</a><a id="30079" class="Argument">w</a> <a id="30081" class="Symbol">=</a> <a id="30083" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30083" class="Bound">w</a><a id="30084" class="Symbol">}</a> <a id="30086" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30086" class="Bound">r</a> <a id="30088" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30088" class="Bound">p</a> <a id="30090" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30090" class="Bound">q</a> <a id="30092" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30092" class="Bound">i</a> <a id="30094" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30094" class="Bound">j</a> <a id="30096" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30096" class="Bound">k</a> <a id="30098" class="Symbol">(</a><a id="30099" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30094" class="Bound">j</a> <a id="30101" class="Symbol">=</a> <a id="30103" href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a><a id="30105" class="Symbol">)</a> <a id="30107" class="Symbol">=</a> <a id="30109" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30090" class="Bound">q</a> <a id="30111" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30096" class="Bound">k</a>
<a id="30113" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29443" class="Function">∙-assoc-tube</a> <a id="30126" class="Symbol">{</a><a id="30127" class="Argument">w</a> <a id="30129" class="Symbol">=</a> <a id="30131" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30131" class="Bound">w</a><a id="30132" class="Symbol">}</a> <a id="30134" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30134" class="Bound">r</a> <a id="30136" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30136" class="Bound">p</a> <a id="30138" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30138" class="Bound">q</a> <a id="30140" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30140" class="Bound">i</a> <a id="30142" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30142" class="Bound">j</a> <a id="30144" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30144" class="Bound">k</a> <a id="30146" class="Symbol">(</a><a id="30147" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30144" class="Bound">k</a> <a id="30149" class="Symbol">=</a> <a id="30151" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="30153" class="Symbol">)</a> <a id="30155" class="Symbol">=</a> <a id="30157" class="Symbol">(</a><a id="30158" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30134" class="Bound">r</a> <a id="30160" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15893" class="Function Operator">∙</a> <a id="30162" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30136" class="Bound">p</a><a id="30163" class="Symbol">)</a> <a id="30165" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30142" class="Bound">j</a>

</pre>-->
<pre class="Agda">
<a id="∙-assoc"></a><a id="30181" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30181" class="Function">∙-assoc</a> <a id="30189" class="Symbol">:</a> <a id="30191" class="Symbol">(</a><a id="30192" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30192" class="Bound">r</a> <a id="30194" class="Symbol">:</a> <a id="30196" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#596" class="Generalizable">w</a> <a id="30198" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="30200" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a><a id="30201" class="Symbol">)</a> <a id="30203" class="Symbol">(</a><a id="30204" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30204" class="Bound">p</a> <a id="30206" class="Symbol">:</a> <a id="30208" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="30210" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="30212" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a><a id="30213" class="Symbol">)</a> <a id="30215" class="Symbol">(</a><a id="30216" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30216" class="Bound">q</a> <a id="30218" class="Symbol">:</a> <a id="30220" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a> <a id="30222" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="30224" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a><a id="30225" class="Symbol">)</a>
  <a id="30229" class="Symbol">→</a> <a id="30231" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30192" class="Bound">r</a> <a id="30233" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15893" class="Function Operator">∙</a> <a id="30235" class="Symbol">(</a><a id="30236" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30204" class="Bound">p</a> <a id="30238" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15893" class="Function Operator">∙</a> <a id="30240" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30216" class="Bound">q</a><a id="30241" class="Symbol">)</a> <a id="30243" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="30245" class="Symbol">(</a><a id="30246" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30192" class="Bound">r</a> <a id="30248" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15893" class="Function Operator">∙</a> <a id="30250" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30204" class="Bound">p</a><a id="30251" class="Symbol">)</a> <a id="30253" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15893" class="Function Operator">∙</a> <a id="30255" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30216" class="Bound">q</a>
<a id="30257" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30181" class="Function">∙-assoc</a> <a id="30265" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30265" class="Bound">r</a> <a id="30267" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30267" class="Bound">p</a> <a id="30269" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30269" class="Bound">q</a> <a id="30271" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30271" class="Bound">i</a> <a id="30273" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30273" class="Bound">j</a> <a id="30275" class="Symbol">=</a> <a id="30277" href="Library.Prelude.html#650" class="Function">hcomp</a> <a id="30283" class="Symbol">(</a><a id="30284" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6469" class="Function">∂</a> <a id="30286" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30271" class="Bound">i</a> <a id="30288" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="30290" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6469" class="Function">∂</a> <a id="30292" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30273" class="Bound">j</a><a id="30293" class="Symbol">)</a> <a id="30295" class="Symbol">(</a><a id="30296" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29443" class="Function">∙-assoc-tube</a> <a id="30309" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30265" class="Bound">r</a> <a id="30311" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30267" class="Bound">p</a> <a id="30313" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30269" class="Bound">q</a> <a id="30315" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30271" class="Bound">i</a> <a id="30317" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30273" class="Bound">j</a><a id="30318" class="Symbol">)</a>
</pre>
<h2 id="equational-reasoning"><a class="header" href="#equational-reasoning">Equational Reasoning</a></h2>
<p>As should be familiar from ordinary pen-and-paper mathematics, it is
very useful to produce an equality by chaining together lots of
simpler ones. There is a common Agda pattern that is used to give this
some nice syntax, and the following lines set it up:</p>
<pre class="Agda"><a id="step-≡"></a><a id="30613" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">step-≡</a> <a id="30620" class="Symbol">:</a> <a id="30622" class="Symbol">(</a><a id="30623" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30623" class="Bound">x</a> <a id="30625" class="Symbol">:</a> <a id="30627" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="30628" class="Symbol">)</a> <a id="30630" class="Symbol">→</a> <a id="30632" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a> <a id="30634" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="30636" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a> <a id="30638" class="Symbol">→</a> <a id="30640" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30623" class="Bound">x</a> <a id="30642" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="30644" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a> <a id="30646" class="Symbol">→</a> <a id="30648" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30623" class="Bound">x</a> <a id="30650" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="30652" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a>
<a id="30654" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">step-≡</a> <a id="30661" class="Symbol">_</a> <a id="30663" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30663" class="Bound">p</a> <a id="30665" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30665" class="Bound">q</a> <a id="30667" class="Symbol">=</a> <a id="30669" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30665" class="Bound">q</a> <a id="30671" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15893" class="Function Operator">∙</a> <a id="30673" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30663" class="Bound">p</a>

<a id="30676" class="Keyword">syntax</a> <a id="30683" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">step-≡</a> <a id="30690" class="Bound">x</a> <a id="30692" class="Bound">q</a> <a id="30694" class="Bound">p</a> <a id="30696" class="Symbol">=</a> <a id="30698" class="Bound">x</a> <a id="30700" class="Function">≡⟨</a> <a id="30703" class="Bound">p</a> <a id="30705" class="Function">⟩</a> <a id="30707" class="Bound">q</a>

<a id="_∎"></a><a id="30710" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30710" class="Function Operator">_∎</a> <a id="30713" class="Symbol">:</a> <a id="30715" class="Symbol">(</a><a id="30716" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30716" class="Bound">x</a> <a id="30718" class="Symbol">:</a> <a id="30720" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="30721" class="Symbol">)</a> <a id="30723" class="Symbol">→</a> <a id="30725" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30716" class="Bound">x</a> <a id="30727" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="30729" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30716" class="Bound">x</a>
<a id="30731" class="Symbol">_</a> <a id="30733" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30710" class="Function Operator">∎</a> <a id="30735" class="Symbol">=</a> <a id="30737" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a>

<a id="30743" class="Keyword">infixr</a> <a id="30750" class="Number">2</a> <a id="30752" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">step-≡</a>
<a id="30759" class="Keyword">infix</a>  <a id="30766" class="Number">3</a> <a id="30768" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30710" class="Function Operator">_∎</a>
</pre>
<p>Here’s how to use it:</p>
<pre class="Agda"><a id="30803" class="Keyword">private</a>
  <a id="example1"></a><a id="30813" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30813" class="Function">example1</a> <a id="30822" class="Symbol">:</a> <a id="30824" class="Symbol">(</a><a id="30825" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30825" class="Bound">w</a> <a id="30827" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30827" class="Bound">x</a> <a id="30829" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30829" class="Bound">y</a> <a id="30831" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30831" class="Bound">z</a> <a id="30833" class="Symbol">:</a> <a id="30835" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="30836" class="Symbol">)</a>
    <a id="30842" class="Symbol">→</a> <a id="30844" class="Symbol">(</a><a id="30845" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30845" class="Bound">p</a> <a id="30847" class="Symbol">:</a> <a id="30849" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30825" class="Bound">w</a> <a id="30851" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="30853" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30827" class="Bound">x</a><a id="30854" class="Symbol">)</a>
    <a id="30860" class="Symbol">→</a> <a id="30862" class="Symbol">(</a><a id="30863" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30863" class="Bound">q</a> <a id="30865" class="Symbol">:</a> <a id="30867" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30827" class="Bound">x</a> <a id="30869" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="30871" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30829" class="Bound">y</a><a id="30872" class="Symbol">)</a>
    <a id="30878" class="Symbol">→</a> <a id="30880" class="Symbol">(</a><a id="30881" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30881" class="Bound">r</a> <a id="30883" class="Symbol">:</a> <a id="30885" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30829" class="Bound">y</a> <a id="30887" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="30889" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30831" class="Bound">z</a><a id="30890" class="Symbol">)</a>
    <a id="30896" class="Symbol">→</a> <a id="30898" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30825" class="Bound">w</a> <a id="30900" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="30902" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30831" class="Bound">z</a>
  <a id="30906" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30813" class="Function">example1</a> <a id="30915" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30915" class="Bound">w</a> <a id="30917" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30917" class="Bound">x</a> <a id="30919" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30919" class="Bound">y</a> <a id="30921" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30921" class="Bound">z</a> <a id="30923" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30923" class="Bound">p</a> <a id="30925" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30925" class="Bound">q</a> <a id="30927" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30927" class="Bound">r</a> <a id="30929" class="Symbol">=</a>
    <a id="30935" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30915" class="Bound">w</a> <a id="30937" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">≡⟨</a> <a id="30940" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30923" class="Bound">p</a> <a id="30942" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">⟩</a>
    <a id="30948" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30917" class="Bound">x</a> <a id="30950" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">≡⟨</a> <a id="30953" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30925" class="Bound">q</a> <a id="30955" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">⟩</a>
    <a id="30961" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30919" class="Bound">y</a> <a id="30963" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">≡⟨</a> <a id="30966" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30927" class="Bound">r</a> <a id="30968" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">⟩</a>
    <a id="30974" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30921" class="Bound">z</a> <a id="30976" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30710" class="Function Operator">∎</a>

  <a id="example2"></a><a id="30981" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30981" class="Function">example2</a> <a id="30990" class="Symbol">:</a> <a id="30992" class="Symbol">(</a><a id="30993" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30993" class="Bound">f</a> <a id="30995" class="Symbol">:</a> <a id="30997" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a> <a id="30999" class="Symbol">→</a> <a id="31001" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#571" class="Generalizable">B</a><a id="31002" class="Symbol">)</a> <a id="31004" class="Symbol">(</a><a id="31005" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31005" class="Bound">g</a> <a id="31007" class="Symbol">:</a> <a id="31009" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#571" class="Generalizable">B</a> <a id="31011" class="Symbol">→</a> <a id="31013" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="31014" class="Symbol">)</a>
    <a id="31020" class="Symbol">→</a> <a id="31022" class="Symbol">(</a><a id="31023" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31023" class="Bound">η</a> <a id="31025" class="Symbol">:</a> <a id="31027" class="Symbol">(</a><a id="31028" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31028" class="Bound">x</a> <a id="31030" class="Symbol">:</a> <a id="31032" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="31033" class="Symbol">)</a> <a id="31035" class="Symbol">→</a> <a id="31037" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31028" class="Bound">x</a> <a id="31039" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="31041" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31005" class="Bound">g</a> <a id="31043" class="Symbol">(</a><a id="31044" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30993" class="Bound">f</a> <a id="31046" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31028" class="Bound">x</a><a id="31047" class="Symbol">))</a>
    <a id="31054" class="Symbol">→</a> <a id="31056" class="Symbol">(</a><a id="31057" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31057" class="Bound">ε</a> <a id="31059" class="Symbol">:</a> <a id="31061" class="Symbol">(</a><a id="31062" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31062" class="Bound">y</a> <a id="31064" class="Symbol">:</a> <a id="31066" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#571" class="Generalizable">B</a><a id="31067" class="Symbol">)</a> <a id="31069" class="Symbol">→</a> <a id="31071" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30993" class="Bound">f</a> <a id="31073" class="Symbol">(</a><a id="31074" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31005" class="Bound">g</a> <a id="31076" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31062" class="Bound">y</a><a id="31077" class="Symbol">)</a> <a id="31079" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="31081" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31062" class="Bound">y</a><a id="31082" class="Symbol">)</a>
    <a id="31088" class="Symbol">→</a> <a id="31090" class="Symbol">(</a><a id="31091" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31091" class="Bound">x</a> <a id="31093" class="Symbol">:</a> <a id="31095" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="31096" class="Symbol">)</a> <a id="31098" class="Symbol">→</a> <a id="31100" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30993" class="Bound">f</a> <a id="31102" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31091" class="Bound">x</a> <a id="31104" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="31106" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30993" class="Bound">f</a> <a id="31108" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31091" class="Bound">x</a>
  <a id="31112" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30981" class="Function">example2</a> <a id="31121" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31121" class="Bound">f</a> <a id="31123" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31123" class="Bound">g</a> <a id="31125" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31125" class="Bound">η</a> <a id="31127" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31127" class="Bound">ε</a> <a id="31129" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31129" class="Bound">x</a> <a id="31131" class="Symbol">=</a>
    <a id="31137" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31121" class="Bound">f</a> <a id="31139" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31129" class="Bound">x</a>         <a id="31149" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">≡⟨</a> <a id="31152" href="2--Paths-and-Identifications.2-1--Paths.html#17114" class="Function">ap</a> <a id="31155" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31121" class="Bound">f</a> <a id="31157" class="Symbol">(</a><a id="31158" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31125" class="Bound">η</a> <a id="31160" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31129" class="Bound">x</a><a id="31161" class="Symbol">)</a> <a id="31163" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">⟩</a>
    <a id="31169" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31121" class="Bound">f</a> <a id="31171" class="Symbol">(</a><a id="31172" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31123" class="Bound">g</a> <a id="31174" class="Symbol">(</a><a id="31175" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31121" class="Bound">f</a> <a id="31177" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31129" class="Bound">x</a><a id="31178" class="Symbol">))</a> <a id="31181" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">≡⟨</a> <a id="31184" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31127" class="Bound">ε</a> <a id="31186" class="Symbol">(</a><a id="31187" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31121" class="Bound">f</a> <a id="31189" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31129" class="Bound">x</a><a id="31190" class="Symbol">)</a> <a id="31192" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">⟩</a>
    <a id="31198" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31121" class="Bound">f</a> <a id="31200" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31129" class="Bound">x</a>         <a id="31210" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30710" class="Function Operator">∎</a>
</pre>
<p>Try it yourself by re-proving a path version of <code class="Agda"><a href="1--Type-Theory.1-5--Propositions-as-Types.html#17947" class="Function">+ℕ-≡ℕ-comm</a></code>.</p>
<pre class="Agda"><a id="+ℕ-comm-helper"></a><a id="31286" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31286" class="Function">+ℕ-comm-helper</a> <a id="31301" class="Symbol">:</a> <a id="31303" class="Symbol">(</a><a id="31304" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31304" class="Bound">n</a> <a id="31306" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31306" class="Bound">m</a> <a id="31308" class="Symbol">:</a> <a id="31310" href="Library.Prelude.html#3629" class="Datatype">ℕ</a><a id="31311" class="Symbol">)</a> <a id="31313" class="Symbol">→</a> <a id="31315" class="Symbol">(</a><a id="31316" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31304" class="Bound">n</a> <a id="31318" href="1--Type-Theory.1-2--Inductive-Types.html#12309" class="Function Operator">+ℕ</a> <a id="31321" class="Symbol">(</a><a id="31322" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="31326" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31306" class="Bound">m</a><a id="31327" class="Symbol">))</a> <a id="31330" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="31332" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="31336" class="Symbol">(</a><a id="31337" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31304" class="Bound">n</a> <a id="31339" href="1--Type-Theory.1-2--Inductive-Types.html#12309" class="Function Operator">+ℕ</a> <a id="31342" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31306" class="Bound">m</a><a id="31343" class="Symbol">)</a>
<a id="31345" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31286" class="Function">+ℕ-comm-helper</a> <a id="31360" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a> <a id="31365" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31365" class="Bound">m</a> <a id="31367" class="Symbol">=</a> <a id="31369" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a>
<a id="31374" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31286" class="Function">+ℕ-comm-helper</a> <a id="31389" class="Symbol">(</a><a id="31390" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="31394" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31394" class="Bound">n</a><a id="31395" class="Symbol">)</a> <a id="31397" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31397" class="Bound">m</a> <a id="31399" class="Symbol">=</a> <a id="31401" href="2--Paths-and-Identifications.2-1--Paths.html#17114" class="Function">ap</a> <a id="31404" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="31408" class="Symbol">(</a><a id="31409" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31286" class="Function">+ℕ-comm-helper</a> <a id="31424" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31394" class="Bound">n</a> <a id="31426" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31397" class="Bound">m</a><a id="31427" class="Symbol">)</a>

<a id="+ℕ-comm"></a><a id="31430" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31430" class="Function">+ℕ-comm</a> <a id="31438" class="Symbol">:</a> <a id="31440" class="Symbol">(</a><a id="31441" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31441" class="Bound">n</a> <a id="31443" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31443" class="Bound">m</a> <a id="31445" class="Symbol">:</a> <a id="31447" href="Library.Prelude.html#3629" class="Datatype">ℕ</a><a id="31448" class="Symbol">)</a> <a id="31450" class="Symbol">→</a> <a id="31452" class="Symbol">(</a><a id="31453" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31441" class="Bound">n</a> <a id="31455" href="1--Type-Theory.1-2--Inductive-Types.html#12309" class="Function Operator">+ℕ</a> <a id="31458" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31443" class="Bound">m</a><a id="31459" class="Symbol">)</a> <a id="31461" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="31463" class="Symbol">(</a><a id="31464" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31443" class="Bound">m</a> <a id="31466" href="1--Type-Theory.1-2--Inductive-Types.html#12309" class="Function Operator">+ℕ</a> <a id="31469" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31441" class="Bound">n</a><a id="31470" class="Symbol">)</a>
<a id="31472" class="Comment">-- Exercise:</a>
<a id="31485" class="Comment">-- +ℕ-comm n zero = +ℕ-idr n</a>
<a id="31514" class="Comment">-- +ℕ-comm n (suc m) =</a>
<a id="31537" class="Comment">--   n +ℕ suc m   ≡⟨ {!!} ⟩</a>
<a id="31565" class="Comment">--   suc (n +ℕ m) ≡⟨ {!!} ⟩</a>
<a id="31593" class="Comment">--   suc (m +ℕ n) ∎</a>
</pre><!--
<pre class="Agda"><a id="31626" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31430" class="Function">+ℕ-comm</a> <a id="31634" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31634" class="Bound">n</a> <a id="31636" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a> <a id="31641" class="Symbol">=</a> <a id="31643" href="2--Paths-and-Identifications.2-1--Paths.html#8232" class="Function">+ℕ-idr</a> <a id="31650" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31634" class="Bound">n</a>
<a id="31652" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31430" class="Function">+ℕ-comm</a> <a id="31660" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31660" class="Bound">n</a> <a id="31662" class="Symbol">(</a><a id="31663" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="31667" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31667" class="Bound">m</a><a id="31668" class="Symbol">)</a> <a id="31670" class="Symbol">=</a>
  <a id="31674" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31660" class="Bound">n</a> <a id="31676" href="1--Type-Theory.1-2--Inductive-Types.html#12309" class="Function Operator">+ℕ</a> <a id="31679" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="31683" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31667" class="Bound">m</a>   <a id="31687" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">≡⟨</a> <a id="31690" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31286" class="Function">+ℕ-comm-helper</a> <a id="31705" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31660" class="Bound">n</a> <a id="31707" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31667" class="Bound">m</a> <a id="31709" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">⟩</a>
  <a id="31713" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="31717" class="Symbol">(</a><a id="31718" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31660" class="Bound">n</a> <a id="31720" href="1--Type-Theory.1-2--Inductive-Types.html#12309" class="Function Operator">+ℕ</a> <a id="31723" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31667" class="Bound">m</a><a id="31724" class="Symbol">)</a> <a id="31726" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">≡⟨</a> <a id="31729" href="2--Paths-and-Identifications.2-1--Paths.html#17114" class="Function">ap</a> <a id="31732" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="31736" class="Symbol">(</a><a id="31737" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31430" class="Function">+ℕ-comm</a> <a id="31745" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31660" class="Bound">n</a> <a id="31747" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31667" class="Bound">m</a><a id="31748" class="Symbol">)</a> <a id="31750" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">⟩</a>
  <a id="31754" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="31758" class="Symbol">(</a><a id="31759" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31667" class="Bound">m</a> <a id="31761" href="1--Type-Theory.1-2--Inductive-Types.html#12309" class="Function Operator">+ℕ</a> <a id="31764" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31660" class="Bound">n</a><a id="31765" class="Symbol">)</a> <a id="31767" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30710" class="Function Operator">∎</a>

</pre>-->
<p>And the following lemma about path composition. Each
step will involve a lemma we’ve proven above.</p>
<pre class="Agda"><a id="∙l-cancel"></a><a id="31891" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31891" class="Function">∙l-cancel</a> <a id="31901" class="Symbol">:</a> <a id="31903" class="Symbol">(</a><a id="31904" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31904" class="Bound">p</a> <a id="31906" class="Symbol">:</a> <a id="31908" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="31910" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="31912" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a><a id="31913" class="Symbol">)</a> <a id="31915" class="Symbol">(</a><a id="31916" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31916" class="Bound">q</a> <a id="31918" class="Symbol">:</a> <a id="31920" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="31922" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="31924" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a><a id="31925" class="Symbol">)</a> <a id="31927" class="Symbol">→</a> <a id="31929" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31904" class="Bound">p</a> <a id="31931" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15893" class="Function Operator">∙</a> <a id="31933" class="Symbol">(</a><a id="31934" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#22904" class="Function">sym</a> <a id="31938" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31904" class="Bound">p</a> <a id="31940" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15893" class="Function Operator">∙</a> <a id="31942" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31916" class="Bound">q</a><a id="31943" class="Symbol">)</a> <a id="31945" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="31947" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31916" class="Bound">q</a>
<a id="31949" class="Comment">-- Exercise:</a>
<a id="31962" class="Comment">-- ∙l-cancel p q =</a>
<a id="31981" class="Comment">--   p ∙ (sym p  ∙ q) ≡⟨ {!!} ⟩</a>
<a id="32013" class="Comment">--   (p ∙ sym p) ∙ q  ≡⟨ {!!} ⟩</a>
<a id="32045" class="Comment">--   refl ∙ q         ≡⟨ {!!} ⟩</a>
<a id="32077" class="Comment">--   q                ∎</a>
</pre><!--
<pre class="Agda"><a id="32114" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31891" class="Function">∙l-cancel</a> <a id="32124" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32124" class="Bound">p</a> <a id="32126" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32126" class="Bound">q</a> <a id="32128" class="Symbol">=</a>
  <a id="32132" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32124" class="Bound">p</a> <a id="32134" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15893" class="Function Operator">∙</a> <a id="32136" class="Symbol">(</a><a id="32137" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#22904" class="Function">sym</a> <a id="32141" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32124" class="Bound">p</a>  <a id="32144" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15893" class="Function Operator">∙</a> <a id="32146" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32126" class="Bound">q</a><a id="32147" class="Symbol">)</a> <a id="32149" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">≡⟨</a> <a id="32152" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30181" class="Function">∙-assoc</a> <a id="32160" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32124" class="Bound">p</a> <a id="32162" class="Symbol">(</a><a id="32163" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#22904" class="Function">sym</a> <a id="32167" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32124" class="Bound">p</a><a id="32168" class="Symbol">)</a> <a id="32170" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32126" class="Bound">q</a> <a id="32172" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">⟩</a>
  <a id="32176" class="Symbol">(</a><a id="32177" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32124" class="Bound">p</a> <a id="32179" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15893" class="Function Operator">∙</a> <a id="32181" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#22904" class="Function">sym</a> <a id="32185" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32124" class="Bound">p</a><a id="32186" class="Symbol">)</a> <a id="32188" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15893" class="Function Operator">∙</a> <a id="32190" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32126" class="Bound">q</a>  <a id="32193" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">≡⟨</a> <a id="32196" href="2--Paths-and-Identifications.2-1--Paths.html#17114" class="Function">ap</a> <a id="32199" class="Symbol">(</a><a id="32200" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15893" class="Function Operator">_∙</a> <a id="32203" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32126" class="Bound">q</a><a id="32204" class="Symbol">)</a> <a id="32206" class="Symbol">(</a><a id="32207" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28415" class="Function">∙-invr</a> <a id="32214" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32124" class="Bound">p</a><a id="32215" class="Symbol">)</a> <a id="32217" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">⟩</a>
  <a id="32221" href="2--Paths-and-Identifications.2-1--Paths.html#5312" class="Function">refl</a> <a id="32226" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15893" class="Function Operator">∙</a> <a id="32228" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32126" class="Bound">q</a>         <a id="32238" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">≡⟨</a> <a id="32241" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#22904" class="Function">sym</a> <a id="32245" class="Symbol">(</a><a id="32246" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26984" class="Function">∙-idl</a> <a id="32252" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32126" class="Bound">q</a><a id="32253" class="Symbol">)</a> <a id="32255" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">⟩</a>
  <a id="32259" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32126" class="Bound">q</a>                <a id="32276" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30710" class="Function Operator">∎</a>

</pre>-->
<p>We encourage you to use this syntax when chaining paths together, it
makes it a lot easier to understand what’s going on when you can see
the intermediate points that the composite path is passing through!</p>
<h2 id="equivalences-revisited"><a class="header" href="#equivalences-revisited">Equivalences Revisited</a></h2>
<p>Now that we have path composition, we can finally prove that
equivalences compose!</p>
<p>This function takes a lot of data as input but the the idea is very
simple: we just compose the provided sections and retracts and use
path composition to combine the provided proofs.</p>
<pre class="Agda"><a id="∘-isEquiv"></a><a id="32804" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32804" class="Function">∘-isEquiv</a> <a id="32814" class="Symbol">:</a> <a id="32816" class="Symbol">(</a><a id="32817" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32817" class="Bound">e₁</a> <a id="32820" class="Symbol">:</a> <a id="32822" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#571" class="Generalizable">B</a> <a id="32824" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="32826" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#573" class="Generalizable">C</a><a id="32827" class="Symbol">)</a> <a id="32829" class="Symbol">(</a><a id="32830" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32830" class="Bound">e₂</a> <a id="32833" class="Symbol">:</a> <a id="32835" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a> <a id="32837" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="32839" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#571" class="Generalizable">B</a><a id="32840" class="Symbol">)</a> <a id="32842" class="Symbol">→</a> <a id="32844" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5531" class="Record">isEquiv</a> <a id="32852" class="Symbol">(</a><a id="32853" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32817" class="Bound">e₁</a> <a id="32856" class="Symbol">.</a><a id="32857" class="Field">map</a> <a id="32861" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#3978" class="Function Operator">∘</a> <a id="32863" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32830" class="Bound">e₂</a> <a id="32866" class="Symbol">.</a><a id="32867" class="Field">map</a><a id="32870" class="Symbol">)</a>
<a id="32872" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32804" class="Function">∘-isEquiv</a> <a id="32882" class="Symbol">(</a><a id="32883" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#6301" class="InductiveConstructor">packEquiv</a> <a id="32893" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32893" class="Bound">f₁</a> <a id="32896" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32896" class="Bound">g₁</a> <a id="32899" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32899" class="Bound">s₁</a> <a id="32902" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32902" class="Bound">g&#39;₁</a> <a id="32906" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32906" class="Bound">r₁</a><a id="32908" class="Symbol">)</a> <a id="32910" class="Symbol">(</a><a id="32911" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#6301" class="InductiveConstructor">packEquiv</a> <a id="32921" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32921" class="Bound">f₂</a> <a id="32924" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32924" class="Bound">g₂</a> <a id="32927" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32927" class="Bound">s₂</a> <a id="32930" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32930" class="Bound">g&#39;₂</a> <a id="32934" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32934" class="Bound">r₂</a><a id="32936" class="Symbol">)</a> 
  <a id="32941" class="Symbol">=</a> <a id="32943" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#6196" class="InductiveConstructor">packIsEquiv</a> <a id="32955" class="Symbol">(</a><a id="32956" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32924" class="Bound">g₂</a> <a id="32959" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#3978" class="Function Operator">∘</a> <a id="32961" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32896" class="Bound">g₁</a><a id="32963" class="Symbol">)</a> <a id="32965" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33003" class="Function">to-fro</a> <a id="32972" class="Symbol">(</a><a id="32973" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32930" class="Bound">g&#39;₂</a> <a id="32977" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#3978" class="Function Operator">∘</a> <a id="32979" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32902" class="Bound">g&#39;₁</a><a id="32982" class="Symbol">)</a> <a id="32984" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33352" class="Function">fro-to</a>
  <a id="32993" class="Keyword">where</a>
    <a id="33003" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33003" class="Function">to-fro</a> <a id="33010" class="Symbol">:</a> <a id="33012" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#1688" class="Function">isSection</a> <a id="33022" class="Symbol">(</a><a id="33023" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32893" class="Bound">f₁</a> <a id="33026" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#3978" class="Function Operator">∘</a> <a id="33028" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32921" class="Bound">f₂</a><a id="33030" class="Symbol">)</a> <a id="33032" class="Symbol">(</a><a id="33033" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32924" class="Bound">g₂</a> <a id="33036" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#3978" class="Function Operator">∘</a> <a id="33038" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32896" class="Bound">g₁</a><a id="33040" class="Symbol">)</a>
    <a id="33046" class="Comment">-- Exercise:</a>
    <a id="33063" class="Comment">-- to-fro b = f₁ (f₂ (g₂ (g₁ b))) ≡⟨ {!!} ⟩</a>
    <a id="33111" class="Comment">--            f₁         (g₁ b)   ≡⟨ {!!} ⟩</a>
    <a id="33159" class="Comment">--                           b    ∎</a>
</pre><!--
<pre class="Agda">    <a id="33212" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33003" class="Function">to-fro</a> <a id="33219" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33219" class="Bound">b</a> <a id="33221" class="Symbol">=</a> <a id="33223" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32893" class="Bound">f₁</a> <a id="33226" class="Symbol">(</a><a id="33227" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32921" class="Bound">f₂</a> <a id="33230" class="Symbol">(</a><a id="33231" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32924" class="Bound">g₂</a> <a id="33234" class="Symbol">(</a><a id="33235" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32896" class="Bound">g₁</a> <a id="33238" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33219" class="Bound">b</a><a id="33239" class="Symbol">)))</a> <a id="33243" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">≡⟨</a> <a id="33246" href="2--Paths-and-Identifications.2-1--Paths.html#17114" class="Function">ap</a> <a id="33249" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32893" class="Bound">f₁</a> <a id="33252" class="Symbol">(</a><a id="33253" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32927" class="Bound">s₂</a> <a id="33256" class="Symbol">(</a><a id="33257" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32896" class="Bound">g₁</a> <a id="33260" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33219" class="Bound">b</a><a id="33261" class="Symbol">))</a> <a id="33264" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">⟩</a>
               <a id="33281" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32893" class="Bound">f₁</a>         <a id="33292" class="Symbol">(</a><a id="33293" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32896" class="Bound">g₁</a> <a id="33296" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33219" class="Bound">b</a><a id="33297" class="Symbol">)</a>   <a id="33301" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">≡⟨</a> <a id="33304" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32899" class="Bound">s₁</a> <a id="33307" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33219" class="Bound">b</a> <a id="33309" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">⟩</a>
                              <a id="33341" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33219" class="Bound">b</a>    <a id="33346" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30710" class="Function Operator">∎</a>
    <a id="33352" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33352" class="Function">fro-to</a> <a id="33359" class="Symbol">:</a> <a id="33361" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#3991" class="Function">isRetract</a> <a id="33371" class="Symbol">(</a><a id="33372" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32893" class="Bound">f₁</a> <a id="33375" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#3978" class="Function Operator">∘</a> <a id="33377" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32921" class="Bound">f₂</a><a id="33379" class="Symbol">)</a> <a id="33381" class="Symbol">(</a><a id="33382" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32930" class="Bound">g&#39;₂</a> <a id="33386" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#3978" class="Function Operator">∘</a> <a id="33388" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32902" class="Bound">g&#39;₁</a><a id="33391" class="Symbol">)</a>
    <a id="33397" class="Comment">-- Exercise:</a>
    <a id="33414" class="Comment">-- fro-to a = g&#39;₂ (g&#39;₁ (f₁ (f₂ a))) ≡⟨ {!!} ⟩</a>
    <a id="33464" class="Comment">--            g&#39;₂          (f₂ a)   ≡⟨ {!!} ⟩</a>
    <a id="33514" class="Comment">--                             a    ∎</a>
    <a id="33556" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33352" class="Function">fro-to</a> <a id="33563" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33563" class="Bound">a</a> <a id="33565" class="Symbol">=</a> <a id="33567" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32930" class="Bound">g&#39;₂</a> <a id="33571" class="Symbol">(</a><a id="33572" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32902" class="Bound">g&#39;₁</a> <a id="33576" class="Symbol">(</a><a id="33577" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32893" class="Bound">f₁</a> <a id="33580" class="Symbol">(</a><a id="33581" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32921" class="Bound">f₂</a> <a id="33584" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33563" class="Bound">a</a><a id="33585" class="Symbol">)))</a> <a id="33589" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">≡⟨</a> <a id="33592" href="2--Paths-and-Identifications.2-1--Paths.html#17114" class="Function">ap</a> <a id="33595" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32930" class="Bound">g&#39;₂</a> <a id="33599" class="Symbol">(</a><a id="33600" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32906" class="Bound">r₁</a> <a id="33603" class="Symbol">(</a><a id="33604" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32921" class="Bound">f₂</a> <a id="33607" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33563" class="Bound">a</a><a id="33608" class="Symbol">))</a> <a id="33611" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">⟩</a>
               <a id="33628" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32930" class="Bound">g&#39;₂</a>          <a id="33641" class="Symbol">(</a><a id="33642" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32921" class="Bound">f₂</a> <a id="33645" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33563" class="Bound">a</a><a id="33646" class="Symbol">)</a>   <a id="33650" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">≡⟨</a> <a id="33653" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32934" class="Bound">r₂</a> <a id="33656" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33563" class="Bound">a</a> <a id="33658" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">⟩</a>
                                <a id="33692" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33563" class="Bound">a</a>    <a id="33697" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30710" class="Function Operator">∎</a>

</pre>-->
<pre class="Agda">
<a id="_∘e_"></a><a id="33713" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33713" class="Function Operator">_∘e_</a> <a id="33718" class="Symbol">:</a> <a id="33720" class="Symbol">(</a><a id="33721" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#571" class="Generalizable">B</a> <a id="33723" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="33725" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#573" class="Generalizable">C</a><a id="33726" class="Symbol">)</a> <a id="33728" class="Symbol">→</a> <a id="33730" class="Symbol">(</a><a id="33731" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a> <a id="33733" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="33735" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#571" class="Generalizable">B</a><a id="33736" class="Symbol">)</a> <a id="33738" class="Symbol">→</a> <a id="33740" class="Symbol">(</a><a id="33741" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a> <a id="33743" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="33745" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#573" class="Generalizable">C</a><a id="33746" class="Symbol">)</a>
<a id="33748" class="Symbol">(</a><a id="33749" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33749" class="Bound">e₁</a> <a id="33752" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33713" class="Function Operator">∘e</a> <a id="33755" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33755" class="Bound">e₂</a><a id="33757" class="Symbol">)</a> <a id="33759" class="Symbol">.</a><a id="33760" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5810" class="Field">map</a> <a id="33764" class="Symbol">=</a> <a id="33766" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33749" class="Bound">e₁</a> <a id="33769" class="Symbol">.</a><a id="33770" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5810" class="Field">map</a> <a id="33774" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#3978" class="Function Operator">∘</a> <a id="33776" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33755" class="Bound">e₂</a> <a id="33779" class="Symbol">.</a><a id="33780" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5810" class="Field">map</a>
<a id="33784" class="Symbol">(</a><a id="33785" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33785" class="Bound">e₁</a> <a id="33788" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33713" class="Function Operator">∘e</a> <a id="33791" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33791" class="Bound">e₂</a><a id="33793" class="Symbol">)</a> <a id="33795" class="Symbol">.</a><a id="33796" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5826" class="Field">proof</a> <a id="33802" class="Symbol">=</a> <a id="33804" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32804" class="Function">∘-isEquiv</a> <a id="33814" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33785" class="Bound">e₁</a> <a id="33817" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33791" class="Bound">e₂</a>

<a id="33821" class="Keyword">infixr</a> <a id="33828" class="Number">9</a> <a id="33830" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33713" class="Function Operator">_∘e_</a>
</pre>
<p>Just as we did for paths, we’ll throw in some syntax for chaining
equivalences together.</p>
<pre class="Agda"><a id="_≃⟨_⟩_"></a><a id="33934" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33934" class="Function Operator">_≃⟨_⟩_</a> <a id="33941" class="Symbol">:</a> <a id="33943" class="Symbol">{</a><a id="33944" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33944" class="Bound">B</a> <a id="33946" class="Symbol">:</a> <a id="33948" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="33953" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#550" class="Generalizable">ℓ&#39;</a><a id="33955" class="Symbol">}</a> <a id="33957" class="Symbol">{</a><a id="33958" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33958" class="Bound">C</a> <a id="33960" class="Symbol">:</a> <a id="33962" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="33967" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#553" class="Generalizable">ℓ&#39;&#39;</a><a id="33970" class="Symbol">}</a> <a id="33972" class="Symbol">(</a><a id="33973" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33973" class="Bound">X</a> <a id="33975" class="Symbol">:</a> <a id="33977" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="33982" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#548" class="Generalizable">ℓ</a><a id="33983" class="Symbol">)</a> <a id="33985" class="Symbol">→</a> <a id="33987" class="Symbol">(</a><a id="33988" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33973" class="Bound">X</a> <a id="33990" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="33992" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33944" class="Bound">B</a><a id="33993" class="Symbol">)</a> <a id="33995" class="Symbol">→</a> <a id="33997" class="Symbol">(</a><a id="33998" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33944" class="Bound">B</a> <a id="34000" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="34002" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33958" class="Bound">C</a><a id="34003" class="Symbol">)</a> <a id="34005" class="Symbol">→</a> <a id="34007" class="Symbol">(</a><a id="34008" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33973" class="Bound">X</a> <a id="34010" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="34012" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33958" class="Bound">C</a><a id="34013" class="Symbol">)</a>
<a id="34015" class="Symbol">_</a> <a id="34017" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33934" class="Function Operator">≃⟨</a> <a id="34020" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34020" class="Bound">f</a> <a id="34022" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33934" class="Function Operator">⟩</a> <a id="34024" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34024" class="Bound">g</a> <a id="34026" class="Symbol">=</a> <a id="34028" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34024" class="Bound">g</a> <a id="34030" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33713" class="Function Operator">∘e</a> <a id="34033" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34020" class="Bound">f</a>

<a id="_∎e"></a><a id="34036" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34036" class="Function Operator">_∎e</a> <a id="34040" class="Symbol">:</a> <a id="34042" class="Symbol">(</a><a id="34043" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34043" class="Bound">X</a> <a id="34045" class="Symbol">:</a> <a id="34047" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="34052" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#548" class="Generalizable">ℓ</a><a id="34053" class="Symbol">)</a> <a id="34055" class="Symbol">→</a> <a id="34057" class="Symbol">(</a><a id="34058" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34043" class="Bound">X</a> <a id="34060" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="34062" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34043" class="Bound">X</a><a id="34063" class="Symbol">)</a>
<a id="34065" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34036" class="Function Operator">_∎e</a> <a id="34069" class="Symbol">=</a> <a id="34071" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#8879" class="Function">idEquiv</a>

<a id="34080" class="Keyword">infixr</a>  <a id="34088" class="Number">0</a> <a id="34090" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33934" class="Function Operator">_≃⟨_⟩_</a>
<a id="34097" class="Keyword">infix</a>   <a id="34105" class="Number">1</a> <a id="34107" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34036" class="Function Operator">_∎e</a>
</pre>
<p>Composition of paths is also enough to let us invert equivalences. The first
step is showing that in the data of an equivalence, the section and
retract functions are in fact equal. Again, we’ll explain in
Lecture 2-X why we need to have two different functions in the first
place!</p>
<pre class="Agda"><a id="sec≡ret"></a><a id="34403" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34403" class="Function">sec≡ret</a> <a id="34411" class="Symbol">:</a> <a id="34413" class="Symbol">(</a><a id="34414" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34414" class="Bound">e</a> <a id="34416" class="Symbol">:</a> <a id="34418" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a> <a id="34420" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="34422" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#571" class="Generalizable">B</a><a id="34423" class="Symbol">)</a> <a id="34425" class="Symbol">→</a> <a id="34427" class="Symbol">(</a><a id="34428" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34428" class="Bound">b</a> <a id="34430" class="Symbol">:</a> <a id="34432" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#571" class="Generalizable">B</a><a id="34433" class="Symbol">)</a> 
  <a id="34438" class="Symbol">→</a> <a id="34440" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34414" class="Bound">e</a> <a id="34442" class="Symbol">.</a><a id="34443" class="Field">proof</a> <a id="34449" class="Symbol">.</a><a id="34450" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5642" class="Field">section</a> <a id="34458" class="Symbol">.</a><a id="34459" class="Field">map</a> <a id="34463" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34428" class="Bound">b</a> <a id="34465" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="34467" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34414" class="Bound">e</a> <a id="34469" class="Symbol">.</a><a id="34470" class="Field">proof</a> <a id="34476" class="Symbol">.</a><a id="34477" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5668" class="Field">retract</a> <a id="34485" class="Symbol">.</a><a id="34486" class="Field">map</a> <a id="34490" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34428" class="Bound">b</a>
<a id="34492" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34403" class="Function">sec≡ret</a> <a id="34500" class="Symbol">(</a><a id="34501" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#6301" class="InductiveConstructor">packEquiv</a> <a id="34511" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34511" class="Bound">f</a> <a id="34513" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34513" class="Bound">g</a> <a id="34515" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34515" class="Bound">s</a> <a id="34517" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34517" class="Bound">g&#39;</a> <a id="34520" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34520" class="Bound">r</a><a id="34521" class="Symbol">)</a> <a id="34523" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34523" class="Bound">b</a> <a id="34525" class="Symbol">=</a>
  <a id="34529" class="Comment">-- Exercise:</a>
  <a id="34544" class="Comment">--        g b   ≡⟨ {!!} ⟩</a>
  <a id="34572" class="Comment">-- g&#39; (f (g b)) ≡⟨ {!!} ⟩</a>
  <a id="34600" class="Comment">-- g&#39; b         ∎</a>
</pre><!--
<pre class="Agda">         <a id="34640" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34513" class="Bound">g</a> <a id="34642" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34523" class="Bound">b</a>   <a id="34646" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">≡⟨</a> <a id="34649" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#22904" class="Function">sym</a> <a id="34653" class="Symbol">(</a><a id="34654" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34520" class="Bound">r</a> <a id="34656" class="Symbol">(</a><a id="34657" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34513" class="Bound">g</a> <a id="34659" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34523" class="Bound">b</a><a id="34660" class="Symbol">))</a> <a id="34663" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">⟩</a>
  <a id="34667" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34517" class="Bound">g&#39;</a> <a id="34670" class="Symbol">(</a><a id="34671" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34511" class="Bound">f</a> <a id="34673" class="Symbol">(</a><a id="34674" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34513" class="Bound">g</a> <a id="34676" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34523" class="Bound">b</a><a id="34677" class="Symbol">))</a> <a id="34680" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">≡⟨</a> <a id="34683" href="2--Paths-and-Identifications.2-1--Paths.html#17114" class="Function">ap</a> <a id="34686" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34517" class="Bound">g&#39;</a> <a id="34689" class="Symbol">(</a><a id="34690" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34515" class="Bound">s</a> <a id="34692" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34523" class="Bound">b</a><a id="34693" class="Symbol">)</a> <a id="34695" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">⟩</a>
  <a id="34699" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34517" class="Bound">g&#39;</a> <a id="34702" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34523" class="Bound">b</a>         <a id="34712" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30710" class="Function Operator">∎</a>

</pre>-->
<p>Then, we take the original section as our new function <code>B → A</code> and use
the original <code>f : A → B</code> as both its section and retract. Showing that
it is a retract is easy: for that we have exactly the original section
proof. Showing that it is a section will require a use of <code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34403" class="Function">sec≡ret</a></code>.</p>
<pre class="Agda"><a id="invEquiv"></a><a id="35021" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35021" class="Function">invEquiv</a> <a id="35030" class="Symbol">:</a> <a id="35032" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a> <a id="35034" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="35036" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#571" class="Generalizable">B</a> <a id="35038" class="Symbol">→</a> <a id="35040" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#571" class="Generalizable">B</a> <a id="35042" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="35044" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a>
<a id="35046" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35021" class="Function">invEquiv</a> <a id="35055" class="Symbol">(</a><a id="35056" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#6301" class="InductiveConstructor">packEquiv</a> <a id="35066" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35066" class="Bound">f</a> <a id="35068" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35068" class="Bound">g</a> <a id="35070" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35070" class="Bound">s</a> <a id="35072" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35072" class="Bound">g&#39;</a> <a id="35075" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35075" class="Bound">r</a><a id="35076" class="Symbol">)</a> <a id="35078" class="Symbol">=</a> <a id="35080" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#7262" class="Function">inv→equiv</a> <a id="35090" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35068" class="Bound">g</a> <a id="35092" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35066" class="Bound">f</a> <a id="35094" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35121" class="Function">newIsSection</a> <a id="35107" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35070" class="Bound">s</a>
  <a id="35111" class="Keyword">where</a>
    <a id="35121" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35121" class="Function">newIsSection</a> <a id="35134" class="Symbol">:</a> <a id="35136" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#1688" class="Function">isSection</a> <a id="35146" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35068" class="Bound">g</a> <a id="35148" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35066" class="Bound">f</a>
    <a id="35154" class="Comment">-- Exercise:</a>
    <a id="35171" class="Comment">-- newIsSection a = {!!}</a>
</pre><!--
<pre class="Agda">    <a id="35213" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35121" class="Function">newIsSection</a> <a id="35226" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35226" class="Bound">a</a> <a id="35228" class="Symbol">=</a> <a id="35230" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35068" class="Bound">g</a>  <a id="35233" class="Symbol">(</a><a id="35234" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35066" class="Bound">f</a> <a id="35236" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35226" class="Bound">a</a><a id="35237" class="Symbol">)</a> <a id="35239" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">≡⟨</a> <a id="35242" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34403" class="Function">sec≡ret</a> <a id="35250" class="Symbol">(</a><a id="35251" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#6301" class="InductiveConstructor">packEquiv</a> <a id="35261" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35066" class="Bound">f</a> <a id="35263" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35068" class="Bound">g</a> <a id="35265" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35070" class="Bound">s</a> <a id="35267" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35072" class="Bound">g&#39;</a> <a id="35270" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35075" class="Bound">r</a><a id="35271" class="Symbol">)</a> <a id="35273" class="Symbol">(</a><a id="35274" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35066" class="Bound">f</a> <a id="35276" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35226" class="Bound">a</a><a id="35277" class="Symbol">)</a> <a id="35279" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">⟩</a>
                     <a id="35302" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35072" class="Bound">g&#39;</a> <a id="35305" class="Symbol">(</a><a id="35306" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35066" class="Bound">f</a> <a id="35308" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35226" class="Bound">a</a><a id="35309" class="Symbol">)</a> <a id="35311" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">≡⟨</a> <a id="35314" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35075" class="Bound">r</a> <a id="35316" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35226" class="Bound">a</a> <a id="35318" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30613" class="Function">⟩</a>
                           <a id="35347" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35226" class="Bound">a</a>  <a id="35350" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30710" class="Function Operator">∎</a>

</pre>-->
<h2 id="references-and-further-reading"><a class="header" href="#references-and-further-reading">References and Further Reading</a></h2>
<p>https://agda.readthedocs.io/en/latest/language/sort-system.html</p>

                  </main>
                  <div class="sidetoc">
                    <nav class="pagetoc"></nav>
                  </div>
                </div>
            </div>
        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="theme/pagetoc.js"></script>


    </div>
    </body>
</html>
