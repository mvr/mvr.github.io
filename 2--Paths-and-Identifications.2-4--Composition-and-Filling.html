<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>4: Composition and Filling - Introduction to Cubical Type Theory in Agda</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/css/Agda.css">
        <link rel="stylesheet" href="theme/css/Agda-highlight.css">
        <link rel="stylesheet" href="theme/pagetoc.css">

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "coal" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="index.html">Home</a></li><li class="chapter-item affix "><a href="INSTALLING_AGDA.html">Installing Agda</a></li><li class="chapter-item affix "><a href="USING_AGDA.html">Using Agda</a></li><li class="chapter-item affix "><li class="part-title">Type Theory</li><li class="chapter-item "><a href="1--Type-Theory.1-1--Types-and-Functions.html">1: Types and Functions</a></li><li class="chapter-item "><a href="1--Type-Theory.1-2--Inductive-Types.html">2: Inductive Types</a></li><li class="chapter-item "><a href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html">3: Universes and More Inductive Types</a></li><li class="chapter-item "><a href="1--Type-Theory.1-X--Record-Types-and-Copatterns.html">X: Record Types and Copatterns</a></li><li class="chapter-item "><a href="1--Type-Theory.1-4--Propositions-as-Types.html">4: Propositions as Types</a></li><li class="chapter-item affix "><li class="part-title">Paths and Identifications</li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-1--Paths.html">1: Paths</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html">2: Equivalences and Path Algebra</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html">3: Substitution and J</a></li><li class="chapter-item expanded "><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html" class="active">4: Composition and Filling</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-5--Transport.html">5: Transport</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-6--Univalence.html">6: Univalence</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-7--Propositions.html">7: Propositions</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-8--Sets.html">8: Sets</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-9--Contractible-Maps.html">9: Contractible Maps</a></li><li class="chapter-item "><a href="2--Paths-and-Identifications.2-10--Higher-Types.html">10: Higher Types</a></li><li class="chapter-item affix "><li class="part-title">Topics</li><li class="chapter-item "><a href="3--Structures.3-1--Structure-Identity-Principle.html">1: The Structure Identity Principle</a></li><li class="chapter-item "><a href="3--Structures.3-2--Modalities.html">2: Modalities</a></li><li class="chapter-item "><a href="3--Structures.3-3--Constructive-Logic.html">3: Constructive Logic</a></li><li class="spacer"></li><li class="chapter-item affix "><a href="Library.Primitive.html">Primitives</a></li><li class="chapter-item affix "><a href="Library.Prelude.html">Prelude</a></li><li class="chapter-item affix "><a href="Library.Univalence.html">Univalence</a></li><li class="chapter-item affix "><a href="UNICODE_DICTIONARY.html">Unicode Dictionary</a></li><li class="spacer"></li><li class="chapter-item affix "><a href="ACKNOWLEDGEMENTS.html">Acknowledgements</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <!-- <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li> -->
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Introduction to Cubical Type Theory in Agda</h1>

                    <div class="right-buttons">
                        <a href="https://github.com/CQTS/introduction-to-cubical" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                  <main>
                    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<!--
<pre class="Agda"><a id="10" class="Keyword">module</a> <a id="17" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html" class="Module">2--Paths-and-Identifications.2-4--Composition-and-Filling</a> <a id="75" class="Keyword">where</a>

<a id="82" class="Keyword">open</a> <a id="87" class="Keyword">import</a> <a id="94" href="Library.Prelude.html" class="Module">Library.Prelude</a>
<a id="110" class="Keyword">open</a> <a id="115" class="Keyword">import</a> <a id="122" href="1--Type-Theory.1-1--Types-and-Functions.html" class="Module">1--Type-Theory.1-1--Types-and-Functions</a>
<a id="162" class="Keyword">open</a> <a id="167" class="Keyword">import</a> <a id="174" href="1--Type-Theory.1-2--Inductive-Types.html" class="Module">1--Type-Theory.1-2--Inductive-Types</a>
<a id="210" class="Keyword">open</a> <a id="215" class="Keyword">import</a> <a id="222" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html" class="Module">1--Type-Theory.1-3--Universes-and-More-Inductive-Types</a>
<a id="277" class="Keyword">open</a> <a id="282" class="Keyword">import</a> <a id="289" href="1--Type-Theory.1-4--Propositions-as-Types.html" class="Module">1--Type-Theory.1-4--Propositions-as-Types</a>
<a id="331" class="Keyword">open</a> <a id="336" class="Keyword">import</a> <a id="343" href="2--Paths-and-Identifications.2-1--Paths.html" class="Module">2--Paths-and-Identifications.2-1--Paths</a>
<a id="383" class="Keyword">open</a> <a id="388" class="Keyword">import</a> <a id="395" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html" class="Module">2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra</a>
<a id="459" class="Keyword">open</a> <a id="464" class="Keyword">import</a> <a id="471" href="2--Paths-and-Identifications.2-3--Substitution-and-J.html" class="Module">2--Paths-and-Identifications.2-3--Substitution-and-J</a>

<a id="525" class="Keyword">private</a>
  <a id="535" class="Keyword">variable</a>
    <a id="548" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#548" class="Generalizable">ℓ</a> <a id="550" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#550" class="Generalizable">ℓ&#39;</a> <a id="553" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#553" class="Generalizable">ℓ&#39;&#39;</a> <a id="557" class="Symbol">:</a> <a id="559" href="Library.Primitive.html#1060" class="Postulate">Level</a>
    <a id="569" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a> <a id="571" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#571" class="Generalizable">B</a> <a id="573" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#573" class="Generalizable">C</a> <a id="575" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#575" class="Generalizable">D</a> <a id="577" class="Symbol">:</a> <a id="579" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="584" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#548" class="Generalizable">ℓ</a>
    <a id="590" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="592" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a> <a id="594" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a> <a id="596" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#596" class="Generalizable">w</a> <a id="598" class="Symbol">:</a> <a id="600" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a>
</pre>-->
<h1 id="lecture-2-4-composition-and-filling"><a class="header" href="#lecture-2-4-composition-and-filling">Lecture 2-4: Composition and Filling</a></h1>
<p>Cubical Agda adds a number of primitive notions that make working with
paths-between-paths easier. To understand how they work, we will
really have to start putting the “cubical” in Cubical Agda.</p>
<p>In this lecture, we will learn about partial elements (open boxes) and
composition (filling those open boxes). Before we dive into all these
cubical features, it will be worth exploring an analogue in the more
familiar Boolean world.</p>
<h2 id="warmup-boolean-partial-elements"><a class="header" href="#warmup-boolean-partial-elements">Warmup: Boolean Partial Elements</a></h2>
<p>First, let’s revisit our function <code class="Agda"><a href="1--Type-Theory.1-4--Propositions-as-Types.html#2563" class="Function">IsTrue</a></code> which converts a Boolean
into a type. Recall that we defined <code>IsTrue true</code> to be <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#7820" class="Datatype">⊤</a></code> (with
its element <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#7837" class="InductiveConstructor">tt</a></code> a proof that <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a></code> is in fact <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a></code>) and we
defined <code>IsTrue false</code> to be <code class="Agda"><a href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6064" class="Datatype">∅</a></code> (since there should be no way to
prove that <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#430" class="InductiveConstructor">false</a></code> is <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a></code>). Let’s give a special name to the
element <code>tt : IsTrue true</code> to help us remember. (Yes, this is a bit
silly.)</p>
<pre class="Agda"><a id="IsTrue-true"></a><a id="1546" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1546" class="Function">IsTrue-true</a> <a id="1558" class="Symbol">:</a> <a id="1560" href="1--Type-Theory.1-4--Propositions-as-Types.html#2563" class="Function">IsTrue</a> <a id="1567" href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a>
<a id="1572" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1546" class="Function">IsTrue-true</a> <a id="1584" class="Symbol">=</a> <a id="1586" href="1--Type-Theory.1-2--Inductive-Types.html#7837" class="InductiveConstructor">tt</a>
</pre>
<p>A Boolean partial element of a type <code>A</code> is an element of <code>A</code> which
exists only conditionally, with the condition being some Boolean <code>φ</code>.</p>
<pre class="Agda"><a id="BooleanPartial"></a><a id="1736" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1736" class="Function">BooleanPartial</a> <a id="1751" class="Symbol">:</a> <a id="1753" href="1--Type-Theory.1-2--Inductive-Types.html#395" class="Datatype">Bool</a> <a id="1758" class="Symbol">→</a> <a id="1760" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="1765" class="Symbol">→</a> <a id="1767" href="Library.Primitive.html#422" class="Primitive">Type</a>
<a id="1772" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1736" class="Function">BooleanPartial</a> <a id="1787" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1787" class="Bound">φ</a> <a id="1789" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1789" class="Bound">A</a> <a id="1791" class="Symbol">=</a> <a id="1793" href="1--Type-Theory.1-4--Propositions-as-Types.html#2563" class="Function">IsTrue</a> <a id="1800" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1787" class="Bound">φ</a> <a id="1802" class="Symbol">→</a> <a id="1804" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1789" class="Bound">A</a>
</pre>
<p>Any actual element of <code>A</code> is also a partially defined one: if it
always exists, then it certainly still exists when <code>φ</code> happens to be
true.</p>
<pre class="Agda"><a id="just"></a><a id="1956" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1956" class="Function">just</a> <a id="1961" class="Symbol">:</a> <a id="1963" class="Symbol">{</a><a id="1964" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1964" class="Bound">A</a> <a id="1966" class="Symbol">:</a> <a id="1968" href="Library.Primitive.html#422" class="Primitive">Type</a><a id="1972" class="Symbol">}</a> <a id="1974" class="Symbol">{</a><a id="1975" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1975" class="Bound">φ</a> <a id="1977" class="Symbol">:</a> <a id="1979" href="1--Type-Theory.1-2--Inductive-Types.html#395" class="Datatype">Bool</a><a id="1983" class="Symbol">}</a> <a id="1985" class="Symbol">→</a> <a id="1987" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1964" class="Bound">A</a> <a id="1989" class="Symbol">→</a> <a id="1991" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1736" class="Function">BooleanPartial</a> <a id="2006" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1975" class="Bound">φ</a> <a id="2008" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1964" class="Bound">A</a>
<a id="2010" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1956" class="Function">just</a> <a id="2015" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#2015" class="Bound">a</a> <a id="2017" class="Symbol">=</a> <a id="2019" class="Symbol">λ</a> <a id="2021" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#2021" class="Bound">_</a> <a id="2023" class="Symbol">→</a> <a id="2025" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#2015" class="Bound">a</a>
</pre>
<p>And there’s always the completely undefined element of <code>A</code> which is
defined when <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#430" class="InductiveConstructor">false</a></code> is true, i.e., never.</p>
<pre class="Agda"><a id="nothing"></a><a id="2150" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#2150" class="Function">nothing</a> <a id="2158" class="Symbol">:</a> <a id="2160" class="Symbol">{</a><a id="2161" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#2161" class="Bound">A</a> <a id="2163" class="Symbol">:</a> <a id="2165" href="Library.Primitive.html#422" class="Primitive">Type</a><a id="2169" class="Symbol">}</a> <a id="2171" class="Symbol">→</a> <a id="2173" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1736" class="Function">BooleanPartial</a> <a id="2188" href="1--Type-Theory.1-2--Inductive-Types.html#430" class="InductiveConstructor">false</a> <a id="2194" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#2161" class="Bound">A</a>
<a id="2196" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#2150" class="Function">nothing</a> <a id="2204" class="Symbol">=</a> <a id="2206" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#6727" class="Function">∅-rec</a>
</pre>
<p>Now, you might wonder at the utility of these definitions. After all,
if <code>φ</code> is <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a></code>, then <code>BooleanPartial φ A</code> is <code>⊤ → A</code>, which is
equivalent to <code>A</code>. If <code>φ</code> is <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#430" class="InductiveConstructor">false</a></code>, then <code>BooleanPartial φ A</code> is <code>∅ → A</code>, which is equivalent to <code>⊤</code>. In other words, this type is either
equivalent to <code>A</code> or <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#7820" class="Datatype">⊤</a></code>, depending on whether <code>φ</code> is <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a></code> or
<code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#430" class="InductiveConstructor">false</a></code> — what’s the big deal?</p>
<p>The reason that <code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1736" class="Function">BooleanPartial</a></code> is an interesting type is
because when we use it, we don’t think of <code>φ</code> as representing a single
Boolean value; we think of <code>φ</code> as representing a Boolean <em>formula</em>.
That is, we will usually be using this type <em>in context</em> and in that
case, <code>φ</code> can be some formula involving other Booleans (or other
things entirely).</p>
<p>Consider this function which divides a natural number evenly in two,
for example.</p>
<pre class="Agda"><a id="halfOf"></a><a id="3040" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3040" class="Function">halfOf</a> <a id="3047" class="Symbol">:</a> <a id="3049" class="Symbol">(</a><a id="3050" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3050" class="Bound">n</a> <a id="3052" class="Symbol">:</a> <a id="3054" href="Library.Prelude.html#3629" class="Datatype">ℕ</a><a id="3055" class="Symbol">)</a> <a id="3057" class="Symbol">→</a> <a id="3059" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1736" class="Function">BooleanPartial</a> <a id="3074" class="Symbol">(</a><a id="3075" href="1--Type-Theory.1-2--Inductive-Types.html#11020" class="Function">isEven</a> <a id="3082" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3050" class="Bound">n</a><a id="3083" class="Symbol">)</a> <a id="3085" href="Library.Prelude.html#3629" class="Datatype">ℕ</a>
<a id="3087" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3040" class="Function">halfOf</a> <a id="3094" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a>          <a id="3108" class="Symbol">=</a> <a id="3110" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1956" class="Function">just</a> <a id="3115" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a>         <a id="3128" class="Comment">-- half of 0 is 0</a>
<a id="3146" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3040" class="Function">halfOf</a> <a id="3153" class="Symbol">(</a><a id="3154" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="3158" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a><a id="3162" class="Symbol">)</a>    <a id="3167" class="Symbol">=</a> <a id="3169" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#2150" class="Function">nothing</a>           <a id="3187" class="Comment">-- half of 1 is not defined</a>
<a id="3215" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3040" class="Function">halfOf</a> <a id="3222" class="Symbol">(</a><a id="3223" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="3227" class="Symbol">(</a><a id="3228" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="3232" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3232" class="Bound">n</a><a id="3233" class="Symbol">))</a> <a id="3236" class="Symbol">=</a> <a id="3238" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="3242" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#3734" class="Function Operator">∘</a> <a id="3244" class="Symbol">(</a><a id="3245" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3040" class="Function">halfOf</a> <a id="3252" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3232" class="Bound">n</a><a id="3253" class="Symbol">)</a>  <a id="3256" class="Comment">-- half of (n + 2) is one more than half of n</a>
</pre>
<p>This function cannot produce a natural number on every input, since
not every input can be divided evenly in two. We can, however, think
of <code>halfOf n</code> as a partially defined element of <code class="Agda"><a href="Library.Prelude.html#3629" class="Datatype">ℕ</a></code>; specifically,
<code>halfOf n</code> is only well-defined when <code>isEven n</code> is <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a></code> — or, in
other words, <code>IsTrue-true : IsTrue (isEven n)</code>, using our definitions
above.</p>
<p>Here’s another example of a partially defined element, which shows
what can happen when <code>φ</code> is a Boolean formula.</p>
<pre class="Agda"><a id="zeroOrOne-Partial"></a><a id="3781" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3781" class="Function">zeroOrOne-Partial</a> <a id="3799" class="Symbol">:</a> <a id="3801" class="Symbol">(</a><a id="3802" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3802" class="Bound">b</a> <a id="3804" class="Symbol">:</a> <a id="3806" href="1--Type-Theory.1-2--Inductive-Types.html#395" class="Datatype">Bool</a><a id="3810" class="Symbol">)</a> <a id="3812" class="Symbol">→</a> <a id="3814" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1736" class="Function">BooleanPartial</a> <a id="3829" class="Symbol">(</a><a id="3830" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3802" class="Bound">b</a> <a id="3832" href="1--Type-Theory.1-2--Inductive-Types.html#3227" class="Function Operator">or</a> <a id="3835" class="Symbol">(</a><a id="3836" href="1--Type-Theory.1-2--Inductive-Types.html#1032" class="Function">not</a> <a id="3840" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3802" class="Bound">b</a><a id="3841" class="Symbol">))</a> <a id="3844" href="Library.Prelude.html#3629" class="Datatype">ℕ</a>
<a id="3846" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3781" class="Function">zeroOrOne-Partial</a> <a id="3864" href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a> <a id="3869" class="Symbol">=</a> <a id="3871" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1956" class="Function">just</a> <a id="3876" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a>
<a id="3881" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3781" class="Function">zeroOrOne-Partial</a> <a id="3899" href="1--Type-Theory.1-2--Inductive-Types.html#430" class="InductiveConstructor">false</a> <a id="3905" class="Symbol">=</a> <a id="3907" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1956" class="Function">just</a> <a id="3912" class="Symbol">(</a><a id="3913" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="3917" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a><a id="3921" class="Symbol">)</a>
</pre>
<p>We can ask whether a partial element <code>p</code> <em>extends</em> to an fully defined
element <code>x</code>. That is, is there an <code>x : A</code> so that <code>p ≡ just x</code>? In
this case, we say that “<code>x</code> <em>extends</em> <code>p</code>”. For <code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3781" class="Function">zeroOrOne-Partial</a></code>
we can say the answer is yes.</p>
<pre class="Agda"><a id="zeroOrOne-Total"></a><a id="4171" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4171" class="Function">zeroOrOne-Total</a> <a id="4187" class="Symbol">:</a> <a id="4189" href="1--Type-Theory.1-2--Inductive-Types.html#395" class="Datatype">Bool</a> <a id="4194" class="Symbol">→</a> <a id="4196" href="Library.Prelude.html#3629" class="Datatype">ℕ</a>
<a id="4198" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4171" class="Function">zeroOrOne-Total</a> <a id="4214" href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a> <a id="4219" class="Symbol">=</a> <a id="4221" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a>
<a id="4226" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4171" class="Function">zeroOrOne-Total</a> <a id="4242" href="1--Type-Theory.1-2--Inductive-Types.html#430" class="InductiveConstructor">false</a> <a id="4248" class="Symbol">=</a> <a id="4250" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="4254" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a>

<a id="zeroOrOne-PartialExtends"></a><a id="4260" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4260" class="Function">zeroOrOne-PartialExtends</a> <a id="4285" class="Symbol">:</a> <a id="4287" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3781" class="Function">zeroOrOne-Partial</a> <a id="4305" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="4307" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1956" class="Function">just</a> <a id="4312" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#3734" class="Function Operator">∘</a> <a id="4314" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4171" class="Function">zeroOrOne-Total</a>
<a id="4330" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4260" class="Function">zeroOrOne-PartialExtends</a> <a id="4355" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4355" class="Bound">i</a> <a id="4357" href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a> <a id="4362" class="Symbol">=</a> <a id="4364" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1956" class="Function">just</a> <a id="4369" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a>
<a id="4374" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4260" class="Function">zeroOrOne-PartialExtends</a> <a id="4399" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4399" class="Bound">i</a> <a id="4401" href="1--Type-Theory.1-2--Inductive-Types.html#430" class="InductiveConstructor">false</a> <a id="4407" class="Symbol">=</a> <a id="4409" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1956" class="Function">just</a> <a id="4414" class="Symbol">(</a><a id="4415" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="4419" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a><a id="4423" class="Symbol">)</a>
</pre>
<p>In the case of <code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#3040" class="Function">halfOf</a></code> above, the answer is no — not every
natural number can be evenly divided in half.</p>
<p>Here’s a practical exercise in Boolean partial functions. Write a
function which takes the first <code>n</code> elements of a list, as long as the
list has at least <code>n</code> elements.</p>
<pre class="Agda"><a id="_≤_"></a><a id="4714" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4714" class="Function Operator">_≤_</a> <a id="4718" class="Symbol">:</a> <a id="4720" href="Library.Prelude.html#3629" class="Datatype">ℕ</a> <a id="4722" class="Symbol">→</a> <a id="4724" href="Library.Prelude.html#3629" class="Datatype">ℕ</a> <a id="4726" class="Symbol">→</a> <a id="4728" href="1--Type-Theory.1-2--Inductive-Types.html#395" class="Datatype">Bool</a>
<a id="4733" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a> <a id="4738" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4714" class="Function Operator">≤</a> <a id="4740" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4740" class="Bound">m</a> <a id="4742" class="Symbol">=</a> <a id="4744" href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a>
<a id="4749" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="4753" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4753" class="Bound">n</a> <a id="4755" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4714" class="Function Operator">≤</a> <a id="4757" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a> <a id="4762" class="Symbol">=</a> <a id="4764" href="1--Type-Theory.1-2--Inductive-Types.html#430" class="InductiveConstructor">false</a>
<a id="4770" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="4774" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4774" class="Bound">n</a> <a id="4776" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4714" class="Function Operator">≤</a> <a id="4778" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="4782" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4782" class="Bound">m</a> <a id="4784" class="Symbol">=</a> <a id="4786" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4774" class="Bound">n</a> <a id="4788" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4714" class="Function Operator">≤</a> <a id="4790" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4782" class="Bound">m</a>

<a id="take"></a><a id="4793" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4793" class="Function">take</a> <a id="4798" class="Symbol">:</a> <a id="4800" class="Symbol">(</a><a id="4801" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4801" class="Bound">n</a> <a id="4803" class="Symbol">:</a> <a id="4805" href="Library.Prelude.html#3629" class="Datatype">ℕ</a><a id="4806" class="Symbol">)</a> <a id="4808" class="Symbol">(</a><a id="4809" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4809" class="Bound">L</a> <a id="4811" class="Symbol">:</a> <a id="4813" href="1--Type-Theory.1-2--Inductive-Types.html#13653" class="Datatype">List</a> <a id="4818" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="4819" class="Symbol">)</a> <a id="4821" class="Symbol">→</a> <a id="4823" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1736" class="Function">BooleanPartial</a> <a id="4838" class="Symbol">(</a><a id="4839" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4801" class="Bound">n</a> <a id="4841" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4714" class="Function Operator">≤</a> <a id="4843" href="1--Type-Theory.1-2--Inductive-Types.html#15908" class="Function">length</a> <a id="4850" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4809" class="Bound">L</a><a id="4851" class="Symbol">)</a> <a id="4853" class="Symbol">(</a><a id="4854" href="1--Type-Theory.1-2--Inductive-Types.html#13653" class="Datatype">List</a> <a id="4859" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="4860" class="Symbol">)</a>
<a id="4862" class="Comment">-- Exercise:</a>
<a id="4875" class="Comment">-- take n L = {!!}</a>
</pre><!--
<pre class="Agda"><a id="4907" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4793" class="Function">take</a> <a id="4912" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a> <a id="4917" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4917" class="Bound">L</a> <a id="4919" class="Symbol">=</a> <a id="4921" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1956" class="Function">just</a> <a id="4926" href="1--Type-Theory.1-2--Inductive-Types.html#13684" class="InductiveConstructor">[]</a>
<a id="4929" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4793" class="Function">take</a> <a id="4934" class="Symbol">(</a><a id="4935" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="4939" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4939" class="Bound">n</a><a id="4940" class="Symbol">)</a> <a id="4942" href="1--Type-Theory.1-2--Inductive-Types.html#13684" class="InductiveConstructor">[]</a> <a id="4945" class="Symbol">=</a> <a id="4947" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#2150" class="Function">nothing</a>
<a id="4955" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4793" class="Function">take</a> <a id="4960" class="Symbol">(</a><a id="4961" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="4965" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4965" class="Bound">n</a><a id="4966" class="Symbol">)</a> <a id="4968" class="Symbol">(</a><a id="4969" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4969" class="Bound">x</a> <a id="4971" href="1--Type-Theory.1-2--Inductive-Types.html#13734" class="InductiveConstructor Operator">::</a> <a id="4974" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4974" class="Bound">L</a><a id="4975" class="Symbol">)</a> <a id="4977" class="Symbol">=</a> <a id="4979" class="Symbol">(</a><a id="4980" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4969" class="Bound">x</a> <a id="4982" href="1--Type-Theory.1-2--Inductive-Types.html#13734" class="InductiveConstructor Operator">::_</a><a id="4985" class="Symbol">)</a> <a id="4987" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#3734" class="Function Operator">∘</a> <a id="4989" class="Symbol">(</a><a id="4990" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4793" class="Function">take</a> <a id="4995" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4965" class="Bound">n</a> <a id="4997" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#4974" class="Bound">L</a><a id="4998" class="Symbol">)</a>

</pre>-->
<h2 id="cubical-partial-elements"><a class="header" href="#cubical-partial-elements">Cubical Partial Elements</a></h2>
<p>Now we come to partial elements defined on intervals. As we saw in
Lecture 2-X, the interval <code class="Agda"><a href="Library.Primitive.html#1675" class="Datatype">I</a></code> has the structure of a De Morgan
algebra. This lets us write down logical formulas with cubical
variables, like <code>i ∨ (j ∧ ~ k)</code>. Thinking of <code class="Agda"><a href="Library.Primitive.html#1675" class="Datatype">I</a></code> as the
topological unit interval <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span>, this formula is meant to represent
the function <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">max</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">min</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">))</span></span></span></span>; thinking logically, it seems
to say “<code>i</code> or (<code>j</code> and not <code>k</code>)”. It will be useful to take both
perspectives.</p>
<p>Similarly to the Booleans, we will say that a formula like <code>i ∨ (j ∧ ~ k)</code> is “true” when it equals <code>i1</code>. This corresponds to a subset of the
cube <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span></span>, namely, the set <span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">max</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">min</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">))</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">}</span><span class="mord">.</span></span></span></span></span> We can therefore think of these interval formulas as
describing “subsets of cubes <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span>”, even though <code class="Agda"><a href="Library.Primitive.html#1675" class="Datatype">I</a></code> isn’t actually
a set that we can take subsets of.</p>
<p>For example, the formula <code>i ∨ ~ i</code> (which can be read “<code>i</code> or not
<code>i</code>”) should correspond to the subset <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">max</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">}</span></span></span></span>, which a bit of thinking shows is the subset of the interval
consisting of the endpoints <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span>. We will therefore
think of the formula <code>i ∨ ~ i</code> as defining the part of the interval
consisting only of the endpoints <code class="Agda"><a href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a></code> and <code class="Agda"><a href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a></code>.</p>
<p>Since <code>i ∨ ~ i</code> is a common pattern, it’s reasonable to give it a
name. We call it <code>∂ i</code>, since <code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6448" class="Function">∂</a></code> typically means “boundary” in
mathematics.</p>
<pre class="Agda"><a id="∂"></a><a id="6448" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6448" class="Function">∂</a> <a id="6450" class="Symbol">:</a> <a id="6452" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="6454" class="Symbol">→</a> <a id="6456" href="Library.Primitive.html#1675" class="Datatype">I</a>
<a id="6458" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6448" class="Function">∂</a> <a id="6460" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6460" class="Bound">i</a> <a id="6462" class="Symbol">=</a> <a id="6464" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6460" class="Bound">i</a> <a id="6466" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="6468" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="6470" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6460" class="Bound">i</a>
</pre>
<p>Corresponding to <code class="Agda"><a href="1--Type-Theory.1-4--Propositions-as-Types.html#2563" class="Function">IsTrue</a></code> for Booleans, Agda uses a built-in type
family <code>I → Type</code> called <code class="Agda"><a href="Library.Primitive.html#2485" class="Postulate">IsOne</a></code> (roughly). And corresponding to
<code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#1736" class="Function">BooleanPartial</a></code>, Agda provides a primitive type former <code>Partial φ A</code> where <code>φ : I</code> is an element of the interval — thought of as a
formula — and <code>A</code> is a type. Interpreting the formula <code>φ</code> as
describing part of a cube, the type <code>Partial φ A</code> is then functions
from that piece of the cube to <code>A</code>.</p>
<p>We can see that <code>i ∨ ~ i</code> really behaves like the endpoints of the
interval by defining a <code class="Agda"><a href="Library.Primitive.html#3205" class="Primitive">Partial</a></code> element on it which sends <code class="Agda"><a href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a></code> to
<code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a></code> and <code class="Agda"><a href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a></code> to <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#430" class="InductiveConstructor">false</a></code>:</p>
<pre class="Agda"><a id="trueOrFalse"></a><a id="7093" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#7093" class="Function">trueOrFalse</a> <a id="7105" class="Symbol">:</a> <a id="7107" class="Symbol">(</a><a id="7108" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#7108" class="Bound">i</a> <a id="7110" class="Symbol">:</a> <a id="7112" href="Library.Primitive.html#1675" class="Datatype">I</a><a id="7113" class="Symbol">)</a> <a id="7115" class="Symbol">→</a> <a id="7117" href="Library.Primitive.html#3205" class="Primitive">Partial</a> <a id="7125" class="Symbol">(</a><a id="7126" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#7108" class="Bound">i</a> <a id="7128" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="7130" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="7132" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#7108" class="Bound">i</a><a id="7133" class="Symbol">)</a> <a id="7135" href="1--Type-Theory.1-2--Inductive-Types.html#395" class="Datatype">Bool</a>
<a id="7140" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#7093" class="Function">trueOrFalse</a> <a id="7152" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#7152" class="Bound">i</a> <a id="7154" class="Symbol">(</a><a id="7155" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#7152" class="Bound">i</a> <a id="7157" class="Symbol">=</a> <a id="7159" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="7161" class="Symbol">)</a> <a id="7163" class="Symbol">=</a> <a id="7165" href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a>
<a id="7170" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#7093" class="Function">trueOrFalse</a> <a id="7182" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#7182" class="Bound">i</a> <a id="7184" class="Symbol">(</a><a id="7185" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#7182" class="Bound">i</a> <a id="7187" class="Symbol">=</a> <a id="7189" href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a><a id="7191" class="Symbol">)</a> <a id="7193" class="Symbol">=</a> <a id="7195" href="1--Type-Theory.1-2--Inductive-Types.html#430" class="InductiveConstructor">false</a>
</pre>
<p>This uses some built-in Agda syntax to “pattern match” on the hidden
element of <code>IsOne (i ∨ ~ i)</code>. Agda checks that all of the formula is
covered, so the above definition fails if one of the lines is omitted.
And in more complicated situations, Agda makes sure that the different
cases are exactly equal wherever they overlap. (We’ll see this below.)</p>
<p>We can’t turn <code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#7093" class="Function">trueOrFalse</a></code> into a <em>total</em> element of
<code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#395" class="Datatype">Bool</a></code> which is <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a></code> on <code class="Agda"><a href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a></code> and <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#430" class="InductiveConstructor">false</a></code>
on <code class="Agda"><a href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a></code>; there is no way to jump from <code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#415" class="InductiveConstructor">true</a></code> to
<code class="Agda"><a href="1--Type-Theory.1-2--Inductive-Types.html#430" class="InductiveConstructor">false</a></code> as we move along the interval. (We proved this in
<code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2468" class="Function">true≢false</a></code>).</p>
<p>But because the partial element only has to be defined on the
endpoints, we can say what the values of <code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#7093" class="Function">trueOrFalse</a></code> on those
endpoints are and not worry about what happens in between.</p>
<p>For a more interesting partial element, consider an open box:</p>
<pre><code>    ∙         ∙
    ^         ^              ^    
    |         |            j |        
    |         |              ∙ — &gt;    
    ∙ — — — &gt; ∙                i      
</code></pre>
<p>This open box is part of a square, so we are in the context of two
interval variables <code>i j : I</code>. Now we need to figure out how to
describe the open box as a formula, which is to say, as a function
into <code>I</code>.</p>
<pre class="Agda"><a id="open-box"></a><a id="8447" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8447" class="Function">open-box</a> <a id="8456" class="Symbol">:</a> <a id="8458" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="8460" class="Symbol">→</a> <a id="8462" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="8464" class="Symbol">→</a> <a id="8466" href="Library.Primitive.html#1675" class="Datatype">I</a>
<a id="8468" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8447" class="Function">open-box</a> <a id="8477" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8477" class="Bound">i</a> <a id="8479" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8479" class="Bound">j</a> <a id="8481" class="Symbol">=</a>
<a id="8483" class="Comment">-- (continued below)</a>
</pre>
<p>We want an expression <code>open-box i j : I</code> which equals <code>i1</code> exactly
when the coordinates <code>(i, j)</code> lie on the open box. Now, <code>i</code> and <code>j</code>
are in the open box if they are in the left of the box, the right of
the box, or the bottom of the box. So our <code>φ i j</code> will be the “union”</p>
<pre class="Agda">  <a id="8790" class="Symbol">(</a><a id="8791" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8862" class="Function">right-of-box</a> <a id="8804" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8477" class="Bound">i</a> <a id="8806" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8479" class="Bound">j</a><a id="8807" class="Symbol">)</a> <a id="8809" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="8811" class="Symbol">(</a><a id="8812" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8890" class="Function">left-of-box</a> <a id="8824" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8477" class="Bound">i</a> <a id="8826" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8479" class="Bound">j</a><a id="8827" class="Symbol">)</a> <a id="8829" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="8831" class="Symbol">(</a><a id="8832" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8917" class="Function">bottom-of-box</a> <a id="8846" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8477" class="Bound">i</a> <a id="8848" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8479" class="Bound">j</a><a id="8849" class="Symbol">)</a>
  <a id="8853" class="Keyword">where</a>
   <a id="8862" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8862" class="Function">right-of-box</a> <a id="8875" class="Symbol">:</a> <a id="8877" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="8879" class="Symbol">→</a> <a id="8881" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="8883" class="Symbol">→</a> <a id="8885" href="Library.Primitive.html#1675" class="Datatype">I</a>
   <a id="8890" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8890" class="Function">left-of-box</a> <a id="8902" class="Symbol">:</a> <a id="8904" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="8906" class="Symbol">→</a> <a id="8908" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="8910" class="Symbol">→</a> <a id="8912" href="Library.Primitive.html#1675" class="Datatype">I</a>
   <a id="8917" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8917" class="Function">bottom-of-box</a> <a id="8931" class="Symbol">:</a> <a id="8933" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="8935" class="Symbol">→</a> <a id="8937" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="8939" class="Symbol">→</a> <a id="8941" href="Library.Primitive.html#1675" class="Datatype">I</a>
</pre>
<p>of those three sides. Now, <code>(i, j)</code> is on the right of the box just
when <code>i = i1</code>.</p>
<pre class="Agda">   <a id="9039" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8862" class="Function">right-of-box</a> <a id="9052" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9052" class="Bound">i</a> <a id="9054" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9054" class="Bound">j</a> <a id="9056" class="Symbol">=</a> <a id="9058" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9052" class="Bound">i</a>
</pre>
<p>Similarly, <code>(i, j)</code> is on the left of the box when <code>i = i0</code>, or in
other words when <code>~ i = i1</code>.</p>
<pre class="Agda">   <a id="9169" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8890" class="Function">left-of-box</a> <a id="9181" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9181" class="Bound">i</a> <a id="9183" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9183" class="Bound">j</a> <a id="9185" class="Symbol">=</a> <a id="9187" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="9189" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9181" class="Bound">i</a>
</pre>
<p>Finally, <code>(i, j)</code> is on the bottom of the box when <code>j = i0</code>, or when
<code>~ j = i1</code>, so</p>
<pre class="Agda">   <a id="9288" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8917" class="Function">bottom-of-box</a> <a id="9302" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9302" class="Bound">i</a> <a id="9304" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9304" class="Bound">j</a> <a id="9306" class="Symbol">=</a> <a id="9308" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="9310" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9304" class="Bound">j</a>
</pre>
<p>This completes our definition of the function <code>open-box : I → I → I</code>.
There was no need to split it out, we could have simply written a
single formula</p>
<pre class="Agda"><a id="open-box&#39;"></a><a id="9473" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9473" class="Function">open-box&#39;</a> <a id="9483" class="Symbol">:</a> <a id="9485" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="9487" class="Symbol">→</a> <a id="9489" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="9491" class="Symbol">→</a> <a id="9493" href="Library.Primitive.html#1675" class="Datatype">I</a>
<a id="9495" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9473" class="Function">open-box&#39;</a> <a id="9505" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9505" class="Bound">i</a> <a id="9507" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9507" class="Bound">j</a> <a id="9509" class="Symbol">=</a> <a id="9511" class="Symbol">(</a><a id="9512" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="9514" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9505" class="Bound">i</a><a id="9515" class="Symbol">)</a> <a id="9517" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="9519" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9505" class="Bound">i</a> <a id="9521" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="9523" class="Symbol">(</a><a id="9524" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="9526" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9507" class="Bound">j</a><a id="9527" class="Symbol">)</a>
</pre>
<p>Try it yourself: describe a formula which gives the two sides of a box</p>
<pre><code>    ∙         ∙
    ^         ^              ^
    |         |            j |
    |         |              ∙ — &gt;
    ∙         ∙                i
</code></pre>
<pre class="Agda"><a id="sides-of-square"></a><a id="9777" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9777" class="Function">sides-of-square</a> <a id="9793" class="Symbol">:</a> <a id="9795" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="9797" class="Symbol">→</a> <a id="9799" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="9801" class="Symbol">→</a> <a id="9803" href="Library.Primitive.html#1675" class="Datatype">I</a>
<a id="9805" class="Comment">-- Exercise:</a>
<a id="9818" class="Comment">-- sides-of-square i j = {!!}</a>
</pre><!--
<pre class="Agda"><a id="9861" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9777" class="Function">sides-of-square</a> <a id="9877" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9877" class="Bound">i</a> <a id="9879" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9879" class="Bound">j</a> <a id="9881" class="Symbol">=</a> <a id="9883" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6448" class="Function">∂</a> <a id="9885" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#9877" class="Bound">i</a>

</pre>-->
<p>How about a three dimensional example. Come up with a formula to
describe this part of the cube consisting of the bottom face and the
three sides shown in the picture</p>
<pre><code>            ∙                   ∙
          / ^                 / ^
        /   |               /   |
      /     |             /     |
    ∙ — — — — — — — — &gt; .       |
    ^       |           ^       |                    ^   j
    |       |           |       |                  k | /
    |       |           |       |                    ∙ — &gt;
    |       |           |       |                      i
    |       . — — — — — | — — &gt; ∙
    |     /             |     /
    |   /               |   /
    | /                 | /
    ∙ — — — — — — — — &gt; ∙
</code></pre>
<pre class="Agda"><a id="exercise-shape"></a><a id="10686" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#10686" class="Function">exercise-shape</a> <a id="10701" class="Symbol">:</a> <a id="10703" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="10705" class="Symbol">→</a> <a id="10707" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="10709" class="Symbol">→</a> <a id="10711" href="Library.Primitive.html#1675" class="Datatype">I</a> <a id="10713" class="Symbol">→</a> <a id="10715" href="Library.Primitive.html#1675" class="Datatype">I</a>
<a id="10717" class="Comment">-- Exercise:</a>
<a id="10730" class="Comment">-- exercise-shape i j k = {!!}</a>
</pre><!--
<pre class="Agda"><a id="10774" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#10686" class="Function">exercise-shape</a> <a id="10789" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#10789" class="Bound">i</a> <a id="10791" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#10791" class="Bound">j</a> <a id="10793" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#10793" class="Bound">k</a> <a id="10795" class="Symbol">=</a> <a id="10797" class="Symbol">(</a><a id="10798" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6448" class="Function">∂</a> <a id="10800" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#10789" class="Bound">i</a><a id="10801" class="Symbol">)</a> <a id="10803" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="10805" class="Symbol">(</a><a id="10806" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="10808" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#10791" class="Bound">j</a><a id="10809" class="Symbol">)</a> <a id="10811" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="10813" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#10793" class="Bound">k</a>

</pre>-->
<h2 id="extensibility-and-composition"><a class="header" href="#extensibility-and-composition">Extensibility and Composition</a></h2>
<p>Just as we did for Boolean partial elements, we can ask whether a
partial element defined on some part of a cube can be extended to the
whole cube. The partial element <code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#7093" class="Function">trueOrFalse</a></code> above definitely
cannot extend to a whole element, since a whole element <code>p i : Bool</code>
for <code>i : I</code> for which <code>p i0 = true</code> and <code>p i1 = false</code> would be a path
<code>true ≡ false</code>, something we’ve already checked is contradictory in
<code class="Agda"><a href="2--Paths-and-Identifications.2-3--Substitution-and-J.html#2468" class="Function">true≢false</a></code>.</p>
<p>However, Agda bakes in guarantees that certain partial elements can be
extended to total ones. In short, Agda allows us to “close off open
boxes” using an operation called <code class="Agda"><a href="Library.Prelude.html#650" class="Function">hcomp</a></code> (which stands for
“homogeneous composition”). An open box is a part of the cube which
contains the entire bottom face and some pieces of the side walls.</p>
<div class="info">
<p><span class="info-label">Aside:</span>
Every element of a type universe <code>Type ℓ</code> is supports <code class="Agda"><a href="Library.Prelude.html#650" class="Function">hcomp</a></code>, and
that encompasses almost every type that we use in practice. For
technical reasons, some of Agda’s back-end plumbing types do not
support <code class="Agda"><a href="Library.Prelude.html#650" class="Function">hcomp</a></code>. The only ones that get mentioned in these notes are
the interval <code class="Agda"><a href="Library.Primitive.html#1675" class="Datatype">I</a></code> itself, the <code class="Agda"><a href="Library.Primitive.html#2485" class="Postulate">IsOne</a></code> predicate, and partial
elements <code class="Agda"><a href="Library.Primitive.html#3253" class="Primitive">PartialP</a></code>. The types for which <code class="Agda"><a href="Library.Prelude.html#650" class="Function">hcomp</a></code> works are called
<em>fibrant</em> types, taking a name from homotopy theory. The types for
which <code class="Agda"><a href="Library.Prelude.html#650" class="Function">hcomp</a></code> fails live in their own universe hierarchy <code class="Agda"><a href="Library.Primitive.html#583" class="Primitive">SSet</a></code>.</p>
</div>
<p>Let’s see an example, which implements a crucial operation on paths:
path composition. The most natural notion of path composition in our
cubical setting is “double composition”, which composes three paths in
a line</p>
<pre><code>    r         p         q
w — — — &gt; x — — — &gt; y — — — &gt; z
</code></pre>
<p>by drawing them as three sides of a square:</p>
<pre><code>      w         z
      ^         ^            ^
sym r |         | q        j |
      |         |            ∙ — &gt;
      x — — — &gt; y              i
           p
</code></pre>
<p>We can represent this open box as a partial element:</p>
<pre class="Agda"><a id="double-comp-box"></a><a id="12758" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12758" class="Function">double-comp-box</a> <a id="12774" class="Symbol">:</a> <a id="12776" class="Symbol">{</a><a id="12777" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12777" class="Bound">x</a> <a id="12779" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12779" class="Bound">y</a> <a id="12781" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12781" class="Bound">z</a> <a id="12783" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12783" class="Bound">w</a> <a id="12785" class="Symbol">:</a> <a id="12787" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="12788" class="Symbol">}</a>
  <a id="12792" class="Symbol">→</a> <a id="12794" class="Symbol">(</a><a id="12795" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12795" class="Bound">r</a> <a id="12797" class="Symbol">:</a> <a id="12799" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12783" class="Bound">w</a> <a id="12801" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="12803" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12777" class="Bound">x</a><a id="12804" class="Symbol">)</a> <a id="12806" class="Symbol">(</a><a id="12807" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12807" class="Bound">p</a> <a id="12809" class="Symbol">:</a> <a id="12811" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12777" class="Bound">x</a> <a id="12813" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="12815" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12779" class="Bound">y</a><a id="12816" class="Symbol">)</a> <a id="12818" class="Symbol">(</a><a id="12819" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12819" class="Bound">q</a> <a id="12821" class="Symbol">:</a> <a id="12823" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12779" class="Bound">y</a> <a id="12825" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="12827" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12781" class="Bound">z</a><a id="12828" class="Symbol">)</a>
  <a id="12832" class="Symbol">→</a> <a id="12834" class="Symbol">(</a><a id="12835" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12835" class="Bound">i</a> <a id="12837" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12837" class="Bound">j</a> <a id="12839" class="Symbol">:</a> <a id="12841" href="Library.Primitive.html#1675" class="Datatype">I</a><a id="12842" class="Symbol">)</a> <a id="12844" class="Symbol">→</a> <a id="12846" href="Library.Primitive.html#3205" class="Primitive">Partial</a> <a id="12854" class="Symbol">(</a><a id="12855" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#8447" class="Function">open-box</a> <a id="12864" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12835" class="Bound">i</a> <a id="12866" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12837" class="Bound">j</a><a id="12867" class="Symbol">)</a> <a id="12869" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a>
<a id="12871" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12758" class="Function">double-comp-box</a> <a id="12887" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12887" class="Bound">r</a> <a id="12889" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12889" class="Bound">p</a> <a id="12891" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12891" class="Bound">q</a> <a id="12893" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12893" class="Bound">i</a> <a id="12895" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12895" class="Bound">j</a> <a id="12897" class="Symbol">(</a><a id="12898" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12893" class="Bound">i</a> <a id="12900" class="Symbol">=</a> <a id="12902" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="12904" class="Symbol">)</a> <a id="12906" class="Symbol">=</a> <a id="12908" class="Symbol">(</a><a id="12909" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#22252" class="Function">sym</a> <a id="12913" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12887" class="Bound">r</a><a id="12914" class="Symbol">)</a> <a id="12916" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12895" class="Bound">j</a>
<a id="12918" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12758" class="Function">double-comp-box</a> <a id="12934" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12934" class="Bound">r</a> <a id="12936" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12936" class="Bound">p</a> <a id="12938" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12938" class="Bound">q</a> <a id="12940" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12940" class="Bound">i</a> <a id="12942" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12942" class="Bound">j</a> <a id="12944" class="Symbol">(</a><a id="12945" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12940" class="Bound">i</a> <a id="12947" class="Symbol">=</a> <a id="12949" href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a><a id="12951" class="Symbol">)</a> <a id="12953" class="Symbol">=</a> <a id="12955" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12938" class="Bound">q</a> <a id="12957" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12942" class="Bound">j</a>
<a id="12959" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12758" class="Function">double-comp-box</a> <a id="12975" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12975" class="Bound">r</a> <a id="12977" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12977" class="Bound">p</a> <a id="12979" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12979" class="Bound">q</a> <a id="12981" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12981" class="Bound">i</a> <a id="12983" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12983" class="Bound">j</a> <a id="12985" class="Symbol">(</a><a id="12986" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12983" class="Bound">j</a> <a id="12988" class="Symbol">=</a> <a id="12990" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="12992" class="Symbol">)</a> <a id="12994" class="Symbol">=</a> <a id="12996" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12977" class="Bound">p</a> <a id="12998" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12981" class="Bound">i</a>
</pre>
<p>We want to cap this box to get a path <code>w ≡ z</code>. This exactly what
<code class="Agda"><a href="Library.Prelude.html#650" class="Function">hcomp</a></code> does: speaking loosely, we have</p>
<pre><code>hcomp (the formula for where the sides are) 
      (the partial box)
  : (the type of full top face)
</code></pre>
<p>For this particular cube we get the “double composite” of the input
paths, which we will write as <code>r ∙∙ p ∙∙ q</code>.</p>
<pre class="Agda"><a id="_∙∙_∙∙_"></a><a id="13345" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13345" class="Function Operator">_∙∙_∙∙_</a> <a id="13353" class="Symbol">:</a> <a id="13355" class="Symbol">(</a><a id="13356" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13356" class="Bound">r</a> <a id="13358" class="Symbol">:</a> <a id="13360" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#596" class="Generalizable">w</a> <a id="13362" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="13364" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a><a id="13365" class="Symbol">)</a> <a id="13367" class="Symbol">→</a> <a id="13369" class="Symbol">(</a><a id="13370" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13370" class="Bound">p</a> <a id="13372" class="Symbol">:</a> <a id="13374" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="13376" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="13378" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a><a id="13379" class="Symbol">)</a> <a id="13381" class="Symbol">→</a> <a id="13383" class="Symbol">(</a><a id="13384" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13384" class="Bound">q</a> <a id="13386" class="Symbol">:</a> <a id="13388" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a> <a id="13390" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="13392" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a><a id="13393" class="Symbol">)</a> <a id="13395" class="Symbol">→</a> <a id="13397" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#596" class="Generalizable">w</a> <a id="13399" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="13401" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a>
<a id="13403" class="Symbol">(</a><a id="13404" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13404" class="Bound">r</a> <a id="13406" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13345" class="Function Operator">∙∙</a> <a id="13409" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13409" class="Bound">p</a> <a id="13411" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13345" class="Function Operator">∙∙</a> <a id="13414" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13414" class="Bound">q</a><a id="13415" class="Symbol">)</a> <a id="13417" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13417" class="Bound">i</a> <a id="13419" class="Symbol">=</a> <a id="13421" href="Library.Prelude.html#650" class="Function">hcomp</a> <a id="13427" class="Symbol">(</a><a id="13428" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6448" class="Function">∂</a> <a id="13430" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13417" class="Bound">i</a><a id="13431" class="Symbol">)</a> <a id="13433" class="Symbol">(</a><a id="13434" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12758" class="Function">double-comp-box</a> <a id="13450" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13404" class="Bound">r</a> <a id="13452" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13409" class="Bound">p</a> <a id="13454" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13414" class="Bound">q</a> <a id="13456" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13417" class="Bound">i</a><a id="13457" class="Symbol">)</a>
</pre>
<p>Writing more formally, <code class="Agda"><a href="Library.Prelude.html#650" class="Function">hcomp</a></code> takes in two arguments:</p>
<ul>
<li>
<p>A formula <code>φ : I</code>, specifying which sides of the box are going to be
present in the next argument.</p>
<p>For the double composite, we are specifying the left and right sides
of the square, that is, the places where where <code>∂ i</code> holds.</p>
</li>
<li>
<p>An open box <code>box : (j : I) → Partial (φ ∨ ~ j) A</code>. We can think of
<code>box</code> as specifying a vertical slice of the open box as <code>j</code> runs
from <code class="Agda"><a href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a></code> to <code class="Agda"><a href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a></code>. Each vertical slice will be defined in more
or fewer places depending on the formula <code>φ</code>. When <code>j</code> is <code class="Agda"><a href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a></code>,
the formula <code>φ ∨ ~ j</code> always holds and so these vertical slices are
all defined when <code>j = i0</code>.</p>
<p>For the double composite, <code>box j</code> is totally defined when <code>i = i0</code>,
because we are on the left side of the square in that case, and
similarly when <code>i = i1</code> and we are on the right side of the square.
Otherwise, we only know for sure that <code>box j</code> is defined when <code>j = i0</code>, in which case we are on the bottom of the square.</p>
</li>
</ul>
<p>And the result is an element <code>hcomp φ box : A</code> with the following
guarantee:</p>
<ul>
<li>
<p>If the formula <code>φ</code> holds, then <code>hcomp φ box</code> is identical to the
value of <code>box i1</code>, which we know is defined because <code>box</code> is known
to be defined when <code>φ</code> holds.</p>
<p>For the double composite, there are two places where <code>φ</code> holds: <code>i = i0</code> and <code>i = i1</code>. When <code>i = i0</code>, the value of <code>box i1</code> is <code>(sym r) i1 = r i0 = w</code>. When <code>i = i1</code>, the value of <code>box i1</code> is <code>q i1 = z</code>.</p>
</li>
</ul>
<p>This guarantee is the reason Agda knows that our definition is
actually a path <code>w ≡ z</code>!</p>
<div class="info">
<p><span class="info-label">Aside:</span>
We can use a pattern-matching <code>λ</code> to inline the definition of the
sides of the box when doing an <code class="Agda"><a href="Library.Prelude.html#650" class="Function">hcomp</a></code>. This is the same as
defining the sides separately, it just avoids giving them a name.</p>
<pre class="Agda"><a id="double-comp&#39;"></a><a id="15227" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15227" class="Function">double-comp&#39;</a> <a id="15240" class="Symbol">:</a> <a id="15242" class="Symbol">(</a><a id="15243" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15243" class="Bound">r</a> <a id="15245" class="Symbol">:</a> <a id="15247" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#596" class="Generalizable">w</a> <a id="15249" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="15251" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a><a id="15252" class="Symbol">)</a> <a id="15254" class="Symbol">(</a><a id="15255" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15255" class="Bound">p</a> <a id="15257" class="Symbol">:</a> <a id="15259" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="15261" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="15263" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a><a id="15264" class="Symbol">)</a> <a id="15266" class="Symbol">(</a><a id="15267" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15267" class="Bound">q</a> <a id="15269" class="Symbol">:</a> <a id="15271" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a> <a id="15273" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="15275" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a><a id="15276" class="Symbol">)</a> <a id="15278" class="Symbol">→</a> <a id="15280" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#596" class="Generalizable">w</a> <a id="15282" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="15284" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a>
<a id="15286" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15227" class="Function">double-comp&#39;</a> <a id="15299" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15299" class="Bound">r</a> <a id="15301" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15301" class="Bound">p</a> <a id="15303" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15303" class="Bound">q</a> <a id="15305" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15305" class="Bound">i</a> <a id="15307" class="Symbol">=</a> <a id="15309" href="Library.Prelude.html#650" class="Function">hcomp</a> <a id="15315" class="Symbol">(</a><a id="15316" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6448" class="Function">∂</a> <a id="15318" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15305" class="Bound">i</a><a id="15319" class="Symbol">)</a> <a id="15321" class="Symbol">(λ</a> <a id="15324" class="Symbol">{</a> <a id="15326" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15326" class="Bound">j</a> <a id="15328" class="Symbol">(</a><a id="15329" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15305" class="Bound">i</a> <a id="15331" class="Symbol">=</a> <a id="15333" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="15335" class="Symbol">)</a> <a id="15337" class="Symbol">→</a> <a id="15339" class="Symbol">(</a><a id="15340" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#22252" class="Function">sym</a> <a id="15344" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15299" class="Bound">r</a><a id="15345" class="Symbol">)</a> <a id="15347" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15326" class="Bound">j</a>
                                           <a id="15392" class="Symbol">;</a> <a id="15394" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15394" class="Bound">j</a> <a id="15396" class="Symbol">(</a><a id="15397" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15305" class="Bound">i</a> <a id="15399" class="Symbol">=</a> <a id="15401" href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a><a id="15403" class="Symbol">)</a> <a id="15405" class="Symbol">→</a> <a id="15407" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15303" class="Bound">q</a> <a id="15409" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15394" class="Bound">j</a> 
                                           <a id="15455" class="Symbol">;</a> <a id="15457" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15457" class="Bound">j</a> <a id="15459" class="Symbol">(</a><a id="15460" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15457" class="Bound">j</a> <a id="15462" class="Symbol">=</a> <a id="15464" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="15466" class="Symbol">)</a> <a id="15468" class="Symbol">→</a> <a id="15470" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15301" class="Bound">p</a> <a id="15472" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15305" class="Bound">i</a> <a id="15474" class="Symbol">})</a>

<a id="15478" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15478" class="Function">_</a> <a id="15480" class="Symbol">=</a> <a id="15482" class="Symbol">λ</a> <a id="15484" class="Symbol">{</a><a id="15485" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15485" class="Bound">A</a> <a id="15487" class="Symbol">:</a> <a id="15489" href="Library.Primitive.html#422" class="Primitive">Type</a><a id="15493" class="Symbol">}</a> <a id="15495" class="Symbol">{</a><a id="15496" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15496" class="Bound">w</a> <a id="15498" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15498" class="Bound">x</a> <a id="15500" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15500" class="Bound">y</a> <a id="15502" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15502" class="Bound">z</a> <a id="15504" class="Symbol">:</a> <a id="15506" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15485" class="Bound">A</a><a id="15507" class="Symbol">}</a> <a id="15509" class="Symbol">(</a><a id="15510" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15510" class="Bound">r</a> <a id="15512" class="Symbol">:</a> <a id="15514" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15496" class="Bound">w</a> <a id="15516" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="15518" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15498" class="Bound">x</a><a id="15519" class="Symbol">)</a> <a id="15521" class="Symbol">(</a><a id="15522" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15522" class="Bound">p</a> <a id="15524" class="Symbol">:</a> <a id="15526" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15498" class="Bound">x</a> <a id="15528" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="15530" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15500" class="Bound">y</a><a id="15531" class="Symbol">)</a> <a id="15533" class="Symbol">(</a><a id="15534" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15534" class="Bound">q</a> <a id="15536" class="Symbol">:</a> <a id="15538" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15500" class="Bound">y</a> <a id="15540" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="15542" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15502" class="Bound">z</a><a id="15543" class="Symbol">)</a>
  <a id="15547" class="Symbol">→</a> <a id="15549" href="Library.Prelude.html#2894" class="InductiveConstructor">test-identical</a> <a id="15564" class="Symbol">(</a><a id="15565" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15510" class="Bound">r</a> <a id="15567" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13345" class="Function Operator">∙∙</a> <a id="15570" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15522" class="Bound">p</a> <a id="15572" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13345" class="Function Operator">∙∙</a> <a id="15575" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15534" class="Bound">q</a><a id="15576" class="Symbol">)</a> <a id="15578" class="Symbol">(</a><a id="15579" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15227" class="Function">double-comp&#39;</a> <a id="15592" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15510" class="Bound">r</a> <a id="15594" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15522" class="Bound">p</a> <a id="15596" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15534" class="Bound">q</a><a id="15597" class="Symbol">)</a>
</pre>
</div>
<p>We are now ready to define ordinary composition of paths.</p>
<pre><code>         p ∙ q
      x ∙ ∙ ∙ &gt; z
      ^         ^            ^
 refl |         | q        j |
      |         |            ∙ — &gt;
      x — — — &gt; y              i
           p
</code></pre>
<pre class="Agda"><a id="15876" class="Keyword">infixr</a> <a id="15883" class="Number">30</a> <a id="15886" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15890" class="Function Operator">_∙_</a>
<a id="_∙_"></a><a id="15890" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15890" class="Function Operator">_∙_</a> <a id="15894" class="Symbol">:</a> <a id="15896" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="15898" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="15900" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a> <a id="15902" class="Symbol">→</a> <a id="15904" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a> <a id="15906" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="15908" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a> <a id="15910" class="Symbol">→</a> <a id="15912" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="15914" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="15916" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a>
<a id="15918" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15918" class="Bound">p</a> <a id="15920" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15890" class="Function Operator">∙</a> <a id="15922" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15922" class="Bound">q</a> <a id="15924" class="Symbol">=</a> <a id="15926" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a> <a id="15931" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13345" class="Function Operator">∙∙</a> <a id="15934" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15918" class="Bound">p</a> <a id="15936" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13345" class="Function Operator">∙∙</a> <a id="15939" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15922" class="Bound">q</a>
</pre>
<div class="info">
<p><span class="info-label">Aside:</span>
It seems like we shouldn’t really need to specify the left side of the
box in this definition. The following code seems like a fine way to
define the composite:</p>
<pre class="Agda"><a id="16123" class="Comment">{- Error!
_∙∙_ : x ≡ y → y ≡ z → x ≡ z
(p ∙∙ q) i = hcomp i (λ { j (i = i1) → q j 
                             ; j (j = i0) → p i })
-}</a>
</pre>
<p>The problem is that when a case is left off like this, Agda fills in
the missing side with another <code class="Agda"><a href="Library.Prelude.html#650" class="Function">hcomp</a></code> of a lower dimension. In
this case, it gives us <code>hcomp (λ ()) x</code> in the top left corner.
Unfortunately, this is is not exactly the same as <code>x</code>, so this fails
to give us a path <code>x ≡ z</code>. This is related to the fact that
transporting over <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a></code> does not give us the identity function
definitionally.</p>
</div>
<h2 id="constructing-cubes"><a class="header" href="#constructing-cubes">Constructing Cubes</a></h2>
<p>Let’s do an example of a proper 3D cube. Let’s say we want to
construct this square:</p>
<pre><code>        q
   y — — — &gt; z
   ^         ^
 p |         | q            ^
   |         |            j |
   x — — — &gt; y              ∙ — &gt;
        p                     i
</code></pre>
<pre class="Agda"><a id="diamond"></a><a id="16988" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#16988" class="Function">diamond</a> <a id="16996" class="Symbol">:</a> <a id="16998" class="Symbol">(</a><a id="16999" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#16999" class="Bound">p</a> <a id="17001" class="Symbol">:</a> <a id="17003" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="17005" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="17007" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a><a id="17008" class="Symbol">)</a> <a id="17010" class="Symbol">(</a><a id="17011" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#17011" class="Bound">q</a> <a id="17013" class="Symbol">:</a> <a id="17015" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a> <a id="17017" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="17019" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a><a id="17020" class="Symbol">)</a> <a id="17022" class="Symbol">→</a> <a id="17024" href="2--Paths-and-Identifications.2-1--Paths.html#22391" class="Function">Square</a> <a id="17031" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#16999" class="Bound">p</a> <a id="17033" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#17011" class="Bound">q</a> <a id="17035" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#16999" class="Bound">p</a> <a id="17037" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#17011" class="Bound">q</a>
</pre>
<p>To construct this via <code class="Agda"><a href="Library.Prelude.html#650" class="Function">hcomp</a></code>, we need to cook up a cube (using a
third dimension <code>k</code>) with this square as the top face, and where we
know definitions for all the remaining sides.</p>
<pre><code>                      q
            y — — — — — — — — &gt; z
      p   / ^             q   / ^
        /   |               /   |
      /     |   p         /     |
    x — — — — — — — — &gt; y       |
    ^       |           ^       | q                  ^   j
    |       |           |       |                  k | /
    |       |           |       |                    ∙ — &gt;
    |       |           |       |                      i
    |       ? — — — — — | — — &gt; ?
    |  ?  /             |     /
    |   /               |   /  ?
    | /                 | /
    ? — — — — — — — — &gt; ?
              ?
</code></pre>
<p>We can make some educated guesses about which <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#22391" class="Function">Square</a></code> will work
best as the bottom face. The bottom-left corner should be <code>x</code>, because
<code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a></code> is the only immediately available path that ends in <code>x</code>.
Similarly, the two bottom-middle corners should be <code>x</code> or <code>y</code>. If we
choose <code>x</code>, then two of the resulting faces will involve all of <code>x</code>,
<code>y</code> and <code>z</code>, so in the hope of keeping thing simple we go with <code>y</code>.
Finally, if the bottom-right corner is <code>z</code>, then the bottom face is
exactly the thing we are trying to construct, so to make any progress
we must go with <code>y</code>:</p>
<pre><code>                      q
            y — — — — — — — — &gt; z
      p   / ^             q   / ^
        /   |               /   |
      /     |   p         /     |
    x — — — — — — — — &gt; y       |
    ^       |           ^       | q                  ^   j
    |       |           |       |                  k | /
    |       |           |       |                    ∙ — &gt;
    |       |           |       |                      i
    |       y — — — — — | — — &gt; y
    |  p  /             |     /
    |   /               |   /
    | /                 | /
    x — — — — — — — — &gt; y
              p
</code></pre>
<p>Now we have, in fact, seen all of these faces before! (Review the
interval algebra in Lecture 2-X if necessary.)</p>
<pre class="Agda"><a id="diamond-tube"></a><a id="19233" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19233" class="Function">diamond-tube</a> <a id="19246" class="Symbol">:</a> <a id="19248" class="Symbol">{</a><a id="19249" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19249" class="Bound">x</a> <a id="19251" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19251" class="Bound">y</a> <a id="19253" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19253" class="Bound">z</a> <a id="19255" class="Symbol">:</a> <a id="19257" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="19258" class="Symbol">}</a> 
  <a id="19263" class="Symbol">→</a> <a id="19265" class="Symbol">(</a><a id="19266" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19266" class="Bound">p</a> <a id="19268" class="Symbol">:</a> <a id="19270" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19249" class="Bound">x</a> <a id="19272" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="19274" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19251" class="Bound">y</a><a id="19275" class="Symbol">)</a> <a id="19277" class="Symbol">→</a> <a id="19279" class="Symbol">(</a><a id="19280" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19280" class="Bound">q</a> <a id="19282" class="Symbol">:</a> <a id="19284" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19251" class="Bound">y</a> <a id="19286" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="19288" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19253" class="Bound">z</a><a id="19289" class="Symbol">)</a>
  <a id="19293" class="Symbol">→</a> <a id="19295" class="Symbol">(</a><a id="19296" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19296" class="Bound">i</a> <a id="19298" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19298" class="Bound">j</a> <a id="19300" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19300" class="Bound">k</a> <a id="19302" class="Symbol">:</a> <a id="19304" href="Library.Primitive.html#1675" class="Datatype">I</a><a id="19305" class="Symbol">)</a> <a id="19307" class="Symbol">→</a> <a id="19309" href="Library.Primitive.html#3205" class="Primitive">Partial</a> <a id="19317" class="Symbol">(</a><a id="19318" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6448" class="Function">∂</a> <a id="19320" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19296" class="Bound">i</a> <a id="19322" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="19324" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6448" class="Function">∂</a> <a id="19326" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19298" class="Bound">j</a> <a id="19328" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="19330" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="19332" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19300" class="Bound">k</a><a id="19333" class="Symbol">)</a> <a id="19335" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a>
<a id="19337" class="Comment">-- Exercise:</a>
<a id="19350" class="Comment">-- diamond-tube p q i j k (i = i0) = {!!}</a>
<a id="19392" class="Comment">-- diamond-tube p q i j k (i = i1) = {!!}</a>
<a id="19434" class="Comment">-- diamond-tube p q i j k (j = i0) = {!!}</a>
<a id="19476" class="Comment">-- diamond-tube p q i j k (j = i1) = {!!}</a>
<a id="19518" class="Comment">-- diamond-tube p q i j k (k = i0) = {!!}</a>
</pre><!--
<pre class="Agda"><a id="19573" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19233" class="Function">diamond-tube</a> <a id="19586" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19586" class="Bound">p</a> <a id="19588" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19588" class="Bound">q</a> <a id="19590" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19590" class="Bound">i</a> <a id="19592" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19592" class="Bound">j</a> <a id="19594" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19594" class="Bound">k</a> <a id="19596" class="Symbol">(</a><a id="19597" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19590" class="Bound">i</a> <a id="19599" class="Symbol">=</a> <a id="19601" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="19603" class="Symbol">)</a> <a id="19605" class="Symbol">=</a> <a id="19607" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19586" class="Bound">p</a> <a id="19609" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19592" class="Bound">j</a>
<a id="19611" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19233" class="Function">diamond-tube</a> <a id="19624" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19624" class="Bound">p</a> <a id="19626" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19626" class="Bound">q</a> <a id="19628" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19628" class="Bound">i</a> <a id="19630" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19630" class="Bound">j</a> <a id="19632" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19632" class="Bound">k</a> <a id="19634" class="Symbol">(</a><a id="19635" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19628" class="Bound">i</a> <a id="19637" class="Symbol">=</a> <a id="19639" href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a><a id="19641" class="Symbol">)</a> <a id="19643" class="Symbol">=</a> <a id="19645" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#26261" class="Function">connection∧</a> <a id="19657" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19626" class="Bound">q</a> <a id="19659" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19630" class="Bound">j</a> <a id="19661" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19632" class="Bound">k</a>
<a id="19663" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19233" class="Function">diamond-tube</a> <a id="19676" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19676" class="Bound">p</a> <a id="19678" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19678" class="Bound">q</a> <a id="19680" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19680" class="Bound">i</a> <a id="19682" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19682" class="Bound">j</a> <a id="19684" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19684" class="Bound">k</a> <a id="19686" class="Symbol">(</a><a id="19687" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19682" class="Bound">j</a> <a id="19689" class="Symbol">=</a> <a id="19691" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="19693" class="Symbol">)</a> <a id="19695" class="Symbol">=</a> <a id="19697" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19676" class="Bound">p</a> <a id="19699" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19680" class="Bound">i</a>
<a id="19701" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19233" class="Function">diamond-tube</a> <a id="19714" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19714" class="Bound">p</a> <a id="19716" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19716" class="Bound">q</a> <a id="19718" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19718" class="Bound">i</a> <a id="19720" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19720" class="Bound">j</a> <a id="19722" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19722" class="Bound">k</a> <a id="19724" class="Symbol">(</a><a id="19725" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19720" class="Bound">j</a> <a id="19727" class="Symbol">=</a> <a id="19729" href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a><a id="19731" class="Symbol">)</a> <a id="19733" class="Symbol">=</a> <a id="19735" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#26261" class="Function">connection∧</a> <a id="19747" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19716" class="Bound">q</a> <a id="19749" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19718" class="Bound">i</a> <a id="19751" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19722" class="Bound">k</a>
<a id="19753" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19233" class="Function">diamond-tube</a> <a id="19766" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19766" class="Bound">p</a> <a id="19768" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19768" class="Bound">q</a> <a id="19770" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19770" class="Bound">i</a> <a id="19772" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19772" class="Bound">j</a> <a id="19774" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19774" class="Bound">k</a> <a id="19776" class="Symbol">(</a><a id="19777" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19774" class="Bound">k</a> <a id="19779" class="Symbol">=</a> <a id="19781" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="19783" class="Symbol">)</a> <a id="19785" class="Symbol">=</a> <a id="19787" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#26597" class="Function">connection∨</a> <a id="19799" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19766" class="Bound">p</a> <a id="19801" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19770" class="Bound">i</a> <a id="19803" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19772" class="Bound">j</a>

</pre>-->
<pre class="Agda">
<a id="19819" class="Comment">-- Exercise:</a>
<a id="19832" class="Comment">-- diamond p q i j = hcomp {!!} {!!}</a>
</pre><!--
<pre class="Agda"><a id="19882" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#16988" class="Function">diamond</a> <a id="19890" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19890" class="Bound">p</a> <a id="19892" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19892" class="Bound">q</a> <a id="19894" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19894" class="Bound">i</a> <a id="19896" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19896" class="Bound">j</a> <a id="19898" class="Symbol">=</a> <a id="19900" href="Library.Prelude.html#650" class="Function">hcomp</a> <a id="19906" class="Symbol">(</a><a id="19907" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6448" class="Function">∂</a> <a id="19909" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19894" class="Bound">i</a> <a id="19911" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="19913" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6448" class="Function">∂</a> <a id="19915" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19896" class="Bound">j</a><a id="19916" class="Symbol">)</a> <a id="19918" class="Symbol">(</a><a id="19919" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19233" class="Function">diamond-tube</a> <a id="19932" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19890" class="Bound">p</a> <a id="19934" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19892" class="Bound">q</a> <a id="19936" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19894" class="Bound">i</a> <a id="19938" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#19896" class="Bound">j</a><a id="19939" class="Symbol">)</a>

</pre>-->
<p>The composition problems that result in some desired square are not
unique. Try constructing the same <code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#16988" class="Function">diamond</a></code> square as above,
but using the following alternative cube:</p>
<pre><code>                        q
              y — — — — — — — — &gt; z
        p   / ^             q   / ^
          /   |               /   |
        /     |   p         /     |
      x — — — — — — — — &gt; y       |
      ^       |           ^       | q                  ^   j
      |       |           |       |                  k | /
      |       |           |       |                    ∙ — &gt;
      |       |           |       |                      i
sym p |       y — — — — — | — — &gt; y
      |     /             |     /
      |   /               |   /
      | /                 | /
      y — — — — — — — — &gt; y
</code></pre>
<pre class="Agda"><a id="diamond-tube-alt"></a><a id="20804" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20804" class="Function">diamond-tube-alt</a> <a id="20821" class="Symbol">:</a> <a id="20823" class="Symbol">{</a><a id="20824" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20824" class="Bound">x</a> <a id="20826" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20826" class="Bound">y</a> <a id="20828" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20828" class="Bound">z</a> <a id="20830" class="Symbol">:</a> <a id="20832" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="20833" class="Symbol">}</a> <a id="20835" class="Symbol">(</a><a id="20836" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20836" class="Bound">p</a> <a id="20838" class="Symbol">:</a> <a id="20840" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20824" class="Bound">x</a> <a id="20842" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="20844" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20826" class="Bound">y</a><a id="20845" class="Symbol">)</a> <a id="20847" class="Symbol">(</a><a id="20848" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20848" class="Bound">q</a> <a id="20850" class="Symbol">:</a> <a id="20852" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20826" class="Bound">y</a> <a id="20854" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="20856" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20828" class="Bound">z</a><a id="20857" class="Symbol">)</a>
  <a id="20861" class="Symbol">→</a> <a id="20863" class="Symbol">(</a><a id="20864" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20864" class="Bound">i</a> <a id="20866" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20866" class="Bound">j</a> <a id="20868" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20868" class="Bound">k</a> <a id="20870" class="Symbol">:</a> <a id="20872" href="Library.Primitive.html#1675" class="Datatype">I</a><a id="20873" class="Symbol">)</a> <a id="20875" class="Symbol">→</a> <a id="20877" href="Library.Primitive.html#3205" class="Primitive">Partial</a> <a id="20885" class="Symbol">(</a><a id="20886" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6448" class="Function">∂</a> <a id="20888" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20864" class="Bound">i</a> <a id="20890" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="20892" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6448" class="Function">∂</a> <a id="20894" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20866" class="Bound">j</a> <a id="20896" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="20898" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="20900" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20868" class="Bound">k</a><a id="20901" class="Symbol">)</a> <a id="20903" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a>
<a id="20905" class="Comment">-- Exercise:</a>
<a id="20918" class="Comment">-- diamond-tube-alt p q i j k (i = i0) = {!!}</a>
<a id="20964" class="Comment">-- diamond-tube-alt p q i j k (i = i1) = {!!}</a>
<a id="21010" class="Comment">-- diamond-tube-alt p q i j k (j = i0) = {!!}</a>
<a id="21056" class="Comment">-- diamond-tube-alt p q i j k (j = i1) = {!!}</a>
<a id="21102" class="Comment">-- diamond-tube-alt p q i j k (k = i0) = {!!}</a>
</pre><!--
<pre class="Agda"><a id="21161" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20804" class="Function">diamond-tube-alt</a> <a id="21178" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21178" class="Bound">p</a> <a id="21180" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21180" class="Bound">q</a> <a id="21182" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21182" class="Bound">i</a> <a id="21184" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21184" class="Bound">j</a> <a id="21186" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21186" class="Bound">k</a> <a id="21188" class="Symbol">(</a><a id="21189" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21182" class="Bound">i</a> <a id="21191" class="Symbol">=</a> <a id="21193" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="21195" class="Symbol">)</a> <a id="21197" class="Symbol">=</a> <a id="21199" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21178" class="Bound">p</a> <a id="21201" class="Symbol">(</a><a id="21202" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21184" class="Bound">j</a> <a id="21204" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="21206" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="21208" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21186" class="Bound">k</a><a id="21209" class="Symbol">)</a>
<a id="21211" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20804" class="Function">diamond-tube-alt</a> <a id="21228" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21228" class="Bound">p</a> <a id="21230" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21230" class="Bound">q</a> <a id="21232" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21232" class="Bound">i</a> <a id="21234" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21234" class="Bound">j</a> <a id="21236" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21236" class="Bound">k</a> <a id="21238" class="Symbol">(</a><a id="21239" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21232" class="Bound">i</a> <a id="21241" class="Symbol">=</a> <a id="21243" href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a><a id="21245" class="Symbol">)</a> <a id="21247" class="Symbol">=</a> <a id="21249" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21230" class="Bound">q</a> <a id="21251" class="Symbol">(</a><a id="21252" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21234" class="Bound">j</a> <a id="21254" href="Library.Prelude.html#416" class="Primitive Operator">∧</a> <a id="21256" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21236" class="Bound">k</a><a id="21257" class="Symbol">)</a>
<a id="21259" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20804" class="Function">diamond-tube-alt</a> <a id="21276" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21276" class="Bound">p</a> <a id="21278" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21278" class="Bound">q</a> <a id="21280" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21280" class="Bound">i</a> <a id="21282" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21282" class="Bound">j</a> <a id="21284" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21284" class="Bound">k</a> <a id="21286" class="Symbol">(</a><a id="21287" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21282" class="Bound">j</a> <a id="21289" class="Symbol">=</a> <a id="21291" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="21293" class="Symbol">)</a> <a id="21295" class="Symbol">=</a> <a id="21297" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21276" class="Bound">p</a> <a id="21299" class="Symbol">(</a><a id="21300" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21280" class="Bound">i</a> <a id="21302" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="21304" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="21306" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21284" class="Bound">k</a><a id="21307" class="Symbol">)</a>
<a id="21309" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20804" class="Function">diamond-tube-alt</a> <a id="21326" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21326" class="Bound">p</a> <a id="21328" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21328" class="Bound">q</a> <a id="21330" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21330" class="Bound">i</a> <a id="21332" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21332" class="Bound">j</a> <a id="21334" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21334" class="Bound">k</a> <a id="21336" class="Symbol">(</a><a id="21337" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21332" class="Bound">j</a> <a id="21339" class="Symbol">=</a> <a id="21341" href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a><a id="21343" class="Symbol">)</a> <a id="21345" class="Symbol">=</a> <a id="21347" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21328" class="Bound">q</a> <a id="21349" class="Symbol">(</a><a id="21350" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21330" class="Bound">i</a> <a id="21352" href="Library.Prelude.html#416" class="Primitive Operator">∧</a> <a id="21354" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21334" class="Bound">k</a><a id="21355" class="Symbol">)</a>
<a id="21357" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20804" class="Function">diamond-tube-alt</a> <a id="21374" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21374" class="Bound">p</a> <a id="21376" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21376" class="Bound">q</a> <a id="21378" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21378" class="Bound">i</a> <a id="21380" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21380" class="Bound">j</a> <a id="21382" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21382" class="Bound">k</a> <a id="21384" class="Symbol">(</a><a id="21385" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21382" class="Bound">k</a> <a id="21387" class="Symbol">=</a> <a id="21389" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="21391" class="Symbol">)</a> <a id="21393" class="Symbol">=</a> <a id="21395" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21374" class="Bound">p</a> <a id="21397" href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a>

</pre>-->
<pre class="Agda">
<a id="diamond-alt"></a><a id="21414" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21414" class="Function">diamond-alt</a> <a id="21426" class="Symbol">:</a> <a id="21428" class="Symbol">(</a><a id="21429" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21429" class="Bound">p</a> <a id="21431" class="Symbol">:</a> <a id="21433" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="21435" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="21437" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a><a id="21438" class="Symbol">)</a> <a id="21440" class="Symbol">→</a> <a id="21442" class="Symbol">(</a><a id="21443" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21443" class="Bound">q</a> <a id="21445" class="Symbol">:</a> <a id="21447" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a> <a id="21449" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="21451" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a><a id="21452" class="Symbol">)</a> <a id="21454" class="Symbol">→</a> <a id="21456" href="2--Paths-and-Identifications.2-1--Paths.html#22391" class="Function">Square</a> <a id="21463" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21429" class="Bound">p</a> <a id="21465" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21443" class="Bound">q</a> <a id="21467" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21429" class="Bound">p</a> <a id="21469" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21443" class="Bound">q</a>
<a id="21471" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21414" class="Function">diamond-alt</a> <a id="21483" class="Symbol">{</a><a id="21484" class="Argument">y</a> <a id="21486" class="Symbol">=</a> <a id="21488" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21488" class="Bound">y</a><a id="21489" class="Symbol">}</a> <a id="21491" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21491" class="Bound">p</a> <a id="21493" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21493" class="Bound">q</a> <a id="21495" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21495" class="Bound">i</a> <a id="21497" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21497" class="Bound">j</a> <a id="21499" class="Symbol">=</a> <a id="21501" href="Library.Prelude.html#650" class="Function">hcomp</a> <a id="21507" class="Symbol">(</a><a id="21508" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6448" class="Function">∂</a> <a id="21510" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21495" class="Bound">i</a> <a id="21512" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="21514" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6448" class="Function">∂</a> <a id="21516" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21497" class="Bound">j</a><a id="21517" class="Symbol">)</a> <a id="21519" class="Symbol">(</a><a id="21520" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#20804" class="Function">diamond-tube-alt</a> <a id="21537" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21491" class="Bound">p</a> <a id="21539" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21493" class="Bound">q</a> <a id="21541" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21495" class="Bound">i</a> <a id="21543" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#21497" class="Bound">j</a><a id="21544" class="Symbol">)</a>
</pre>
<p>A crucial application of <code class="Agda"><a href="Library.Prelude.html#650" class="Function">hcomp</a></code> for 3-d cubes is showing that the
composition square <code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#12758" class="Function">double-comp-box</a></code> has a filler. That is, not only
do we have the double-composition path <code>r ∙∙ p ∙∙ q</code> at the top, but
the interior of the square is filled in and we have an element of
<code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#22391" class="Function">Square</a></code> for</p>
<pre><code>           q
      y — — — &gt; z
      ^         ^
   p  |         | r ∙∙ p ∙∙ q          ^
      |         |                    j |
      x — — — &gt; w                      ∙ — &gt;
         sym r                           i
</code></pre>
<p>We orient this square in a diagonally flipped way. You will have to
trust us that this is the most convenient orientation to use this
square in!</p>
<p>Here’s the cube we want to fill.</p>
<pre><code>                      q
            y — — — — — — — — &gt; z
          / ^                 / ^
     p  /   |               /  r ∙∙ p ∙∙ q
      /     | sym r       /     |
    x — — — — — — — — &gt; w       |
    ^       |           ^       |                    ^   j
    |       |           |       |                  k | /
    |       |           |       |                    ∙ — &gt;
    |       |           |       |                      i
    |       y — — — — — | — — &gt; y
    |  p  /             |     /
    |   /               |   / p
    | /                 | /
    x — — — — — — — — &gt; x
</code></pre>
<p>We use a new trick to construct this cube. As mentioned above, if a
face is missing from the partial element then <code class="Agda"><a href="Library.Prelude.html#650" class="Function">hcomp</a></code> fills in the
missing face at the top with an <code class="Agda"><a href="Library.Prelude.html#650" class="Function">hcomp</a></code> of a lower dimension. In the
cube we are trying to construct, the <code class="Agda"><a href="Library.Prelude.html#650" class="Function">hcomp</a></code> of the sides for the
for the <code>i = i1</code> face is exactly the double-composite <code>r ∙∙ p ∙∙ q</code>
that we wanted as the top edge in the first place. So we don’t have to
worry about giving a <code>i = i1</code> case at all. (Which is lucky, because
that’s exactly the <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#22391" class="Function">Square</a></code> we are trying to construct right now!)</p>
<pre class="Agda"><a id="∙∙-filler-tube"></a><a id="23475" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23475" class="Function">∙∙-filler-tube</a> <a id="23490" class="Symbol">:</a> <a id="23492" class="Symbol">{</a><a id="23493" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23493" class="Bound">w</a> <a id="23495" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23495" class="Bound">x</a> <a id="23497" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23497" class="Bound">y</a> <a id="23499" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23499" class="Bound">z</a> <a id="23501" class="Symbol">:</a> <a id="23503" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="23504" class="Symbol">}</a>
    <a id="23510" class="Symbol">(</a><a id="23511" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23511" class="Bound">r</a> <a id="23513" class="Symbol">:</a> <a id="23515" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23493" class="Bound">w</a> <a id="23517" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="23519" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23495" class="Bound">x</a><a id="23520" class="Symbol">)</a> <a id="23522" class="Symbol">(</a><a id="23523" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23523" class="Bound">p</a> <a id="23525" class="Symbol">:</a> <a id="23527" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23495" class="Bound">x</a> <a id="23529" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="23531" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23497" class="Bound">y</a><a id="23532" class="Symbol">)</a> <a id="23534" class="Symbol">(</a><a id="23535" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23535" class="Bound">q</a> <a id="23537" class="Symbol">:</a> <a id="23539" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23497" class="Bound">y</a> <a id="23541" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="23543" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23499" class="Bound">z</a><a id="23544" class="Symbol">)</a>
  <a id="23548" class="Symbol">→</a> <a id="23550" class="Symbol">(</a><a id="23551" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23551" class="Bound">i</a> <a id="23553" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23553" class="Bound">j</a> <a id="23555" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23555" class="Bound">k</a> <a id="23557" class="Symbol">:</a> <a id="23559" href="Library.Primitive.html#1675" class="Datatype">I</a><a id="23560" class="Symbol">)</a> <a id="23562" class="Symbol">→</a> <a id="23564" href="Library.Primitive.html#3205" class="Primitive">Partial</a> <a id="23572" class="Symbol">(</a><a id="23573" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="23575" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23551" class="Bound">i</a> <a id="23577" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="23579" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6448" class="Function">∂</a> <a id="23581" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23553" class="Bound">j</a> <a id="23583" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="23585" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="23587" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23555" class="Bound">k</a><a id="23588" class="Symbol">)</a> <a id="23590" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a>
<a id="23592" class="Comment">-- Exercise:</a>
<a id="23605" class="Comment">-- ∙∙-filler-tube r p q i j k (j = i0) = {!!}</a>
<a id="23651" class="Comment">-- ∙∙-filler-tube r p q i j k (j = i1) = {!!}</a>
<a id="23697" class="Comment">-- ∙∙-filler-tube r p q i j k (i = i0) = {!!}</a>
<a id="23743" class="Comment">-- ∙∙-filler-tube r p q i j k (k = i0) = {!!}</a>
</pre><!--
<pre class="Agda"><a id="23802" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23475" class="Function">∙∙-filler-tube</a> <a id="23817" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23817" class="Bound">r</a> <a id="23819" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23819" class="Bound">p</a> <a id="23821" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23821" class="Bound">q</a> <a id="23823" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23823" class="Bound">i</a> <a id="23825" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23825" class="Bound">j</a> <a id="23827" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23827" class="Bound">k</a> <a id="23829" class="Symbol">(</a><a id="23830" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23825" class="Bound">j</a> <a id="23832" class="Symbol">=</a> <a id="23834" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="23836" class="Symbol">)</a> <a id="23838" class="Symbol">=</a> <a id="23840" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#26261" class="Function">connection∧</a> <a id="23852" class="Symbol">(</a><a id="23853" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#22252" class="Function">sym</a> <a id="23857" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23817" class="Bound">r</a><a id="23858" class="Symbol">)</a> <a id="23860" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23823" class="Bound">i</a> <a id="23862" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23827" class="Bound">k</a>
<a id="23864" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23475" class="Function">∙∙-filler-tube</a> <a id="23879" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23879" class="Bound">r</a> <a id="23881" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23881" class="Bound">p</a> <a id="23883" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23883" class="Bound">q</a> <a id="23885" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23885" class="Bound">i</a> <a id="23887" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23887" class="Bound">j</a> <a id="23889" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23889" class="Bound">k</a> <a id="23891" class="Symbol">(</a><a id="23892" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23887" class="Bound">j</a> <a id="23894" class="Symbol">=</a> <a id="23896" href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a><a id="23898" class="Symbol">)</a> <a id="23900" class="Symbol">=</a> <a id="23902" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#26261" class="Function">connection∧</a> <a id="23914" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23883" class="Bound">q</a> <a id="23916" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23885" class="Bound">i</a> <a id="23918" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23889" class="Bound">k</a>
<a id="23920" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23475" class="Function">∙∙-filler-tube</a> <a id="23935" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23935" class="Bound">r</a> <a id="23937" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23937" class="Bound">p</a> <a id="23939" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23939" class="Bound">q</a> <a id="23941" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23941" class="Bound">i</a> <a id="23943" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23943" class="Bound">j</a> <a id="23945" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23945" class="Bound">k</a> <a id="23947" class="Symbol">(</a><a id="23948" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23941" class="Bound">i</a> <a id="23950" class="Symbol">=</a> <a id="23952" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="23954" class="Symbol">)</a> <a id="23956" class="Symbol">=</a> <a id="23958" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23937" class="Bound">p</a> <a id="23960" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23943" class="Bound">j</a>
<a id="23962" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23475" class="Function">∙∙-filler-tube</a> <a id="23977" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23977" class="Bound">r</a> <a id="23979" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23979" class="Bound">p</a> <a id="23981" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23981" class="Bound">q</a> <a id="23983" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23983" class="Bound">i</a> <a id="23985" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23985" class="Bound">j</a> <a id="23987" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23987" class="Bound">k</a> <a id="23989" class="Symbol">(</a><a id="23990" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23987" class="Bound">k</a> <a id="23992" class="Symbol">=</a> <a id="23994" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="23996" class="Symbol">)</a> <a id="23998" class="Symbol">=</a> <a id="24000" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23979" class="Bound">p</a> <a id="24002" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23985" class="Bound">j</a>

</pre>-->
<pre class="Agda">
<a id="∙∙-filler"></a><a id="24018" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24018" class="Function">∙∙-filler</a> <a id="24028" class="Symbol">:</a> <a id="24030" class="Symbol">(</a><a id="24031" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24031" class="Bound">r</a> <a id="24033" class="Symbol">:</a> <a id="24035" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#596" class="Generalizable">w</a> <a id="24037" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="24039" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a><a id="24040" class="Symbol">)</a> <a id="24042" class="Symbol">(</a><a id="24043" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24043" class="Bound">p</a> <a id="24045" class="Symbol">:</a> <a id="24047" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="24049" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="24051" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a><a id="24052" class="Symbol">)</a> <a id="24054" class="Symbol">(</a><a id="24055" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24055" class="Bound">q</a> <a id="24057" class="Symbol">:</a> <a id="24059" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a> <a id="24061" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="24063" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a><a id="24064" class="Symbol">)</a>
  <a id="24068" class="Symbol">→</a> <a id="24070" href="2--Paths-and-Identifications.2-1--Paths.html#22391" class="Function">Square</a> <a id="24077" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24043" class="Bound">p</a> <a id="24079" class="Symbol">(</a><a id="24080" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24031" class="Bound">r</a> <a id="24082" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13345" class="Function Operator">∙∙</a> <a id="24085" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24043" class="Bound">p</a> <a id="24087" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#13345" class="Function Operator">∙∙</a> <a id="24090" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24055" class="Bound">q</a><a id="24091" class="Symbol">)</a> <a id="24093" class="Symbol">(</a><a id="24094" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#22252" class="Function">sym</a> <a id="24098" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24031" class="Bound">r</a><a id="24099" class="Symbol">)</a> <a id="24101" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24055" class="Bound">q</a>
<a id="24103" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24018" class="Function">∙∙-filler</a> <a id="24113" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24113" class="Bound">r</a> <a id="24115" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24115" class="Bound">p</a> <a id="24117" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24117" class="Bound">q</a> <a id="24119" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24119" class="Bound">i</a> <a id="24121" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24121" class="Bound">j</a> <a id="24123" class="Symbol">=</a> <a id="24125" href="Library.Prelude.html#650" class="Function">hcomp</a> <a id="24131" class="Symbol">(</a><a id="24132" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="24134" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24119" class="Bound">i</a> <a id="24136" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="24138" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6448" class="Function">∂</a> <a id="24140" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24121" class="Bound">j</a><a id="24141" class="Symbol">)</a> <a id="24143" class="Symbol">(</a><a id="24144" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#23475" class="Function">∙∙-filler-tube</a> <a id="24159" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24113" class="Bound">r</a> <a id="24161" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24115" class="Bound">p</a> <a id="24163" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24117" class="Bound">q</a> <a id="24165" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24119" class="Bound">i</a> <a id="24167" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24121" class="Bound">j</a><a id="24168" class="Symbol">)</a>
</pre>
<p>We also have the filler for ordinary composition, just by setting the
path <code>r</code> to <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a></code>.</p>
<pre><code>           q
      y — — — &gt; z
      ^         ^                   ^    
   p  |         | p ∙ q           j |       
      |         |                   ∙ — &gt;   
      x — — — &gt; x                     i     
         refl                        
</code></pre>
<pre class="Agda"><a id="∙-filler"></a><a id="24547" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24547" class="Function">∙-filler</a> <a id="24556" class="Symbol">:</a> <a id="24558" class="Symbol">(</a><a id="24559" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24559" class="Bound">p</a> <a id="24561" class="Symbol">:</a> <a id="24563" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="24565" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="24567" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a><a id="24568" class="Symbol">)</a> <a id="24570" class="Symbol">(</a><a id="24571" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24571" class="Bound">q</a> <a id="24573" class="Symbol">:</a> <a id="24575" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a> <a id="24577" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="24579" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a><a id="24580" class="Symbol">)</a> <a id="24582" class="Symbol">→</a> <a id="24584" href="2--Paths-and-Identifications.2-1--Paths.html#22391" class="Function">Square</a> <a id="24591" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24559" class="Bound">p</a> <a id="24593" class="Symbol">(</a><a id="24594" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24559" class="Bound">p</a> <a id="24596" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15890" class="Function Operator">∙</a> <a id="24598" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24571" class="Bound">q</a><a id="24599" class="Symbol">)</a> <a id="24601" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a> <a id="24606" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24571" class="Bound">q</a>
<a id="24608" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24547" class="Function">∙-filler</a> <a id="24617" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24617" class="Bound">p</a> <a id="24619" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24619" class="Bound">q</a> <a id="24621" class="Symbol">=</a> <a id="24623" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24018" class="Function">∙∙-filler</a> <a id="24633" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a> <a id="24638" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24617" class="Bound">p</a> <a id="24640" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24619" class="Bound">q</a>
</pre>
<h2 id="properties-of-path-composition"><a class="header" href="#properties-of-path-composition">Properties of Path Composition</a></h2>
<p>Let’s set about proving some basic facts about path composition.</p>
<p>First, <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a></code> is the unit for path composition. The fact that
<code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a></code> can be cancelled on the right is exactly an instance of the
<code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24547" class="Function">∙-filler</a></code> square above.</p>
<pre><code>       refl
    y — — — &gt; z
    ^         ^                     ^      
 p  |         | p ∙ refl          j |       
    |         |                     ∙ — &gt;   
    x — — — &gt; w                       i     
       refl                       
</code></pre>
<pre class="Agda"><a id="∙-idr"></a><a id="25185" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#25185" class="Function">∙-idr</a> <a id="25191" class="Symbol">:</a> <a id="25193" class="Symbol">(</a><a id="25194" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#25194" class="Bound">p</a> <a id="25196" class="Symbol">:</a> <a id="25198" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="25200" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="25202" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a><a id="25203" class="Symbol">)</a> <a id="25205" class="Symbol">→</a> <a id="25207" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#25194" class="Bound">p</a> <a id="25209" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="25211" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#25194" class="Bound">p</a> <a id="25213" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15890" class="Function Operator">∙</a> <a id="25215" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>
<a id="25220" class="Comment">-- Exercise:</a>
<a id="25233" class="Comment">-- ∙-idr p = {!!}</a>
</pre><!--
<pre class="Agda"><a id="25264" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#25185" class="Function">∙-idr</a> <a id="25270" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#25270" class="Bound">p</a> <a id="25272" class="Symbol">=</a> <a id="25274" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24547" class="Function">∙-filler</a> <a id="25283" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#25270" class="Bound">p</a> <a id="25285" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>

</pre>-->
<div class="info">
<p><span class="info-label">Aside:</span>
Proving <code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#25185" class="Function">∙-idr</a></code> and similar justifies orienting <code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24547" class="Function">∙-filler</a></code> the way
we do: when proving an identity involving paths, we are constructing a
square whose top and bottom are <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a></code>. When the right-hand side of
the identity is a composite, it is useful to have the filler oriented
so that the composite is also on the right-hand side.</p>
</div>
<p>To cancel <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a></code> on the left, we have to build another cube.</p>
<pre><code>            y — — — — — — — — &gt; y
          / ^                 / ^
     p  /   |               /  refl ∙ p
      /     |             /     |
    x — — — — — — — — &gt; x       |
    ^       |           ^       |                    ^   j
    |       |           |       |                  k | /
    |       |           |       |                    ∙ — &gt;
    |       |    sym p  |       |                      i
    |       y — — — — — | — — &gt; x
    |  p  /             |     /
    |   /               |   /
    | /                 | /
    x — — — — — — — — &gt; x
</code></pre>
<pre class="Agda"><a id="∙-idl-tube"></a><a id="26344" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26344" class="Function">∙-idl-tube</a> <a id="26355" class="Symbol">:</a> <a id="26357" class="Symbol">{</a><a id="26358" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26358" class="Bound">x</a> <a id="26360" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26360" class="Bound">y</a> <a id="26362" class="Symbol">:</a> <a id="26364" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="26365" class="Symbol">}</a> <a id="26367" class="Symbol">(</a><a id="26368" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26368" class="Bound">p</a> <a id="26370" class="Symbol">:</a> <a id="26372" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26358" class="Bound">x</a> <a id="26374" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="26376" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26360" class="Bound">y</a><a id="26377" class="Symbol">)</a> <a id="26379" class="Symbol">→</a> <a id="26381" class="Symbol">(</a><a id="26382" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26382" class="Bound">i</a> <a id="26384" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26384" class="Bound">j</a> <a id="26386" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26386" class="Bound">k</a> <a id="26388" class="Symbol">:</a> <a id="26390" href="Library.Primitive.html#1675" class="Datatype">I</a><a id="26391" class="Symbol">)</a> <a id="26393" class="Symbol">→</a> <a id="26395" href="Library.Primitive.html#3205" class="Primitive">Partial</a> <a id="26403" class="Symbol">(</a><a id="26404" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="26406" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26382" class="Bound">i</a> <a id="26408" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="26410" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6448" class="Function">∂</a> <a id="26412" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26384" class="Bound">j</a> <a id="26414" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="26416" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="26418" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26386" class="Bound">k</a><a id="26419" class="Symbol">)</a> <a id="26421" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a>
<a id="26423" class="Comment">-- Exercise:</a>
<a id="26436" class="Comment">-- ∙-idl-tube {x = x} p i j k (i = i0) = {!!} -- Constant in the `k` direction</a>
<a id="26515" class="Comment">-- ∙-idl-tube {x = x} p i j k (j = i0) = {!!} -- Completely constant</a>
<a id="26584" class="Comment">-- ∙-idl-tube {x = x} p i j k (j = i1) = {!!} -- Constructed from `p` using a connection</a>
<a id="26673" class="Comment">-- ∙-idl-tube {x = x} p i j k (k = i0) = {!!} -- Constructed from `p` using connections in a different way</a>
</pre><!--
<pre class="Agda"><a id="26793" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26344" class="Function">∙-idl-tube</a> <a id="26804" class="Symbol">{</a><a id="26805" class="Argument">x</a> <a id="26807" class="Symbol">=</a> <a id="26809" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26809" class="Bound">x</a><a id="26810" class="Symbol">}</a> <a id="26812" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26812" class="Bound">p</a> <a id="26814" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26814" class="Bound">i</a> <a id="26816" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26816" class="Bound">j</a> <a id="26818" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26818" class="Bound">k</a> <a id="26820" class="Symbol">(</a><a id="26821" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26814" class="Bound">i</a> <a id="26823" class="Symbol">=</a> <a id="26825" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="26827" class="Symbol">)</a> <a id="26829" class="Symbol">=</a> <a id="26831" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26812" class="Bound">p</a> <a id="26833" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26816" class="Bound">j</a>
<a id="26835" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26344" class="Function">∙-idl-tube</a> <a id="26846" class="Symbol">{</a><a id="26847" class="Argument">x</a> <a id="26849" class="Symbol">=</a> <a id="26851" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26851" class="Bound">x</a><a id="26852" class="Symbol">}</a> <a id="26854" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26854" class="Bound">p</a> <a id="26856" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26856" class="Bound">i</a> <a id="26858" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26858" class="Bound">j</a> <a id="26860" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26860" class="Bound">k</a> <a id="26862" class="Symbol">(</a><a id="26863" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26858" class="Bound">j</a> <a id="26865" class="Symbol">=</a> <a id="26867" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="26869" class="Symbol">)</a> <a id="26871" class="Symbol">=</a> <a id="26873" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26851" class="Bound">x</a>
<a id="26875" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26344" class="Function">∙-idl-tube</a> <a id="26886" class="Symbol">{</a><a id="26887" class="Argument">x</a> <a id="26889" class="Symbol">=</a> <a id="26891" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26891" class="Bound">x</a><a id="26892" class="Symbol">}</a> <a id="26894" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26894" class="Bound">p</a> <a id="26896" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26896" class="Bound">i</a> <a id="26898" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26898" class="Bound">j</a> <a id="26900" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26900" class="Bound">k</a> <a id="26902" class="Symbol">(</a><a id="26903" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26898" class="Bound">j</a> <a id="26905" class="Symbol">=</a> <a id="26907" href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a><a id="26909" class="Symbol">)</a> <a id="26911" class="Symbol">=</a> <a id="26913" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26894" class="Bound">p</a> <a id="26915" class="Symbol">(</a><a id="26916" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="26918" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26896" class="Bound">i</a> <a id="26920" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="26922" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26900" class="Bound">k</a><a id="26923" class="Symbol">)</a>
<a id="26925" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26344" class="Function">∙-idl-tube</a> <a id="26936" class="Symbol">{</a><a id="26937" class="Argument">x</a> <a id="26939" class="Symbol">=</a> <a id="26941" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26941" class="Bound">x</a><a id="26942" class="Symbol">}</a> <a id="26944" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26944" class="Bound">p</a> <a id="26946" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26946" class="Bound">i</a> <a id="26948" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26948" class="Bound">j</a> <a id="26950" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26950" class="Bound">k</a> <a id="26952" class="Symbol">(</a><a id="26953" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26950" class="Bound">k</a> <a id="26955" class="Symbol">=</a> <a id="26957" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="26959" class="Symbol">)</a> <a id="26961" class="Symbol">=</a> <a id="26963" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26944" class="Bound">p</a> <a id="26965" class="Symbol">(</a><a id="26966" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="26968" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26946" class="Bound">i</a> <a id="26970" href="Library.Prelude.html#416" class="Primitive Operator">∧</a> <a id="26972" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26948" class="Bound">j</a><a id="26973" class="Symbol">)</a>

</pre>-->
<pre class="Agda">
<a id="∙-idl"></a><a id="26989" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26989" class="Function">∙-idl</a> <a id="26995" class="Symbol">:</a> <a id="26997" class="Symbol">(</a><a id="26998" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26998" class="Bound">p</a> <a id="27000" class="Symbol">:</a> <a id="27002" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="27004" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="27006" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a><a id="27007" class="Symbol">)</a> <a id="27009" class="Symbol">→</a> <a id="27011" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26998" class="Bound">p</a> <a id="27013" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="27015" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a> <a id="27020" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15890" class="Function Operator">∙</a> <a id="27022" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26998" class="Bound">p</a>
<a id="27024" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26989" class="Function">∙-idl</a> <a id="27030" class="Symbol">{</a><a id="27031" class="Argument">x</a> <a id="27033" class="Symbol">=</a> <a id="27035" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27035" class="Bound">x</a><a id="27036" class="Symbol">}</a> <a id="27038" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27038" class="Bound">p</a> <a id="27040" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27040" class="Bound">i</a> <a id="27042" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27042" class="Bound">j</a> <a id="27044" class="Symbol">=</a> <a id="27046" href="Library.Prelude.html#650" class="Function">hcomp</a> <a id="27052" class="Symbol">(</a><a id="27053" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="27055" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27040" class="Bound">i</a> <a id="27057" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="27059" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6448" class="Function">∂</a> <a id="27061" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27042" class="Bound">j</a><a id="27062" class="Symbol">)</a> <a id="27064" class="Symbol">(</a><a id="27065" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26344" class="Function">∙-idl-tube</a> <a id="27076" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27038" class="Bound">p</a> <a id="27078" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27040" class="Bound">i</a> <a id="27080" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27042" class="Bound">j</a><a id="27081" class="Symbol">)</a>
</pre>
<p>Next, that composing a path with its inverse is equal to <code class="Agda"><a href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a></code>.</p>
<pre><code>                x — — — — — — — — &gt; x
              / ^                 / ^
 p ∙ sym p  /   |               /
          /     |             /     |
        x — — — — — — — — &gt; x       |
        ^       | sym p     ^       |                    ^   j
        |       |           |       |                  k | /
        |       |           |       |                    ∙ — &gt;
        |       |    sym p  |       |                      i
        |       y — — — — — | — — &gt; x
        |  p  /             |     /
        |   /               |   /
        | /                 | /
        x — — — — — — — — &gt; x
</code></pre>
<p>Here, the face on the left is exactly the composition square for <code>p</code>
and <code>sym p</code>, so we can leave it off.</p>
<pre class="Agda"><a id="∙-invr-tube"></a><a id="27928" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27928" class="Function">∙-invr-tube</a> <a id="27940" class="Symbol">:</a> <a id="27942" class="Symbol">{</a><a id="27943" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27943" class="Bound">x</a> <a id="27945" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27945" class="Bound">y</a> <a id="27947" class="Symbol">:</a> <a id="27949" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="27950" class="Symbol">}</a> <a id="27952" class="Symbol">(</a><a id="27953" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27953" class="Bound">p</a> <a id="27955" class="Symbol">:</a> <a id="27957" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27943" class="Bound">x</a> <a id="27959" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="27961" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27945" class="Bound">y</a><a id="27962" class="Symbol">)</a> <a id="27964" class="Symbol">→</a> <a id="27966" class="Symbol">(</a><a id="27967" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27967" class="Bound">i</a> <a id="27969" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27969" class="Bound">j</a> <a id="27971" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27971" class="Bound">k</a> <a id="27973" class="Symbol">:</a> <a id="27975" href="Library.Primitive.html#1675" class="Datatype">I</a><a id="27976" class="Symbol">)</a> <a id="27978" class="Symbol">→</a> <a id="27980" href="Library.Primitive.html#3205" class="Primitive">Partial</a> <a id="27988" class="Symbol">(</a><a id="27989" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27967" class="Bound">i</a> <a id="27991" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="27993" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6448" class="Function">∂</a> <a id="27995" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27969" class="Bound">j</a> <a id="27997" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="27999" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="28001" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27971" class="Bound">k</a><a id="28002" class="Symbol">)</a> <a id="28004" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a>
<a id="28006" class="Comment">-- Exercise:</a>
<a id="28019" class="Comment">-- ∙-invr-tube {x = x} p i j k (i = i1) = {!!}</a>
<a id="28066" class="Comment">-- ∙-invr-tube {x = x} p i j k (j = i0) = {!!}</a>
<a id="28113" class="Comment">-- ∙-invr-tube {x = x} p i j k (j = i1) = {!!}</a>
<a id="28160" class="Comment">-- ∙-invr-tube {x = x} p i j k (k = i0) = {!!}</a>
</pre><!--
<pre class="Agda"><a id="28220" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27928" class="Function">∙-invr-tube</a> <a id="28232" class="Symbol">{</a><a id="28233" class="Argument">x</a> <a id="28235" class="Symbol">=</a> <a id="28237" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28237" class="Bound">x</a><a id="28238" class="Symbol">}</a> <a id="28240" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28240" class="Bound">p</a> <a id="28242" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28242" class="Bound">i</a> <a id="28244" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28244" class="Bound">j</a> <a id="28246" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28246" class="Bound">k</a> <a id="28248" class="Symbol">(</a><a id="28249" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28242" class="Bound">i</a> <a id="28251" class="Symbol">=</a> <a id="28253" href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a><a id="28255" class="Symbol">)</a> <a id="28257" class="Symbol">=</a> <a id="28259" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28237" class="Bound">x</a>
<a id="28261" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27928" class="Function">∙-invr-tube</a> <a id="28273" class="Symbol">{</a><a id="28274" class="Argument">x</a> <a id="28276" class="Symbol">=</a> <a id="28278" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28278" class="Bound">x</a><a id="28279" class="Symbol">}</a> <a id="28281" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28281" class="Bound">p</a> <a id="28283" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28283" class="Bound">i</a> <a id="28285" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28285" class="Bound">j</a> <a id="28287" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28287" class="Bound">k</a> <a id="28289" class="Symbol">(</a><a id="28290" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28285" class="Bound">j</a> <a id="28292" class="Symbol">=</a> <a id="28294" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="28296" class="Symbol">)</a> <a id="28298" class="Symbol">=</a> <a id="28300" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28278" class="Bound">x</a>
<a id="28302" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27928" class="Function">∙-invr-tube</a> <a id="28314" class="Symbol">{</a><a id="28315" class="Argument">x</a> <a id="28317" class="Symbol">=</a> <a id="28319" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28319" class="Bound">x</a><a id="28320" class="Symbol">}</a> <a id="28322" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28322" class="Bound">p</a> <a id="28324" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28324" class="Bound">i</a> <a id="28326" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28326" class="Bound">j</a> <a id="28328" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28328" class="Bound">k</a> <a id="28330" class="Symbol">(</a><a id="28331" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28326" class="Bound">j</a> <a id="28333" class="Symbol">=</a> <a id="28335" href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a><a id="28337" class="Symbol">)</a> <a id="28339" class="Symbol">=</a> <a id="28341" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28322" class="Bound">p</a> <a id="28343" class="Symbol">(</a><a id="28344" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="28346" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28324" class="Bound">i</a> <a id="28348" href="Library.Prelude.html#416" class="Primitive Operator">∧</a> <a id="28350" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="28352" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28328" class="Bound">k</a><a id="28353" class="Symbol">)</a>
<a id="28355" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27928" class="Function">∙-invr-tube</a> <a id="28367" class="Symbol">{</a><a id="28368" class="Argument">x</a> <a id="28370" class="Symbol">=</a> <a id="28372" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28372" class="Bound">x</a><a id="28373" class="Symbol">}</a> <a id="28375" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28375" class="Bound">p</a> <a id="28377" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28377" class="Bound">i</a> <a id="28379" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28379" class="Bound">j</a> <a id="28381" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28381" class="Bound">k</a> <a id="28383" class="Symbol">(</a><a id="28384" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28381" class="Bound">k</a> <a id="28386" class="Symbol">=</a> <a id="28388" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="28390" class="Symbol">)</a> <a id="28392" class="Symbol">=</a> <a id="28394" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28375" class="Bound">p</a> <a id="28396" class="Symbol">(</a><a id="28397" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="28399" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28377" class="Bound">i</a> <a id="28401" href="Library.Prelude.html#416" class="Primitive Operator">∧</a> <a id="28403" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28379" class="Bound">j</a><a id="28404" class="Symbol">)</a>

</pre>-->
<pre class="Agda">
<a id="∙-invr"></a><a id="28420" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28420" class="Function">∙-invr</a> <a id="28427" class="Symbol">:</a> <a id="28429" class="Symbol">(</a><a id="28430" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28430" class="Bound">p</a> <a id="28432" class="Symbol">:</a> <a id="28434" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="28436" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="28438" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a><a id="28439" class="Symbol">)</a> <a id="28441" class="Symbol">→</a> <a id="28443" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28430" class="Bound">p</a> <a id="28445" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15890" class="Function Operator">∙</a> <a id="28447" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#22252" class="Function">sym</a> <a id="28451" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28430" class="Bound">p</a> <a id="28453" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="28455" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>
<a id="28460" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28420" class="Function">∙-invr</a> <a id="28467" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28467" class="Bound">p</a> <a id="28469" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28469" class="Bound">i</a> <a id="28471" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28471" class="Bound">j</a> <a id="28473" class="Symbol">=</a> <a id="28475" href="Library.Prelude.html#650" class="Function">hcomp</a> <a id="28481" class="Symbol">(</a><a id="28482" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28469" class="Bound">i</a> <a id="28484" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="28486" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6448" class="Function">∂</a> <a id="28488" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28471" class="Bound">j</a><a id="28489" class="Symbol">)</a> <a id="28491" class="Symbol">(</a><a id="28492" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#27928" class="Function">∙-invr-tube</a> <a id="28504" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28467" class="Bound">p</a> <a id="28506" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28469" class="Bound">i</a> <a id="28508" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28471" class="Bound">j</a><a id="28509" class="Symbol">)</a> 

<a id="∙-invl"></a><a id="28513" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28513" class="Function">∙-invl</a> <a id="28520" class="Symbol">:</a> <a id="28522" class="Symbol">(</a><a id="28523" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28523" class="Bound">p</a> <a id="28525" class="Symbol">:</a> <a id="28527" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="28529" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="28531" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a><a id="28532" class="Symbol">)</a> <a id="28534" class="Symbol">→</a> <a id="28536" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#22252" class="Function">sym</a> <a id="28540" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28523" class="Bound">p</a> <a id="28542" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15890" class="Function Operator">∙</a> <a id="28544" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28523" class="Bound">p</a> <a id="28546" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="28548" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>
<a id="28553" class="Comment">-- Exercise: (Use symmetry and save work!)</a>
<a id="28596" class="Comment">-- ∙-invl p = {!!}</a>
</pre><!--
<pre class="Agda"><a id="28628" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28513" class="Function">∙-invl</a> <a id="28635" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28635" class="Bound">p</a> <a id="28637" class="Symbol">=</a> <a id="28639" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28420" class="Function">∙-invr</a> <a id="28646" class="Symbol">(</a><a id="28647" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#22252" class="Function">sym</a> <a id="28651" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28635" class="Bound">p</a><a id="28652" class="Symbol">)</a>

</pre>-->
<p>Finally, that composition is associative via one final cube.</p>
<pre><code>                  z — — — — — — — — &gt; z
                / ^                 / ^
 r ∙ (p ∙ q)  /   |               /  (r ∙ p) ∙ q
            /     |             /     |
          w — — — — — — — — &gt; w       |
          ^       |           ^       | q                  ^   j
          |     q |           |       |                  k | /
          |       |           |       |                    ∙ — &gt;
          |       |           |       |                      i
          |       y — — — — — | — — &gt; y
         r ∙ p  /             |     /
          |   /               |   /  r ∙ p
          | /                 | /
          w — — — — — — — — &gt; w
</code></pre>
<pre class="Agda"><a id="∙-assoc-tube"></a><a id="29448" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29448" class="Function">∙-assoc-tube</a> <a id="29461" class="Symbol">:</a> <a id="29463" class="Symbol">{</a><a id="29464" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29464" class="Bound">w</a> <a id="29466" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29466" class="Bound">x</a> <a id="29468" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29468" class="Bound">y</a> <a id="29470" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29470" class="Bound">z</a> <a id="29472" class="Symbol">:</a> <a id="29474" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="29475" class="Symbol">}</a> <a id="29477" class="Symbol">(</a><a id="29478" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29478" class="Bound">r</a> <a id="29480" class="Symbol">:</a> <a id="29482" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29464" class="Bound">w</a> <a id="29484" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="29486" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29466" class="Bound">x</a><a id="29487" class="Symbol">)</a> <a id="29489" class="Symbol">(</a><a id="29490" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29490" class="Bound">p</a> <a id="29492" class="Symbol">:</a> <a id="29494" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29466" class="Bound">x</a> <a id="29496" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="29498" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29468" class="Bound">y</a><a id="29499" class="Symbol">)</a> <a id="29501" class="Symbol">(</a><a id="29502" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29502" class="Bound">q</a> <a id="29504" class="Symbol">:</a> <a id="29506" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29468" class="Bound">y</a> <a id="29508" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="29510" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29470" class="Bound">z</a><a id="29511" class="Symbol">)</a>
  <a id="29515" class="Symbol">→</a> <a id="29517" class="Symbol">(</a><a id="29518" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29518" class="Bound">i</a> <a id="29520" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29520" class="Bound">j</a> <a id="29522" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29522" class="Bound">k</a> <a id="29524" class="Symbol">:</a> <a id="29526" href="Library.Primitive.html#1675" class="Datatype">I</a><a id="29527" class="Symbol">)</a> <a id="29529" class="Symbol">→</a> <a id="29531" href="Library.Primitive.html#3205" class="Primitive">Partial</a> <a id="29539" class="Symbol">(</a><a id="29540" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6448" class="Function">∂</a> <a id="29542" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29518" class="Bound">i</a> <a id="29544" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="29546" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6448" class="Function">∂</a> <a id="29548" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29520" class="Bound">j</a> <a id="29550" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="29552" href="Library.Prelude.html#359" class="Primitive Operator">~</a> <a id="29554" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29522" class="Bound">k</a><a id="29555" class="Symbol">)</a> <a id="29557" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a>
<a id="29559" class="Comment">-- Exercise: (Hint: a couple of cases use <code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24547" class="Function">∙-filler</a></code>)</a>
<a id="29615" class="Comment">-- ∙-assoc-tube {w = w} r p q i j k (i = i0) = {!!}</a>
<a id="29667" class="Comment">-- ∙-assoc-tube {w = w} r p q i j k (i = i1) = {!!}</a>
<a id="29719" class="Comment">-- ∙-assoc-tube {w = w} r p q i j k (j = i0) = {!!}</a>
<a id="29771" class="Comment">-- ∙-assoc-tube {w = w} r p q i j k (j = i1) = {!!}</a>
<a id="29823" class="Comment">-- ∙-assoc-tube {w = w} r p q i j k (k = i0) = {!!}</a>
</pre><!--
<pre class="Agda"><a id="29888" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29448" class="Function">∙-assoc-tube</a> <a id="29901" class="Symbol">{</a><a id="29902" class="Argument">w</a> <a id="29904" class="Symbol">=</a> <a id="29906" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29906" class="Bound">w</a><a id="29907" class="Symbol">}</a> <a id="29909" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29909" class="Bound">r</a> <a id="29911" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29911" class="Bound">p</a> <a id="29913" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29913" class="Bound">q</a> <a id="29915" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29915" class="Bound">i</a> <a id="29917" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29917" class="Bound">j</a> <a id="29919" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29919" class="Bound">k</a> <a id="29921" class="Symbol">(</a><a id="29922" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29915" class="Bound">i</a> <a id="29924" class="Symbol">=</a> <a id="29926" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="29928" class="Symbol">)</a> <a id="29930" class="Symbol">=</a> <a id="29932" class="Symbol">(</a><a id="29933" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29909" class="Bound">r</a> <a id="29935" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15890" class="Function Operator">∙</a> <a id="29937" class="Symbol">(</a><a id="29938" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24547" class="Function">∙-filler</a> <a id="29947" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29911" class="Bound">p</a> <a id="29949" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29913" class="Bound">q</a> <a id="29951" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29919" class="Bound">k</a><a id="29952" class="Symbol">))</a> <a id="29955" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29917" class="Bound">j</a>
<a id="29957" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29448" class="Function">∙-assoc-tube</a> <a id="29970" class="Symbol">{</a><a id="29971" class="Argument">w</a> <a id="29973" class="Symbol">=</a> <a id="29975" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29975" class="Bound">w</a><a id="29976" class="Symbol">}</a> <a id="29978" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29978" class="Bound">r</a> <a id="29980" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29980" class="Bound">p</a> <a id="29982" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29982" class="Bound">q</a> <a id="29984" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29984" class="Bound">i</a> <a id="29986" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29986" class="Bound">j</a> <a id="29988" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29988" class="Bound">k</a> <a id="29990" class="Symbol">(</a><a id="29991" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29984" class="Bound">i</a> <a id="29993" class="Symbol">=</a> <a id="29995" href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a><a id="29997" class="Symbol">)</a> <a id="29999" class="Symbol">=</a> <a id="30001" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#24547" class="Function">∙-filler</a> <a id="30010" class="Symbol">(</a><a id="30011" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29978" class="Bound">r</a> <a id="30013" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15890" class="Function Operator">∙</a> <a id="30015" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29980" class="Bound">p</a><a id="30016" class="Symbol">)</a> <a id="30018" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29982" class="Bound">q</a> <a id="30020" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29988" class="Bound">k</a> <a id="30022" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29986" class="Bound">j</a>
<a id="30024" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29448" class="Function">∙-assoc-tube</a> <a id="30037" class="Symbol">{</a><a id="30038" class="Argument">w</a> <a id="30040" class="Symbol">=</a> <a id="30042" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30042" class="Bound">w</a><a id="30043" class="Symbol">}</a> <a id="30045" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30045" class="Bound">r</a> <a id="30047" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30047" class="Bound">p</a> <a id="30049" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30049" class="Bound">q</a> <a id="30051" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30051" class="Bound">i</a> <a id="30053" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30053" class="Bound">j</a> <a id="30055" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30055" class="Bound">k</a> <a id="30057" class="Symbol">(</a><a id="30058" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30053" class="Bound">j</a> <a id="30060" class="Symbol">=</a> <a id="30062" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="30064" class="Symbol">)</a> <a id="30066" class="Symbol">=</a> <a id="30068" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30042" class="Bound">w</a>
<a id="30070" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29448" class="Function">∙-assoc-tube</a> <a id="30083" class="Symbol">{</a><a id="30084" class="Argument">w</a> <a id="30086" class="Symbol">=</a> <a id="30088" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30088" class="Bound">w</a><a id="30089" class="Symbol">}</a> <a id="30091" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30091" class="Bound">r</a> <a id="30093" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30093" class="Bound">p</a> <a id="30095" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30095" class="Bound">q</a> <a id="30097" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30097" class="Bound">i</a> <a id="30099" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30099" class="Bound">j</a> <a id="30101" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30101" class="Bound">k</a> <a id="30103" class="Symbol">(</a><a id="30104" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30099" class="Bound">j</a> <a id="30106" class="Symbol">=</a> <a id="30108" href="Library.Primitive.html#1771" class="InductiveConstructor">i1</a><a id="30110" class="Symbol">)</a> <a id="30112" class="Symbol">=</a> <a id="30114" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30095" class="Bound">q</a> <a id="30116" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30101" class="Bound">k</a>
<a id="30118" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29448" class="Function">∙-assoc-tube</a> <a id="30131" class="Symbol">{</a><a id="30132" class="Argument">w</a> <a id="30134" class="Symbol">=</a> <a id="30136" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30136" class="Bound">w</a><a id="30137" class="Symbol">}</a> <a id="30139" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30139" class="Bound">r</a> <a id="30141" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30141" class="Bound">p</a> <a id="30143" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30143" class="Bound">q</a> <a id="30145" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30145" class="Bound">i</a> <a id="30147" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30147" class="Bound">j</a> <a id="30149" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30149" class="Bound">k</a> <a id="30151" class="Symbol">(</a><a id="30152" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30149" class="Bound">k</a> <a id="30154" class="Symbol">=</a> <a id="30156" href="Library.Primitive.html#1723" class="InductiveConstructor">i0</a><a id="30158" class="Symbol">)</a> <a id="30160" class="Symbol">=</a> <a id="30162" class="Symbol">(</a><a id="30163" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30139" class="Bound">r</a> <a id="30165" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15890" class="Function Operator">∙</a> <a id="30167" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30141" class="Bound">p</a><a id="30168" class="Symbol">)</a> <a id="30170" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30147" class="Bound">j</a>

</pre>-->
<pre class="Agda">
<a id="∙-assoc"></a><a id="30186" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30186" class="Function">∙-assoc</a> <a id="30194" class="Symbol">:</a> <a id="30196" class="Symbol">(</a><a id="30197" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30197" class="Bound">r</a> <a id="30199" class="Symbol">:</a> <a id="30201" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#596" class="Generalizable">w</a> <a id="30203" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="30205" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a><a id="30206" class="Symbol">)</a> <a id="30208" class="Symbol">(</a><a id="30209" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30209" class="Bound">p</a> <a id="30211" class="Symbol">:</a> <a id="30213" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="30215" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="30217" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a><a id="30218" class="Symbol">)</a> <a id="30220" class="Symbol">(</a><a id="30221" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30221" class="Bound">q</a> <a id="30223" class="Symbol">:</a> <a id="30225" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a> <a id="30227" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="30229" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a><a id="30230" class="Symbol">)</a>
  <a id="30234" class="Symbol">→</a> <a id="30236" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30197" class="Bound">r</a> <a id="30238" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15890" class="Function Operator">∙</a> <a id="30240" class="Symbol">(</a><a id="30241" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30209" class="Bound">p</a> <a id="30243" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15890" class="Function Operator">∙</a> <a id="30245" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30221" class="Bound">q</a><a id="30246" class="Symbol">)</a> <a id="30248" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="30250" class="Symbol">(</a><a id="30251" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30197" class="Bound">r</a> <a id="30253" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15890" class="Function Operator">∙</a> <a id="30255" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30209" class="Bound">p</a><a id="30256" class="Symbol">)</a> <a id="30258" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15890" class="Function Operator">∙</a> <a id="30260" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30221" class="Bound">q</a>
<a id="30262" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30186" class="Function">∙-assoc</a> <a id="30270" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30270" class="Bound">r</a> <a id="30272" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30272" class="Bound">p</a> <a id="30274" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30274" class="Bound">q</a> <a id="30276" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30276" class="Bound">i</a> <a id="30278" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30278" class="Bound">j</a> <a id="30280" class="Symbol">=</a> <a id="30282" href="Library.Prelude.html#650" class="Function">hcomp</a> <a id="30288" class="Symbol">(</a><a id="30289" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6448" class="Function">∂</a> <a id="30291" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30276" class="Bound">i</a> <a id="30293" href="Library.Prelude.html#387" class="Primitive Operator">∨</a> <a id="30295" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#6448" class="Function">∂</a> <a id="30297" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30278" class="Bound">j</a><a id="30298" class="Symbol">)</a> <a id="30300" class="Symbol">(</a><a id="30301" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#29448" class="Function">∙-assoc-tube</a> <a id="30314" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30270" class="Bound">r</a> <a id="30316" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30272" class="Bound">p</a> <a id="30318" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30274" class="Bound">q</a> <a id="30320" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30276" class="Bound">i</a> <a id="30322" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30278" class="Bound">j</a><a id="30323" class="Symbol">)</a>
</pre>
<h2 id="equational-reasoning"><a class="header" href="#equational-reasoning">Equational Reasoning</a></h2>
<p>As should be familiar from ordinary pen-and-paper mathematics, it is
very useful to produce an equality by chaining together lots of
simpler ones. There is a common Agda pattern that is used to give this
some nice syntax, and the following lines set it up:</p>
<pre class="Agda"><a id="step-≡"></a><a id="30618" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">step-≡</a> <a id="30625" class="Symbol">:</a> <a id="30627" class="Symbol">(</a><a id="30628" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30628" class="Bound">x</a> <a id="30630" class="Symbol">:</a> <a id="30632" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="30633" class="Symbol">)</a> <a id="30635" class="Symbol">→</a> <a id="30637" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a> <a id="30639" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="30641" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a> <a id="30643" class="Symbol">→</a> <a id="30645" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30628" class="Bound">x</a> <a id="30647" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="30649" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a> <a id="30651" class="Symbol">→</a> <a id="30653" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30628" class="Bound">x</a> <a id="30655" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="30657" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a>
<a id="30659" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">step-≡</a> <a id="30666" class="Symbol">_</a> <a id="30668" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30668" class="Bound">p</a> <a id="30670" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30670" class="Bound">q</a> <a id="30672" class="Symbol">=</a> <a id="30674" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30670" class="Bound">q</a> <a id="30676" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15890" class="Function Operator">∙</a> <a id="30678" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30668" class="Bound">p</a>

<a id="30681" class="Keyword">syntax</a> <a id="30688" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">step-≡</a> <a id="30695" class="Bound">x</a> <a id="30697" class="Bound">q</a> <a id="30699" class="Bound">p</a> <a id="30701" class="Symbol">=</a> <a id="30703" class="Bound">x</a> <a id="30705" class="Function">≡⟨</a> <a id="30708" class="Bound">p</a> <a id="30710" class="Function">⟩</a> <a id="30712" class="Bound">q</a>

<a id="_∎"></a><a id="30715" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30715" class="Function Operator">_∎</a> <a id="30718" class="Symbol">:</a> <a id="30720" class="Symbol">(</a><a id="30721" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30721" class="Bound">x</a> <a id="30723" class="Symbol">:</a> <a id="30725" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="30726" class="Symbol">)</a> <a id="30728" class="Symbol">→</a> <a id="30730" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30721" class="Bound">x</a> <a id="30732" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="30734" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30721" class="Bound">x</a>
<a id="30736" class="Symbol">_</a> <a id="30738" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30715" class="Function Operator">∎</a> <a id="30740" class="Symbol">=</a> <a id="30742" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>

<a id="30748" class="Keyword">infixr</a> <a id="30755" class="Number">2</a> <a id="30757" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">step-≡</a>
<a id="30764" class="Keyword">infix</a>  <a id="30771" class="Number">3</a> <a id="30773" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30715" class="Function Operator">_∎</a>
</pre>
<p>Here’s how to use it:</p>
<pre class="Agda"><a id="30808" class="Keyword">private</a>
  <a id="example1"></a><a id="30818" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30818" class="Function">example1</a> <a id="30827" class="Symbol">:</a> <a id="30829" class="Symbol">(</a><a id="30830" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30830" class="Bound">w</a> <a id="30832" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30832" class="Bound">x</a> <a id="30834" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30834" class="Bound">y</a> <a id="30836" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30836" class="Bound">z</a> <a id="30838" class="Symbol">:</a> <a id="30840" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="30841" class="Symbol">)</a>
    <a id="30847" class="Symbol">→</a> <a id="30849" class="Symbol">(</a><a id="30850" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30850" class="Bound">p</a> <a id="30852" class="Symbol">:</a> <a id="30854" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30830" class="Bound">w</a> <a id="30856" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="30858" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30832" class="Bound">x</a><a id="30859" class="Symbol">)</a>
    <a id="30865" class="Symbol">→</a> <a id="30867" class="Symbol">(</a><a id="30868" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30868" class="Bound">q</a> <a id="30870" class="Symbol">:</a> <a id="30872" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30832" class="Bound">x</a> <a id="30874" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="30876" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30834" class="Bound">y</a><a id="30877" class="Symbol">)</a>
    <a id="30883" class="Symbol">→</a> <a id="30885" class="Symbol">(</a><a id="30886" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30886" class="Bound">r</a> <a id="30888" class="Symbol">:</a> <a id="30890" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30834" class="Bound">y</a> <a id="30892" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="30894" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30836" class="Bound">z</a><a id="30895" class="Symbol">)</a>
    <a id="30901" class="Symbol">→</a> <a id="30903" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30830" class="Bound">w</a> <a id="30905" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="30907" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30836" class="Bound">z</a>
  <a id="30911" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30818" class="Function">example1</a> <a id="30920" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30920" class="Bound">w</a> <a id="30922" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30922" class="Bound">x</a> <a id="30924" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30924" class="Bound">y</a> <a id="30926" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30926" class="Bound">z</a> <a id="30928" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30928" class="Bound">p</a> <a id="30930" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30930" class="Bound">q</a> <a id="30932" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30932" class="Bound">r</a> <a id="30934" class="Symbol">=</a>
    <a id="30940" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30920" class="Bound">w</a> <a id="30942" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">≡⟨</a> <a id="30945" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30928" class="Bound">p</a> <a id="30947" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">⟩</a>
    <a id="30953" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30922" class="Bound">x</a> <a id="30955" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">≡⟨</a> <a id="30958" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30930" class="Bound">q</a> <a id="30960" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">⟩</a>
    <a id="30966" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30924" class="Bound">y</a> <a id="30968" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">≡⟨</a> <a id="30971" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30932" class="Bound">r</a> <a id="30973" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">⟩</a>
    <a id="30979" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30926" class="Bound">z</a> <a id="30981" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30715" class="Function Operator">∎</a>

  <a id="example2"></a><a id="30986" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30986" class="Function">example2</a> <a id="30995" class="Symbol">:</a> <a id="30997" class="Symbol">(</a><a id="30998" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30998" class="Bound">f</a> <a id="31000" class="Symbol">:</a> <a id="31002" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a> <a id="31004" class="Symbol">→</a> <a id="31006" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#571" class="Generalizable">B</a><a id="31007" class="Symbol">)</a> <a id="31009" class="Symbol">(</a><a id="31010" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31010" class="Bound">g</a> <a id="31012" class="Symbol">:</a> <a id="31014" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#571" class="Generalizable">B</a> <a id="31016" class="Symbol">→</a> <a id="31018" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="31019" class="Symbol">)</a>
    <a id="31025" class="Symbol">→</a> <a id="31027" class="Symbol">(</a><a id="31028" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31028" class="Bound">η</a> <a id="31030" class="Symbol">:</a> <a id="31032" class="Symbol">(</a><a id="31033" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31033" class="Bound">x</a> <a id="31035" class="Symbol">:</a> <a id="31037" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="31038" class="Symbol">)</a> <a id="31040" class="Symbol">→</a> <a id="31042" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31033" class="Bound">x</a> <a id="31044" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="31046" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31010" class="Bound">g</a> <a id="31048" class="Symbol">(</a><a id="31049" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30998" class="Bound">f</a> <a id="31051" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31033" class="Bound">x</a><a id="31052" class="Symbol">))</a>
    <a id="31059" class="Symbol">→</a> <a id="31061" class="Symbol">(</a><a id="31062" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31062" class="Bound">ε</a> <a id="31064" class="Symbol">:</a> <a id="31066" class="Symbol">(</a><a id="31067" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31067" class="Bound">y</a> <a id="31069" class="Symbol">:</a> <a id="31071" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#571" class="Generalizable">B</a><a id="31072" class="Symbol">)</a> <a id="31074" class="Symbol">→</a> <a id="31076" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30998" class="Bound">f</a> <a id="31078" class="Symbol">(</a><a id="31079" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31010" class="Bound">g</a> <a id="31081" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31067" class="Bound">y</a><a id="31082" class="Symbol">)</a> <a id="31084" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="31086" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31067" class="Bound">y</a><a id="31087" class="Symbol">)</a>
    <a id="31093" class="Symbol">→</a> <a id="31095" class="Symbol">(</a><a id="31096" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31096" class="Bound">x</a> <a id="31098" class="Symbol">:</a> <a id="31100" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a><a id="31101" class="Symbol">)</a> <a id="31103" class="Symbol">→</a> <a id="31105" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30998" class="Bound">f</a> <a id="31107" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31096" class="Bound">x</a> <a id="31109" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="31111" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30998" class="Bound">f</a> <a id="31113" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31096" class="Bound">x</a>
  <a id="31117" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30986" class="Function">example2</a> <a id="31126" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31126" class="Bound">f</a> <a id="31128" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31128" class="Bound">g</a> <a id="31130" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31130" class="Bound">η</a> <a id="31132" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31132" class="Bound">ε</a> <a id="31134" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31134" class="Bound">x</a> <a id="31136" class="Symbol">=</a>
    <a id="31142" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31126" class="Bound">f</a> <a id="31144" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31134" class="Bound">x</a>         <a id="31154" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">≡⟨</a> <a id="31157" href="2--Paths-and-Identifications.2-1--Paths.html#16985" class="Function">ap</a> <a id="31160" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31126" class="Bound">f</a> <a id="31162" class="Symbol">(</a><a id="31163" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31130" class="Bound">η</a> <a id="31165" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31134" class="Bound">x</a><a id="31166" class="Symbol">)</a> <a id="31168" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">⟩</a>
    <a id="31174" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31126" class="Bound">f</a> <a id="31176" class="Symbol">(</a><a id="31177" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31128" class="Bound">g</a> <a id="31179" class="Symbol">(</a><a id="31180" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31126" class="Bound">f</a> <a id="31182" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31134" class="Bound">x</a><a id="31183" class="Symbol">))</a> <a id="31186" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">≡⟨</a> <a id="31189" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31132" class="Bound">ε</a> <a id="31191" class="Symbol">(</a><a id="31192" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31126" class="Bound">f</a> <a id="31194" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31134" class="Bound">x</a><a id="31195" class="Symbol">)</a> <a id="31197" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">⟩</a>
    <a id="31203" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31126" class="Bound">f</a> <a id="31205" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31134" class="Bound">x</a>         <a id="31215" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30715" class="Function Operator">∎</a>
</pre>
<p>Try it yourself by re-proving a path version of <code class="Agda"><a href="1--Type-Theory.1-4--Propositions-as-Types.html#17894" class="Function">+ℕ-≡ℕ-comm</a></code>.</p>
<pre class="Agda"><a id="+ℕ-comm-helper"></a><a id="31291" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31291" class="Function">+ℕ-comm-helper</a> <a id="31306" class="Symbol">:</a> <a id="31308" class="Symbol">(</a><a id="31309" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31309" class="Bound">n</a> <a id="31311" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31311" class="Bound">m</a> <a id="31313" class="Symbol">:</a> <a id="31315" href="Library.Prelude.html#3629" class="Datatype">ℕ</a><a id="31316" class="Symbol">)</a> <a id="31318" class="Symbol">→</a> <a id="31320" class="Symbol">(</a><a id="31321" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31309" class="Bound">n</a> <a id="31323" href="1--Type-Theory.1-2--Inductive-Types.html#11232" class="Function Operator">+ℕ</a> <a id="31326" class="Symbol">(</a><a id="31327" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="31331" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31311" class="Bound">m</a><a id="31332" class="Symbol">))</a> <a id="31335" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="31337" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="31341" class="Symbol">(</a><a id="31342" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31309" class="Bound">n</a> <a id="31344" href="1--Type-Theory.1-2--Inductive-Types.html#11232" class="Function Operator">+ℕ</a> <a id="31347" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31311" class="Bound">m</a><a id="31348" class="Symbol">)</a>
<a id="31350" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31291" class="Function">+ℕ-comm-helper</a> <a id="31365" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a> <a id="31370" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31370" class="Bound">m</a> <a id="31372" class="Symbol">=</a> <a id="31374" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a>
<a id="31379" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31291" class="Function">+ℕ-comm-helper</a> <a id="31394" class="Symbol">(</a><a id="31395" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="31399" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31399" class="Bound">n</a><a id="31400" class="Symbol">)</a> <a id="31402" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31402" class="Bound">m</a> <a id="31404" class="Symbol">=</a> <a id="31406" href="2--Paths-and-Identifications.2-1--Paths.html#16985" class="Function">ap</a> <a id="31409" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="31413" class="Symbol">(</a><a id="31414" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31291" class="Function">+ℕ-comm-helper</a> <a id="31429" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31399" class="Bound">n</a> <a id="31431" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31402" class="Bound">m</a><a id="31432" class="Symbol">)</a>

<a id="+ℕ-comm"></a><a id="31435" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31435" class="Function">+ℕ-comm</a> <a id="31443" class="Symbol">:</a> <a id="31445" class="Symbol">(</a><a id="31446" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31446" class="Bound">n</a> <a id="31448" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31448" class="Bound">m</a> <a id="31450" class="Symbol">:</a> <a id="31452" href="Library.Prelude.html#3629" class="Datatype">ℕ</a><a id="31453" class="Symbol">)</a> <a id="31455" class="Symbol">→</a> <a id="31457" class="Symbol">(</a><a id="31458" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31446" class="Bound">n</a> <a id="31460" href="1--Type-Theory.1-2--Inductive-Types.html#11232" class="Function Operator">+ℕ</a> <a id="31463" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31448" class="Bound">m</a><a id="31464" class="Symbol">)</a> <a id="31466" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="31468" class="Symbol">(</a><a id="31469" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31448" class="Bound">m</a> <a id="31471" href="1--Type-Theory.1-2--Inductive-Types.html#11232" class="Function Operator">+ℕ</a> <a id="31474" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31446" class="Bound">n</a><a id="31475" class="Symbol">)</a>
<a id="31477" class="Comment">-- Exercise:</a>
<a id="31490" class="Comment">-- +ℕ-comm n zero = +ℕ-idr n</a>
<a id="31519" class="Comment">-- +ℕ-comm n (suc m) =</a>
<a id="31542" class="Comment">--   n +ℕ suc m   ≡⟨ {!!} ⟩</a>
<a id="31570" class="Comment">--   suc (n +ℕ m) ≡⟨ {!!} ⟩</a>
<a id="31598" class="Comment">--   suc (m +ℕ n) ∎</a>
</pre><!--
<pre class="Agda"><a id="31631" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31435" class="Function">+ℕ-comm</a> <a id="31639" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31639" class="Bound">n</a> <a id="31641" href="Library.Prelude.html#3646" class="InductiveConstructor">zero</a> <a id="31646" class="Symbol">=</a> <a id="31648" href="2--Paths-and-Identifications.2-1--Paths.html#8229" class="Function">+ℕ-idr</a> <a id="31655" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31639" class="Bound">n</a>
<a id="31657" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31435" class="Function">+ℕ-comm</a> <a id="31665" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31665" class="Bound">n</a> <a id="31667" class="Symbol">(</a><a id="31668" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="31672" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31672" class="Bound">m</a><a id="31673" class="Symbol">)</a> <a id="31675" class="Symbol">=</a>
  <a id="31679" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31665" class="Bound">n</a> <a id="31681" href="1--Type-Theory.1-2--Inductive-Types.html#11232" class="Function Operator">+ℕ</a> <a id="31684" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="31688" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31672" class="Bound">m</a>   <a id="31692" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">≡⟨</a> <a id="31695" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31291" class="Function">+ℕ-comm-helper</a> <a id="31710" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31665" class="Bound">n</a> <a id="31712" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31672" class="Bound">m</a> <a id="31714" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">⟩</a>
  <a id="31718" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="31722" class="Symbol">(</a><a id="31723" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31665" class="Bound">n</a> <a id="31725" href="1--Type-Theory.1-2--Inductive-Types.html#11232" class="Function Operator">+ℕ</a> <a id="31728" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31672" class="Bound">m</a><a id="31729" class="Symbol">)</a> <a id="31731" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">≡⟨</a> <a id="31734" href="2--Paths-and-Identifications.2-1--Paths.html#16985" class="Function">ap</a> <a id="31737" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="31741" class="Symbol">(</a><a id="31742" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31435" class="Function">+ℕ-comm</a> <a id="31750" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31665" class="Bound">n</a> <a id="31752" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31672" class="Bound">m</a><a id="31753" class="Symbol">)</a> <a id="31755" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">⟩</a>
  <a id="31759" href="Library.Prelude.html#3657" class="InductiveConstructor">suc</a> <a id="31763" class="Symbol">(</a><a id="31764" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31672" class="Bound">m</a> <a id="31766" href="1--Type-Theory.1-2--Inductive-Types.html#11232" class="Function Operator">+ℕ</a> <a id="31769" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31665" class="Bound">n</a><a id="31770" class="Symbol">)</a> <a id="31772" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30715" class="Function Operator">∎</a>

</pre>-->
<p>And the following lemma about path composition. Each
step will involve a lemma we’ve proven above.</p>
<pre class="Agda"><a id="∙l-cancel"></a><a id="31896" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31896" class="Function">∙l-cancel</a> <a id="31906" class="Symbol">:</a> <a id="31908" class="Symbol">(</a><a id="31909" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31909" class="Bound">p</a> <a id="31911" class="Symbol">:</a> <a id="31913" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="31915" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="31917" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#592" class="Generalizable">y</a><a id="31918" class="Symbol">)</a> <a id="31920" class="Symbol">(</a><a id="31921" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31921" class="Bound">q</a> <a id="31923" class="Symbol">:</a> <a id="31925" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#590" class="Generalizable">x</a> <a id="31927" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="31929" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#594" class="Generalizable">z</a><a id="31930" class="Symbol">)</a> <a id="31932" class="Symbol">→</a> <a id="31934" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31909" class="Bound">p</a> <a id="31936" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15890" class="Function Operator">∙</a> <a id="31938" class="Symbol">(</a><a id="31939" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#22252" class="Function">sym</a> <a id="31943" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31909" class="Bound">p</a> <a id="31945" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15890" class="Function Operator">∙</a> <a id="31947" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31921" class="Bound">q</a><a id="31948" class="Symbol">)</a> <a id="31950" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="31952" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31921" class="Bound">q</a>
<a id="31954" class="Comment">-- Exercise:</a>
<a id="31967" class="Comment">-- ∙l-cancel p q =</a>
<a id="31986" class="Comment">--   p ∙ (sym p  ∙ q) ≡⟨ {!!} ⟩</a>
<a id="32018" class="Comment">--   (p ∙ sym p) ∙ q  ≡⟨ {!!} ⟩</a>
<a id="32050" class="Comment">--   refl ∙ q         ≡⟨ {!!} ⟩</a>
<a id="32082" class="Comment">--   q                ∎</a>
</pre><!--
<pre class="Agda"><a id="32119" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#31896" class="Function">∙l-cancel</a> <a id="32129" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32129" class="Bound">p</a> <a id="32131" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32131" class="Bound">q</a> <a id="32133" class="Symbol">=</a>
  <a id="32137" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32129" class="Bound">p</a> <a id="32139" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15890" class="Function Operator">∙</a> <a id="32141" class="Symbol">(</a><a id="32142" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#22252" class="Function">sym</a> <a id="32146" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32129" class="Bound">p</a>  <a id="32149" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15890" class="Function Operator">∙</a> <a id="32151" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32131" class="Bound">q</a><a id="32152" class="Symbol">)</a> <a id="32154" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">≡⟨</a> <a id="32157" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30186" class="Function">∙-assoc</a> <a id="32165" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32129" class="Bound">p</a> <a id="32167" class="Symbol">(</a><a id="32168" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#22252" class="Function">sym</a> <a id="32172" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32129" class="Bound">p</a><a id="32173" class="Symbol">)</a> <a id="32175" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32131" class="Bound">q</a> <a id="32177" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">⟩</a>
  <a id="32181" class="Symbol">(</a><a id="32182" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32129" class="Bound">p</a> <a id="32184" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15890" class="Function Operator">∙</a> <a id="32186" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#22252" class="Function">sym</a> <a id="32190" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32129" class="Bound">p</a><a id="32191" class="Symbol">)</a> <a id="32193" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15890" class="Function Operator">∙</a> <a id="32195" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32131" class="Bound">q</a>  <a id="32198" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">≡⟨</a> <a id="32201" href="2--Paths-and-Identifications.2-1--Paths.html#16985" class="Function">ap</a> <a id="32204" class="Symbol">(</a><a id="32205" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15890" class="Function Operator">_∙</a> <a id="32208" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32131" class="Bound">q</a><a id="32209" class="Symbol">)</a> <a id="32211" class="Symbol">(</a><a id="32212" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#28420" class="Function">∙-invr</a> <a id="32219" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32129" class="Bound">p</a><a id="32220" class="Symbol">)</a> <a id="32222" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">⟩</a>
  <a id="32226" href="2--Paths-and-Identifications.2-1--Paths.html#5309" class="Function">refl</a> <a id="32231" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#15890" class="Function Operator">∙</a> <a id="32233" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32131" class="Bound">q</a>         <a id="32243" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">≡⟨</a> <a id="32246" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#22252" class="Function">sym</a> <a id="32250" class="Symbol">(</a><a id="32251" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#26989" class="Function">∙-idl</a> <a id="32257" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32131" class="Bound">q</a><a id="32258" class="Symbol">)</a> <a id="32260" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">⟩</a>
  <a id="32264" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32131" class="Bound">q</a>                <a id="32281" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30715" class="Function Operator">∎</a>

</pre>-->
<p>We encourage you to use this syntax when chaining paths together, it
makes it a lot easier to understand what’s going on when you can see
the intermediate points that the composite path is passing through!</p>
<h2 id="equivalences-revisited"><a class="header" href="#equivalences-revisited">Equivalences Revisited</a></h2>
<p>Now that we have path composition, we can finally prove that
equivalences compose!</p>
<p>This function takes a lot of data as input but the the idea is very
simple: we just compose the provided sections and retracts and use
path composition to combine the provided proofs.</p>
<pre class="Agda"><a id="∘-isEquiv"></a><a id="32809" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32809" class="Function">∘-isEquiv</a> <a id="32819" class="Symbol">:</a> <a id="32821" class="Symbol">(</a><a id="32822" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32822" class="Bound">e₁</a> <a id="32825" class="Symbol">:</a> <a id="32827" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#571" class="Generalizable">B</a> <a id="32829" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="32831" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#573" class="Generalizable">C</a><a id="32832" class="Symbol">)</a> <a id="32834" class="Symbol">(</a><a id="32835" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32835" class="Bound">e₂</a> <a id="32838" class="Symbol">:</a> <a id="32840" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a> <a id="32842" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="32844" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#571" class="Generalizable">B</a><a id="32845" class="Symbol">)</a> <a id="32847" class="Symbol">→</a> <a id="32849" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5531" class="Record">isEquiv</a> <a id="32857" class="Symbol">(</a><a id="32858" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32822" class="Bound">e₁</a> <a id="32861" class="Symbol">.</a><a id="32862" class="Field">map</a> <a id="32866" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#3734" class="Function Operator">∘</a> <a id="32868" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32835" class="Bound">e₂</a> <a id="32871" class="Symbol">.</a><a id="32872" class="Field">map</a><a id="32875" class="Symbol">)</a>
<a id="32877" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32809" class="Function">∘-isEquiv</a> <a id="32887" class="Symbol">(</a><a id="32888" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#6301" class="InductiveConstructor">packEquiv</a> <a id="32898" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32898" class="Bound">f₁</a> <a id="32901" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32901" class="Bound">g₁</a> <a id="32904" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32904" class="Bound">s₁</a> <a id="32907" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32907" class="Bound">g&#39;₁</a> <a id="32911" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32911" class="Bound">r₁</a><a id="32913" class="Symbol">)</a> <a id="32915" class="Symbol">(</a><a id="32916" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#6301" class="InductiveConstructor">packEquiv</a> <a id="32926" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32926" class="Bound">f₂</a> <a id="32929" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32929" class="Bound">g₂</a> <a id="32932" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32932" class="Bound">s₂</a> <a id="32935" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32935" class="Bound">g&#39;₂</a> <a id="32939" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32939" class="Bound">r₂</a><a id="32941" class="Symbol">)</a> 
  <a id="32946" class="Symbol">=</a> <a id="32948" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#6196" class="InductiveConstructor">packIsEquiv</a> <a id="32960" class="Symbol">(</a><a id="32961" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32929" class="Bound">g₂</a> <a id="32964" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#3734" class="Function Operator">∘</a> <a id="32966" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32901" class="Bound">g₁</a><a id="32968" class="Symbol">)</a> <a id="32970" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33008" class="Function">to-fro</a> <a id="32977" class="Symbol">(</a><a id="32978" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32935" class="Bound">g&#39;₂</a> <a id="32982" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#3734" class="Function Operator">∘</a> <a id="32984" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32907" class="Bound">g&#39;₁</a><a id="32987" class="Symbol">)</a> <a id="32989" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33357" class="Function">fro-to</a>
  <a id="32998" class="Keyword">where</a>
    <a id="33008" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33008" class="Function">to-fro</a> <a id="33015" class="Symbol">:</a> <a id="33017" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#1688" class="Function">isSection</a> <a id="33027" class="Symbol">(</a><a id="33028" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32898" class="Bound">f₁</a> <a id="33031" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#3734" class="Function Operator">∘</a> <a id="33033" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32926" class="Bound">f₂</a><a id="33035" class="Symbol">)</a> <a id="33037" class="Symbol">(</a><a id="33038" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32929" class="Bound">g₂</a> <a id="33041" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#3734" class="Function Operator">∘</a> <a id="33043" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32901" class="Bound">g₁</a><a id="33045" class="Symbol">)</a>
    <a id="33051" class="Comment">-- Exercise:</a>
    <a id="33068" class="Comment">-- to-fro b = f₁ (f₂ (g₂ (g₁ b))) ≡⟨ {!!} ⟩</a>
    <a id="33116" class="Comment">--            f₁         (g₁ b)   ≡⟨ {!!} ⟩</a>
    <a id="33164" class="Comment">--                           b    ∎</a>
</pre><!--
<pre class="Agda">    <a id="33217" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33008" class="Function">to-fro</a> <a id="33224" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33224" class="Bound">b</a> <a id="33226" class="Symbol">=</a> <a id="33228" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32898" class="Bound">f₁</a> <a id="33231" class="Symbol">(</a><a id="33232" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32926" class="Bound">f₂</a> <a id="33235" class="Symbol">(</a><a id="33236" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32929" class="Bound">g₂</a> <a id="33239" class="Symbol">(</a><a id="33240" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32901" class="Bound">g₁</a> <a id="33243" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33224" class="Bound">b</a><a id="33244" class="Symbol">)))</a> <a id="33248" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">≡⟨</a> <a id="33251" href="2--Paths-and-Identifications.2-1--Paths.html#16985" class="Function">ap</a> <a id="33254" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32898" class="Bound">f₁</a> <a id="33257" class="Symbol">(</a><a id="33258" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32932" class="Bound">s₂</a> <a id="33261" class="Symbol">(</a><a id="33262" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32901" class="Bound">g₁</a> <a id="33265" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33224" class="Bound">b</a><a id="33266" class="Symbol">))</a> <a id="33269" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">⟩</a>
               <a id="33286" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32898" class="Bound">f₁</a>         <a id="33297" class="Symbol">(</a><a id="33298" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32901" class="Bound">g₁</a> <a id="33301" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33224" class="Bound">b</a><a id="33302" class="Symbol">)</a>   <a id="33306" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">≡⟨</a> <a id="33309" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32904" class="Bound">s₁</a> <a id="33312" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33224" class="Bound">b</a> <a id="33314" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">⟩</a>
                              <a id="33346" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33224" class="Bound">b</a>    <a id="33351" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30715" class="Function Operator">∎</a>
    <a id="33357" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33357" class="Function">fro-to</a> <a id="33364" class="Symbol">:</a> <a id="33366" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#3991" class="Function">isRetract</a> <a id="33376" class="Symbol">(</a><a id="33377" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32898" class="Bound">f₁</a> <a id="33380" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#3734" class="Function Operator">∘</a> <a id="33382" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32926" class="Bound">f₂</a><a id="33384" class="Symbol">)</a> <a id="33386" class="Symbol">(</a><a id="33387" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32935" class="Bound">g&#39;₂</a> <a id="33391" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#3734" class="Function Operator">∘</a> <a id="33393" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32907" class="Bound">g&#39;₁</a><a id="33396" class="Symbol">)</a>
    <a id="33402" class="Comment">-- Exercise:</a>
    <a id="33419" class="Comment">-- fro-to a = g&#39;₂ (g&#39;₁ (f₁ (f₂ a))) ≡⟨ {!!} ⟩</a>
    <a id="33469" class="Comment">--            g&#39;₂          (f₂ a)   ≡⟨ {!!} ⟩</a>
    <a id="33519" class="Comment">--                             a    ∎</a>
    <a id="33561" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33357" class="Function">fro-to</a> <a id="33568" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33568" class="Bound">a</a> <a id="33570" class="Symbol">=</a> <a id="33572" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32935" class="Bound">g&#39;₂</a> <a id="33576" class="Symbol">(</a><a id="33577" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32907" class="Bound">g&#39;₁</a> <a id="33581" class="Symbol">(</a><a id="33582" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32898" class="Bound">f₁</a> <a id="33585" class="Symbol">(</a><a id="33586" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32926" class="Bound">f₂</a> <a id="33589" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33568" class="Bound">a</a><a id="33590" class="Symbol">)))</a> <a id="33594" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">≡⟨</a> <a id="33597" href="2--Paths-and-Identifications.2-1--Paths.html#16985" class="Function">ap</a> <a id="33600" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32935" class="Bound">g&#39;₂</a> <a id="33604" class="Symbol">(</a><a id="33605" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32911" class="Bound">r₁</a> <a id="33608" class="Symbol">(</a><a id="33609" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32926" class="Bound">f₂</a> <a id="33612" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33568" class="Bound">a</a><a id="33613" class="Symbol">))</a> <a id="33616" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">⟩</a>
               <a id="33633" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32935" class="Bound">g&#39;₂</a>          <a id="33646" class="Symbol">(</a><a id="33647" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32926" class="Bound">f₂</a> <a id="33650" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33568" class="Bound">a</a><a id="33651" class="Symbol">)</a>   <a id="33655" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">≡⟨</a> <a id="33658" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32939" class="Bound">r₂</a> <a id="33661" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33568" class="Bound">a</a> <a id="33663" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">⟩</a>
                                <a id="33697" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33568" class="Bound">a</a>    <a id="33702" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30715" class="Function Operator">∎</a>

</pre>-->
<pre class="Agda">
<a id="_∘e_"></a><a id="33718" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33718" class="Function Operator">_∘e_</a> <a id="33723" class="Symbol">:</a> <a id="33725" class="Symbol">(</a><a id="33726" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#571" class="Generalizable">B</a> <a id="33728" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="33730" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#573" class="Generalizable">C</a><a id="33731" class="Symbol">)</a> <a id="33733" class="Symbol">→</a> <a id="33735" class="Symbol">(</a><a id="33736" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a> <a id="33738" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="33740" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#571" class="Generalizable">B</a><a id="33741" class="Symbol">)</a> <a id="33743" class="Symbol">→</a> <a id="33745" class="Symbol">(</a><a id="33746" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a> <a id="33748" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="33750" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#573" class="Generalizable">C</a><a id="33751" class="Symbol">)</a>
<a id="33753" class="Symbol">(</a><a id="33754" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33754" class="Bound">e₁</a> <a id="33757" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33718" class="Function Operator">∘e</a> <a id="33760" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33760" class="Bound">e₂</a><a id="33762" class="Symbol">)</a> <a id="33764" class="Symbol">.</a><a id="33765" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5810" class="Field">map</a> <a id="33769" class="Symbol">=</a> <a id="33771" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33754" class="Bound">e₁</a> <a id="33774" class="Symbol">.</a><a id="33775" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5810" class="Field">map</a> <a id="33779" href="1--Type-Theory.1-3--Universes-and-More-Inductive-Types.html#3734" class="Function Operator">∘</a> <a id="33781" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33760" class="Bound">e₂</a> <a id="33784" class="Symbol">.</a><a id="33785" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5810" class="Field">map</a>
<a id="33789" class="Symbol">(</a><a id="33790" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33790" class="Bound">e₁</a> <a id="33793" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33718" class="Function Operator">∘e</a> <a id="33796" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33796" class="Bound">e₂</a><a id="33798" class="Symbol">)</a> <a id="33800" class="Symbol">.</a><a id="33801" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5826" class="Field">proof</a> <a id="33807" class="Symbol">=</a> <a id="33809" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#32809" class="Function">∘-isEquiv</a> <a id="33819" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33790" class="Bound">e₁</a> <a id="33822" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33796" class="Bound">e₂</a>

<a id="33826" class="Keyword">infixr</a> <a id="33833" class="Number">9</a> <a id="33835" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33718" class="Function Operator">_∘e_</a>
</pre>
<p>Just as we did for paths, we’ll throw in some syntax for chaining
equivalences together.</p>
<pre class="Agda"><a id="_≃⟨_⟩_"></a><a id="33939" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33939" class="Function Operator">_≃⟨_⟩_</a> <a id="33946" class="Symbol">:</a> <a id="33948" class="Symbol">{</a><a id="33949" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33949" class="Bound">B</a> <a id="33951" class="Symbol">:</a> <a id="33953" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="33958" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#550" class="Generalizable">ℓ&#39;</a><a id="33960" class="Symbol">}</a> <a id="33962" class="Symbol">{</a><a id="33963" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33963" class="Bound">C</a> <a id="33965" class="Symbol">:</a> <a id="33967" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="33972" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#553" class="Generalizable">ℓ&#39;&#39;</a><a id="33975" class="Symbol">}</a> <a id="33977" class="Symbol">(</a><a id="33978" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33978" class="Bound">X</a> <a id="33980" class="Symbol">:</a> <a id="33982" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="33987" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#548" class="Generalizable">ℓ</a><a id="33988" class="Symbol">)</a> <a id="33990" class="Symbol">→</a> <a id="33992" class="Symbol">(</a><a id="33993" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33978" class="Bound">X</a> <a id="33995" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="33997" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33949" class="Bound">B</a><a id="33998" class="Symbol">)</a> <a id="34000" class="Symbol">→</a> <a id="34002" class="Symbol">(</a><a id="34003" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33949" class="Bound">B</a> <a id="34005" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="34007" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33963" class="Bound">C</a><a id="34008" class="Symbol">)</a> <a id="34010" class="Symbol">→</a> <a id="34012" class="Symbol">(</a><a id="34013" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33978" class="Bound">X</a> <a id="34015" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="34017" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33963" class="Bound">C</a><a id="34018" class="Symbol">)</a>
<a id="34020" class="Symbol">_</a> <a id="34022" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33939" class="Function Operator">≃⟨</a> <a id="34025" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34025" class="Bound">f</a> <a id="34027" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33939" class="Function Operator">⟩</a> <a id="34029" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34029" class="Bound">g</a> <a id="34031" class="Symbol">=</a> <a id="34033" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34029" class="Bound">g</a> <a id="34035" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33718" class="Function Operator">∘e</a> <a id="34038" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34025" class="Bound">f</a>

<a id="_∎e"></a><a id="34041" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34041" class="Function Operator">_∎e</a> <a id="34045" class="Symbol">:</a> <a id="34047" class="Symbol">(</a><a id="34048" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34048" class="Bound">X</a> <a id="34050" class="Symbol">:</a> <a id="34052" href="Library.Primitive.html#422" class="Primitive">Type</a> <a id="34057" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#548" class="Generalizable">ℓ</a><a id="34058" class="Symbol">)</a> <a id="34060" class="Symbol">→</a> <a id="34062" class="Symbol">(</a><a id="34063" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34048" class="Bound">X</a> <a id="34065" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="34067" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34048" class="Bound">X</a><a id="34068" class="Symbol">)</a>
<a id="34070" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34041" class="Function Operator">_∎e</a> <a id="34074" class="Symbol">=</a> <a id="34076" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#8879" class="Function">idEquiv</a>

<a id="34085" class="Keyword">infixr</a>  <a id="34093" class="Number">0</a> <a id="34095" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#33939" class="Function Operator">_≃⟨_⟩_</a>
<a id="34102" class="Keyword">infix</a>   <a id="34110" class="Number">1</a> <a id="34112" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34041" class="Function Operator">_∎e</a>
</pre>
<p>Composition of paths is also enough to let us invert equivalences. The first
step is showing that in the data of an equivalence, the section and
retract functions are in fact equal. Again, we’ll explain in
Lecture 2-X why we need to have two different functions in the first
place!</p>
<pre class="Agda"><a id="sec≡ret"></a><a id="34408" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34408" class="Function">sec≡ret</a> <a id="34416" class="Symbol">:</a> <a id="34418" class="Symbol">(</a><a id="34419" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34419" class="Bound">e</a> <a id="34421" class="Symbol">:</a> <a id="34423" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a> <a id="34425" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="34427" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#571" class="Generalizable">B</a><a id="34428" class="Symbol">)</a> <a id="34430" class="Symbol">→</a> <a id="34432" class="Symbol">(</a><a id="34433" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34433" class="Bound">b</a> <a id="34435" class="Symbol">:</a> <a id="34437" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#571" class="Generalizable">B</a><a id="34438" class="Symbol">)</a> 
  <a id="34443" class="Symbol">→</a> <a id="34445" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34419" class="Bound">e</a> <a id="34447" class="Symbol">.</a><a id="34448" class="Field">proof</a> <a id="34454" class="Symbol">.</a><a id="34455" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5642" class="Field">section</a> <a id="34463" class="Symbol">.</a><a id="34464" class="Field">map</a> <a id="34468" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34433" class="Bound">b</a> <a id="34470" href="Library.Prelude.html#2004" class="Function Operator">≡</a> <a id="34472" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34419" class="Bound">e</a> <a id="34474" class="Symbol">.</a><a id="34475" class="Field">proof</a> <a id="34481" class="Symbol">.</a><a id="34482" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5668" class="Field">retract</a> <a id="34490" class="Symbol">.</a><a id="34491" class="Field">map</a> <a id="34495" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34433" class="Bound">b</a>
<a id="34497" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34408" class="Function">sec≡ret</a> <a id="34505" class="Symbol">(</a><a id="34506" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#6301" class="InductiveConstructor">packEquiv</a> <a id="34516" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34516" class="Bound">f</a> <a id="34518" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34518" class="Bound">g</a> <a id="34520" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34520" class="Bound">s</a> <a id="34522" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34522" class="Bound">g&#39;</a> <a id="34525" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34525" class="Bound">r</a><a id="34526" class="Symbol">)</a> <a id="34528" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34528" class="Bound">b</a> <a id="34530" class="Symbol">=</a>
  <a id="34534" class="Comment">-- Exercise:</a>
  <a id="34549" class="Comment">--        g b   ≡⟨ {!!} ⟩</a>
  <a id="34577" class="Comment">-- g&#39; (f (g b)) ≡⟨ {!!} ⟩</a>
  <a id="34605" class="Comment">-- g&#39; b         ∎</a>
</pre><!--
<pre class="Agda">         <a id="34645" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34518" class="Bound">g</a> <a id="34647" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34528" class="Bound">b</a>   <a id="34651" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">≡⟨</a> <a id="34654" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#22252" class="Function">sym</a> <a id="34658" class="Symbol">(</a><a id="34659" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34525" class="Bound">r</a> <a id="34661" class="Symbol">(</a><a id="34662" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34518" class="Bound">g</a> <a id="34664" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34528" class="Bound">b</a><a id="34665" class="Symbol">))</a> <a id="34668" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">⟩</a>
  <a id="34672" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34522" class="Bound">g&#39;</a> <a id="34675" class="Symbol">(</a><a id="34676" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34516" class="Bound">f</a> <a id="34678" class="Symbol">(</a><a id="34679" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34518" class="Bound">g</a> <a id="34681" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34528" class="Bound">b</a><a id="34682" class="Symbol">))</a> <a id="34685" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">≡⟨</a> <a id="34688" href="2--Paths-and-Identifications.2-1--Paths.html#16985" class="Function">ap</a> <a id="34691" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34522" class="Bound">g&#39;</a> <a id="34694" class="Symbol">(</a><a id="34695" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34520" class="Bound">s</a> <a id="34697" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34528" class="Bound">b</a><a id="34698" class="Symbol">)</a> <a id="34700" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">⟩</a>
  <a id="34704" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34522" class="Bound">g&#39;</a> <a id="34707" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34528" class="Bound">b</a>         <a id="34717" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30715" class="Function Operator">∎</a>

</pre>-->
<p>Then, we take the original section as our new function <code>B → A</code> and use
the original <code>f : A → B</code> as both its section and retract. Showing that
it is a retract is easy: for that we have exactly the original section
proof. Showing that it is a section will require a use of <code class="Agda"><a href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34408" class="Function">sec≡ret</a></code>.</p>
<pre class="Agda"><a id="invEquiv"></a><a id="35026" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35026" class="Function">invEquiv</a> <a id="35035" class="Symbol">:</a> <a id="35037" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a> <a id="35039" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="35041" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#571" class="Generalizable">B</a> <a id="35043" class="Symbol">→</a> <a id="35045" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#571" class="Generalizable">B</a> <a id="35047" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#5998" class="Function Operator">≃</a> <a id="35049" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#569" class="Generalizable">A</a>
<a id="35051" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35026" class="Function">invEquiv</a> <a id="35060" class="Symbol">(</a><a id="35061" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#6301" class="InductiveConstructor">packEquiv</a> <a id="35071" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35071" class="Bound">f</a> <a id="35073" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35073" class="Bound">g</a> <a id="35075" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35075" class="Bound">s</a> <a id="35077" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35077" class="Bound">g&#39;</a> <a id="35080" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35080" class="Bound">r</a><a id="35081" class="Symbol">)</a> <a id="35083" class="Symbol">=</a> <a id="35085" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#7262" class="Function">inv→equiv</a> <a id="35095" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35073" class="Bound">g</a> <a id="35097" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35071" class="Bound">f</a> <a id="35099" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35126" class="Function">newIsSection</a> <a id="35112" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35075" class="Bound">s</a>
  <a id="35116" class="Keyword">where</a>
    <a id="35126" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35126" class="Function">newIsSection</a> <a id="35139" class="Symbol">:</a> <a id="35141" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#1688" class="Function">isSection</a> <a id="35151" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35073" class="Bound">g</a> <a id="35153" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35071" class="Bound">f</a>
    <a id="35159" class="Comment">-- Exercise:</a>
    <a id="35176" class="Comment">-- newIsSection a = {!!}</a>
</pre><!--
<pre class="Agda">    <a id="35218" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35126" class="Function">newIsSection</a> <a id="35231" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35231" class="Bound">a</a> <a id="35233" class="Symbol">=</a> <a id="35235" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35073" class="Bound">g</a>  <a id="35238" class="Symbol">(</a><a id="35239" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35071" class="Bound">f</a> <a id="35241" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35231" class="Bound">a</a><a id="35242" class="Symbol">)</a> <a id="35244" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">≡⟨</a> <a id="35247" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#34408" class="Function">sec≡ret</a> <a id="35255" class="Symbol">(</a><a id="35256" href="2--Paths-and-Identifications.2-2--Equivalences-and-Path-Algebra.html#6301" class="InductiveConstructor">packEquiv</a> <a id="35266" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35071" class="Bound">f</a> <a id="35268" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35073" class="Bound">g</a> <a id="35270" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35075" class="Bound">s</a> <a id="35272" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35077" class="Bound">g&#39;</a> <a id="35275" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35080" class="Bound">r</a><a id="35276" class="Symbol">)</a> <a id="35278" class="Symbol">(</a><a id="35279" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35071" class="Bound">f</a> <a id="35281" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35231" class="Bound">a</a><a id="35282" class="Symbol">)</a> <a id="35284" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">⟩</a>
                     <a id="35307" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35077" class="Bound">g&#39;</a> <a id="35310" class="Symbol">(</a><a id="35311" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35071" class="Bound">f</a> <a id="35313" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35231" class="Bound">a</a><a id="35314" class="Symbol">)</a> <a id="35316" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">≡⟨</a> <a id="35319" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35080" class="Bound">r</a> <a id="35321" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35231" class="Bound">a</a> <a id="35323" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30618" class="Function">⟩</a>
                           <a id="35352" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#35231" class="Bound">a</a>  <a id="35355" href="2--Paths-and-Identifications.2-4--Composition-and-Filling.html#30715" class="Function Operator">∎</a>

</pre>-->
<h2 id="references-and-further-reading"><a class="header" href="#references-and-further-reading">References and Further Reading</a></h2>
<p>https://agda.readthedocs.io/en/latest/language/sort-system.html</p>

                  </main>
                  <div class="sidetoc">
                    <nav class="pagetoc"></nav>
                  </div>
                </div>
            </div>
        </div>



        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="theme/pagetoc.js"></script>


    </div>
    </body>
</html>
