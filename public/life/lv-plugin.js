window.h||(window.h=!0,function(){function Ia(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent("on"+b,c)}function oc(a,b,c){this.dataType=a;this.name=c;this.elements=b;this.size=b*pa.Zn(a);this.Gn=1}function fb(){this.i=[];this.cm=this.Yo=this.bm=this.Xo=0}function kb(a,b,c,d,f){this.C=f;this.M=a;this.O=b;this.Y=c;this.message="";this.D=a;this.I=b;this.W=c;this.i="";this.u=this.s=!1;this.h=d;this.R=!1;this.L=this.startTime=0;this.m="rgb(32,255,255)";this.v="white";this.l=0;this.A=
!1;this.ca=this.X="black";this.T=!1;this.o=1}function pc(a,b,c,d){this.name=a;this.width=b;this.height=c;this.Gn=d}function sb(a,b){this.m=b;this.v=a;this.height=this.width=0;this.D=this.B=this.l=this.i=null;this.u=[];this.o=!0;this.I=this.M=4294967295;this.L=this.O=0;this.oe=!1;this.s=1}function Wa(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,w,y,v){this.id=a;this.sa=v;this.S=null;this.I=-1;this.G=this.ga=!1;this.oc=b;this.caller=c;this.h=y;this.x=f;this.y=e;this.ka=f;this.R=e;this.position=d;this.width=g;this.height=
k;this.O=g;this.oa=k;this.type=q;this.orientation=m;m===ba.cs&&(this.orientation=g>=k?ba.ne:ba.vertical);this.V=this.orientation;this.i=l;this.u=p;q===ba.Rl?this.current=[n,n]:this.current=n;this.ua=r;this.tb=u;this.ta=t;this.ca=w;this.ha=!1;this.na=this.ma=-1;this.l=ba.Gx;this.B=!0;this.L=this.locked=!1;this.o=[];if(this.type===ba.list)for(a=0;a<l.length;a+=1)this.o[a]=!1;this.Z=[];this.ja=0;this.jc=v.jc;this.v=v.$;if(q===ba.list)for(this.M=[],a=0;a<l.length;a+=1)this.M[a]=this.jc;this.A=v.fa;this.X=
v.R;this.Y=v.ga;this.da=v.qa;this.la=v.ja;this.qa=v.sa;this.D=v.ha;this.T=v.ra;this.W=v.ca;this.$=v.pa;this.border=v.border;this.fontSize=parseInt(v.W.substring(0,v.W.indexOf("px")),10);this.pa=v.W.substring(v.W.indexOf("px")+3)}function Va(a,b,c,d,f,e){this.U=a;this.h=f;this.D=this.s=1;this.W=e;this.locked=this.G=!1;this.B=this.v=-1;this.da=this.A=!1;this.va=this.ua=-1;this.xa=6;this.oc=b;this.u=[];this.o=0;this.jc="";this.$=0;this.fa="";this.R=0;this.ga="";this.qa=0;this.ja="";this.sa=0;this.ha=
"";this.ra=0;this.ca="";this.border=this.pa=0;this.V=ba.cs;this.M=this.L=-1;this.O=this.oa=null;this.Y=c;this.caller=d;this.X=null;this.la=this.ka=this.ta="auto"}function Ja(a,b,c,d,f,e){var g=this,k=0;this.xa=1;this.la=60;this.Ea=this.La=!0;this.Ja=this.Ka=40;this.s=0;this.ha=this.ja=this.pa=-1;this.M=!1;this.caller=f;this.ma=this.L=this.Qa=this.V=!1;this.Ta=4;this.fb=e;this.l=this.Z=!1;this.Y=!0;this.qa=!1;this.A=1;this.oa=8;this.Da="rgb(32,255,255)";this.jc="black";this.ra=.7;this.Ba="#000000";
this.u="white";this.jb=1;this.bb=this.cb=this.eb=0;this.Pa="rgb(0,240,32)";this.mb=.7;this.wa="blue";this.vb=.7;this.R="grey";this.ub=1;this.sa="rgb(32,255,255)";this.border=this.Oa=1;this.Xa=function(l){return function(){l.Wb(l)}}(this);this.nb=d;this.T=a;this.m=b;this.X=!1;this.I=this.D=-1;this.o=!1;this.O=-1;this.h=null;this.ka=c;this.B=this.v=!1;this.va=performance.now();this.ga=0;this.Fa=[];this.Ha=[];this.ua=[];for(k=0;5>k;k+=1)this.Fa[k]=0,this.Ha[k]=0,this.ua[k]=0;this.$=null;this.i=!1;this.notification=
new kb(25,100,25,b,this);this.notification.m=this.u;this.notification.v=this.u;this.Ga=performance.now();this.ta=this.Na=!1;this.fa=[];this.W=this.ca=0;Ia(a,"mousedown",function(l){g.Jb(g,l)},!1);Ia(a,"mousemove",function(l){g.Kb(g,l)},!1);Ia(a,"mouseup",function(l){g.Qb(g,l)},!1);Ia(a,"mouseover",function(l){g.Pb(g,l)},!1);Ia(a,"mouseout",function(l){g.Nb(g,l)},!1);Ia(a,"touchstart",function(l){g.na(g,l)},!1);Ia(a,"touchmove",function(l){g.na(g,l)},!1);Ia(a,"touchend",function(l){g.na(g,l)},!1);
Ia(a,"touchcancel",function(l){g.na(g,l)},!1);this.ib()}function fc(a,b,c,d,f,e){this.bo=a;this.co=b;this.width=c;this.height=d;this.WF=f;this.cD=e}function va(){this.time=0;this.$=this.Pa=!1;this.ec="none";this.Qa=22;this.Ta=6;this.ya=8;this.P="";this.Pb="0123456789xyz";this.Nb="0123";this.Qb="0123456789";this.Gc=this.Fc="0123456";this.Ec="0123456789";this.Hc="0123";this.Yd=1038;this.ge=7157;this.Zd=5454;this.ee=2741;this.Xd=3775;this.fe=4420;this.he="0123";this.Bc="0123456omp-";this.Cc="01234";
this.vc=["ce","ceaikn","ceaiknjqry","ceaiknjqrytwz"];this.Md=[[[6,36,160,192,72,10],[132,96,136,66,12,34],[68,40,130]],[[38,164,224,200,74,14],[44,162,196,104,138,70,100,168,194,76,42,134],[140,98]],[[166,228,232,202,78,46],[172,226,204,106,142,102],[108,170,198]]];this.ib=" ce ceaikn ceaiknjqry ceaiknjqrytwz ceaiknjqry ceaikn ce ".split(" ");this.hb="  omp omp omp  ".split(" ");this.Fd=[0,2,6,10,13,10,6,2,0];this.Jd=[[0],[0,1],[2,0,1,3,4,5],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,6,4,5,7,8,10,11,9,12],[2,
0,1,3,6,4,5,7,8,9],[2,0,1,3,4,5],[0,1],[0]];this.Nd=[[1,2],[5,10,3,40,33,68],[69,42,11,7,98,13,14,70,41,97],[325,170,15,45,99,71,106,102,43,101,105,78,108]];this.Z=new Uint32Array(256);this.Kb=new Uint8Array(8192);this.Jb=new Uint8Array(8192);this.o=new Uint8Array(512);this.sa=new Uint8Array(512);this.Wd=new Uint16Array(512);this.jj=this.ab=!1;this.Fa="l";this.Ea="le";this.Ga="lv";this.eb="li";this.fb="lo";this.cb="lb";this.gb="lr";this.Oa="h";this.Hb="ht";this.jb="v";this.Ja=!1;this.Eb=0;this.mb=
!1;this.Xa=this.Wa=0;this.Ha=!1;this.i=this.Ua=this.Va=this.h=0;this.m=1;this.X=2;this.R=3;this.V=4;this.W=5;this.Y=6;this.I=7;this.O=8;this.T=9;this.B=11;this.u=12;this.L=13;this.v=14;this.s=16;this.M=17;this.la=this.ma=-999999;this.fa=0;this.ja=1;this.ka=2;this.ua=3;this.va=4;this.ta=5;this.wa=6;this.pa=0;this.qa=1;this.ca=!1;this.ga=[];this.ga[Aa.Ai]="vonneumann";this.ga[Aa.wg]="moore";this.ga[Aa.vg]="hexagonal";this.ga[Aa.yj]="onedimensional";this.Aa=[];this.Aa[Aa.Ai]=5;this.Aa[Aa.wg]=9;this.Aa[Aa.vg]=
7;this.Aa[Aa.yj]=3;this.ha=[];this.ha[Aa.Ai]=["none","rotate4","rotate4reflect","reflect_horizontal","permute"];this.ha[Aa.wg]="none rotate4 rotate8 rotate4reflect rotate8reflect reflect_horizontal permute".split(" ");this.ha[Aa.vg]="none rotate2 rotate3 rotate6 rotate6reflect permute".split(" ");this.ha[Aa.yj]=["none","reflect","permute"];this.Ba=[];this.Ba[Aa.Ai]=[[[0,1,2,3,4,5],[0,2,3,4,1,5],[0,3,4,1,2,5],[0,4,1,2,3,5]],[[0,1,2,3,4,5],[0,2,3,4,1,5],[0,3,4,1,2,5],[0,4,1,2,3,5],[0,4,3,2,1,5],[0,
3,2,1,4,5],[0,2,1,4,3,5],[0,1,4,3,2,5]],[[0,1,2,3,4,5],[0,1,4,3,2,5]]];this.Ba[Aa.wg]=[[[0,1,2,3,4,5,6,7,8,9],[0,3,4,5,6,7,8,1,2,9],[0,5,6,7,8,1,2,3,4,9],[0,7,8,1,2,3,4,5,6,9]],[[0,1,2,3,4,5,6,7,8,9],[0,2,3,4,5,6,7,8,1,9],[0,3,4,5,6,7,8,1,2,9],[0,4,5,6,7,8,1,2,3,9],[0,5,6,7,8,1,2,3,4,9],[0,6,7,8,1,2,3,4,5,9],[0,7,8,1,2,3,4,5,6,9],[0,8,1,2,3,4,5,6,7,9]],[[0,1,2,3,4,5,6,7,8,9],[0,3,4,5,6,7,8,1,2,9],[0,5,6,7,8,1,2,3,4,9],[0,7,8,1,2,3,4,5,6,9],[0,1,8,7,6,5,4,3,2,9],[0,7,6,5,4,3,2,1,8,9],[0,5,4,3,2,1,
8,7,6,9],[0,3,2,1,8,7,6,5,4,9]],[[0,1,2,3,4,5,6,7,8,9],[0,2,3,4,5,6,7,8,1,9],[0,3,4,5,6,7,8,1,2,9],[0,4,5,6,7,8,1,2,3,9],[0,5,6,7,8,1,2,3,4,9],[0,6,7,8,1,2,3,4,5,9],[0,7,8,1,2,3,4,5,6,9],[0,8,1,2,3,4,5,6,7,9],[0,8,7,6,5,4,3,2,1,9],[0,7,6,5,4,3,2,1,8,9],[0,6,5,4,3,2,1,8,7,9],[0,5,4,3,2,1,8,7,6,9],[0,4,3,2,1,8,7,6,5,9],[0,3,2,1,8,7,6,5,4,9],[0,2,1,8,7,6,5,4,3,9],[0,1,8,7,6,5,4,3,2,9]],[[0,1,2,3,4,5,6,7,8,9],[0,1,8,7,6,5,4,3,2,9]]];this.Ba[Aa.yj]=[[[0,1,2,3],[0,2,1,3]]];this.Ba[Aa.vg]=[[[0,1,2,3,4,5,
6,7],[0,4,5,6,1,2,3,7]],[[0,1,2,3,4,5,6,7],[0,3,4,5,6,1,2,7],[0,5,6,1,2,3,4,7]],[[0,1,2,3,4,5,6,7],[0,2,3,4,5,6,1,7],[0,3,4,5,6,1,2,7],[0,4,5,6,1,2,3,7],[0,5,6,1,2,3,4,7],[0,6,1,2,3,4,5,7]],[[0,1,2,3,4,5,6,7],[0,2,3,4,5,6,1,7],[0,3,4,5,6,1,2,7],[0,4,5,6,1,2,3,7],[0,5,6,1,2,3,4,7],[0,6,1,2,3,4,5,7],[0,6,5,4,3,2,1,7],[0,5,4,3,2,1,6,7],[0,4,3,2,1,6,5,7],[0,3,2,1,6,5,4,7],[0,2,1,6,5,4,3,7],[0,1,6,5,4,3,2,7]]];this.D=!1;this.Za=""}function jb(a,b){this.N=null;this.U=b;this.Va="";this.nb=!1;this.Wa=this.Xa=
this.Qa=-1;b=a.lastIndexOf(".");-1!==b&&(a=a.substring(0,b));this.name=a;this.Ha=this.Aa=0;this.ca=this.I=this.l=-1;this.Da=this.Ba=0;this.Ib=this.Eb=!1;this.Hb=!0;this.Ua=this.M=this.h=this.Ga="";this.ia=this.Oa=this.$=this.L=this.O=this.ga=this.ka=this.fa=!1;this.pa=this.U.pa;this.o=!1;this.W=this.U.fa;this.oa=-1;this.X=this.ja=!1;this.A=-1;this.ta=1;this.ma=this.Pb=this.Qb=this.Rb=this.Tb=this.da=this.V=this.Y=this.D=-1;this.zA=this.Ia=!1;this.v=-1;this.Na=this.La=this.T=this.B=null;this.i=this.m=
-1;this.wa=this.va=1;this.ha="";this.na=-1;this.Z="";this.vb=this.ub=null;this.height=this.width=0;this.la=this.R=null;this.ua=this.u=this.title="";this.Nb=[];this.mb=[];this.jb=[];this.bb="";this.s=2;this.Pa=0;this.Ea=this.sa=!1;this.Jb=this.Ub="";this.ra=-1;this.Kb=!1;this.ya=this.Ta=this.fb=this.ib=this.gb=-1;this.qa=this.Ka=null;this.Ja=this.hb=0;this.Fa=this.cb=this.eb=null;this.Za=[];this.xa=null}function Oa(a,b,c,d){this.F=a;this.H=b;this.J=c;this.K=d}function lb(a,b,c){this.s=b;this.l=a.s[b];
this.m=a.m[b];this.o=a.o[b];this.O=a.B[b];this.L=a.A[b];this.u=null;c&&(this.u=a.u[b]);this.i=new Oa(0,0,0,0);this.h=new Oa(0,0,0,0);this.D=this.A=this.M=this.counter=this.B=this.v=this.I=0;this.U=a}function db(a,b){this.N=a;this.h=[];this.l=[];this.s=[];this.m=[];this.o=[];this.B=[];this.A=[];this.u=[];this.D=0;this.i=-1;this.I=b;this.v=null}function Ea(a,b,c){this.N=a;this.g=b;this.U=c;this.l=this.o=1;this.X=2;this.B=a.h(pa.Ma,0,"HROT.births");this.v=a.h(pa.Ma,0,"HROT.survivals");this.$=a.h(pa.Ma,
0,"HROT.altBirths");this.ca=a.h(pa.Ma,0,"HROT.altSurvivals");this.type=c.i;this.Ll=Array.matrix(pa.Ma,1,1,0,a,"HROT.neighbourhood");this.ga=a.h(pa.Ao,0,"HROT.neighbourList");this.h=Array.matrix(pa.Hd,1,1,0,a,"HROT.counts");this.I=a.h(pa.hc,0,"HROT.widths");this.la=a.h(pa.Ma,0,"HROT.colUsed");this.s=a.h(pa.tp,0,"HROT.weightedNeighbourhood");this.A=null;this.Y=this.Z=-1;this.fa=this.u=this.m=this.R=0;this.ma=!1;this.L="";this.na=-1;this.D=!1;this.O=new tb;this.O.oe(Date.now().toString());this.W=a.h(pa.Zc,
0,"HROT.birthChances");this.T=a.h(pa.Zc,0,"HROT.suvivalChances");this.M=a.h(pa.Zc,0,"HROT.immunityChances");this.V=!1;this.ha=this.ka=this.ja=-1}function gc(a,b){this.i=a;this.h=b}function Ma(a,b,c,d,f,e,g,k,l){this.name=a;this.Vj=!1;this.A=10;this.s=this.o=0;this.u=d;this.l=c;this.h=b;this.v=f;this.m=e;this.i=g;this.D=k;this.I=!1;this.B=l;-1===this.m.i.h&&(this.I=!0);128<=(this.u.h+this.u.l+this.u.i)/3?(this.o=H.KD,this.s=H.JD):(this.o=H.Rs,this.s=H.Qs)}function T(a,b,c){this.h=a;this.l=b;this.i=
c}function ua(a,b){this.h=a;this.i=b}function ra(a,b,c,d,f,e,g){this.U=e;this.view=g;this.Th=!1;this.Od=this.ff=null;this.fd=document.createElement("canvas");this.fd.width=1;this.fd.height=1;this.vf=this.fd.getContext("2d");this.wf=new Image;this.Jc=[];this.Oi=0;this.Rg=8;this.cc=0;this.bh=this.dh="";this.ij=!1;this.Wc=this.cb=0;this.Zh=10;this.Yh="";this.ah=this.Tf=this.Cf=0;this.he=null;this.Qd=this.gd=0;this.Oa=null;this.kj=this.lj=this.vi=this.Bi=this.Yf=0;this.nj=!0;this.N=new fb;this.Ce=[];
this.Vb=!1;this.Vg=!0;this.Hc=!1;this.Mj=this.Uh=this.Wh=this.Vh=this.Hg=this.ag=this.Zf=this.pd=null;this.mh=new tb;this.mh.oe(Date.now().toString());this.o=!1;this.yd=8;this.nh=2;this.Mi=0;this.Jf=-1;this.zc=this.Qc=this.Ne=this.Le=null;this.xd=[];this.Pb=null;this.lg=this.Pc=this.wd=0;this.Me=!1;this.Ae=this.lc=this.hf=this.fi=this.Of=null;this.wc=this.qf=0;this.ze=this.Jg=null;this.If=this.Lc=-1;this.Ff=this.Xf=this.Wd=null;this.cd=!0;this.hd=this.Wb=this.eb=this.wb=this.Za=!1;this.Wf=0;this.jh=
[];this.Eh=[];this.Gh=[];this.bi=[];this.Ah=[];this.Bh=[];this.Ch=[];this.Dh=[];this.ji=[];this.ki=[];this.li=[];this.mi=[];this.ci=[];this.di=[];this.ei=[];this.gi=[];this.ef=[];this.kh=this.lh="";this.pc=255;this.Zb=null;this.kc=this.N.h(pa.Ma,65536,"Life.bitCounts16");this.En();this.zf=this.cf=this.Mc=null;this.qa=this.Aa=this.od=this.Sf=this.fh=this.Uf=this.Gf=0;this.Ha=1;this.M=this.O=this.D=-1;this.Nd=this.Md=0;this.Pg=this.Kf=!1;this.Lf=!0;this.De=H.by;this.Ib=[];this.Jb=[];this.Ib[0]=this.N.h(pa.Hd,
I.Sl,"Life.boundaryX0");this.Jb[0]=this.N.h(pa.Hd,I.Sl,"Life.boundaryY0");this.Bd=0;this.Ld=4294967295;this.sg="rgb(255,255,255)";this.fe=4286611584;this.Ii="rgb(0,255,0)";this.zi="rgb(255,0,0)";this.ng="rgb(255,255,0)";this.Ji="rgb(255,128,0)";this.l=this.Z=this.ha=!1;this.Jd=-1;this.W=!1;this.mg=this.U.fa;this.ia=!1;this.kg=this.U.pa;this.bd=this.gh=this.ua=!1;this.h=-1;this.B=this.m=this.I=!1;this.jg=this.u=0;this.tc=this.Ia=!1;this.Cc=new db(this.N,this.kc);this.Te=I.fp;this.Wa=this.Ka=!1;this.Xh=
this.mc=this.ya=this.A=null;this.pg=new Oa(0,0,0,0);this.oi=new Oa(0,0,0,0);this.ib=null;this.Ij=new Oa(0,0,0,0);this.Jj=new Oa(0,0,0,0);this.width=d;this.height=f;this.Y=this.width>>4;this.ca=this.height>>4;this.Li=null;this.ea=b;this.aa=c;this.fa=this.oa=this.s=0;this.Ya=I.Ya;this.$f=I.$f;this.me=I.me;this.Hh=I.Hh;this.za=1;this.Xb=-1;this.re=1;this.se=30;this.Gb=this.angle=this.counter=this.ee=this.Hb=0;this.zoom=6;this.da=this.ga=0;this.Ub=.1;this.sa=0;this.$=1;this.Rb=this.Qb=0;this.ta=.1;this.Ac=
La.Ac;this.pa=[];this.ad=this.Xe=this.ae=this.Cd=this.Oe=this.Gd=this.zd=this.Kc=this.Be=this.rf=this.we=this.be=this.bf=this.Zd=this.Kd=this.Rc=null;this.jb=-1;this.Vf=this.Uc=this.Nc=this.gn=null;this.ma=a;this.wa=this.xa=0;this.Pa=this.Qa=this.va=this.Gc=this.grid=this.V=this.L=null;this.ph=this.N.h(pa.hc,this.ea,"Life.blankPixelRow");this.df=this.N.h(pa.Ma,(this.width-1>>3)+1,"Life.blankRow");this.dd=this.N.h(pa.Ca,(this.width-1>>4)+1,"Life.blankRow16");this.La=this.N.h(pa.Ca,this.Y>>4,"Life.blankTileRow");
this.na=this.N.h(pa.Ma,this.width,"Life.blankColourRow");this.Bc=this.rd=this.Vc=this.yc=this.v=this.ra=this.Fd=this.Ue=this.Xa=this.Ba=this.Da=this.$d=this.Fa=this.X=this.i=null;this.la=this.N.h(pa.Ma,256,"Life.redChannel");this.ka=this.N.h(pa.Ma,256,"Life.greenChannel");this.ja=this.N.h(pa.Ma,256,"Life.blueChannel");this.fb=this.N.h(pa.hc,256,"Life.pixelColours");this.Ee=this.Ga=null;this.Yd=0;this.Yb=!1;this.Ve=0;this.hb=-1;this.Vd=this.bb=this.Re=this.Ud=this.eh=this.Qf=this.Bf=this.Pf=null;this.Pe=
this.N.h(pa.Ca,2*(this.$f+1)<<8,"Life.colourLookup");this.Qi=this.N.h(pa.Ma,2048,"Life.colourReset");this.nb=H.Rs;this.Dd=-1;this.vc=H.Qs;this.Td=-1;this.Ua=10;this.Tc=!0;this.vk=10;this.mf=this.xf=this.Va=this.Ja=null;this.T=8192;this.Cl=[0,0,48];this.zl=[255,255,255];this.xl=[255,255,255];this.El=[0,255,0];this.Hl=[255,0,0];this.ld=[0,0,48];this.kd=[255,255,255];this.jd=[255,255,255];this.md=[0,255,0];this.nd=[255,0,0];this.R=new Ea(this.N,this,e);this.coords=this.N.h(pa.Zc,1,"Life.coords");this.Tb=
this.N.h(pa.hc,1,"Life.cellColours");this.vb=0}function Sa(a,b){var c=0,d=0,f=a.length,e=!1,g=!1,k=!1,l=0,p=new Uint32Array(f),n=new Uint16Array(f),q=new Uint32Array(f),m=0,r=0;-1!==a.indexOf("&")&&(a=a.replace(/&amp;/g,"&"),a=a.replace(/&lt;/g,"<"),a=a.replace(/&gt;/g,">"),f=a.length);for(;c<f;){var u=a.charCodeAt(c);switch(u){case 32:case 13:case 9:case 123:case 125:!g&&e&&(p[l]=d,n[l]=c-d,q[l]=(m<<1)+1&r,l+=1,e=!1);break;case 44:b?!g&&e&&(p[l]=d,n[l]=c-d,q[l]=(m<<1)+1&r,l+=1,e=!1):e||(e=!0,r=0,
g=!1,d=c);break;case 10:e&&(p[l]=d,n[l]=c-d,q[l]=(m<<1)+1&r,l+=1,e=!1);g=!1;b&&(0<l&&"\n"!==a[p[l-1]]&&(p[l]=c,n[l]=1,q[l]=0,l+=1),k=!1);break;case 58:case 61:b?g||(e&&(p[l]=d,n[l]=c-d,q[l]=(m<<1)+1&r,l+=1,e=!1),p[l]=c,n[l]=1,q[l]=0,l+=1):e||(e=!0,r=0,g=!1,d=c);break;case 34:b?g||(k=!k,e||(e=!0,d=c)):e||(e=!0,r=0,d=c);break;case 35:b?k||g||(e&&(p[l]=d,n[l]=c-d,q[l]=(m<<1)+1&r,l+=1,e=!1),g=!0):e||(e=!0,r=0,g=!1,d=c);break;default:g||(e?48<=u&&57>=u?(m=10*m+u-48,1073741824<=m&&(r=0)):r=0:(e=!0,d=c,
48<=u&&57>=u?(r=-1,m=u-48):r=0))}c+=1}e&&(p[l]=d,n[l]=c-d,q[l]=(m<<1)+1&r,l+=1);this.o=p.slice(0,l);this.A=n.slice(0,l);this.D=q.slice(0,l);this.current=0;this.source=a}function gb(a){this.U=a;this.l=this.rg=this.rn=!1;this.h=Ta.cu;this.i=Ta.$o;this.Lb=this.fc=-1;this.Gb=this.angle=this.y=this.x=0;this.depth=this.za=this.zoom=1;this.Dc=0;this.Oc=60;this.step=1;this.td=this.xc=0;this.le="";this.m=this.Vj=this.Eq=this.Ej=this.Dj=this.Cj=this.Gq=this.iA=this.jp=this.Kh=this.Rh=this.te=this.We=this.qe=
this.Kg=this.Qg=this.ce=this.zg=this.ig=this.Je=this.af=this.grid=this.ak=this.Cg=this.Bg=this.Ag=this.Fe=!1}function qc(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,w,y){this.D=y;this.coords=a;this.s=b;this.zoom=c;this.Mb=d;this.ac=f;this.o=e;this.alpha=g;this.size=k;this.h=l;this.m=p;this.i=n;this.angle=q;this.u=m;this.B=r;this.l=u;this.v=t;this.A=w;-1E3===this.ac&&-1E3===this.Mb&&(this.Mb=this.zoom/4,this.ac=4*this.zoom)}function rc(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,w,y,v,D,F){this.O=F;this.B=a;this.I=b;this.D=
c;this.L=d;this.zoom=f;this.Mb=e;this.ac=g;this.s=k;this.alpha=l;this.size=p;this.M=n;this.h=q;this.m=m;this.i=r;this.angle=u;this.o=t;this.A=w;this.l=y;this.u=v;this.v=D;-1E3===this.ac&&-1E3===this.Mb&&(this.Mb=this.zoom/4,this.ac=4*this.zoom)}function sc(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,w,y,v,D){this.A=v;this.message="";this.h=this.l=this.m=this.D=this.s=-1;this.x=a;this.y=b;this.zoom=c;this.Mb=d;this.ac=f;this.u=e;this.alpha=g;this.size=k;this.T=l;this.i=p;this.B=n;this.o=q;this.angle=m;this.I=
r;this.O=u;this.v=t;this.L=w;this.M=y;-1E3===this.ac&&-1E3===this.Mb&&(this.Mb=this.zoom/4,this.ac=4*this.zoom);this.R=D}function za(){this.h=[];this.i=[];this.m=[];this.o=[];this.s=[];this.current=new gb(this);this.$=new gb(this);this.I=new gb(this);this.M=!1;this.u=0;this.L=this.R=!1}function ab(a,b){var c=this,d=a.getElementsByTagName("div")[0];this.s=!1;this.h=-1;this.o=1;this.l=a;this.view=b;this.C=b.C;this.top=this.left=0;""!==a.style.left&&(this.left=parseInt(a.style.left,10));""!==a.style.top&&
(this.top=parseInt(a.style.top,10));this.i=this.m=!1;this.v=this.u=-1;this.B=0;Ia(d,"mousedown",function(f){c.V(c,f)},!1);Ia(document,"mousemove",function(f){c.W(c,f)},!1);Ia(document,"mouseup",function(f){c.X(c,f)},!1);Ia(d,"touchstart",function(f){c.A(c,f)},!1);Ia(d,"touchmove",function(f){c.A(c,f)},!1);Ia(d,"touchend",function(f){c.A(c,f)},!1);Ia(window,"resize",function(){c.R(c)},!1)}function tb(){this.key=new Uint8Array(256);this.i=this.h=0}function Nb(a,b){this.oq=a;this.x=b.h(pa.Zc,0,"Stars.x");
this.y=b.h(pa.Zc,0,"Stars.y");this.z=b.h(pa.Zc,0,"Stars.z");this.h=new T(255,255,255);this.i=new tb;this.i.oe(Date.now().toString());this.sin=b.h(pa.Zc,0,"Stars.sin");this.cos=b.h(pa.Zc,0,"Stars.cos");this.l=Math.PI/180;this.s=180/Math.PI;this.N=b;this.m=!1}function tc(a,b,c,d,f){this.name=a;this.pattern=b;this.zF=c;this.width=d;this.height=f}function ea(a){var b;this.As=this.Jm=this.Pu=this.Xl=this.On=this.av=this.oj=!1;this.eh=this.dh=this.fh=!0;this.oh=0;this.rv=this.cv=!0;this.I=60;this.ph=H.Kt;
this.Gd=this.Jr=this.ww=0;this.Mw="";this.gl=this.yr=this.pn=this.Yf=this.Ib=-1;this.He=[];this.mq=this.Gk=this.pm=this.xw=this.Oo=this.Km=!1;this.U=new va;this.Rb=!1;this.sn=this.un=this.qn=this.Ri=this.mh=this.nh=this.hm=this.Pi=this.tn=this.am=this.Ti=this.Si=this.fm=this.ob=this.Qi=this.Ar="";this.nb=!1;this.nl=this.$k=this.Li=this.bl=this.kl=this.Zm=this.Xm=this.Wm=this.Um=this.Yh=this.nr=this.Yq=this.Zh=this.qr=this.fr=this.lr=this.jr=this.hr=this.dr=this.$q=this.kk=this.Be=null;this.ue=1;this.oo=
this.vo=H.Un;this.Ki=50;this.to=this.qo=this.Jk=!1;this.Sf=this.Pe=this.Oe=-1;this.Wc=[];this.Kd=[];this.Dr=!1;this.Eo=this.Vs=this.js=this.ft=this.Pr=null;this.Ok=18;this.Vh="18px "+H.py;this.kf="18px "+H.lw;this.bk=window.devicePixelRatio?window.devicePixelRatio:1;this.vf=!0;this.up=this.Rc=this.Te=this.fe=this.Re=this.Ue=this.Xe=this.Ve=this.ge=!1;this.fb=[];for(b=0;b<H.tj;b+=1)this.fb[b]=null;this.Qa=!1;this.Xb=this.Yb=this.Gc=0;this.tc=H.Mn;this.Mc=this.Fj=!1;this.X=null;this.ua=!1;this.Gi=new Oa(0,
0,0,0);this.$=new Oa(0,0,0,0);this.Qb=new Oa(0,0,0,0);this.B=new tb;this.B.oe(Date.now().toString());this.Eb=50;this.ny=this.jy=0;this.dd=this.M=!1;this.Mf=2;this.lc=[];this.qh=this.ka=0;this.Xg=[];this.La=0;this.sj=[];this.qj=0;this.ie=[];this.ie[H.qp]=[1,0,0,1];this.ie[H.Rv]=[-1,0,0,-1];this.ie[H.Sv]=[-1,0,0,1];this.ie[H.Tv]=[1,0,0,-1];this.ie[H.Wv]=[0,1,1,0];this.ie[H.Xv]=[0,-1,-1,0];this.ie[H.Vv]=[0,-1,1,0];this.ie[H.Uv]=[0,1,-1,0];this.Xd=[];this.hj=[];this.Ld=[];this.Uc=[];this.Fa=H.Ln;this.Le=
0;this.sk=-1;this.Xi=[];this.Mr=this.Oq=this.Ud=0;this.Ul=!1;this.Td=-1;this.mn=!1;this.Ga=this.Qf=this.Kf=this.Pf=this.Lf=0;this.ln=!1;this.l=null;this.Ap=0;this.gr=!0;this.ec=0;this.Se=1;this.Vf=this.ur=this.Vd=this.th=!1;this.sc=7;this.zh=!0;this.Ec=this.Bc=0;this.Pg=this.Qw=this.Da=this.im=63;this.Ig=this.lf=this.Gl=this.Ml=this.Ce=this.Kl=this.Dl=this.Ol=this.Bl=this.kh=this.Ql=this.Pl=this.Hr=!1;this.ha=0;this.ze=null;this.W=this.ca=0;this.Ep=!1;this.qa=this.ra=-999999;this.Yg=-1;this.dj=Date.now().toString();
this.fj=this.Lk=this.Nk=this.Ks=!1;this.zd=H.hg;this.ee=!0;this.Oa=!1;this.od=!0;this.Wa=H.ey;this.Wb=!1;this.element=a;this.Ka=!1;this.Eh=this.ng=this.pg=this.jh=this.ym=this.sm=this.wm=this.um=0;this.Kb=this.Gh=this.ib=this.Dh=!1;this.ed=!0;this.Ae=!1;this.Ja=0;this.ek=!1;this.uc=this.Zb=0;this.kc=!1;this.P="";this.Y=this.R=0;this.uw=this.sw=this.Ci=this.Ik=this.Fi=this.Ei=this.Ff=this.Qv=this.zv=this.Hf=this.Xf=this.Ah=this.ag=this.Zf=this.Fc=-1;this.An=this.Im=!1;this.sl=this.Jc=-1;this.Mj=this.Wg=
!1;this.mm=-1;this.Bh=this.bf=null;this.Dx=0;this.xl="";this.Ch=this.Od=0;this.po=!1;this.Cs=this.Ls=0;this.zs=!0;this.xn=this.da=this.be=!1;this.Rg=0;this.qd=this.ld=!1;this.Sc=this.Tc=null;this.Ih=H.Ih;this.we=null;this.Jh=H.Jh;this.yd=[96,96,96];this.zf=[128,128,128];this.Cf=[0,255,0];this.Bf=[255,0,0];this.yf=[255,255,0];this.Df=[255,128,0];this.Ov=null;this.sd="";this.Fd=!0;this.pd=this.ab=this.wb=!1;this.Md=null;this.Ad=!1;this.o=1;this.bj=0;this.Va=this.wr=!1;this.m=new za;this.Ee="";this.Er=
-1;this.mc=this.Ba=!1;this.V=1;this.Ir=this.rh=0;this.md=H.tE;this.ad=this.cc=this.pc=this.gb=this.vb=-1;this.vk=this.Yi="";this.Pn=this.$i=this.A=this.v=0;this.Zi=null;this.Rf=this.xa=this.O=this.fk="";this.Af=this.sa=!1;this.oa=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];this.Em=this.Cm=-1;this.Bt=H.Ny;this.lt=H.Gp;this.Nt=H.Nz;this.no="";this.bE=0;this.Qe=[];this.ds=!1;this.L=null;this.Am=[];this.Tb=[];this.s=this.Z=0;this.lj=!1;this.Vi=
100;this.Ea=10;this.i=[64,200,290,530,700];this.zc=!1;this.u=[];this.Sm=[];this.Tm=[];this.fc=-1;this.Jb=!1;this.Lb=-1;this.Rm=this.rc=this.Pb=this.Na=this.bi=this.Fn=this.Ua=this.bd=this.kd=this.D=this.jb=this.va=!1;this.g=null;this.la=0;this.ea=640;this.aa=512;this.Jf=640;this.If=512;this.Xn=!1;this.Cr=640;this.aj=!0;this.jg=this.eu=this.nd=this.Fb=this.cj=!1;this.Uf=this.lg=this.rd=this.ja=this.vi=this.wh=this.Qd=this.rj=null;this.Aa=[];this.ma=this.Ta=this.pj=this.mj=this.wk=this.Vc=this.mf=this.Hj=
this.mk=this.qk=this.pk=this.nk=this.Tk=this.Vk=this.Mk=this.Kk=this.rk=this.yk=this.Ck=this.sh=this.Wd=this.vh=this.vc=this.Nf=this.wa=this.$b=this.$e=this.ye=this.xe=this.cd=this.Pc=this.Jd=this.Ne=this.Zd=this.mb=this.Ef=this.vj=this.fd=this.hf=this.Yn=this.gm=this.nm=this.tm=this.zl=this.Hi=this.cl=this.Om=this.zo=this.Nm=this.Lm=this.km=this.Bk=this.nj=this.Wh=this.Dd=this.Ek=this.ko=this.uk=this.Gj=this.xd=this.uo=this.Pj=this.yo=this.$s=this.gt=this.dt=this.In=this.om=this.Kr=this.Qm=this.ht=
this.mt=this.Xh=this.xo=this.ej=this.Fr=this.Xk=this.Gr=this.bt=this.yl=this.ah=this.Oi=this.Mi=this.Ni=this.dl=this.Cd=this.Vm=this.Vb=this.Wq=this.jf=this.li=this.Hn=this.kn=this.Bd=this.uh=this.$d=this.ji=this.ki=this.jm=this.zk=this.De=this.nf=this.ks=this.$g=this.lk=this.Gf=this.el=this.Bi=this.hk=this.Sg=this.wf=this.xf=this.Kj=this.Lj=this.Zk=this.Nj=this.Me=this.gd=this.ae=this.hd=this.Th=this.gh=this.Ji=this.Uh=this.Wk=this.Qk=this.Uk=this.Sk=this.Dm=this.ll=this.ol=this.zp=this.jd=this.qw=
this.kg=this.qf=this.Lc=this.Vg=this.Dg=this.Fg=this.Eg=this.ih=this.bn=this.jn=this.dn=this.an=this.sr=this.hh=this.pl=this.Hg=this.wl=this.Gg=this.rl=this.Ui=this.Wi=this.wc=this.Fk=this.ij=this.cb=this.eb=this.Ha=this.bc=this.Xa=this.na=this.xp=this.pz=this.Kz=this.hz=this.wz=null;this.Hc=this.lh=-1;this.di=0;this.Pa=this.Za=this.Yd=null;this.fa=60;this.h=this.C=null;this.ub=this.ta=this.zi=this.xi=0;this.Gm=this.Jz=1;this.oz=60;this.yi=this.vz=1;this.Ou=.1;this.bv=!1;this.wp=-1;this.Hb=this.ya=
this.zw=this.Ct=0;this.kj=1;this.cf=this.ga=this.yv=this.qv=this.Pv=!1;this.Ub=H.gy;this.tw=this.vw=this.rw=this.uj=0;this.yp=this.ci=!1;this.xh=this.Qq=0;this.bb=this.yc=!1;this.xk=-1}function Ob(a,b,c,d,f){var e,g=b.parentNode,k=null;for(e=0;e<Ba.Sd.length&&!k;)Ba.Sd[e][0].tabIndex===b.tabIndex?k=Ba.Sd[e][1]:e+=1;k||(k=new ea(f),k.Ad=d,Ca.Ro&&!d&&(k.md=c&-8,k.md<H.Yc&&(k.md=H.Yc)),b.tabIndex=Ba.Sd.length+1,"none"===g.style.display&&(Ba.Sn=new ab(g,k)),k.ZB(b),Ba.Sd[Ba.Sd.length]=[b,k,Ba.Sn]);d||
k.yg(a,!1)}function hc(a){a=a.parentNode;for(var b=!1;!b;)"div"!==a.localName||a.className!==Ca.Tp&&a.className!==Ca.Up||(b=!0),b||(a=a.parentNode);return a}function Pb(){var a=Ba.Dq(),b=a[1],c=a[2];a[0].parentNode.style.display="none";c.m=!1;b.Fb&&(b.$b.current=b.vd(H.je,!0,b))}function ic(a){Pb();a.stopPropagation&&a.stopPropagation();a.preventDefault();return!1}function zb(a){a=a.innerHTML.replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/<br *\/>/gi,"\n").replace(/<br>/gi,"\n").replace(/&nbsp;/gi,
" ").replace(/<span class="posthilit">/gi,"").replace(/<\/span>/gi,"").trim();a=a.replace(/\n[ ]+/g,"\n");a=a.replace(/\n\t+/g,"\n");""===a&&(a="!");return a}function Qb(a){var b=hc(a).getElementsByTagName(Ca.Nn)[0];a=Ba.Sd[0];b.innerHTML=b.value;b=zb(b);a[1].ob="";a[1].g.Jg=null;a[1].mw(a[1]);a[1].C.notification.clear(!0,!0);a[1].C.notification.clear(!1,!0);a[1].yg(b,!1)}function jc(a){var b=28,c=18,d=Ba.Dq()[2];a.Eo.style.transform="scale("+a.ue+","+a.ue+")";a.Eo.style.transformOrigin="top left";
a.resize();d.m=!0;d.R(d);1!==a.h.D&&(b=b*a.h.D|0,c=c*a.h.D|0,a.Pr.style.height=b+"px",a.Pr.style.fontSize=c+"px",a.Vs.style.height=b+"px",a.Vs.style.fontSize=c+"px",a.js.style.height=b+"px",a.js.style.fontSize=c+"px",a.ft.style.height=b+"px",a.ft.style.lineHeight=b+"px");a.Pa.canvas.focus();a.Pa.canvas.blur();return a.mq=!1}function Rb(a){var b=hc(a);b=b.getElementsByTagName(Ca.Nn)[0];a=zb(b);var c=Ba.Dq(),d;if(c)(d=c[2])&&d.reset(),d=c[1],d.element=b,d.mw(d);else{c=document.createElement("canvas");
c.width=H.Yc;c.height=H.Xj+80;c.style.display="block";c.contentEditable="false";var f=document.createElement("a");f.setAttribute("href","#");f.innerHTML="&nbsp;X&nbsp;";f.style.textDecoration="none";f.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";f.style.color="#FFFFFF";f.style.backgroundColor="#C75050";f.style.cssFloat="right";f.style.height="28px";f.style.fontSize="18px";var e=document.createElement("a");e.innerHTML="&nbsp;X&nbsp;";e.style.textDecoration="none";e.style.fontFamily=
"Lucida Grande,Verdana,Helvetica,Arial,sans-serif";e.style.visibility="hidden";e.style.cssFloat="left";e.style.height="28px";e.style.fontSize="18px";var g=document.createElement("div");g.style.textAlign="center";g.style.color="rgb(83,100,130)";g.style.fontFamily="Arial, Verdana, Helvetica, sans-serif";g.style.fontSize="18px";g.style.height="28px";var k=document.createTextNode(H.Go);g.style.cursor="default";g.appendChild(k);Ia(f,"click",ic,!1);Ia(f,"touchend",ic,!1);var l=document.createElement("div");
l.style.display="none";l.style.position="fixed";l.style.border="1px solid rgb(128,128,128)";l.style.zIndex="101";l.style.left="2048px";l.style.top="0px";l.style.textAlign="right";l.style.boxShadow="0px 0px 3px 3px rgba(0,0,0,.3), 12px 12px 8px rgba(0,0,0,.5)";l.style.margin="1px";var p=document.createElement("div");p.className=Ca.Up;p.style.backgroundColor="#FFFFFF";p.style.height="28px";p.style.lineHeight="28px";p.style.margin="0px";p.style.border="0px";p.appendChild(e);p.appendChild(f);p.appendChild(g);
l.appendChild(p);l.appendChild(c);document.body.appendChild(l);Ob(a,c,H.Yc,!0,b);Ba.Av=Ba.Sd.length-1;c=Ba.Dq();d=c[1];d.Ov=k;d.Pr=f;d.Vs=e;d.js=g;d.ft=p;d.Eo=l}b=c[0].parentNode;""!==b.style.display&&(b.style.display="");d.ob="";d.g.Jg=null;d.ea=H.Yc;d.aa=H.Xj+80;d.resize();d.C.notification.clear(!0,!0);d.C.notification.clear(!1,!0);d.mq=!0;d.yg(a,!0);d.mq||jc(d)}function uc(a,b,c){a=a.getElementsByTagName("a")[0];var d=document.createElement("a"),f=null;d.setAttribute("href","#");d.innerHTML="Show Pattern Error";
Ia(d,"click",function(e){e.stopPropagation&&e.stopPropagation();e.preventDefault();alert(c)},!1);a?(f=document.createTextNode(" / "),a.parentNode.appendChild(f),a.parentNode.appendChild(d)):b.parentNode.appendChild(d)}function kc(a,b){var c=b[0],d=b[1],f=b[2];b=b[3];a&&a.R&&!a.sa&&(Ca.yb?(Ba.ke[Ba.ke.length]=new tc(a.name,c,a.h+a.Ua,a.width,a.height),1===Ba.ke.length?(f.style.display="none",b&&(b.contentEditable="false",Ob(c,b,f.offsetWidth,!1,f))):d.style.display="none"):null!==d&&(a=d.getElementsByTagName("a")[0],
c=document.createElement("a"),c.setAttribute("href","#"),c.innerHTML="Show in Viewer",Ia(c,"click",vc,!1),a?(f=document.createTextNode(" / "),a.parentNode.appendChild(f),a.parentNode.appendChild(c)):f.parentNode.appendChild(c)))}function lc(a,b){var c=b[1];b=b[2];a&&null!==c&&uc(c,b,a.h+" - "+a.Va)}function mc(a,b,c,d,f,e){b=c.create("",a,b,kc,lc,[a,d,f,e],null);!c.Pa&&b&&(b.Ea?(b.Va=c.P,lc(b,[a,d,f,e])):kc(b,[a,d,f,e]))}function vc(a){Rb(this);a.stopPropagation&&a.stopPropagation();a.preventDefault();
return!1}var La={Hq:!1,Rr:!1,Sr:!1,Ac:!1,copyWithin:!1,gn:null,Nc:null};window.performance||(window.performance={});window.performance.now||(window.performance.now=function(){return performance.now||performance.LG||performance.MG||performance.OG||performance.webkitNow||function(){return(new Date).getTime()}}());window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame);
window.Uint8Array?La.Hq=!0:(La.Hq=!1,window.Uint8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=window.Uint8Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Int32Array||(window.Int32Array=Array);window.Int16Array||(window.Int16Array=Array);window.Int8Array||(window.Int8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=Array);window.Float32Array||(window.Float32Array=Array);window.Float64Array||(window.Float64Array=
Array);window.Uint32Array.prototype.fill?La.Rr=!0:(La.Rr=!1,window.Uint32Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Uint16Array.prototype.fill||(window.Uint16Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Uint8Array.prototype.fill||(window.Uint8Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Uint8ClampedArray.prototype.fill||(window.Uint8ClampedArray.prototype.fill=
function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Int32Array.prototype.fill||(window.Int32Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Int16Array.prototype.fill||(window.Int16Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Int8Array.prototype.fill||(window.Int8Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Float32Array.prototype.fill||
(window.Float32Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Float64Array.prototype.fill||(window.Float64Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Int32Array.prototype.slice?La.Sr=!0:(La.Sr=!1,window.Int32Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Int32Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Int16Array.prototype.slice||(window.Int16Array.prototype.slice=
function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Int16Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Int8Array.prototype.slice||(window.Int8Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Int8Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Uint32Array.prototype.slice||(window.Uint32Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Uint32Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Uint16Array.prototype.slice||
(window.Uint16Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Uint16Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Uint8Array.prototype.slice||(window.Uint8Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Uint8Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Uint8ClampedArray.prototype.slice||(window.Uint8ClampedArray.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Uint8ClampedArray(c);
for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Float32Array.prototype.slice||(window.Float32Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Float32Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Float64Array.prototype.slice||(window.Float64Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Float64Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});La.Nc=new Uint32Array(1);La.Nc[0]=4660;La.gn=new Uint8Array(La.Nc.buffer);
La.Ac=52===La.gn[0]?!0:!1;La.Nc.copyWithin?La.copyWithin=!0:(window.Uint32Array.prototype.copyWithin=function(a,b,c){var d=!1;void 0===c&&(c=this.length);var f=c-b;if(b!==a)if((a>=b&&a<=c||a+f>=b&&a+f<=c)&&a>b&&(d=!0),d)for(c=f-1;0<=c;--c)this[a+c]=this[b+c];else for(c=0;c<f;c+=1)this[a+c]=this[b+c];return this},La.copyWithin=!1);var pa={Ma:8,jx:40,Ca:9,hc:10,tp:0,Ao:1,Hd:2,Zc:18,Lw:19,Zn:function(a){return 1<<(a&7)},fG:function(a){var b=(0!==(a&16)?"Float":0!==(a&8)?"Uint":"Int")+8*(1<<(a&7));0!==
(a&32)&&(b+="Clamped");return b}};fb.prototype.s=function(a){var b="";0<=a&&a<this.i.length&&(a=this.i[a],b=pa.fG(a.dataType)+"\t"+a.elements+"\t"+a.name+"\t"+a.Gn);return b};fb.prototype.l=function(a,b,c){for(var d=0,f=!1,e;d<this.i.length&&!f;)e=this.i[d],c===e.name?(f=!0,this.Yo+=1,this.cm+=e.elements*pa.Zn(e.dataType)):d+=1;f?(this.i[d].dataType=a,this.i[d].elements=b,this.i[d].Gn+=1,this.i[d].size=b*pa.Zn(a)):(d=this.i.length,this.i[d]=new oc(a,b,c));this.Xo+=1;this.bm+=b*pa.Zn(a)};fb.prototype.m=
function(a,b,c,d,f){a=a.buffer;d*=pa.Zn(b);switch(b){case pa.Ma:c=new Uint8Array(a,d,c);break;case pa.jx:c=new Uint8Array(a,d,c);break;case pa.Ca:c=new Uint16Array(a,d,c);break;case pa.hc:c=new Uint32Array(a,d,c);break;case pa.tp:c=new Int8Array(a,d,c);break;case pa.Ao:c=new Int16Array(a,d,c);break;case pa.Hd:c=new Int32Array(a,d,c);break;case pa.Zc:c=new Float32Array(a,d,c);break;case pa.Lw:c=new Float64Array(a,d,c);break;default:c=null,alert("Illegal type specified to allocator.typedView for "+
f+": "+b)}return c};fb.prototype.o=function(a,b,c){switch(a){case pa.Ma:b=new Uint8Array(b);break;case pa.jx:b=new Uint8Array(b);break;case pa.Ca:b=new Uint16Array(b);break;case pa.hc:b=new Uint32Array(b);break;case pa.tp:b=new Int8Array(b);break;case pa.Ao:b=new Int16Array(b);break;case pa.Hd:b=new Int32Array(b);break;case pa.Zc:b=new Float32Array(b);break;case pa.Lw:b=new Float64Array(b);break;default:b=null,alert("Illegal type specified to allocator.typedMemory for "+c+": "+a)}return b};fb.prototype.h=
function(a,b,c){var d=null;0<b&&(d=this.o(a,b,c));(d||0===b)&&this.l(a,b,c);return d};fb.prototype.BC=function(a,b,c,d){var f=null;0<b&&(f=this.o(a,b,c));(f||0===b)&&this.l(a,b*d,c);return f};Array.matrix=function(a,b,c,d,f,e){var g=0,k=[];k.N=f;k.dataType=a;k.ba=null;var l=f.h(a,b*c,e);k.ba=l;if(0<c){for(;g<b;)k[g]=f.m(l,a,c,g*c,e),g+=1;0!==d&&l.fill(d)}return k};Array.$m=function(a,b){b=a.N.BC(a.dataType,a[0].length,b,a.length+1);a[a.length]=b};Array.uf=function(a,b){b.ba.set(a.ba)};Array.Ed=function(a,
b,c){var d,f=b.length,e=[],g=b.N,k=b[0].length/pa.Zn(a);for(d=0;d<f;d+=1)e[d]=g.m(b.ba,a,k,d*k,c);return e};Array.Gt=function(a,b,c){var d,f=a.length,e=a.N,g=a.dataType,k=a[0].length;for(d=0;d<f;d+=1)e.m(a.ba,g,k-b,d*k+b,c)};var bb={Xc:[],uv:[],oe:function(){var a,b;this.Xc=[];this.uv=[];var c=this.Xc;var d=this.uv;d.push("1D");c.push(["Wolfram 1D",""]);c.push(["Brownian motion","W54"]);c.push(["Fishing-net","W110"]);c.push(["Heavy triangles","W22"]);c.push(["Linear A","W90"]);c.push(["Linear B",
"W150"]);c.push(["Pascal's Triangle","W18"]);c.push(["Randomizer 1","W30"]);c.push(["Randomizer 2","W45"]);c.push(["Wolfram 22","W22"]);c.push(["Wolfram 30","W30"]);c.push(["Wolfram 110","W110"]);d.push("Margolus");c.push(["Margolus",""]);c.push(["BBM","M0,8,4,3,2,5,9,7,1,6,10,11,12,13,14,15"]);c.push(["BounceGas","M0,8,4,3,2,5,9,14,1,6,10,13,12,11,7,15"]);c.push(["BounceGasII","M0,8,4,12,2,10,9,7,1,6,5,11,3,13,14,15"]);c.push(["Critters","M15,14,13,3,11,5,6,1,7,9,10,2,12,4,8,0"]);c.push(["HPP_Gas",
"M0,8,4,12,2,10,9,14,1,6,5,13,3,11,7,15"]);c.push(["MargSingRot","M0,2,8,3,1,5,6,7,4,9,10,11,12,13,14,15"]);c.push(["Rotations","M0,2,8,12,1,10,9,11,4,6,5,14,3,7,13,15"]);c.push(["RotationsII","M0,2,8,12,1,10,9,13,4,6,5,7,3,14,11,15"]);c.push(["RotationsIII","M0,4,1,10,8,3,9,11,2,6,12,14,5,7,13,15"]);c.push(["RotationsIV","M0,4,1,12,8,10,6,14,2,9,5,13,3,11,7,15"]);c.push(["Sand","M0,4,8,12,4,12,12,13,8,12,12,14,12,13,14,15"]);c.push(["StringThing","M0,1,2,12,4,10,9,7,8,6,5,11,3,13,14,15"]);c.push(["StringThingII",
"M0,1,2,12,4,10,6,7,8,9,5,11,3,13,14,15"]);c.push(["SwapOnDiag","M0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15"]);c.push(["Tron","M15,1,2,3,4,5,6,7,8,9,10,11,12,13,14,0"]);d.push("PCA");c.push(["PCA",""]);c.push(["Model_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);c.push(["Model_2","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);c.push(["PCA_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);c.push(["PCA_2","2PCA4,0,2,4,3,8,10,6,7,1,9,5,11,12,13,14,15"]);c.push(["PCA_3","2PCA4,0,8,1,3,2,5,6,7,4,9,10,11,12,13,14,15"]);
c.push(["PCA_4","2PCA4,0,2,4,12,8,5,9,7,1,6,10,11,3,13,14,15"]);c.push(["PCA_5","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);c.push(["PCA_6","2PCA4,0,2,4,3,8,10,6,14,1,9,5,7,12,11,13,15"]);c.push(["PCA_7","2PCA4,0,2,4,12,8,5,9,14,1,6,10,7,3,11,13,15"]);c.push(["PCA_8","2PCA4,0,2,4,12,8,10,9,14,1,6,5,7,3,11,13,15"]);c.push(["PCA_9","2PCA4,0,2,4,12,8,10,9,13,1,6,5,14,3,7,11,15"]);c.push(["PCA_10","2PCA4,0,1,2,3,4,5,6,13,8,9,10,14,12,7,11,15"]);c.push(["PCA_11","2PCA4,0,4,8,3,1,10,6,11,2,9,5,11,13,12,14,15"]);
c.push(["PCA_12","2PCA4,0,4,2,3,14,6,11,5,8,7,9,13,10,12,1,15"]);d.push("OT vN");c.push(["Outer-Totalistic von Neumann",""]);c.push(["Fredkin2","B13/S024V"]);c.push(["LifeV","B3/S23V"]);c.push(["Parity","B13/S13V"]);d.push("OT Hex");c.push(["Outer-Totalistic Hex",""]);c.push(["HexParity","B135/S0246H"]);c.push(["Hexagonal Life","B2/S34H"]);c.push(["HighHexLife","B25/S34H"]);c.push(["LifeH","B3/S23H"]);c.push(["Replicator Hex","B135/S135H"]);d.push("OT M");c.push(["Outer-Totalistic Moore",""]);c.push(["",
"B3/S23"]);c.push(["2x2","B36/S125"]);c.push(["2x2 2","B3678/S1258"]);c.push(["34 Life","B34/S34"]);c.push(["3-4 Life","B34/S34"]);c.push(["Amoeba","B357/S1358"]);c.push(["Anneal","B4678/S35678"]);c.push(["AntiLife","B0123478/S01234678"]);c.push(["Assimilation","B345/S4567"]);c.push(["Bacteria","B34/S456"]);c.push(["Blinkers","B345/S2"]);c.push(["Bugs","B3567/S15678"]);c.push(["Castles","B3678/S135678"]);c.push(["Cheerios","B35678/S34567"]);c.push(["Christmas Life","B1/S012345678"]);c.push(["Coagulations",
"B378/S235678"]);c.push(["Conway's Game of Life","B3/S23"]);c.push(["Conway's Life","B3/S23"]);c.push(["Coral","B3/S45678"]);c.push(["Corrosion of Conformity","B3/S124"]);c.push(["Dance","B34/S35"]);c.push(["Day & Night","B3678/S34678"]);c.push(["Day and Night","B3678/S34678"]);c.push(["Diamoeba","B35678/S5678"]);c.push(["DotLife","B3/S023"]);c.push(["DrighLife","B367/S23"]);c.push(["DryFlock","B37/S12"]);c.push(["DryLife","B37/S23"]);c.push(["DryLife without Death","B37/S012345678"]);c.push(["EightFlock",
"B3/S128"]);c.push(["EightLife","B3/S238"]);c.push(["Electrified Maze","B45/S12345"]);c.push(["Eppstein","B35/S236"]);c.push(["Feux","B1358/S0247"]);c.push(["Flakes","B3/S012345678"]);c.push(["Flock","B3/S12"]);c.push(["Forest of Ls","B168/S236"]);c.push(["Fredkin","B1357/S02468"]);c.push(["Fuzz","B1/S014567"]);c.push(["Gems Minor","B34578/S456"]);c.push(["Gems","B3457/S4568"]);c.push(["Geology","B3578/S24678"]);c.push(["Gnarl","B1/S1"]);c.push(["Grounded Life","B35/S23"]);c.push(["H-Trees","B1/S012345678"]);
c.push(["HighFlock","B36/S12"]);c.push(["HighLife","B36/S23"]);c.push(["HighLife without Death","B36/S012345678"]);c.push(["Holstein","B35678/S4678"]);c.push(["HoneyFlock","B38/S128"]);c.push(["HoneyLife","B38/S238"]);c.push(["Iceballs","B25678/S5678"]);c.push(["InverseLife","B012345678/S34678"]);c.push(["Invertamaze","B028/S0124"]);c.push(["IronFlock","B36/S128"]);c.push(["IronLife","B36/S238"]);c.push(["Land Rush","B36/S234578"]);c.push(["Life SkyHigh","B368/S236"]);c.push(["Life without Death",
"B3/S012345678"]);c.push(["Life","B3/S23"]);c.push(["Live Free or Die","B2/S0"]);c.push(["Logarithmic replicator rule","B36/S245"]);c.push(["LongLife","B345/S5"]);c.push(["Long Life","B345/S5"]);c.push(["LowDeath without death","B368/S012345678"]);c.push(["LowDeath","B368/S238"]);c.push(["LowFlockDeath","B368/S128"]);c.push(["LowLife","B3/S13"]);c.push(["Majority","B45678/S5678"]);c.push(["Maze","B3/S12345"]);c.push(["Maze with Mice","B37/S12345"]);c.push(["Mazectric","B3/S1234"]);c.push(["Mazectric with Mice",
"B37/S1234"]);c.push(["Morley","B368/S245"]);c.push(["Move","B368/S245"]);c.push(["Neon Blobs","B08/S4"]);c.push(["Never happy","B345/S0456"]);c.push(["Oscillators Rule","B45/S1235"]);c.push(["Pedestrian Flock","B38/S12"]);c.push(["Pedestrian Life","B38/S23"]);c.push(["Pedestrian Life without Death","B38/S012345678"]);c.push(["Persian Rug","B234/S"]);c.push(["Plow World","B378/S012345678"]);c.push(["Pseudo Life","B357/S238"]);c.push(["Pulsar Life","B3/S238"]);c.push(["Replicator","B1357/S1357"]);
c.push(["Replicator 2","B1357/S02468"]);c.push(["Rings 'n' Slugs","B56/S14568"]);c.push(["Seeds","B2/S"]);c.push(["Serviettes","B234/S"]);c.push(["Shoots and Roots","B3/S245678"]);c.push(["Slow Blob","B367/S125678"]);c.push(["Snakeskin","B1/S134567"]);c.push(["Solid islands grow amongst static","B12678/S15678"]);c.push(["SnowLife","B3/S1237"]);c.push(["Stains","B3678/S235678"]);c.push(["Star Trek","B3/S0248"]);c.push(["Virus","B36/S235"]);c.push(["Vote","B5678/S45678"]);c.push(["Vote 4/5","B4678/S35678"]);
c.push(["Walled Cities","B45678/S2345"]);d.push("OT Tri");c.push(["Outer-Totalistic Triangular",""]);c.push(["Life 2333","B3/S23L"]);c.push(["Life 2345","B45/S23L"]);c.push(["Life 2346","B456/S23L"]);c.push(["Life 3445","B45/S34L"]);c.push(["Life 3446","B456/S34L"]);c.push(["Life 4546","B456/S45L"]);c.push(["Life 4644","B4/S456L"]);c.push(["Rule 1246","B456/S12L"]);c.push(["Rule 3544","B4/S345L"]);d.push("OT M G");c.push(["Outer-Totalistic Generations Moore",""]);c.push(["9:43 at Knight","237/34578/4"]);
c.push(["Banners","2367/3457/5"]);c.push(["BelZhab","23/23/8"]);c.push(["BelZhab Sediment","145678/23/8"]);c.push(["Bloomerang","234/34678/24"]);c.push(["Bombers","345/24/25"]);c.push(["Brain 5","/2/5"]);c.push(["Brain 6","6/246/3"]);c.push(["Brian's Brain","/2/3"]);c.push(["Burst","0235678/3468/9"]);c.push(["BurstII","235678/3468/9"]);c.push(["Caterpillars","124567/378/4"]);c.push(["Chenille","05678/24567/6"]);c.push(["Circuit Genesis","2345/1234/8"]);c.push(["Constellations","/23/3"]);c.push(["Cooties",
"23/2/8"]);c.push(["Diamonds and Spaceships","34578/257/16"]);c.push(["Ebb&Flow","012478/36/18"]);c.push(["Ebb&Flow II","012468/37/18"]);c.push(["Faders","2/2/25"]);c.push(["Fireballs","346/2/4"]);c.push(["Fireworks","2/13/21"]);c.push(["Flaming Starbows","347/23/8"]);c.push(["Free Star","0345/2/10"]);c.push(["Frogs","12/34/3"]);c.push(["Frozen spirals","356/23/6"]);c.push(["GeneroLife","2356/3567/4"]);c.push(["Glisserati","035678/245678/7"]);c.push(["Glissergy","035678/245678/5"]);c.push(["Lava",
"12345/45678/8"]);c.push(["Lines","012345/458/3"]);c.push(["LivingOn TheEdge","345/3/6"]);c.push(["Meteor Guns","01245678/3/8"]);c.push(["Nova","45678/2478/25"]);c.push(["OrthoGo","3/2/4"]);c.push(["Prairie on fire","345/34/6"]);c.push(["RainZha","2/23/8"]);c.push(["Rake","3467/2678/6"]);c.push(["SediMental","45678/25678/4"]);c.push(["Snake","03467/25/6"]);c.push(["SoftFreeze","13458/38/6"]);c.push(["Spirals","2/234/5"]);c.push(["Star Wars","345/2/4"]);c.push(["Sticks","3456/2/6"]);c.push(["Swirl",
"23/34/8"]);c.push(["Tadpoles","0125678/345678/64"]);c.push(["ThrillGrill","1234/34/48"]);c.push(["Transers","345/26/5"]);c.push(["TransersII","0345/26/6"]);c.push(["Transers 2","0345/26/6"]);c.push(["Transers 3","0345/26/7"]);c.push(["Wallplicators","345/25678/7"]);c.push(["Wanderers","345/34678/5"]);c.push(["Worms","3467/25/6"]);c.push(["Xtasy","1456/2356/16"]);d.push("INT Hex");c.push(["Isotropic Non-Totalistic Hex",""]);c.push(["Hex Life","B2o3m56/S2-p4oH"]);c.push(["22da","B2/S2-mH"]);c.push(["Hexrule b2o",
"B2o/S2m34H"]);d.push("INT M");c.push(["Isotropic Non-Totalistic Moore",""]);c.push(["15Life","B34r/S23-q4et"]);c.push(["104life","B34ky5cy/S23-a4ity6c7"]);c.push(["22k","B2-k/S2-k"]);c.push(["2diagonal","B2n3/S23"]);c.push(["2xpand2","B3/S123eik4ce"]);c.push(["3x3","B35cky68/S0245-c6n"]);c.push(["38life","B35y/S2-n35k6ci"]);c.push(["4diagonal","B34c/S23"]);c.push(["4life","B34jy/S23"]);c.push(["4life2","B34j/S23"]);c.push(["57life","B34tyz5cy/S23-a4it5ej"]);c.push(["acnelife","B34/S2eik3"]);c.push(["aLife",
"B3/S234iw"]);c.push(["Arcane Circuitry","B2ci3aikr/S1e2-a3i"]);c.push(["Arrow","B3-jkn4a/S1e2-a3ijnry4n"]);c.push(["Artillery","B3-y7/S2-i3-c4kqt"]);c.push(["Atomic","B2ei3i/S1c2-n3jr4an5i6c"]);c.push(["ATPP","B3-ckq4z/S2-c3-a4iq5k6k"]);c.push(["B - ibis","B2n34cyz6n8/S2-n3-a4cq68"]);c.push(["Banks-I","B3e4ejr5cinqy6-ei78/S012-e3-ajk4-akqw5-ajk6-e78"]);c.push(["Banks-III","B2ce3e4jr5cin6-en7c8/S012-ac3-cn4-eikny5-kr67c8"]);c.push(["Beaecsizae","B34ce/S12-a3"]);c.push(["Ben's rule","B2-ak3einqy4e/S1c2ak3inqy4e"]);
c.push(["Best Friends","B2ce3aiy/S12aei3r"]);c.push(["Bgunlife","B34eny5e/S23-a4iy5e6c"]);c.push(["Billiard","B36-e/S12345"]);c.push(["Blasts","B2e3airy4kt5jr6c8/S02ace3eiknr4-aj5-cei6-a78"]);c.push(["BlinkBlink","B35ky/S234y"]);c.push(["Blocks for Days","B2-ae3-cij4a5aj6e7e8/S01e2ai3ar4ar5air6ae7c8"]);c.push(["blockandglider","B3/S234cw7c"]);c.push(["Blockship","B3-cer4ceqwz5acek6in78/S2-in3-eq4eqwyz5eikn678"]);c.push(["BoatLife","B3-knqy/S2-n3-ey4akwy5aik6kn"]);c.push(["boatLife","B3ainqy4aeq5ejn8/S2-in3-aek4aciq5ae6-c7c8"]);
c.push(["bpuff","B3/S23-cky4k7e8"]);c.push(["Breps","B34cqy5c/S23-y4y"]);c.push(["Breps-2","B3aeijn4n8/S234iqz"]);c.push(["Bricks","B2ak5c/S2cn3inqy4aikqtwz5inqy"]);c.push(["Bubbles","B3ai4-a/S23"]);c.push(["Butterfly","B2i34e6i7c/S2-i36n"]);c.push(["butterflyb7","B2i34e6i7/S2-i36n"]);c.push(["Buzz","B2i35-n/S2-ci36k8"]);c.push(["CapLife","B36c/S23"]);c.push(["CarrierLife","B2e3aceik/S23"]);c.push(["Cataverters","B3-cen/S234eijkrw5cry6ik"]);c.push(["cb2","B2ae4i/S1e2in"]);c.push(["cetlife","B34cet/S234jkwyz"]);
c.push(["Clouds","B2e3aceij/S23-a4"]);c.push(["Cloudsdale","B2kn3-ekqr4i5eq6n8/S23-aeny4cikqr5ek6ace7c"]);c.push(["CommonRepl","B3/S23-ac4eiy6"]);c.push(["Conquerors and Colonizers","B2ace3acei4ace5acei6ace/S"]);c.push(["Conway++","B3/S234c"]);c.push(["Conway+-1","B3/S23-inqy4aikqtwz"]);c.push(["Conway+-2","B3/S2-ak34aikqtwz5inqy"]);c.push(["Conway--","B3/S2-ei3"]);c.push(["crawl","B37e/S2-i34y8"]);c.push(["Creperie","B2ikn3aijn/S23-ckqy"]);c.push(["CrossLife","B3/S234et"]);c.push(["Crylife","B2n3-cry4kn6i7c/S23-a4i6c"]);
c.push(["DenseLife","B3-q4y/S234z"]);c.push(["Diamoeral","B2n3ai4a78/S35678"]);c.push(["Diamonds","B2en3ij4a5e7e8/S1c2cek3-a4aiqw5aky"]);c.push(["DirtyLife","B3-cky5aq6ci7c/S23-ck4n6k7e"]);c.push(["DLife","B3-n/S23"]);c.push(["dolife","B2-ak3acei4ceqz5y/S234ce5ceky78"]);c.push(["dolife2","B2-a3acei4ceqz5y/S234ce5ceky78"]);c.push(["Dominoplex","B2cen3ek4ejkwz5-ein6an7e8/S12an3-eijq4enrty5e6k"]);c.push(["Dry15Life","B34r7/S23-q4et"]);c.push(["DryGoats","B2in37/S123a"]);c.push(["Dustclouds01","B2ce3-ai/S01"]);
c.push(["EasyHighLife","B36-i/S23"]);c.push(["Eatsplosion","B2n3-ekqy4c5e/S2-cn3-eky4aij5e"]);c.push(["Eatsplosion IV","B2n3-q4aqz6n8/S2-in3-q4iz7c8"]);c.push(["EightGoats","B2in3/S123a8"]);c.push(["Einstein","B2ein3cijn4cnrwy5cnq6e/S1c2-ai3acny4anqy5c6ek8"]);c.push(["ElectrumLife","B367c/S2-i34q"]);c.push(["Emitters","B2i3ai4cei5c6c7/S2-ae3acein4-t5-aq6cei7c8"]);c.push(["Extension","B2cei3-ijnr4-a6i/S12-cn"]);c.push(["fakePiShipLife","B3-ck4e5k6i/S2-in35i6c8"]);c.push(["FalseB5","B35ce/S234jqtyz6k8"]);
c.push(["Frespa","B34ck5/S23aceik4aci"]);c.push(["FattyLife","B3-n4nt5qr6i/S23"]);c.push(["FishLife","B3-ekqr4nt5r6i/S02-c3"]);c.push(["FlashLife","B2kn3-n4e/S23"]);c.push(["Flowflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k7e"]);c.push(["Flutter","B2-a3j4-acekn56/S15y"]);c.push(["Flying Life","B3-k5r/S236n7e"]);c.push(["FogLife","B35eq7/S2-i34q"]);c.push(["Forestfire","B3ai4ekq5cy6n/S2-ci3-ace4inr5eqry"]);c.push(["FrogLife","B36i/S1c23-acek5k6i8"]);c.push(["Fruitflies","B2-an4jn7e8/S12-k4r"]);c.push(["Fuzey",
"B2-ae3aej4ez/S03ac4aikqryz78"]);c.push(["GemLife","B34c6/S23-q"]);c.push(["Gentle relative","B2cen3ek4jkw5-aein6a7e/S12an3-eijq4enrty5e6k"]);c.push(["GlideLife","B34ek5ak/S2-c34z"]);c.push(["GlideLife2","B34ek5ak/S2-c34iz5y"]);c.push(["GliderGlut","B2k3aijn4ak5y6k/S2ae3ajnr4aiw"]);c.push(["GliderRROLife","B2e3einy4ak5ijq7c/S1c2-ai3-ceky4ejny5ceqr6ak"]);c.push(["glife","B3/S237c"]);c.push(["Glimmering Garden","B3-jknr4ity5ijk6i8/S23-a4city6c7c"]);c.push(["GMO snowflakes","B34c6n/S2-n3-ck4cijqtwy5y6n"]);
c.push(["Goat Flock","B2in3/S123a"]);c.push(["Goats","B2in3/S123a"]);c.push(["Goldilocks I","B2ek3cei4acjr5c8/S02ack3kn4aen"]);c.push(["gp","B2ei3-a4ce5y6i/S234i7e"]);c.push(["Growflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k"]);c.push(["guntlife","B35j6a/S2-i34q"]);c.push(["Half as Interesting","B2ce3i/S23"]);c.push(["hassl8life","B34k5e7c/S23-a4iyz"]);c.push(["hatlife","B35y/S23"]);c.push(["Hats and Shuttles","B34iqwy/S23-cq"]);c.push(["hedgehog","B3/S1c2-a35r6i"]);c.push(["HeptaFish","B3-e4i5i/S234e"]);
c.push(["High15Life","B34r6/S23-q4et"]);c.push(["HighGoats","B2in36/S123a"]);c.push(["Hive","B3-ry4ckn/S2-in3-cjn4it5aiky6-a7e8"]);c.push(["hlife","B3/S234ce6k"]);c.push(["hlife2","B3/S2-in34nr"]);c.push(["hlife3","B3/S2-in34iw"]);c.push(["HoneyGoats","B2in38/S123a8"]);c.push(["HouseLife","B2i3/S23-r"]);c.push(["Hype","B2-ac3aei4ae6i8/S23-ejq8"]);c.push(["IceNine","B3aeiy4ae5i68/S2-in3-kqr4artz5aeny6-e78"]);c.push(["ilife","B3/S235i"]);c.push(["Immortalife","B3-cqy4j/S2-n34i"]);c.push(["IneticLife",
"B2-an3-k/S2ac"]);c.push(["IronGoats","B2in36/S123a8"]);c.push(["Ising","B3e4ejr5cinqy6-ei78/S2ei3aejkr4-cny5-e678"]);c.push(["Just Friends","B2-a/S12"]);c.push(["Kgdm","B3/S2-c3-en4ceitz"]);c.push(["KineticLife","B2-an3/S2ac"]);c.push(["klife","B34n/S23"]);c.push(["Knyght","B2e3/S23-jq"]);c.push(["ktlife","B3/S2-i34nq"]);c.push(["LambdaLife","B3-k/S2-i3-k4cen"]);c.push(["Leaplized D&N","B2n3678/S3-q4678"]);c.push(["LifeWithoutGliders","B35n/S23"]);c.push(["Linea","B2-a3-i/S23-a"]);c.push(["LispLife",
"B2n3/S23-q4e8"]);c.push(["LoafLife","B2n3-q/S23"]);c.push(["longlast","B3/S234ce8"]);c.push(["lotsofdots","B2ikn34e/S023-a4ce"]);c.push(["MaritimeLife","B2i34c6cen7c8/S2-i3-q4c5a6e8"]);c.push(["maze2","B3/S234-acew"]);c.push(["Migrating Bookends","B2ein3inry/S12-n3ce"]);c.push(["MilkyLife","B3-c4c5y8/S234qy5y8"]);c.push(["Mooselife","B34kz5e7c/S23-a4ityz5k"]);c.push(["move_rep","B3-r4e5e6-n/S23cr457e"]);c.push(["Movero VIII","B2-a5k6n7c/S12-i3ij4k5j8"]);c.push(["MoveIt","B368/S23cy45-j6n"]);c.push(["movetub",
"B34e68/S245"]);c.push(["movev","B35y68/S245"]);c.push(["Movostill","B2i3acijk6i/S23-a4"]);c.push(["Movostill 2","B3acijk/S23-a4"]);c.push(["Movostill 3","B2e3aceij5-ijr/S23-a4"]);c.push(["MuddyLife","B3/S234k"]);c.push(["Nah","B345-a6/S2-a3-a4-a"]);c.push(["nonlife","B3-n/S234iz"]);c.push(["notlife","B3-q7c/S2-i3-q4q"]);c.push(["notlife (Wright)","B2k3-k/S23-a"]);c.push(["Notlife / Ace","B2-a3/S2ce"]);c.push(["Niemiec's Rule 0","B3/S2ae3aeijr4-cknqy"]);c.push(["olife","B2in3/S2-in3"]);c.push(["Omosso",
"B2k3acijr4ijqy6i7c/S2aek3ijnqr4it5n"]);c.push(["Orthogonable","B2e3aiknr4q/S1c2-in3aijry4a"]);c.push(["Particles","B2ce3i/S1c2cek"]);c.push(["Patchworks","B2-an3aiy/S2-in3cijky4-nqrz5k"]);c.push(["Pedestrian Goats","B2in38/S123a"]);c.push(["Pentadecathlife","B34e5y6cn8/S234c5e"]);c.push(["Photics I","B2ae4c678/S01e4aeqrtw5678"]);c.push(["Photics II","B2ae4cw5y6i/S01e2i4q"]);c.push(["Pi replicator life","B3-r4z5y/S238"]);c.push(["Pi-plicator","B3-ckq/S2-c34ci"]);c.push(["PiLife","B37e/S23"]);c.push(["Pilife2",
"B34c/S234y8"]);c.push(["plasma1","B012-in3-cky4ar5cjnr6ae/S05aijnr6n"]);c.push(["plife","B35j/S2-i3"]);c.push(["plife2","B35j6i/S2-i3"]);c.push(["PondLife","B36i/S2-i35i"]);c.push(["PortLife","B34cz5y/S234y8"]);c.push(["pre-X-rule","B2cei3ci4jnr5ikn/S12-ck4einqy5er6aei8"]);c.push(["Prismatika Crystallios","B2ae3r/S1e"]);c.push(["PlasmaLife","B34-air/S234-air"]);c.push(["Puffers","B3-nqr6/S235-nqr"]);c.push(["PuffLife","B34-i5-a6-a/S2-an34-akrw"]);c.push(["qlife","B3-q/S23"]);c.push(["quadraticlife",
"B34j/S23"]);c.push(["Quasilinear Collisions","B2-ak3-jnqr/S15678"]);c.push(["Rakelife","B3aij/S2-i3ajnr4arz56-a7e"]);c.push(["Rainflakes","B2-ac3aei4ey5n6n8/S02-n3aceir4ceyz5e6k"]);c.push(["RBeeLife","B34cijkq5k6i8/S2-n3-ik4cjqt5y6cin8"]);c.push(["replife","B34jy6n/S2-i3"]);c.push(["reptlife","B36-k/S2-i34q"]);c.push(["ResistantLife","B34eknqyz/S23"]);c.push(["Ribbons","B3-nqr/S23"]);c.push(["RotoBlocks","B34cyz5y8/S234y5y6n8"]);c.push(["RotoDotPuffers","B2ikn3-ejnr/S01c2cei3ay4c"]);c.push(["RotoHooks",
"B34ckyz/S234cz"]);c.push(["rgun","B34t/S2-i35a7e"]);c.push(["Rule X3VI","B2c3aei4ajnr5acn/S2-ci3-ck4in5jkq6c7c"]);c.push(["RustyLife","B34-ai/S24-air5-a"]);c.push(["Salad","B2i34c/S2-i3"]);c.push(["Sanctuary","B2ei3ci/S1c23"]);c.push(["sansdomino","B2-a/S014"]);c.push(["Savanna","B2e3aeiy4ce5i6c7e/S2-n3-a4artz5aeny6cn"]);c.push(["Scenery","B3-cnry4-acery5i/S23-a4-jknqr5y8"]);c.push(["SharkLife","B34aeiz/S2-ak34ant6cek"]);c.push(["signalife","B3aeijy5e6i/S2-c3-a4iq5k6ck"]);c.push(["SilverLife","B367/S2-i34q"]);
c.push(["SimpleInverseFire","B2-ak4568/S156ak78"]);c.push(["Simple Life","B2k34c/S2-c34z8"]);c.push(["SLHassleLife","B3-y5cr/S234w6n"]);c.push(["SlugWorld","B2e3ai4arw5678/S3-an4ar5i678"]);c.push(["SolarWorld","B2ce3ci4iyz5ce6c/S12ce3ae"]);c.push(["SmokingLife","B2i34cj6a7c8/S2-i3-a4ceit6in"]);c.push(["Smorgasbord","B2e3aijr4q/S1c23-a5"]);c.push(["snotlife","B2k3-kn/S23"]);c.push(["Snowflakes","B2ci3ai4c8/S02ae3eijkq4iz5ar6i7e"]);c.push(["Snowflakes 2","B2ci3ai4c8/S02ae3eijkq4aiz5ar6i7e"]);c.push(["SparkLife",
"B36i/S234j"]);c.push(["SparklingLife","B34cqy/S234q"]);c.push(["SparseMethuseLife","B35y/S1e2-ci3-a5i"]);c.push(["StairWorld","B2-a3i4aijk/S2a3-i4"]);c.push(["Stars","B2e3-ceny4einqwz5-cikr6cei/S1c2e3aijky4aceijrz5-cejk6-ak7c8"]);c.push(["Suns","B2ei3aeij4cjt5ky6ei/S1c2ace3jkn4aeijktw5ekry6in7e"]);c.push(["Switches","B2ei3ij4ajnr6ci/S12ce3ajn4qtz5ijnqy6c"]);c.push(["Symmetristic","B2-ak3-jnqr4ceiqtwz5-jnqr6-ak/S2-ak3-jnqr4ceiqtwz5-jnqr6-ak"]);c.push(["t4life","B34jy/S2-i3"]);c.push(["TableLife",
"B3/S23-ai4anq6n"]);c.push(["TauLife","B3-nr/S2-i34-aij"]);c.push(["tceclife","B36ce7c/S2-i34q"]);c.push(["tDryFlock","B37/S12-i4q"]);c.push(["tDryLife","B37/S2-i34q"]);c.push(["TearfulLife","B34e5c6n/S23-q"]);c.push(["tEightLife","B3/S2-i34q8"]);c.push(["testlife","B36a/S23"]);c.push(["tflock","B3/S12-i4q"]);c.push(["tHighFlock","B36/S12-i4q"]);c.push(["tHighLife","B36/S2-i34q"]);c.push(["ThisLife","B36i/S23-ce5q"]);c.push(["tlife","B3/S2-i34q"]);c.push(["tosc","B3/S234wz"]);c.push(["tosc2","B36in/S234cw"]);
c.push(["tPedestrianFlock","B38/S12-i4q"]);c.push(["tPedestrianLife","B38/S2-i34q"]);c.push(["tq6","B2i34e/S023-a4ce"]);c.push(["Traffic Flow","B2e3aciy4jnw68/S23678"]);c.push(["Train","B34t6k8/S2-i35a7e"]);c.push(["Trilobites","B3aijn4w5nq/S2ae3aijr4irz5y"]);c.push(["triship","B2a3e/S012-ai3-i45-i678"]);c.push(["Trycogene","B2ce3aijn/S2ak3-aijn4jkqty5cekr6ce8"]);c.push(["Turro","B2-a3c/S12-i"]);c.push(["Two-dots rule 1","B2ei3ci4aerw5acky6i8/S012-an3eiknq4qrty5aeik6ik8"]);c.push(["Two-dots rule 2",
"B2-ak3aen4cenrtw5iq6e/S02ac3aenqy4ejqtwy5ak6acn7"]);c.push(["Twinkles","B2in34-a/S1e2ekn34ent"]);c.push(["Virus_v2","B3-nqr6/S235"]);c.push(["Wartlife","B3aijnq6n/S2-cn3-ceky4i"]);c.push(["WetLife","B34r/S23"]);c.push(["Whichlife","B2in3aeijn/S234e"]);c.push(["Wild Seas","B2c3-cekq4ikt5i8/S2-in3-acky4aijry5eiky6i"]);c.push(["wlife","B34w/S23"]);c.push(["Worms 0","B01c2n5a/S3a5i"]);c.push(["Writers","B2-a3-inqr4c6/S23"]);c.push(["WSScentral","B3-n45qr6i/S2eik3"]);c.push(["X-rule-pre","B2cei3ci4jnr5ikn/S12aen3c4einqy5er6aei8"]);
c.push(["xtdbee","B3-k/S23"]);c.push(["xvaLifeg","B2e3/S23"]);c.push(["Ylife","B2e3ai4ar/S23-a4a"]);c.push(["ylife (BokaBB)","B34y5y/S234y5y"]);c.push(["zigzag","B3/S2-k34q"]);c.push(["ZombieLife","B3-nqy4aqz5cn6n8/S2-i3-a4inqz7c8"]);d.push("INT M G");c.push(["Isotropic Non-Totalistic Generations Moore",""]);c.push(["HTech","234e/2e3/3"]);c.push(["Jellyfish","2ak34-a5-i/2c36k7/4"]);c.push(["KST","1234-i5anq6kn/3r4kr5eiq6ack7e/3"]);c.push(["Simple Brain","234e/e3/3"]);c.push(["Sliders","012-e3-ae4acnqyz5acer6acn78/3j4-eikq5c/3"]);
c.push(["tGeneC1WC0","2-i34q/2c34w5c/4"]);d.push("LtL M");c.push(["Larger than Life Moore",""]);c.push(["Balloons","R2,C2,M1,S7..10,B7..11,NM"]);c.push(["Bosco's Rule","R5,C2,M1,S34..58,B34..45,NM"]);c.push(["Bosco Analogue","R5,C2,M1,S34..53,B31..42,NM"]);c.push(["Bugs R3","R3,C2,M1,S14..23,B14..18,NM"]);c.push(["Bugs R4","R4,C2,M1,S23..39,B23..30,NM"]);c.push(["Bugs R6","R6,C2,M1,S47..81,B47..63,NM"]);c.push(["Bugs R6 variant","R6,C2,M1,S47..81,B47..71,NM"]);c.push(["Bugs R7","R7,C2,M1,S63..108,B63..84,NM"]);
c.push(["Bugs R9","R9,C2,M1,S101..173,B101..134,NM"]);c.push(["Bugs R10","R10,C2,M1,S124..211,B124..164,NM"]);c.push(["Bugs R10 variant","R10,C2,M1,S124..211,B124..166,NM"]);c.push(["Bugs R12","R12,C2,M1,S175..300,B175..232,NM"]);c.push(["Bugs R13","R13,C2,M1,S205..349,B205..271,NM"]);c.push(["Bugs R14","R14,C2,M1,S236..403,B236..313,NM"]);c.push(["Bugs R15","R15,C2,M1,S269..461,B270..357,NM"]);c.push(["Bugs R100 variant","R100,C2,M1,S11303..19361,B11100..14996,NM"]);c.push(["Bugsmovie","R10,C2,M1,S123..212,B123..170,NM"]);
c.push(["Globe","R8,C2,M1,S164..224,B74..252,NM"]);c.push(["Majorly","R7,C2,M1,S113..225,B113..224,NM"]);c.push(["Mini Bugs","R2,C2,M1,S7..10,B7..8,NM"]);c.push(["Miniature Bugs","R3,C2,M1,S15..22,B14..25,NM"]);c.push(["Pigs","R2,C2,M1,S10..19,B4..4,NM"]);c.push(["Quadratic Bugs","R6,C2,M1,S47..81,B47..61,NM"]);c.push(["Rasta Bugs","R5,C2,M1,S41..59,B32..50,NM"]);c.push(["Smudge","R2,C2,M1,S7..11,B8..8,NM"]);c.push(["Stones","R5,C2,M1,S29..58,B38..61,NM"]);c.push(["Soldier Bugs","R7,C2,M1,S65..114,B65..95,NM"]);
c.push(["Suicidal Bugs","R5,C2,M1,S37..59,B33..49,NM"]);c.push(["Waffle","R7,C2,M1,S100..200,B75..170,NM"]);c.push(["Waving human intestines","R20,C2,M1,S1..21,B1..5,NM"]);d.push("LtL M G");c.push(["Generations Larger than Life Moore",""]);c.push(["Fire rule","R5,C6,M1,S31..43,B15..25,NM"]);c.push(["Fire whirl","R8,C6,M1,S46..91,B65..100,NM"]);c.push(["ModernArt","R10,C255,M1,S2..3,B3..3,NM"]);d.push("HROT vN");c.push(["Higher-Range Outer-Totalistic von Neumann",""]);c.push(["Fredkin2 R2","R2,C2,S0,2,4,6,8,10,12,B1,3,5,7,9,11,NN"]);
c.push(["Parity R2","R2,C2,S1,3,5,7,9,11,B1,3,5,7,9,11,NN"]);d.push("HROT M");c.push(["Higher-Range Outer-Totalistic Moore",""]);c.push(["Fredkin R2","R2,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,B1,3,5,7,9,11,13,15,17,19,21,23"]);c.push(["Fredkin R3","R3,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);c.push(["Fredkin R4","R4,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);
c.push(["Replicator R2","R2,C2,S1,3,5,7,9,11,13,15,17,19,21,23,B1,3,5,7,9,11,13,15,17,19,21,23"]);c.push(["Replicator R3","R3,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);c.push(["Replicator R4","R4,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);
d.push("MAP NINT");c.push(["MAP Non-Isotropic",""]);c.push(["2CellSlug","MAPBTDe/yAA9/8AAP//AAD//yAA/78AAP//AID//wAA//8AAP//AAD/2wAA//8AgP//AAD//4AA//+AAH//AAD//w"]);c.push(["BLAHTWOCELLGUN","MAPAMB/vwAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);c.push(["FoxLife","MAPARYXfhZofugWaH7oaIFoxBZofuhogOiAaIFoxIAAgAAWaH7oaIFoxGiA6ICAAIAAaIFoxIAAgACAAIAAAAAAAA"]);c.push(["MovingStrings","MAPARH+/wMT//8BEf7/AxP//wER/v8DE///AREAAAMTAAABEf7/AxP//wER/v8DE///AREAAAMTAAABEQAAAxMAAA"]);
c.push(["MuzikThing","MAPACD//wAA3/8AgH//AAD//wCAf/8AAP//AAD//wAA//8AAH//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//w"]);c.push(["MyEntry","MAPIAD/7wgA/f8AAP//AAD//wAA//8AAP//AAD/fwAA//8AAP//AAD//wAA//8AAP//AAD//4AA//8AAP//AAD//w"]);c.push(["OLife","MAPABD/vgIB//8AAP//AAD//wAA/78AAN3/AJB/vwAAf/8AAP//AABd/wAA//8AAP//AAD//4IA//8AAP//AIB//w"]);c.push(["Rhufo","MAPARH//wMA//8AAP9/AAD//wAA//8AAP9/AAD//wAA//8AAP//AAB//wAA//8AAP//AAD//wAA//8AAH9/AAB//w"]);c.push(["Rhufo2","MAPARH//wMA//8AAH9/AAD//wAAX/8AAP9/AAB/7wAA//8AAH//AAB//wAA//8AAP//AAB//wAA/f8AAH8/AAB3/w"]);
c.push(["SemiFelineLife","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaICatGiA6ICAAIAAaICatIAAgACAAIAAAAAAAA"]);c.push(["Simple_Weird_Ships","MAPABHs/wMA//8AAP//AAD//wAA/38AAP//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);c.push(["Socrates","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaIDogGiA6ICAAIAAaIDogIAAg00IAmSocrateg"]);d.push("Weighted");c.push(["Weighted",""]);c.push(["Ben's rule","R1,C2,S3,5,8,B4,6,8,NW323202323"]);c.push(["Border","R1,C2,S10-16,B1-8,NW010101010901010101"]);
c.push(["Bricks","R1,C3,S10,12,14,16,B7,13,NW525202525"]);c.push(["Bustle","R1,C4,S2,4-5,7,B3,NW212101212"]);c.push(["Career","R1,C2,S2-3,B3,NW121101111"]);c.push(["Cloud54","R1,C2,S2-3,9-10,19,27,B3,10,27,NW010109010009010909"]);c.push(["Cloud75","R1,C2,S2-4,10-11,13,18,21-22,27,29-31,36-40,B3,10,27,NW010109010009010909"]);c.push(["Conway","R1,C2,S2-3,6-7,10-11,15,B3,7,11,15,NW515101515"]);c.push(["Conway--","R1,C2,S3,6-7,10-11,15,B3,7,11,15,NW515101515"]);c.push(["Conway++","R1,C2,S2-3,6-7,10-11,15,20,B3,7,11,15,NW515101515"]);
c.push(["Conway+-1","R1,C2,S2-3,6-7,10,12,15,B3,7,11,15,NW515101515"]);c.push(["Conway+-2","R1,C2,S2-3,7,10-13,15,B3,7,11,15,NW515101515"]);c.push(["CrossPorpoises","R1,C2,S2-3,6-10,12-13,B5,NW141404140"]);c.push(["Cyclish","R1,C7,S2,B1-3,NW010101010"]);c.push(["Cyclones","R1,C5,S2,4-5,B2-5,NW110101011"]);c.push(["Dragon","R1,C2,S1-2,7-8,12,15,18,20,B7,11-13,20,NW515101515"]);c.push(["Emergence","R1,C2,S2-4,10-11,16-17,24-25,B3-4,9,24,NW010801010001080801"]);c.push(["Fire-flies","R1,C9,S1,10,B6,11-12,21,NW010501050a05010501"]);
c.push(["Fleas","R1,C2,S2-3,6-7,10-11,15,20,B2,11,NW515101515"]);c.push(["Fleas2","R1,C2,S1-2,5,7,10-11,B2,4,8,11,NW515101515"]);c.push(["NoFleas2","R1,C2,S2-3,5-7,10-11,B2,4,8,11,NW515101515"]);c.push(["FroggyHex","R1,C2,S1,6,8,B5-6,NW410104041H"]);c.push(["Frost M","R1,C25,S,B1,NW111101111"]);c.push(["Frost N","R1,C25,S,B1,NW010101010"]);c.push(["Gnats","R1,C2,S0-2,11,19,B11,19,NW090109010001090109"]);c.push(["HexParity","R1,C2,S0,2,4,6,B1,3,5,NW110101011H"]);c.push(["Hextenders","R1,C10,S1,3-5,B2-3,NW110101011H"]);
c.push(["Hex Inverse Fire","R1,C2,S2-3,6-9,11-15,B5,10-11,14-15,NW410104041H"]);c.push(["HGlass","R1,C2,S1-3,11,21,25,29-31,B1-3,11,21,25,29-31,NW000200080110000400"]);c.push(["Hogs","R1,C2,S2-4,6,B5-6,NW023302230H"]);c.push(["Jitters","R1,C2,S4,14,B1,4,9,NW995505599"]);c.push(["Lemmings","R1,C2,S3-6,B4,NW121202131"]);c.push(["Linguini","R1,C2,S2-4,9-11,19-20,B11,18,NW090109010001090109"]);c.push(["Madness","R1,C2,S8,10,12,14,B5,8,13,NW232303232"]);c.push(["MazeMakers","R1,C2,S2-3,6-10,12-13,B5,NW441404141"]);
c.push(["MidgeDN","R1,C9,S0,2-3,B4-6,NW222101212"]);c.push(["Midges","R1,C4,S3,5-6,B4-6,NW121232121"]);c.push(["MikesAnts","R1,C2,S4-5,B2,5-6,NW011100111"]);c.push(["Mosquito","R1,C2,S3-4,8-9,B2-3,9,NW995505599"]);c.push(["Mosquito2","R1,C2,S3-4,8-9,B3,6,9,18,NW995505599"]);c.push(["Navaho1","R1,C12,S8-9,11,B2,5,NW414575414"]);c.push(["Nocturne","R1,C4,S1,6,B2-4,NW110101011"]);c.push(["Parity","R1,C2,S1,3,5,B1,3,5,NW010111010"]);c.push(["Pictures","R1,C2,S1-3,B2-4,NW010101010"]);c.push(["PicturesH",
"R1,C9,S1-3,B2-4,NW010101010"]);c.push(["Pinwheels","R1,C7,S2,B2-3,NW110101011"]);c.push(["PipeFleas","R1,C3,S3-4,7,11-15,17-18,20,22-23,B6,10,NW515101515"]);c.push(["PreHogs","R1,C2,S3-4,6,B5-6,NW230302023"]);c.push(["PuttPutt","R1,C2,S1-4,9,18,27,36,40,B2,4,11,18-19,36,40,NW090109010001090109"]);c.push(["SEmigration","R1,C2,S2-3,6-7,10-12,B7,11-12,16,NW515100505"]);c.push(["Simple","R1,C2,S1,5,B2,10,NW515101515"]);c.push(["Simple Inverse","R1,C2,S1,4-5,8-9,12-13,16-24,B2,9-10,13-14,17-18,21-22,24,NW515101515"]);
c.push(["Simple Inverse Fire","R1,C2,S1,5,9,13,17-19,21,23-24,B2,4,8-10,12-14,16-18,20-22,24,NW515101515"]);c.push(["Stampede","R1,C8,S4,6,9-10,B4,7,NW130303130"]);c.push(["Starburst","R1,C2,S2,4,6,B4,NW121202121"]);c.push(["Starbursts2","R1,C2,S2,4-6,B4,NW121202121"]);c.push(["Stream","R1,C2,S1,3-4,7-11,B5,7-8,10-11,NW010104041"]);c.push(["UpDown1","R1,C2,S2,4-6,9,12,16,20,B3,6,9,12,NW111404444"]);c.push(["UpDown2","R1,C2,S2-3,7,10-12,15,B3,7,11,15,NW151101555"]);c.push(["Upstream","R1,C10,S4,6,9-10,B4,7,NW130404130"]);
c.push(["Vineyard","R1,C2,S2,6,8-10,12-13,B5,NW141404040"]);c.push(["Vineyard2","R1,C2,S2,8-10,12-13,B5,NW141404040"]);c.push(["Weevils","R1,C2,S1-4,B5-6,14,NW331101133"]);c.push(["Weighted Brain","R1,C3,S3-4,7,B4-5,8,NW3323d3232"]);c.push(["Y_Chromosome","R1,C3,S2,B2,NW110101011"]);d.push("Weighted G");c.push(["Weighted Generations",""]);c.push(["WG Rule004","R1,C4,S6-11,B4,NW111101111,0201"]);c.push(["WG Rule012","R1,C6,S4-5,B5,NW111101111,021111"]);c.push(["WG Rule020","R1,C6,S5-8,B5,NW111101111,020301"]);
c.push(["WG Rule031","R1,C4,S5-7,B4,NW111101111,0210"]);c.push(["WG Rule038","R1,C5,S8,B6,9,NW111101111,03210"]);c.push(["WG Rule050","R1,C8,S4-8,B6,NW111101111,02120300"]);c.push(["WG Rule063","R1,C5,S6-7,9-11,B7,10,NW212101212,03101"]);c.push(["WG Rule071","R1,C6,S8-16,B6,NW111101111,031012"]);c.push(["WG Rule072","R1,C6,S8-16,B6,NW111101111,030112"]);c.push(["WG Rule074","R1,C5,S4-8,B3,NW111101111,02001"]);c.push(["WG Rule084","R1,C7,S5-6,B5,NW212101212,0121001"]);d.push("Alt OT M");c.push(["Alternating Outer-Totalistic Moore",
""]);c.push(["alternlife","B13/S012345678|B/S15"]);c.push(["comb395","B3/S1237|B2/S"]);c.push(["comb625","B3/S348|B2/S356"]);c.push(["Dotlesslife","B3/S23|B/S12345678"]);c.push(["Fizzler","B13/S3|B/S345678"]);c.push(["Jelly","B3/S135|B2/S5"]);c.push(["Phoenix","B24/S|B35/S"]);d.push("Alt INT M");c.push(["Alternating Non-Totalistic Moore",""]);c.push(["SparklessLife","B3/S23|B/S1c2345678"]);c.push(["Unidim1","B134578/S02345678|B6i7/S268"]);c.push(["Unidim2","B12ci34578/S02345678|B7/S268"]);c.push(["Unidim3",
"B12ci34578/S02345678|B6i7/S268"]);this.Xc[0][2]=!1;this.Xc[0][3]=!1;for(a=1;a<this.Xc.length;a+=1)for(c=this.Xc[a][1],d=this.Xc[a][0],this.Xc[a][2]=!1,this.Xc[a][3]=!1,b=0;b<a;b+=1)this.Xc[b][0]===d&&(this.Xc[b][3]=!0,this.Xc[a][3]=!0),this.Xc[b][1]===c&&(this.Xc[b][2]=!0,this.Xc[a][2]=!0)},Ko:function(a){var b=null,c=0;for(a=a.replace(/&amp;/g,"&");c<this.Xc.length&&null===b;)""!==this.Xc[c][1]&&this.Xc[c][0]===a&&(b=this.Xc[c][1]),c+=1;if(!b)for(a=a.toLowerCase(),c=0;c<this.Xc.length&&null===b;)""!==
this.Xc[c][1]&&this.Xc[c][0].toLowerCase()===a&&(b=this.Xc[c][1]),c+=1;return b},Jo:function(a){for(var b=null,c=0;c<this.Xc.length&&null===b;)""!==this.Xc[c][1]&&this.Xc[c][1]===a&&(b=this.Xc[c][0]),c+=1;"Conway's Life"===b&&(b="Life");return b}};kb.prototype.V=function(){var a=!1;if(""!==this.message||""!==this.i)a=!0;return a};kb.prototype.clear=function(a,b){a?""!==this.i&&(b||this.u?(this.i="",this.u=!1):(this.L=performance.now()-(this.D+this.I),this.u=!0)):""!==this.message&&(b||this.s?(this.s=
!1,this.message=""):(this.startTime=performance.now()-(this.M+this.O),this.s=!0))};kb.prototype.notify=function(a,b,c,d,f){this.T&&(f?this.i!==a&&(this.i=a,this.D=16*b,this.I=16*c,this.W=16*d,this.L=performance.now(),this.u=!1,this.l=0,this.A=!1):(this.message=a,this.M=16*b,this.O=16*c,this.Y=16*d,this.startTime=performance.now(),this.s=!1))};kb.prototype.da=function(){var a=128>this.l?this.l/128:(255-this.l)/128;this.h.fillStyle="rgb("+(this.C.eb*a+this.C.Zb*(1-a))+","+(this.C.cb*a+this.C.Yb*(1-
a))+","+(this.C.bb*a+this.C.Xb*(1-a))+")"};kb.prototype.B=function(a,b,c){var d=this.h.measureText(a).width>>1;if(this.R){this.h.fillStyle=this.ca;var f=this.h.globalAlpha;this.h.globalAlpha=.5*f;this.h.fillRect(-d-20,-c,2*d+40,2*c);this.h.globalAlpha=f}this.h.fillStyle=this.X;this.h.fillText(a,-d+2,2);b?this.A?(this.da(),this.l=this.l+4&255):this.h.fillStyle=this.v:this.h.fillStyle=this.m;this.h.fillText(a,-d,0)};kb.prototype.Z=function(a,b,c,d,f,e,g){var k=30*this.o,l=32*this.o,p=this.C.Ta,n=60*
this.o,q=!0;this.C.V?(n=0,e=this.h.canvas.height/2,this.R=!0):this.R=!1;""!==a&&(q=!1,f=performance.now()-f,this.h.save(),this.C.L&&(g?(n=0,e=this.h.canvas.height/2):(k/=p,l=l/p|0,e=e/p|0,n=n/p|0)),this.h.font=(k|0)+"px Arial",this.h.translate(this.h.canvas.width/2-1,n+e),f<=b?(e=f/b,e*=e,this.h.globalAlpha=e,this.h.scale(e,e)):f>b+c&&f<=b+c+d&&(e=(d-(f-(b+c)))/d,e*=e,this.h.globalAlpha=e,this.h.scale(e,e)),f>b+c+d?q=!0:(b=a.indexOf("\\n"),-1===b?this.B(a,g,l):(this.B(a.substring(0,b),g,l),this.h.translate(0,
l),this.B(a.substring(b+2),g,l))),this.h.restore());return q};kb.prototype.$=function(){var a=this.C.h.D;this.Z(this.message,this.M,this.O,this.Y,this.startTime,81*a,!1)&&(this.message="");this.C.L&&"Expand"!==this.i&&"Launch"!==this.i||!this.Z(this.i,this.D,this.I,this.W,this.L,45*a,!0)||(this.i="")};sb.prototype.R=function(a){this.s=a};sb.prototype.A=function(a,b,c,d){var f,e,g=this.u.length,k,l,p=this.O;if(0<this.v.width){this.oe||(this.width=this.v.width,this.height=this.v.height,this.i=document.createElement("canvas"),
this.i.width=this.width,this.i.height=this.height,this.l=this.i.getContext("2d"),this.B=new Image,this.D=new Image);if(this.o){this.l.clearRect(0,0,this.i.width,this.i.height);this.l.drawImage(this.v,0,0);var n=this.l.getImageData(0,0,this.i.width,this.i.height);var q=new Uint32Array(n.data.buffer);-1===p&&(p=4294901503);for(f=e=0;f<g;f+=1){for(l=38;1<l;--l){var m=e+l*this.width;var r=m-2-this.width-this.width;for(k=38;1<k;--k)0===q[m+k]&&4294967295===q[r+k]&&(q[m+k]=p)}e+=40}for(f=0;f<q.length;f+=
1)if(4294967295===q[f]||4285558896===q[f])q[f]=this.L;this.l.putImageData(n,0,0);this.D.src=this.i.toDataURL("image/png");this.l.clearRect(0,0,this.i.width,this.i.height);this.l.drawImage(this.v,0,0);n=this.l.getImageData(0,0,this.i.width,this.i.height);q=new Uint32Array(n.data.buffer);for(f=e=0;f<g;f+=1){for(l=38;1<l;--l)for(m=e+l*this.width,r=m-2-this.width-this.width,k=38;1<k;--k)0===q[m+k]&&4294967295===q[r+k]&&(q[m+k]=p);e+=40}for(f=0;f<q.length;f+=1)4294967295===q[f]?q[f]=this.M:4285558896===
q[f]&&(q[f]=this.I);this.l.putImageData(n,0,0);this.oe=this.o=!1}this.oe||(this.B.src=this.i.toDataURL("image/png"),this.oe=!0);1!==this.s&&(this.m.save(),this.m.translate(b,c),this.m.scale(this.s,this.s),this.m.imageSmoothingEnabled=!0,c=b=0);d?this.m.drawImage(this.D,a.Gn*a.width,0,a.width,a.height,b,c,a.width,a.height):this.m.drawImage(this.B,a.Gn*a.width,0,a.width,a.height,b,c,a.width,a.height);1!==this.s&&(this.m.restore(),this.m.imageSmoothingEnabled=!1)}};sb.prototype.length=function(){return this.u.length};
sb.prototype.h=function(a){var b,c=this.u,d=this.length(),f=null;for(b=0;b<d&&!f;)c[b].name===a?f=c[b]:b+=1;return f};sb.prototype.add=function(a,b,c){var d=this.u.length;a=new pc(a,b,c,d);this.u[d]=a};var ba={cs:0,ne:1,vertical:2,Rl:0,button:1,$e:2,list:3,label:4,Aj:0,yb:1,left:0,Gx:1,right:2,Sa:0,ic:1,Vp:2,Bb:3,Yl:4,xg:5,pw:6,$c:7,$a:8};Wa.prototype.m=function(a){!this.G&&a&&(this.G=!0)};Wa.prototype.Sb=function(a){this.fontSize=parseInt(a.substring(0,a.indexOf("px")),10);this.pa=a.substring(a.indexOf("px")+
3)};Wa.prototype.va=function(a,b,c,d,f,e){this.A=a;this.jc=b;this.Y=c;this.la=d;this.D=f;this.W=e;if(this.type===ba.list)for(this.M=[],a=0;a<this.i.length;a+=1)this.M[a]=this.jc};Wa.prototype.gf=function(a){this.O=a};Wa.prototype.ya=function(a){this.oa=a};Wa.prototype.s=function(a){this.R=a};Wa.prototype.setPosition=function(a,b,c){this.position=a;this.ka=b;this.R=c};Wa.prototype.wa=function(a,b){var c=this.sa.s,d=this.sa.D,f=this.ka*c,e=this.R*d;c*=this.O;d*=this.oa;this.x=f;this.y=e;this.width=
c;this.height=d;switch(this.position){case ba.Sa:this.x=(a-c>>1)+f;break;case ba.ic:this.x=a+f;break;case ba.Vp:this.y=(b-d>>1)+e;this.x=a+f;break;case ba.Bb:this.x=a+f;this.y=b+e;break;case ba.Yl:this.x=(a-c>>1)+f;this.y=b+e;break;case ba.xg:this.y=b+e;break;case ba.pw:this.y=(b-d>>1)+e;break;case ba.$a:this.x=(a-c>>1)+f,this.y=(b-d>>1)+e}};Wa.prototype.ra=function(a,b){var c=this.ja;this.Z[c]=[a,b];this.ja=c+1};Wa.prototype.fa=function(a){var b=[],c;var d=a.length;for(c=0;c<d;c+=1)a[c].ra(this,
!0);d=b.length;for(c=0;c<d;c+=1)b[c].ra(this,!1)};Wa.prototype.xa=function(a,b){var c=!1;this.B&&a>=this.x&&a<this.x+this.width&&b>=this.y&&b<this.y+this.height&&(c=!0);return c};Va.prototype.La=function(a){this.D=this.s=a;this.U.notification.o=a};Va.prototype.Ba=function(a,b,c,d,f,e){var g;this.fa=a;this.jc=b;this.ga=c;this.ja=d;this.ha=f;this.ca=e;for(g=0;g<this.u.length;g+=1)this.u[g].va(a,b,c,d,f,e)};Va.prototype.wa=function(a,b){var c=!1,d=a.ja;a.type===ba.list&&a.u===ba.yb?c=a.current[0]:c=
a.current===a.u;if(c&&b)for(b=0;b<d;b+=1)c=c&&this.wa(a.Z[b][0],a.Z[b][1]);return c};Va.prototype.ya=function(a){var b,c=a.ja;var d=!0;for(b=0;b<c;b+=1)d=d&&this.wa(a.Z[b][0],a.Z[b][1]);a.B=d};Va.prototype.oe=function(){var a;for(a=0;a<this.o;a+=1){var b=this.u[a];b.B=!0;switch(b.type){case ba.Rl:b.oc&&(b.current=b.oc(b.current,!1,this.caller));break;case ba.list:b.oc&&(b.current=b.oc(b.current,!1,this.caller))}this.ya(b)}};Va.prototype.m=function(a,b,c,d,f,e,g,k,l){this.u[this.o]=new Wa(this.o,a,
this.caller,b,c,d,f,e,g,l,k,ba.list,this.V,!0,"","",-1,[],this);this.o+=1;return this.u[this.o-1]};Va.prototype.I=function(a,b,c,d,f,e,g,k,l,p,n,q){this.u[this.o]=new Wa(this.o,a,this.caller,b,c,d,f,e,g,k,l,ba.Rl,this.V,!0,p,n,q,null,this);this.o+=1;return this.u[this.o-1]};Va.prototype.l=function(a,b,c,d,f,e){this.u[this.o]=new Wa(this.o,null,null,a,b,c,d,f,0,0,0,ba.label,this.V,!0,e,"",-1,null,this);this.o+=1;return this.u[this.o-1]};Va.prototype.i=function(a,b,c,d,f,e){this.u[this.o]=new Wa(this.o,
a,this.caller,b,c,d,f,40,0,0,0,ba.button,this.V,!0,e,"",-1,null,this);this.o+=1;return this.u[this.o-1]};Va.prototype.Da=function(a){this.u[this.o]=new Wa(this.o,null,null,a,0,-40,100,40,0,100,0,ba.$e,this.V,!1,"","",0,null,this);this.o+=1;return this.u[this.o-1]};Va.prototype.T=function(a,b){var c="";a+=String();if(""!==a){this.h.save();this.h.translate(b.x+b.width/2,b.y+b.height/2);this.h.font=(b.fontSize*this.s|0)+"px "+b.pa;b.V===ba.vertical&&this.h.rotate(.5*Math.PI);var d=this.h.measureText(a).width;
var f=b.V===ba.vertical?b.height:b.width;if(d>=f-6){var e=a.length;var g=0;if(e){do c=a.substring(0,g)+"\u2026",d=this.h.measureText(c).width,g+=1;while(g<e&&d<=f-10);c=a.substring(0,g-1)+"\u2026"}a=c}switch(b.l){case ba.left:var k=b.width/2-2;break;case ba.Gx:k=d/2;break;case ba.right:k=d/2-(b.width-d)/2+4}this.h.fillStyle=b.jc;this.h.fillText(a,2-k+.5,2.5);this.h.fillStyle=!b.locked&&!this.locked||b.L?b.A:b.D;this.h.fillText(a,-k+.5,.5);this.h.restore()}};Va.prototype.Ga=function(a){this.h.globalAlpha=
this.R;this.T(a.tb,a)};Va.prototype.Ea=function(a){this.h.globalAlpha=this.R;this.T(a.tb,a)};Va.prototype.Ja=function(a){var b=(a.current-a.i)/(a.u-a.i);this.h.globalAlpha=a.v;this.h.fillStyle=a.A;a.orientation===ba.ne?(b*=a.width-3,this.h.fillRect(a.x+(b+1|0),a.y,1,a.height)):(b*=a.height-3,this.h.fillRect(a.x,a.y+(b+1|0),a.width,1));b=a.tb;a.ua&&(b=-1!==a.ca?b+a.current.toFixed(a.ca):b+a.current,b+=a.ta);""!==b&&(this.h.globalAlpha=a.X,this.T(b,a))};Va.prototype.Ka=function(a,b){var c=(a.current[0]-
a.i)/(a.u-a.i);var d=this.xa;a.orientation===ba.ne?(c*=a.width-3,c=c+1|0,b&&(this.h.fillStyle=a.Y,this.h.globalAlpha=a.da,this.h.fillRect(a.x+c-d,a.y,d,a.height),this.h.fillRect(a.x+c+1,a.y,d,a.height)),!a.locked&&!this.locked||a.L?(this.h.fillStyle=a.A,this.h.globalAlpha=a.X):(this.h.fillStyle=a.D,this.h.globalAlpha=a.T),this.h.fillRect(a.x+c,a.y,1,a.height)):(c*=a.height-3,c=c+1|0,b&&(this.h.fillStyle=a.Y,this.h.globalAlpha=a.da,this.h.fillRect(a.x,a.y+c-d,a.width,d),this.h.fillRect(a.x,a.y+c+1,
a.width,d)),!a.locked&&!this.locked||a.L?(this.h.fillStyle=a.A,this.h.globalAlpha=a.X):(this.h.fillStyle=a.D,this.h.globalAlpha=a.T),this.h.fillRect(a.x,a.y+c,a.width,1));b=a.tb;a.ua&&(b=0<=a.ca?b+a.current[1].toFixed(a.ca):b+a.current[1]);b+=a.ta;""!==b&&(this.h.globalAlpha=this.R,this.T(b,a))};Va.prototype.Ha=function(a,b){var c=a.x;var d=a.y,f=a.width,e=a.height,g=a.orientation,k=a.current;var l=a.i;var p=l.length;var n=a.orientation===ba.ne?f/p:e/p;this.h.globalAlpha=a.qa;this.h.fillStyle=a.la;
if(a.u===ba.Aj){var q=a.current;0<=q&&q<p&&(a.orientation===ba.ne?this.h.fillRect(c+q*n+1,d+1,n-2,e-2):this.h.fillRect(c+1,d+1+q*n,f-2,n-2))}else if(a.orientation===ba.ne){for(q=0;q<p;q+=1)k[q]&&this.h.fillRect(c+q*n+1,d+1,n-2,e-2);1===p&&(!a.locked&&!this.locked||a.L?(this.h.strokeStyle=a.W,this.h.globalAlpha=a.$):(this.h.strokeStyle=a.D,this.h.globalAlpha=a.T),this.h.beginPath(),k[0]?(this.h.moveTo(c+n-6+.5,d+5.5),this.h.lineTo(c+n-2+.5,d+1.5),this.h.moveTo(c+n-2+.5,d+5.5),this.h.lineTo(c+n-6+.5,
d+1.5)):(this.h.moveTo(c+n-4+.5,d+5.5),this.h.lineTo(c+n-4+.5,d+1.5),this.h.moveTo(c+n-6+.5,d+3.5),this.h.lineTo(c+n-2+.5,d+3.5)),this.h.stroke())}else for(q=0;q<p;q+=1)k[q]&&this.h.fillRect(c+1,d+1+q*n,f-2,n-2);a.ga=!1;b?(this.h.globalAlpha=a.da,this.h.fillStyle=a.Y,a.orientation===ba.ne?(q=(this.v-c)/f*p|0,0<=q&&q<p&&(a.o[q]?a.ga=!0:this.h.fillRect(c+q*n+.5,d+.5,n-1,e-1))):(q=(this.B-d)/e*p|0,0<=q&&q<p&&(a.o[q]?a.ga=!0:this.h.fillRect(c+.5,d+.5+q*n,f-1,n-1))),a.I=q):a.I=-1;this.h.globalAlpha=this.R;
if(a.orientation===ba.ne)for(q=0;q<p;q+=1)a.h[q]&&this.X.A(a.h[q],a.x+n*q,a.y,this.locked||a.locked||a.o[q]);else for(q=0;q<p;q+=1)a.h[q]&&this.X.A(a.h[q],a.x,a.y+n*q,this.locked||a.locked||a.o[q]);this.h.globalAlpha=a.X;this.h.fillStyle=a.A;if(g===ba.ne)for(q=0;q<p;q+=1)c=l[q],""!==c&&(this.h.save(),this.h.translate((.5+(q-p/2))*n,0),this.T(c,a),this.h.restore());else for(q=0;q<p;q+=1)c=l[q],""!==c&&(this.h.save(),this.h.translate(0,(.5+(q-p/2))*n),this.T(c,a),this.h.restore())};Va.prototype.Fa=
function(a,b,c,d,f){var e=!0;b&&!this.A&&f&&(e=!1);e&&(c===d||-1===d&&b)&&a.type===ba.button?(this.h.fillStyle=a.Y,this.h.globalAlpha=a.da):(this.h.fillStyle=a.jc,this.h.globalAlpha=a.v);switch(a.type){case ba.$e:f=(a.current-a.i)/(a.u-a.i);this.h.fillStyle=a.la;this.h.globalAlpha=a.qa;a.orientation===ba.ne?(f*=a.width-3,f=f+1|0,this.h.fillRect(a.x,a.y,f,a.height),this.h.fillStyle=a.jc,this.h.globalAlpha=a.v,this.h.fillRect(a.x+f,a.y,a.width-f,a.height)):(f*=a.height-3,f=f+1|0,this.h.fillRect(a.x,
a.y,a.width,f),this.h.fillStyle=a.jc,this.h.fillRect(a.x,a.y+f,a.width,a.height-f));break;case ba.Rl:f=(a.current[0]-a.i)/(a.u-a.i);if(e&&(c===d||-1===d&&b)){var g=this.xa;if(a.orientation===ba.ne){f*=a.width-3;f=f+1|0;var k=f-g;0<k&&this.h.fillRect(a.x,a.y,k,a.height);k=1+f+g;k<a.width&&this.h.fillRect(a.x+k,a.y,a.width-k,a.height)}else f*=a.height-3,f=f+1|0,k=f-g,0<k&&this.h.fillRect(a.x,a.y,a.width,k),k=1+f+g,k<a.height&&this.h.fillRect(a.x,a.y+k,a.width,a.height-k)}else this.h.fillRect(a.x,a.y,
a.width,a.height);break;case ba.list:g=a.i.length;if(a.orientation===ba.ne)for(k=a.width/g,f=0;f<g;f+=1)this.h.fillStyle=a.M[f],this.h.fillRect(a.x+f*k+1,a.y+1,k-2,a.height-2);else for(k=a.height/g,f=0;f<g;f+=1)this.h.fillStyle=a.M[f],this.h.fillRect(a.x+1,a.y+1+f*k,a.width-2,k-2);break;default:this.h.fillRect(a.x,a.y,a.width,a.height)}a.type!==ba.list&&a.h&&(this.h.globalAlpha=a.X,this.X.A(a.h,a.x,a.y,this.locked||a.locked));if(0<a.border)switch(!a.locked&&!this.locked||a.L?(this.h.strokeStyle=a.W,
this.h.globalAlpha=a.$):(this.h.strokeStyle=a.D,this.h.globalAlpha=a.T),this.h.lineWidth=a.border,a.type){case ba.label:break;case ba.list:g=a.i.length;if(a.orientation===ba.ne)for(k=a.width/g,f=0;f<g;f+=1)this.locked||a.locked||a.o[f]?(this.h.strokeStyle=a.D,this.h.globalAlpha=a.T):(this.h.strokeStyle=a.W,this.h.globalAlpha=a.$),this.h.strokeRect(a.x+.5+f*k,a.y+.5,k-1,a.height-1);else for(k=a.height/g,f=0;f<g;f+=1)this.locked||a.locked||a.o[f]?(this.h.strokeStyle=a.D,this.h.globalAlpha=a.T):(this.h.strokeStyle=
a.W,this.h.globalAlpha=a.$),this.h.strokeRect(a.x+.5,a.y+.5+f*k,a.width-1,k-1);break;default:this.h.strokeRect(a.x+.5,a.y+.5,a.width-1,a.height-1)}switch(a.type){case ba.button:this.Ea(a);break;case ba.label:this.Ga(a);break;case ba.Rl:this.Ka(a,e&&(c===d||-1===d&&b));break;case ba.$e:this.Ja(a);break;case ba.list:this.Ha(a,e&&(c===d||-1===d&&b))}if(c===d)switch(a.type){case ba.Rl:e=this.B,a.orientation===ba.vertical?(e<a.y?e=a.y:e>a.y+a.height-1&&(e=a.y+a.height-1),f=(e-a.y)/(a.height-1)*(a.u-a.i)+
a.i):(e=this.v,e<a.x?e=a.x:e>a.x+a.width-1&&(e=a.x+a.width-1),f=(e-a.x)/(a.width-1)*(a.u-a.i)+a.i),a.i<a.u?(f<a.i&&(f=a.i),f>a.u&&(f=a.u)):(f<a.u&&(f=a.u),f>a.i&&(f=a.i)),a.current[0]=f,a.oc&&(a.current=a.oc(a.current,!0,a.caller))}if(b&&!this.A&&a.ha)switch(a.type){case ba.button:a.oc&&a.oc(a.caller);break;case ba.list:g=a.i.length,k=a.orientation===ba.ne?(this.v-a.x)/a.width*g|0:(this.B-a.y)/a.height*g|0,a.u===ba.Aj?a.o[k]||(a.oc?a.current=a.oc(k,!0,a.caller):a.current=k):a.o[k]||(a.current[k]=
!a.current[k],a.oc&&a.oc(a.current,!0,a.caller))}b&&c===d?(a.ha=this.A,a.ma=this.v,a.na=this.B):(a.ha=!1,a.ma=-1,a.na=-1)};Va.prototype.Z=function(a){this.ta=a};Va.prototype.Aa=function(){var a,b=!1,c=this.h.canvas.width,d=this.h.canvas.height,f=-1;var e=!1;this.M=-1;if(this.G)this.A?-2!==this.L?(this.ua=this.v,this.va=this.B,this.ma=this.v,this.na=this.B,this.L=-2):this.O&&!this.locked&&this.O(this.v,this.B,this.A,this.caller):(-2===this.L&&(this.O&&!this.locked&&this.O(this.v,this.B,this.A,this.caller),
this.v===this.ua&&this.B===this.va&&this.oa&&(this.U.Z?this.U.Z=!1:this.oa(this.v,this.B,this.A,this.caller))),this.A||(this.L=-1));else{var g=this.L;this.h.textAlign="left";for(a=0;a<this.o;a+=1){var k=this.u[a];if(!k.G){k.wa(c,d);var l=!1;k.xa(this.v,this.B)&&(f=a,!k.locked&&!this.locked||k.L?l=!0:b=!0);l&&!this.A&&(this.M=a);(this.A&&-1===g&&l||l&&this.da)&&k.type!==ba.label&&(g=a,this.da&&(k.ha=!0));a!==g||!k.locked&&!this.locked||k.L||(g=-1,l=!1);k.B&&this.Fa(k,l,a,g,this.U.o)}}0<=g&&!this.A&&
(e=!0);this.A&&-1===g&&!b&&(g=-2);-2===g&&this.O&&!this.locked&&this.O(this.v,this.B,this.A,this.caller);this.A||(g=-1);this.L=g;this.h.globalAlpha=1}this.ka=0<=f&&!this.u[f].locked?this.u[f].type===ba.Rl?this.u[f].orientation===ba.cs||this.u[f].orientation===ba.ne?"ew-resize":"ns-resize":"auto":this.ta;return e};Ja.prototype.ib=function(){this.m.fillStyle=this.u;var a=this.m.fillStyle;this.eb=Number("0x"+a.substring(1,3));this.cb=Number("0x"+a.substring(3,5));this.bb=Number("0x"+a.substring(5,7));
this.m.fillStyle=this.wa;a=this.m.fillStyle;this.Zb=Number("0x"+a.substring(1,3));this.Yb=Number("0x"+a.substring(3,5));this.Xb=Number("0x"+a.substring(5,7))};Ja.prototype.hb=function(){this.fa=[];this.W=this.ca=0};Ja.prototype.Ib=function(){var a=0;0<this.W&&(a=this.ca/this.W);this.fa[this.fa.length]=a;this.W=this.ca=0};Ja.prototype.Ub=function(a){var b=-1;0<=a&&a<this.fa.length&&(b=this.fa[a]);return b};Ja.prototype.Eb=function(a,b,c,d,f,e,g){this.u=a;this.jc=b;this.Pa=c;this.wa=d;this.R=f;this.sa=
e;this.Da=g;this.h&&this.h.Ba(a,b,c,d,f,e);this.notification.m=a;this.notification.v=a;this.ib();this.notification.X=b;this.m.fillStyle=b;this.Ba=this.m.fillStyle};Ja.prototype.Rb=function(a,b,c){a=new Va(this,a,b,c,this.m,this.ka);a.fa=this.u;a.R=this.jb;a.jc=this.jc;a.$=this.ra;a.ga=this.Pa;a.qa=this.mb;a.ja=this.wa;a.sa=this.vb;a.ha=this.R;a.ra=this.ub;a.ca=this.sa;a.pa=this.Oa;a.border=this.border;return a};Ja.prototype.Tb=function(){var a=this.h,b=a.s,c=this.m,d="";var f=1;if(-1!==a.L||-1===
a.L&&-1===a.M)this.ha=a.L;if(-1===a.M||-1!==this.ha&&this.ha===a.M){if(-1!==a.M){var e=a.u[a.M];e.id===this.pa&&e.I!==this.ja&&(this.ha=-1)}50>this.s&&(this.s+=1)}else{e=a.u[a.M];e.id!==this.pa||e.id===this.pa&&e.I!==this.ja?(this.pa=e.id,this.ja=e.I,50>this.s&&(this.s+=1)):0<=this.s&&--this.s;-1!==this.ja?a=e.S[this.ja]:Array.isArray(e.S)?a="":(a=e.S,null===a&&(a=""));var g=a.indexOf("\n");if(""!==a&&-1===this.s&&!e.ga){this.ha=-1;var k=e.x;var l=e.y;var p=e.width;var n=e.height;-1!==e.I&&(e.orientation===
ba.ne?(k+=p/e.i.length*e.I,p/=e.i.length):(l+=n/e.i.length*e.I,n/=e.i.length));var q=18*b;c.font=(q|0)+"px Arial";var m=4*b;var r=c.measureText(a).width;b=Math.round(k+p/2);l=Math.round(l+n/2);b-=r/2;b<m+1?b=m+1:b+r+m>c.canvas.width&&(b=c.canvas.width-r-m-1);n>p?(-1!==this.Ja&&p<this.Ja&&(p=this.Ja),b=b>c.canvas.width/2?k-r-p/2:k+e.width+p/2):(-1!==this.Ka&&n<this.Ka&&(n=this.Ka),l=l>c.canvas.height/2?l-n:l+n);if(r>c.canvas.width){d=(r>>1)+q+m;d>c.canvas.width&&(d=c.canvas.width);for(f=1;c.measureText(a.substring(0,
f)).width<d;)f+=1;for(g=f-1;g>f-5;)d=a[g]," "===d||","===d||"/"===d||"|"===d?(f=g+2,g=f-5):--g;d=a.substring(f-1);a=a.substring(0,f-1);r=c.measureText(a).width;f=c.measureText(d).width;f>r&&(r=f);f=2}else-1!==g&&(d=a.substring(g+1),f=c.measureText(d).width,a=a.substring(0,g),r=c.measureText(a).width,f>r&&(r=f),f=2);g=q*f+2*m;2===f&&l>c.canvas.height/2&&(l-=q+m,g+=m);c.globalAlpha=this.ra;c.fillStyle=this.jc;c.fillRect((b-m|0)-.5,(l-q/2-m|0)-.5,r+2+2*m,g);c.globalAlpha=this.Oa;c.strokeStyle=this.sa;
c.strokeRect((b-m|0)-.5,(l-q/2-m|0)-.5,r+2+2*m,g);c.globalAlpha=this.ra;c.strokeStyle=this.jc;c.beginPath();c.moveTo((b-m|0)+.5,(l-q/2-m|0)+.5+g);c.lineTo((b-m|0)+.5+r+2+2*m,(l-q/2-m|0)+.5+g);c.lineTo((b-m|0)+.5+r+2+2*m,(l-q/2-m|0)+.5);c.stroke();c.globalAlpha=1;c.fillStyle=this.jc;c.fillText(a,b+2,l+2);""!==d&&c.fillText(d,b+2,l+q+m+2);c.fillStyle=this.u;f=a.indexOf("[");g=a.lastIndexOf("]");-1!==f&&-1!==g?(e=a.substring(0,f+1),r=c.measureText(e).width,c.fillText(e,b,l),c.fillStyle=this.Da,e=a.substring(f+
1,g),c.fillText(e,b+r,l),c.fillStyle=this.u,e=a.substring(g),r=c.measureText(a.substring(0,g)).width,c.fillText(e,b+r,l)):c.fillText(a,b,l);""!==d&&(f=d.indexOf("["),g=d.lastIndexOf("]"),-1!==f&&-1!==g?(e=d.substring(0,f+1),r=c.measureText(e).width,c.fillText(e,b,l+q+m),c.fillStyle=this.Da,e=d.substring(f+1,g),c.fillText(e,b+r,l+q+m),c.fillStyle=this.u,e=d.substring(g),r=c.measureText(d.substring(0,g)).width,c.fillText(e,b+r,l+q+m)):c.fillText(d,b,l+q+m))}}};Ja.prototype.Wb=function(a){var b,c,d,
f=a.m,e=90,g=1,k=1;a.L&&(e=0);a.qa=!1;a.Na=!0;a.$&&(a.h=a.$,a.$=null,f.font=a.ka,a.h.oe(),a.h.Y&&a.h.Y(a.h.caller));a.h&&(g=a.h.s,k=a.h.D);var l=f.canvas.width-86*g;e*=k;var p=performance.now();a.Ea&&(a.va=p-1E3/a.la);a.Y||a.notification.V()||a.A||50!==a.s&&-1!==a.s?(a.da(a),a.A&&--a.A,a.Ea=!1):a.Ea=!0;var n=p-a.va;a.va=p;a.h.oc&&a.h.oc(n,a.h.caller);p=performance.now()-p;var q=performance.now();a.wb();a.ta=!1;a.Tb();a.notification.$();q=performance.now()-q;a.Fa[a.ga]=q;for(d=b=0;5>d;d+=1)b+=a.Fa[d];
b/=5;a.Ha[a.ga]=p;for(d=c=0;5>d;d+=1)c+=a.Ha[d];c/=5;a.ua[a.ga]=n;for(d=n=0;5>d;d+=1)n+=a.ua[d];a.ga=(a.ga+1)%5;d=1E3/(n/5);d>a.la&&(d=a.la);this.ca+=1E3/(p+q);this.W+=1;a.v&&(f.font=(12*g|0)+"px Arial",f.globalAlpha=.7,f.fillStyle=a.jc,a.B?f.fillRect(l,e,88*g|0,83*k|0):f.fillRect(l,e,88*g|0,20*k|0),q=(c+b)/16.666666,1<q&&(q=1),f.fillStyle=.5>q?"rgb("+(510*q|0)+",255,0)":"rgb(255,"+(255*(1-2*(q-.5))|0)+",0)",f.fillRect(l,e,88*q*g|0,20*k|0),b=b.toFixed(1),c=c.toFixed(1),p=4>d.toFixed(1).length?d.toFixed(1):
String(d|0),f.globalAlpha=1,f.fillStyle=a.jc,d=p+"fps",n=f.measureText(d).width,f.fillText(d,l+36*g-n,e+12*k),d=(100*q|0)+"%",n=f.measureText(d).width,f.fillText(d,l+84*g-n,e+12*k),a.B&&(f.fillText("menu",l+6*g,e+28*k),f.fillText("work",l+6*g,e+44*k),f.fillText("update",l+6*g,e+60*k),f.fillText("focus",l+6*g,e+76*k),d=b+"ms",n=f.measureText(d).width,f.fillText(d,l+84*g-n,e+28*k),d=c+"ms",n=f.measureText(d).width,f.fillText(d,l+84*g-n,e+44*k),d=a.Y?"on":"off",n=f.measureText(d).width,f.fillText(d,
l+84*g-n,e+60*k),d=a.l?"on":"off",n=f.measureText(d).width,f.fillText(d,l+84*g-n,e+76*k)),f.fillStyle=a.u,d=p+"fps",n=f.measureText(d).width,f.fillText(d,l+34*g-n,e+10*k),d=(100*q|0)+"%",n=f.measureText(d).width,f.fillText(d,l+82*g-n,e+10*k),a.B&&(f.fillText("menu",l+4*g,e+26*k),f.fillText("work",l+4*g,e+42*k),f.fillText("update",l+4*g,e+58*k),f.fillText("focus",l+4*g,e+74*k),d=b+"ms",n=f.measureText(d).width,f.fillText(d,l+82*g-n,e+26*k),d=c+"ms",n=f.measureText(d).width,f.fillText(d,l+82*g-n,e+
42*k),d=a.Y?"on":"off",n=f.measureText(d).width,f.fillText(d,l+82*g-n,e+58*k),d=a.l?"on":"off",n=f.measureText(d).width,f.fillText(d,l+82*g-n,e+74*k)),f.globalAlpha=1);a.h.ka!==a.h.la&&(a.h.la=a.h.ka,a.T.style.cursor=a.h.la);a.La=!0};Ja.prototype.Hb=function(a){a.X=this.nb;this.h?this.$=a:(this.$=null,this.h=a,this.m.font=this.ka,this.h.oe(),this.h.Y&&this.h.Y(this.h.caller),this.da(this))};Ja.prototype.wb=function(){var a;if(this.h){var b=this.h;this.m.font=this.ka;b.v=this.D;b.B=this.I;b.A=this.X;
b.da=this.ta;if(b.Aa()||this.i){for(a=0;a<b.o;a+=1){var c=b.u[a];b.ya(c)}this.i=!1}}};Ja.prototype.da=function(a){a.qa||(requestAnimationFrame?requestAnimationFrame(a.Xa):setTimeout(a.Xa,16),a.qa=!0)};Ja.prototype.ya=function(a,b){for(var c=null,d=0;null===c&&d<a.length;)a[d].identifier===b?c=a[d]:d+=1;return c};Ja.prototype.na=function(a,b){var c=b.changedTouches;switch(b.type){case "touchstart":-1===a.O&&(c=c[0],a.O=c.identifier,a.Ua(a,c.pageX,c.pageY));break;case "touchend":c=a.ya(c,a.O);null!==
c&&(a.Wa(a,c.pageX,c.pageY),a.O=-1);break;case "touchmove":c=a.ya(c,a.O);null!==c&&a.Va(a,c.pageX,c.pageY);break;case "touchcancel":c=a.ya(c,a.O),null!==c&&a.gb(a)}a.o=!0;b.stopPropagation&&b.stopPropagation();b.cancelable&&b.preventDefault()};Ja.prototype.Ua=function(a,b,c){a.Aa(a,b,c);a.X=!0;a.Na=!1};Ja.prototype.Wa=function(a,b,c){a.Ga=performance.now();a.Aa(a,b,c);a.X=!1;a.Na||(a.ta=!0);0<=a.D&&a.D<a.T.width&&0<=a.I&&a.I<a.T.height?a.l||(a.o||a.T.focus(),a.l=!0,a.notification.clear(!0,!1),a.fb&&
a.fb(a.caller)):a.o&&a.notification.clear(!0,!1)};Ja.prototype.Va=function(a,b,c){a.Za(a);a.Aa(a,b,c)};Ja.prototype.Vb=function(a){a.Za(a)};Ja.prototype.gb=function(a){1<performance.now()-a.Ga&&(a.l||a.notification.clear(!0,!1),a.T.blur(),a.l=!1,a.X=!1,a.D=-1,a.I=-1,a.Z=!1,a.qa||(a.da(a),a.A<a.oa&&(a.A=a.oa)))};Ja.prototype.Jb=function(a,b){if(!a.M){if(b.pageX||b.pageY){var c=b.pageX;var d=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=b.clientY+document.body.scrollTop+
document.documentElement.scrollTop;a.Ua(a,c,d);b.stopPropagation&&b.stopPropagation();b.preventDefault();a.o=!1}};Ja.prototype.Qb=function(a,b){a.Ga=performance.now();if(!a.M){if(b.pageX||b.pageY){var c=b.pageX;var d=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.Wa(a,c,d);b.stopPropagation&&b.stopPropagation();b.preventDefault();a.o=!1}};Ja.prototype.Za=function(a){a.l||a.Z&&""!==a.notification.i||
(a.V?a.Qa||a.notification.notify("Copy",15,3600,15,!0):a.L?a.ma?a.notification.notify("Launch",15,3600,15,!0):a.notification.notify("Expand",15,3600,15,!0):a.notification.notify("Click to control",15,3600,15,!0),a.notification.A=!0,a.Z=!0)};Ja.prototype.Kb=function(a,b){if(!a.M){if(b.pageX||b.pageY){var c=b.pageX;var d=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.Va(a,c,d);b.stopPropagation&&
b.stopPropagation();b.preventDefault();a.o=!1}};Ja.prototype.Pb=function(a,b){a.M||(a.Vb(a),b.stopPropagation&&b.stopPropagation(),b.preventDefault(),a.o=!1)};Ja.prototype.Nb=function(a,b){a.M||(a.gb(a),b.stopPropagation&&b.stopPropagation(),b.preventDefault(),a.o=!1)};Ja.prototype.Aa=function(a,b,c){var d=this.T.getBoundingClientRect();window.scrollX?(b-=d.left+window.scrollX,c-=d.top+window.scrollY):(b-=d.left+window.pageXOffset,c-=d.top+window.pageYOffset);b/=a.xa;c/=a.xa;a.D=b-1|0;a.I=c-1|0;a.da(a);
a.A<a.oa&&(a.A=a.oa)};Ja.prototype.Ge=function(a){!a&&!this.notification.V()||this.Y||this.da(this);this.Y=a};var Ya={rules:[],gq:[],Tl:[],Sp:[],AC:function(a,b,c,d,f){var e,g=this.Tl.length,k=!1,l=a.h.toLowerCase();l=l.replace(/ /g,"_");for(e=0;e<g&&!k;){var p=this.Tl[e];p.name===l?(k=!0,p.pattern[p.pattern.length]=a,p.hp[p.hp.length]=b,p.Ho[p.Ho.length]=c,p.Fp[p.Fp.length]=d,p.view[p.view.length]=f):e+=1}k||(this.Tl[g]={name:l,pattern:[a],hp:[b],Ho:[c],Fp:[d],view:[f]});return k},oD:function(a){var b=
0,c=this.Sp.length,d=!1,f="";a=a.toLowerCase();for(a=a.replace(/ /g,"_");b<c&&!d;)this.Sp[b].name===a?(d=!0,f=this.Sp[b].definition):b+=1;return f},iF:function(a){var b,c=this.Tl.length,d=!1,f=a.h.toLowerCase();f=f.replace(/ /g,"_");for(a=0;a<c&&!d;){var e=this.Tl[a];if(e.name===f)for(d=!0,e.name="",b=0;b<e.hp.length;b+=1)null!==e.hp[b]&&(this.Qy(e.pattern[b]),e.pattern[b].U.P="",e.pattern[b].U.ab=!0,e.pattern[b].U.jj=!1,e.hp[b](e.pattern[b],e.Fp[b],e.view[b]));else a+=1}},zq:function(a){var b,c=
this.Tl.length,d=!1,f=a.h.toLowerCase();f=f.replace(/ /g,"_");for(a=0;a<c&&!d;){var e=this.Tl[a];if(e.name===f)for(d=!0,e.name="",b=0;b<e.Ho.length;b+=1)null!==e.Ho[b]&&(e.pattern[b].Ia=e.pattern[b].zA,e.Ho[b](e.pattern[b],e.Fp[b],e.view[b]));else a+=1}},add:function(a,b,c,d,f,e){var g,k=this.rules.length,l=!1,p=a.h.toLowerCase();p=p.replace(/ /g,"_");for(g=0;g<k&&!l;)this.rules[g].name===p?l=!0:g+=1;l||(this.rules[k]=null===a.qa?{name:p,Hy:!0,Ev:a.ra,IE:a.gb,KE:a.ib,LC:a.fb,AF:a.cb,BF:a.eb,Do:a.Fa,
No:a.xa,names:a.Za,ia:a.Kb,Bx:e}:{name:p,Hy:!1,Ev:a.ya,Ll:a.Ta,RC:a.Ja,Jn:a.qa,sB:a.Ka,Do:a.Fa,bD:a.hb,No:a.xa,names:a.Za,Bx:e},this.gq[k]={fetch:b|0,decode:c|0,size:d},this.Sp[k]={name:p,definition:f},this.iF(a))},Qy:function(a){var b,c=this.rules.length,d=null,f=!1,e=a.h.toLowerCase();e=e.replace(/ /g,"_");for(b=0;b<c&&!f;)this.rules[b].name===e?(f=!0,d=this.rules[b]):b+=1;f&&(a.qa=null,d.Hy?(a.ra=d.Ev,a.gb=d.IE,a.ib=d.KE,a.fb=d.LC,a.cb=d.AF,a.eb=d.BF,a.ia=d.ia):(a.ya=d.Ev,a.Ta=d.Ll,a.Ja=d.RC,a.qa=
d.Jn,a.Ka=d.sB,a.hb=d.bD,a.ia=a.Ta===Aa.vg?!0:!1),a.Fa=d.Do,a.xa=d.No,a.Za=d.names,a.ga=!1,a.U.D=d.Bx);return f}},Aa={Ai:0,wg:1,vg:2,yj:3,sv:-1,CF:0,DF:1,EF:2,GF:3,FF:["circles","diamonds","hexagons","triangles"]};jb.prototype.Xb=function(){var a=!1;this.Ia&&0!==this.B[0]&&(a=!0);return a};jb.prototype.wb=function(a){var b="";if(this.va!==a||this.wa!==a)this.va!==a&&(b+="C"+this.va),this.wa!==a&&(b+="E"+this.wa);return b};jb.prototype.Wb=function(a){this.Ga=a.Ga;this.h=a.h;this.fa=a.fa;this.ka=a.ka;
this.ga=a.ga;this.M=a.M;this.ia=a.ia;this.pa=a.pa;this.o=a.o;this.Aa=a.Aa;this.Ha=a.Ha;this.W=a.W;this.oa=a.oa;this.ja=a.ja;this.X=a.X;this.A=a.A;this.ma=a.ma;this.ta=a.ta;this.D=a.D;this.Y=a.Y;this.V=a.V;this.da=a.da;this.Ia=a.Ia;this.v=a.v;this.m=a.m;this.i=a.i;this.s=a.s;this.Z=a.Z;this.na=a.na;this.ha=a.ha;a.T&&(this.T=new Uint8Array(a.T.length),this.T.set(a.T));a.B&&(this.B=new Uint8Array(a.B.length),this.B.set(a.B))};jb.prototype.Vb=function(a,b){a.T&&(this.Na=b.h(pa.Ma,a.T.length,"HROT.altSurvivals"),
this.Na.set(a.T));a.B&&(this.La=b.h(pa.Ma,a.B.length,"HROT.altBirths"),this.La.set(a.B));this.Tb=a.D;this.Rb=a.Y;this.Qb=a.V;this.Pb=a.da};jb.prototype.Zb=function(){this.M=this.h=this.Ga="";this.ia=this.ga=this.ka=this.fa=!1;this.pa=this.U.pa;this.o=!1;this.Ha=this.Aa=0;this.W=this.U.fa;this.oa=-1;this.X=this.ja=!1;this.ma=this.A=-1;this.Ia=!1;this.i=this.m=this.v=-1;this.s=2};jb.prototype.Yb=function(a){return this.X!==a.X||this.Ia!==a.Ia?"Alternate is different rule family":(-1===this.i?this.s:
this.i)!==(-1===a.i?a.s:a.i)?"Alternate has different number of states":this.ka!==a.ka||this.fa!==a.fa||this.ia!==a.ia||this.pa!==a.pa||this.o!==a.o||this.W!==a.W||this.ja!==a.ja||-1===this.oa&&-1!==a.oa||-1!==this.oa&&-1===a.oa||this.ma!==a.ma||this.m!==a.m?"Alternate has different neighborhood":this.A!==a.A||this.v!==a.v?"Alternate has different range":this.ga||a.ga?"Alternate can not use none":this.Z!==a.Z||this.na!==a.na||this.ha!==a.ha?"Alternate has different neighbourhood":""};va.prototype.bd=
function(a,b,c){var d,f,e=0,g=0,k=0,l=!1;var p=b.length;for(d=f=0;d<p;){var n=b[d];d+=1;switch(f){case 0:switch(n){case "!":f=1;a.u+="#C ";var q=!0;break;case "O":case "o":case "*":case ".":f=2;g=e=k=0;var m=--d}break;case 1:"\r"!==n&&"\n"!==n&&(" "===n?q||(a.title+=n,a.u+=n):(q=!1,a.title+=n,a.u+=n));"\n"===n&&(f=0,a.u+=n,a.title+=" ");break;case 2:switch(n){case "O":case "o":case "*":case ".":g+=1;break;case "\n":k+=1;g>e&&(e=g);g=0;break;case " ":case "\t":break;default:d=p,l=!0}}}if(!l){2===f&&
"\n"!==n&&(k+=1,g>e&&(e=g));a.height=k;a.width=e;a.bb="Cells";a.R=Array.matrix(pa.Ca,a.height,(a.width-1>>4)+1,0,c,"Pattern.lifeMap");d=m;for(f=e=0;d<p;)switch(n=b[d],d+=1,n){case "\n":e+=1;f=0;break;case "O":case "o":case "*":a.R[e][f>>4]|=1<<(~f&15);f+=1;break;case ".":f+=1}this.ab=!0;"#C "===a.u&&(a.u="");this.xa(a,"",c,!1)}};va.prototype.Vc=function(a,b,c){var d,f;var e=b.length;var g=[];var k=0;var l=!1;var p=f=0;var n=!1;for(d=10;d<e;){var q=b[d];d+=1;switch(q){case "\n":n&&(n=!1,2===m&&l&&
(p=-p,l=!1),g[k]=[f,p],k+=1);var m=p=f=0;break;case "-":l=!0;0===m?m=1:1===m&&(m=2);break;case " ":1===m&&(l&&(f=-f,l=!1),m=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===m&&(m=1),1===m?f=10*f+parseInt(q,10):(p=10*p+parseInt(q,10),n=!0)}}n&&(2===m&&l&&(p=-p),g[k]=[f,p],k+=1);if(k){e=b=g[0][0];m=q=g[0][1];for(d=1;d<k;d+=1)f=g[d][0],p=g[d][1],f<b&&(b=f),f>e&&(e=f),p<q&&(q=p),p>m&&(m=p);a.height=m-q+1;a.width=e-b+1;a.R=Array.matrix(pa.Ca,a.height,
(a.width-1>>4)+1,0,c,"Pattern.lifeMap");a.bb="Life 1.06";this.xa(a,"",c,!1);for(d=0;d<k;d+=1)f=g[d][0]-b,p=g[d][1]-q,a.R[p][f>>4]|=1<<(~f&15)}};va.prototype.Xb=function(a,b,c,d){var f,e,g=[],k=0,l=b.length;var p="";var n=!1;var q=0,m=0,r=!1,u=!1,t=0,w=0;c=c?10:0;for(this.ab=!0;c<l&&!u;){var y=b[c];c+=1;switch(q){case 0:switch(y){case "#":q=2;break;case "*":case ".":q=3;var v=e=f=0;var D=--c}break;case 2:switch(y){case "C":case "D":q=1;a.u+="#C ";var F=!0;break;case "N":q=0;break;case "R":q=4;break;
case "P":q=5;m=0;r=!1;w=t=0;break;case "\n":q=0;break;default:q=1,F=!0}break;case 1:"\r"!==y&&"\n"!==y&&(" "===y?F||(a.title+=y,a.u+=y):(F=!1,a.title+=y,a.u+=y));"\n"===y&&(q=0,a.title+=" ",a.u+=y);break;case 4:"\n"===y?q=0:(p+=y,n=!0);break;case 5:switch(y){case "\n":q=0;2===m&&r&&(w=-w,r=!1);break;case "-":r=!0;0===m?m=1:1===m&&(m=2);break;case " ":1===m&&(r&&(t=-t,r=!1),m=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===m&&(m=1),1===m?t=10*
t+parseInt(y,10):w=10*w+parseInt(y,10)}break;case 3:switch(y){case "\n":f>e&&(e=f);f=0;v+=1;break;case "#":g[k]=new fc(t,w,e,v,D,c-1);k+=1;q=2;break;case "*":case ".":f+=1;break;case " ":case "\t":break;default:u=!0}}}"\n"!==y&&(v+=1);3===q&&(g[k]=new fc(t,w,e,v,D,c-1),k+=1);if(k&&!u){t=g[0].bo;w=g[0].co;y=t+g[0].width-1;f=w+g[0].height-1;for(c=1;c<k;c+=1)g[c].bo<t&&(t=g[c].bo),g[c].co<w&&(w=g[c].co),g[c].bo+g[c].width-1>y&&(y=g[c].bo+g[c].width-1),g[c].co+g[c].height-1>f&&(f=g[c].co+g[c].height-
1);a.height=f-w+1;a.width=y-t+1;a.R=Array.matrix(pa.Ca,a.height,(a.width-1>>4)+1,0,d,"Pattern.lifeMap");a.bb="Life 1.05";a.la=Array.matrix(pa.Ma,a.height,a.width,0,d,"Pattern.multiStateMap");n?(this.cc(a,p,!1,d),this.ab?0<=a.i||a.O||(a.la=null):(a.i=-1,a.O=!1,a.L=!1,a.$=!1)):this.xa(a,"",d,!1);for(c=0;c<k;c+=1)for(d=g[c].WF,p=g[c].cD,f=g[c].bo-t,y=g[c].co-w,n=f,e=y;d<=p;)switch(y=b[d],d+=1,y){case "\n":e+=1;n=f;break;case "*":a.R[e][n>>4]|=1<<(~n&15);a.la&&(a.la[e][n]=1);n+=1;break;default:n+=1}}};
va.prototype.da=function(a,b,c,d){var f=0,e,g,k;c&&(f=4);for(g=0;8192>g;g+=8)for(k=0;4>k;k+=1){c=0;for(e=g+k&d;0<e;)c+=e&1,e>>=1;b===c&&(a[g+k+f]=1)}};va.prototype.Da=function(a,b,c,d){var f=0,e,g,k;c&&(f=16);for(g=0;512>g;g+=32)for(k=0;16>k;k+=1){c=0;for(e=g+k&d;0<e;)c+=e&1,e>>=1;b===c&&(a[g+k+f]=1)}};va.prototype.zd=function(a){return(a&7)<<6|(a&448)>>6|a&56};va.prototype.uc=function(a){return(a&4)<<6|(a&32)<<2|(a&256)>>2|(a&2)<<4|a&16|(a&128)>>4|(a&1)<<2|(a&8)>>2|(a&64)>>6};va.prototype.Td=function(a,
b,c){var d;for(d=0;4>d;d+=1)a[b]=c,b=this.uc(b);b=this.zd(b);for(d=0;4>d;d+=1)a[b]=c,b=this.uc(b)};va.prototype.Qd=function(a,b,c,d,f,e){var g=c?16:0;if(2>b||4<b)this.Da(a,b,c,e);else if(c="omp".indexOf(d),-1!==c)for(b=this.Md[b-2][c],c=0;c<b.length;c+=1)d=b[c]+g,a[d]=f,a[d+256]=f,a[d+1]=f,a[d+257]=f};va.prototype.be=function(a,b,c,d,f){var e=0,g=b-1;0===b||8===b?this.Da(a,b,c,511):(3<g&&(g=6-g,e=495),b=this.vc[g].indexOf(d),-1!==b&&(e^=this.Nd[g][b],c&&(e|=16),this.Td(a,e,f)))};va.prototype.zc=function(a,
b,c,d){var f=b.length,e=0,g="",k;for(k=0;k<f;k+=1){var l=b.charCodeAt(k)-48;e|=1<<l;this.Da(a,l,c,d)}for(k=0;9>k;k+=1)0!==(e&1<<k)&&(g+=String(k));return g};va.prototype.nb=function(a){for(var b=0;a;)b+=1,a&=a-1;return b};va.prototype.Jc=function(a,b){var c="",d=0;if(b[a]){b=b[a];0!==(b&8192)&&(d=1,b&=-8193);var f=this.nb(b);var e=2>a||4<a?0:3;2<=f&&(b=~b&(1<<e)-1)&&(d=1-d);if(!d||b)for(c+=String(a),d&&(c+="-"),a=0;a<e;a+=1)0!==(b&1<<a)&&(c+="omp"[a])}else c+=String(a);return c};va.prototype.Kc=function(a,
b){var c="",d=0;if(b[a]){b=b[a];0!==(b&8192)&&(d=1,b&=-8193);var f=this.nb(b);var e=this.Fd[a];(d||7!==f||13!==e)&&f+d>e>>1&&(b=~b&(1<<e)-1)&&(d=1-d);if(!d||b)for(c+=String(a),d&&(c+="-"),f=0;f<e;f+=1)d=this.Jd[a][f],0!==(b&1<<d)&&(c+=this.vc[3][d])}else c+=String(a);return c};va.prototype.wc=function(a,b,c,d){var f=b.length,e=0,g=[],k="",l;b+=" ";for(l=0;7>l;l+=1)g[l]=0;for(l=0;l<f;l+=1){var p=b.charCodeAt(l)-48;if(0<=p&&8>=p){var n=0!==(e&1<<p);e|=1<<p;var q=b[l+1];var m=this.hb[p].indexOf(q);-1!==
m||n||this.Da(a,p,c,d);var r=1;"-"===q&&(r=0,l+=1,q=b[l+1],m=this.hb[p].indexOf(q));-1!==m||"0"<=q&&"9">=q||" "===q||(this.P=(c?"S":"B")+p+q+" not valid",l=f);n&&(n=0,0===(g[p]&8192)&&(n=1),n!==r&&(this.P=(c?"S":"B")+p+" can not have minus and non-minus",m=-1,l=f));for(;-1!==m;)0!==(g[p]&1<<m)?(this.P="Duplicate "+p+this.hb[p][m],m=-1,l=f):(this.Qd(a,p,c,q,r,d),g[p]|=1<<m,r||(g[p]|=8192),l+=1,q=b[l+1],m=this.hb[p].indexOf(q))}else this.P="Missing digit prefix"}for(l=0;7>l;l+=1)0!==(e&1<<l)&&(k+=this.Jc(l,
g));return k};va.prototype.yc=function(a,b,c){var d=b.length,f=0,e=[],g="",k;b+=" ";for(k=0;9>k;k+=1)e[k]=0;for(k=0;k<d;k+=1){var l=b.charCodeAt(k)-48;if(0<=l&&8>=l){var p=0!==(f&1<<l);f|=1<<l;var n=b[k+1];var q=this.ib[l].indexOf(n);-1!==q||p||this.Da(a,l,c,511);var m=1;"-"===n&&(m=0,k+=1,n=b[k+1],q=this.ib[l].indexOf(n));-1!==q||"0"<=n&&"9">=n||" "===n||(this.P=(c?"S":"B")+l+n+" not valid",k=d);p&&(p=0,0===(e[l]&8192)&&(p=1),p!==m&&(this.P=(c?"S":"B")+l+" can not have minus and non-minus",q=-1,
k=d));for(;-1!==q;)0!==(e[l]&1<<q)?(this.P="Duplicate "+l+this.ib[l][q],q=-1,k=d):(this.be(a,l,c,n,m),e[l]|=1<<q,m||(e[l]|=8192),k+=1,n=b[k+1],q=this.ib[l].indexOf(n))}else this.P="Missing digit prefix"}for(k=0;9>k;k+=1)0!==(f&1<<k)&&(g+=this.Kc(k,e));return g};va.prototype.Uc=function(a,b){var c;for(c=0;512>c;c+=1)a[c]=0!==(b&1<<(c&7))?1:0!==(c&16)?1:0};va.prototype.ub=function(a,b,c){var d=12,f=8191,e=a.Aa,g=a.Ha;switch(a.W){case this.ja:d=3;f=this.Yd;break;case this.ka:d=9;f=this.ge;break;case this.ua:d=
6;f=this.Zd;break;case this.va:d=6;f=this.ee;break;case this.ta:d=9;f=this.Xd;break;case this.wa:d=3,f=this.fe}b.fill(0);c&&c.fill(0);if(0!==(e&1))if(0!==(g&1<<d)){e=~e;g=~g;for(a=0;a<=d;a+=1)g&1<<d-a&&this.da(b,a,!1,f);for(a=0;a<=d;a+=1)e&1<<d-a&&this.da(b,a,!0,f);c.set(b)}else{for(a=0;a<=d;a+=1)~e&1<<a&&this.da(c,a,!1,f);for(a=0;a<=d;a+=1)~g&1<<a&&this.da(c,a,!0,f);for(a=0;a<=d;a+=1)g&1<<d-a&&this.da(b,a,!1,f);for(a=0;a<=d;a+=1)e&1<<d-a&&this.da(b,a,!0,f);this.ca=!0}else{for(a=0;a<=d;a+=1)0!==(e&
1<<a)&&this.da(b,a,!1,f);for(a=0;a<=d;a+=1)0!==(g&1<<a)&&this.da(b,a,!0,f);c&&c.set(b)}};va.prototype.Tc=function(a,b,c,d,f){var e=this.Pb,g="",k="";switch(f){case this.ja:e=this.Nb;break;case this.ka:e=this.Qb;break;case this.ua:e=this.Fc;break;case this.va:e=this.Gc;break;case this.ta:e=this.Ec;break;case this.wa:e=this.Hc}for(f=a.Aa=0;f<b.length;f+=1){var l=e.indexOf(b[f]);a.Aa|=1<<l}for(f=a.Ha=0;f<c.length;f+=1)l=e.indexOf(c[f]),a.Ha|=1<<l;for(f=0;f<e.length;f+=1)0!==(a.Aa&1<<f)&&(g+=e[f]);for(f=
0;f<e.length;f+=1)0!==(a.Ha&1<<f)&&(k+=e[f]);return-1!==d?k+"/"+g+"/"+d:"B"+g+"/S"+k};va.prototype.Sc=function(a,b,c,d,f){var e=0,g=this.Wd;var k=(1<<this.ya+1)/6|0;var l=new Uint8Array(512),p=a.fa,n=a.ka,q=a.ia;var m=a.pa;var r=a.o,u=a.W,t=a.ja,w=a.i;if(a.ga)c=this.ec;else if(p||n)for(c=p?"M":"2PCA4,",m=0;16>m;m+=1)c+=f[m],15>m&&(c+=",");else if(r)c=this.Tc(a,b,c,w,u);else{a=511;q?a=m===this.qa?114:254:t&&(a=186);l.fill(0);f.fill(0);for(m=0;m<l.length;m+=1)g[m]=q?m:(m&448)>>6|m&56|(m&7)<<6;if(""!==
d){c="MAP";for(m=0;m<k;m+=1)c+=d[m],b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(d[m]),l[e]=b>>5,e+=1,l[e]=b>>4&1,e+=1,l[e]=b>>3&1,e+=1,l[e]=b>>2&1,e+=1,l[e]=b>>1&1,e+=1,l[e]=b&1,e+=1;b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(d[m]);l[e]=b>>5;l[e+1]=b>>4&1;c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b&48];for(m=0;512>m;m+=1){d=0;k=this.ya;for(e=8;0<=e;--e)0!==(a&1<<e)&&(0!==(m&1<<e)&&(d|=1<<k),--k);f[g[m]]=
l[d]}-1!==w&&(c+="/"+w)}else t?(e=this.zc(f,b,!1,a),f=this.zc(f,c,!0,a)):q?(e=this.wc(f,b,!1,a),f=this.wc(f,c,!0,a)):(e=this.yc(f,b,!1),f=this.yc(f,c,!0)),c=-1!==w?f+"/"+e+"/"+w:"B"+e+"/S"+f}return c};va.prototype.tc=function(a){var b=a,c=0;if(-1!==a.indexOf(" "))for(b="";c<a.length;)" "!==a[c]&&(b+=a[c]),c+=1;return b};va.prototype.xd=function(a,b,c){for(var d=!0,f=0,e,g=1;g<b.length&&d;)e="0123456789".indexOf(b[g]),-1!==e?f=10*f+e:(this.P="Illegal character in Wolfram rule",d=!1),g+=1;d&&(0>f||
254<f||0!==(f&1)?(this.P="Wolfram rule number must be even from 0-254",d=!1):(this.Uc(c,f),a.oa=f,a.h="W"+f));return d};va.prototype.Lc=function(a,b,c){var d=null;if(""===b)if(a.ia)a.h+="H",a.pa===this.qa&&(a.h+="T");else if(a.ja)a.h+="V";else if(a.o)switch(a.W){case this.fa:a.h+=this.Fa.toUpperCase();break;case this.ja:a.h+=this.Ea.toUpperCase();break;case this.ka:a.h+=this.Ga.toUpperCase();break;case this.ua:a.h+=this.eb.toUpperCase();break;case this.va:a.h+=this.fb.toUpperCase();break;case this.ta:a.h+=
this.cb.toUpperCase();break;case this.wa:a.h+=this.gb.toUpperCase()}c||(d=bb.Jo(a.h));if(null===d&&a.X&&0===a.ta){b="R"+a.A+",C"+a.i+",M1,S"+a.D+".."+a.Y+",B"+a.V+".."+a.da+",N";switch(a.ma){case this.i:b+="M";break;case this.m:b+="N";break;case this.X:b+="C";break;case this.R:b+="+";break;case this.V:b+="X";break;case this.W:b+="*";break;case this.Y:b+="2";break;case this.I:b+="H";break;case this.O:b+="B";break;case this.M:b+="D";break;case this.T:b+="#";break;case 10:b+="@"+a.ha+a.Z;break;case this.B:b+=
"3";break;case this.u:b+="A";break;case this.L:b+="L";break;case this.v:b+="G";break;case 15:b+="W"+a.ha+a.Z;break;case this.s:b+="F"+a.wb(a.A)}d=bb.Jo(b)}a.O&&(a.h+="History");a.L&&(a.h+="Super");a.$&&(a.h+="Investigator");-1!==a.l&&(a.h+=":"+"ptkcs"[a.l].toUpperCase(),a.h+=a.I,a.Hb||(a.h+="*"),a.Eb&&(a.h+="*"),a.Ba&&(a.h=0>a.Ba?a.h+a.Ba:a.h+("+"+a.Ba)),4!==a.l&&(a.h+=","+a.ca,a.Ib&&(a.h+="*"),a.Da&&(a.h=0>a.Da?a.h+a.Da:a.h+("+"+a.Da))));null!==d&&(""===d&&(d="Life"),a.O&&(d+="History"),a.L&&(d+=
"Super"),a.$&&(d+="Investigator"),a.M=d)};va.prototype.ie=function(a,b){var c=86,d=a.length;d>=c?this.ya=8:(c=this.Qa,d>=c?(this.ya=6,b.ia=!0):(c=this.Ta,d>=c?(this.ya=4,b.ja=!0):c=-1));if(0<=c)for(b=0;b<c;b+=1)-1==="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[b])&&(c=-1);return c};va.prototype.l=function(a,b,c,d,f,e){var g=0,k=b.length,l=a.substring(this.h,this.h+k),p=e.A;if(l!==b)","===b[0]&&(","===l[0]&&(l=l.substring(1)),b=b.substring(1)),this.P="LtL expected '"+
b.toUpperCase()+"' got '"+l.toUpperCase()+"'",this.h=-1;else if(","===b[0]&&(b=b.substring(1)),this.h+=k,this.h<a.length?(k=a[this.h],l=k.charCodeAt(0)):(k="",l=-1),"n"===b)switch(k){case "m":this.h+=1;g=this.i;break;case "n":this.h+=1;g=this.m;break;case "c":this.h+=1;g=this.X;break;case "+":this.h+=1;g=this.R;break;case "x":this.h+=1;g=this.V;break;case "*":this.h+=1;g=this.W;break;case "2":this.h+=1;g=this.Y;break;case "h":this.h+=1;g=this.I;break;case "b":this.h+=1;g=this.O;break;case "d":this.h+=
1;g=this.M;break;case "#":this.h+=1;g=this.T;break;case "@":this.h+=1;g=this.lc(a,p,"LtL",e);-1===g&&(this.h=-1);break;case "3":this.h+=1;g=this.B;break;case "a":this.h+=1;g=this.u;break;case "l":this.h+=1;g=this.L;break;case "g":this.h+=1;g=this.v;break;case "w":this.h+=1;g=this.sc(a,p,"LtL",e);-1===g&&(this.h=-1);break;case "f":this.h+=1;g=this.kc(a,p,"LtL",e);-1===g&&(this.h=-1);break;default:this.P="LtL 'N' [ABCDFGHLMNWX23*+#@] got 'N"+k.toUpperCase()+"'",this.h=-1}else if(48>l||57<l)this.P="LtL '"+
f+b.toUpperCase()+"' needs a number",this.h=-1;else{for(;48<=l&&57>=l;)g=10*g+(l-48),this.h+=1,this.h<a.length?l=a[this.h].charCodeAt(0):l=-1;-1!==c&&g<c&&(this.P="LtL '"+f+b.toUpperCase()+g+"' < "+c,this.h=-1);-1!==d&&g>d&&(this.P="LtL '"+f+b.toUpperCase()+g+"' > "+d,this.h=-1)}return g};va.prototype.ra=function(a,b,c){var d=0;switch(b){case this.i:d=(2*a+1)*(2*a+1)-1;break;case this.m:d=2*a*(a+1);break;case this.X:c=0;var f=a*a+a;for(b=-a;b<=a;b+=1){for(d=0;(d+1)*(d+1)+b*b<=f;)d+=1;c+=2*d+1}d=c-
1;break;case this.R:d=4*a;break;case this.V:d=4*a;break;case this.W:d=8*a;break;case this.Y:c=0;f=a*a;for(b=-a;b<=a;b+=1){for(d=0;(d+1)*(d+1)+b*b<=f;)d+=1;c+=2*d+1}d=c-1;break;case this.I:d=(2*a+1)*(2*a+1)-a*(a+1)-1;break;case this.O:d=((2*a+1)*(2*a+1)-1)/2;break;case this.M:d=((2*a+1)*(2*a+1)-1)/2;break;case this.T:d=8*a;break;case 10:d=c;break;case this.B:d=3*a;break;case this.u:d=6*a;break;case this.L:d=(4*a+1)*(2*a+1)-2*a*a-1;break;case this.v:d=(a+1)*(a+1)*(a+1)*(a+1);break;case 15:d=c;break;
case this.s:d=8}return d};va.prototype.jd=function(a,b){var c=!1;this.h=0;var d=this.l(b,"r",1,500,"",a);-1!==this.h&&(a.A=d,d=this.l(b,",c",0,256,"",a),-1!==this.h&&(2>d&&(d=2),a.i=d,d=this.l(b,",m",0,1,"",a),-1!==this.h&&(a.ta=d,d=this.l(b,",s",0,-1,"",a),-1!==this.h&&(a.D=d,d=this.l(b,"..",a.D,-1,"S",a),-1!==this.h&&(a.Y=d,d=this.l(b,",b",0,-1,"",a),-1!==this.h&&(a.V=d,d=this.l(b,"..",a.V,-1,"B",a),-1!==this.h&&(a.da=d,d=this.l(b,",n",-1,-1,"",a),-1!==this.h&&(a.ma=d,c=!0))))))));c&&(this.h!==
b.length?(c=!1,this.P="LtL invalid characters after rule"):(b=this.ra(a.A,a.ma,a.na),b+=a.ta,a.V>b&&(c=!1,this.P="LtL 'B"+a.V+"..' > "+b),a.da>b&&(c=!1,this.P="LtL 'B.."+a.da+"' > "+b),a.D>b&&(c=!1,this.P="LtL 'S"+a.D+"..' > "+b),a.Y>b&&(c=!1,this.P="LtL 'S.."+a.Y+"' > "+b)));return c};va.prototype.ld=function(a,b){var c=!1;this.h=0;a.i=2;a.ta=1;a.ma=this.i;var d=this.l(b,"",1,500,"",a);-1!==this.h&&(a.A=d,d=this.l(b,",",0,-1,"",a),-1!==this.h&&(a.V=d,d=this.l(b,",",a.V,-1,"B",a),-1!==this.h&&(a.da=
d,d=this.l(b,",",0,-1,"",a),-1!==this.h&&(a.D=d,d=this.l(b,",",a.D,-1,"S",a),-1!==this.h&&(a.Y=d,c=!0)))));c&&(this.h!==b.length?(c=!1,this.P="LtL invalid characters after rule"):(b=(2*a.A+1)*(2*a.A+1),a.V>b&&(c=!1,this.P="LtL 'B"+a.V+"..' > "+b),a.da>b&&(c=!1,this.P="LtL 'B.."+a.da+"' > "+b),a.D>b&&(c=!1,this.P="LtL 'S"+a.D+"..' > "+b),a.Y>b&&(c=!1,this.P="LtL 'S.."+a.Y+"' > "+b)));return c};va.prototype.kd=function(a,b){var c=!1;this.h=0;-1===a.i&&(a.i=2);a.ta=1;a.ma=this.i;var d=this.l(b,"r",1,
500,"",a);-1!==this.h&&(a.A=d,d=this.l(b,"b",0,-1,"",a),-1!==this.h&&(a.V=d,d=this.l(b,"t",a.V,-1,"B",a),-1!==this.h&&(a.da=d,d=this.l(b,"s",0,-1,"",a),-1!==this.h&&(a.D=d,d=this.l(b,"t",a.D,-1,"S",a),-1!==this.h&&(a.Y=d,c=!0)))));c&&(this.h!==b.length?(c=!1,this.P="LtL invalid characters after rule"):(b=(2*a.A+1)*(2*a.A+1),a.V>b&&(c=!1,this.P="LtL 'B"+a.V+"' > "+b),a.da>b&&(c=!1,this.P="LtL 'B..T"+a.da+"' > "+b),a.D>b&&(c=!1,this.P="LtL 'S"+a.D+"..' > "+b),a.Y>b&&(c=!1,this.P="LtL 'S..T"+a.Y+"' > "+
b)));return c};va.prototype.mc=function(a,b,c,d,f){var e=!1,g,k="HROT.",l,p=0;if(this.h+c>a.length)this.P="HROT '"+b+"' needs "+c+" hex digits";else{for(g=l=0;l<c&&-1!==g;)g="0123456789abcdef".indexOf(a[this.h]),-1!==g&&(this.h+=1,l+=1);if(-1===g)this.P="HROT '"+b+"' expected hex got '"+a[this.h]+"'";else{"B"===b?k+="births":(k+="survivals",p=1);f=f.h(pa.Ma,(c<<2)+1+p,k);e=0;f[e]=0;e+=1;--l;"S"===b&&(f[e]=0,e+=1);for(;0<=l;)g="0123456789abcdef".indexOf(a[this.h-c+l]),--l,f[e]=g&1,e+=1,f[e]=g>>1&1,
e+=1,f[e]=g>>2&1,e+=1,f[e]=g>>3&1,e+=1;"B"===b?d.B=f:d.T=f;e=!0}}return e};va.prototype.na=function(a,b){var c=-1;this.h+=1;if(this.h<a.length){var d=a[this.h].charCodeAt(0);if(48>d||57<d)this.P="HROT '"+b+"' needs a number";else for(c=d-48,this.h+=1,d=-1,this.h<a.length&&(d=a[this.h].charCodeAt(0));48<=d&&57>=d;)c=10*c+(d-48),this.h+=1,this.h<a.length?d=a[this.h].charCodeAt(0):d=-1}else this.P="HROT '"+b+"' needs a number";return c};va.prototype.vb=function(a){var b=-1;this.h<a.length&&("#"===a[this.h+
1]?(this.h+=2,b=-2):b=this.na(a,"P"));return b};va.prototype.Yb=function(a,b,c,d,f){var e=!0;f&&"S"===c&&(d+=1);var g=this.na(a,c);-1===g&&(this.P="");for(;e&&-1!==g;){var k=-1;this.h<a.length&&"-"===a[this.h]&&(k=this.na(a,c),-1===k&&(this.P="HROT '"+c+g+"-' needs a number",e=!1));if(e&&(-1===k&&(k=g),g>k&&(this.P="HROT '"+c+g+"-"+k+"' wrong order",e=!1),e)){"S"===c?(this.Va=k,f&&(g+=1,k+=1)):this.Ua=k;g>d&&(g=d);for(k>d&&(k=d);g<=k;g+=1)b[g]=1;g=-1;this.h<a.length&&","===a[this.h]&&(g=this.na(a,
c),-1===g&&(--this.h,this.P=""))}}return e};va.prototype.sc=function(a,b,c,d){var f=this.h,e=a.length,g=(2*b+1)*(2*b+1),k=g+g,l=0,p=0,n=[],q=[],m=0,r=15;for(d.Z="";f<e&&-1!=="0123456789abcdef".indexOf(a[f]);)f+=1;b=f-this.h;if(b===g)for(;this.h<f;)g="0123456789abcdef".indexOf(a[this.h]),0!==(g&8)&&(g=-(g&7)),n[n.length]=g,this.h+=1;else if(b===k)for(;this.h<f;)g="0123456789abcdef".indexOf(a[this.h])<<4,this.h+=1,g|="0123456789abcdef".indexOf(a[this.h]),this.h+=1,0!==(g&128)&&(g=-(g&127)),n[n.length]=
g;else this.P=c+" 'NW' needs "+String(g)+" or "+String(k)+" hex digits",r=-1;if(-1!==r)if(","===a[this.h]){for(f=this.h+=1;f<e&&-1!=="0123456789abcdef".indexOf(a[f]);)f+=1;l=f-this.h;if(l!==d.i)this.P=c+" 'NW' needs "+String(d.i)+" state weights",r=-1;else for(f=0;f<d.i;f+=1)g="0123456789abcdef".indexOf(a[this.h]),this.h+=1,q[q.length]=g,g>m&&(m=g)}else m=1;-1!==r&&this.h<e&&("h"===a[this.h]?(d.Z="H",this.h+=1,p=1):"l"===a[this.h]&&(d.Z="L",this.h+=1,p=1));if(-1!==r){for(c=g=0;c<n.length;c+=1)0<n[c]&&
(g+=n[c]*m);d.ha=0<q.length?a.substring(this.h-(b+l+1)-p,this.h-p).toLowerCase():a.substring(this.h-b-p,this.h-p).toLowerCase();d.na=g;d.ub=n;d.vb=q}-1===r&&(d.ha="",d.na=-1,d.ub=null,d.vb=null);return r};va.prototype.pc=function(a,b){for(var c=0,d,f=!1,e=!1;!e&&this.h<b;)d=a.charCodeAt(this.h),48<=d&&57>=d?(f=!0,c=10*c+(d-48),this.h+=1):e=!0;f||(c=-1);return c};va.prototype.kc=function(a,b,c,d){var f=a.length,e=-1,g=-1,k=-1;if(this.h>=f)return d.va=b,d.wa=b,k=this.s;var l=a[this.h].toUpperCase();
for(this.h+=1;"C"===l||"E"===l;){if("C"===l)if(-1===e){if(e=this.pc(a,f),-1===e&&(e=b),1>e||500<e)return this.P=c+" 'NF' invalid corner range",k}else return this.P=c+" 'NF' duplicate 'C'",k;else if(-1===g){if(g=this.pc(a,f),-1===g&&(g=b),1>g||500<g)return this.P=c+" 'NF' invalid edge range",k}else return this.P=c+" 'NF' duplicate 'E'",k;this.h<f?(l=a[this.h].toUpperCase(),this.h+=1):l=""}""!==l&&--this.h;d.va=-1===e?b:e;d.wa=-1===g?b:g;return k=this.s};va.prototype.lc=function(a,b,c,d){var f=this.h,
e=a.length,g=0;b=((2*b+1)*(2*b+1)-1)/4;var k=0,l=10;for(d.Z="";f<e&&g<b&&-1!==l;){var p="0123456789abcdef".indexOf(a[f]);0<=p?(f+=1,g+=1,k+=this.nb(p)):l=-1}g!==b&&(l=-1);-1===l?(this.P=c+" 'N@' needs "+String(b)+" hex digits",d.ha="",d.na=-1):(d.ha=a.substring(this.h,this.h+g).toLowerCase(),d.na=k,this.h+=g,f<e&&("h"===a[f]?(d.Z="H",this.h+=1):"l"===a[f]&&(d.Z="L",this.h+=1)));return l};va.prototype.Vd=function(a,b){var c=a.A,d;a.v=c;a.m=a.ma;c=this.ra(c,a.ma,a.na);c+=a.ta;a.T=b.h(pa.Ma,c+2,"HROT.survivals");
a.B=b.h(pa.Ma,c+1,"HROT.births");for(d=a.D;d<=a.Y;d+=1)a.T[d]=1;for(d=a.V;d<=a.da;d+=1)a.B[d]=1;if(this.ca){a.Na=b.h(pa.Ma,c+2,"HROT.altSurvivals");a.La=b.h(pa.Ma,c+1,"HROT.altBirths");for(d=a.Tb;d<=a.Rb;d+=1)a.Na[d]=1;for(d=a.Qb;d<=a.Pb;d+=1)a.La[d]=1}a.Ia=!0};va.prototype.fd=function(a,b,c){var d=!1,f=0,e=!0,g=b.indexOf(",n"),k=b.indexOf(",p");this.Va=this.Ua=this.h=0;if("r"!==b[this.h])this.P="HROT expected 'R' got '"+b[this.h].toUpperCase()+"'";else{var l=this.na(b,"R");-1!==l&&(1>l?this.P="HROT 'R' < 1":
500<l?this.P="HROT 'R' > 500":(a.v=l,d=!0))}d&&(d=!1,this.h<b.length?","!==b[this.h]?this.P="HROT expected ',' got "+b[this.h].toUpperCase():(this.h+=1,this.h<b.length?"c"!==b[this.h]?this.P="HROT expected 'C' got "+b[this.h].toUpperCase():(l=this.na(b,"C"),-1!==l&&(0>l?this.P="HROT 'C"+l+"' < 0":256<l?this.P="HROT 'C"+l+"' > 256":(2>l&&(l=2),a.i=l,d=!0))):this.P="HROT expected 'C'"):this.P="HROT expected ','");if(d){l=this.h;this.h=g;e=!0;a.m=this.i;if(-1!==this.h&&this.h<b.length&&","===b[this.h]){d=
!1;this.h+=1;if(this.h<b.length)if("n"===b[this.h])if(this.h+=1,this.h<b.length)switch(b[this.h]){case "m":a.m=this.i;this.h+=1;d=!0;break;case "n":a.m=this.m;this.h+=1;d=!0;break;case "c":a.m=this.X;this.h+=1;d=!0;break;case "+":a.m=this.R;this.h+=1;d=!0;break;case "x":a.m=this.V;this.h+=1;d=!0;break;case "*":a.m=this.W;this.h+=1;d=!0;break;case "2":a.m=this.Y;this.h+=1;d=!0;break;case "h":a.m=this.I;this.h+=1;d=!0;break;case "b":a.m=this.O;this.h+=1;d=!0;break;case "d":a.m=this.M;this.h+=1;d=!0;
break;case "#":a.m=this.T;this.h+=1;d=!0;break;case "@":this.h+=1;a.m=this.lc(b,a.v,"HROT",a);-1!==a.m&&(d=!0);break;case "3":a.m=this.B;this.h+=1;d=!0;break;case "a":a.m=this.u;this.h+=1;d=!0;break;case "l":a.m=this.L;this.h+=1;d=!0;break;case "g":a.m=this.v;e=!1;this.h+=1;d=!0;break;case "w":this.h+=1;a.m=this.sc(b,a.v,"HROT",a);-1!==a.m&&(e=!1,d=!0);break;case "f":this.h+=1;a.m=this.kc(b,a.v,"HROT",a);-1!==a.m&&(d=!0);break;default:this.P="HROT 'N' [ABCDFGHLMNWX23*+#@] got '"+b[this.h].toUpperCase()+
"'"}else this.P="HROT 'N' needs a neighborhood";else this.P="HROT expected 'N' got '"+b[this.h].toUpperCase()+"'";else this.P="HROT expected 'N'";g=this.h}f=this.ra(a.v,a.m,a.na);this.h=l}d&&(d=!1,this.h<b.length?","!==b[this.h]?this.P="HROT expected ',' got "+b[this.h].toUpperCase():(this.h+=1,this.h<b.length?"s"!==b[this.h]?this.P="HROT expected 'S' got "+b[this.h].toUpperCase():(a.T=c.h(pa.Ma,f+2,"HROT.survivals"),d=this.Yb(b,a.T,"S",f,e)):this.P="HROT expected 'S'"):this.P="HROT expected ','");
d&&(d=!1,this.h<b.length?","!==b[this.h]?this.P="HROT expected ',' got "+b[this.h].toUpperCase():(this.h+=1,this.h<b.length?"b"!==b[this.h]?this.P="HROT expected 'B' got "+b[this.h].toUpperCase():(a.B=c.h(pa.Ma,f+1,"HROT.births"),d=this.Yb(b,a.B,"B",f,e)):this.P="HROT expected 'B'"):this.P="HROT expected ','");d&&(-1!==g&&(this.h=g),a.nb=!1,a.Qa=-1,a.Xa=-1,a.Wa=-1,-1!==k&&k===this.h&&(a.nb=!0,this.h+=2,this.h<b.length&&(--this.h,l=this.vb(b),-1!==l&&((0>l||100<l)&&-2!==l?this.P="HROT P values need to be from 0 to 100 or #":
(a.Qa=l,a.Xa=l,this.h<b.length&&","===b[this.h]&&(l=this.vb(b),-1!==l&&((0>l||100<l)&&-2!==l?this.P="HROT P values need to be from 0 to 100 or #":(a.Qa=l,this.h<b.length&&","===b[this.h]&&(l=this.vb(b),-1!==l&&((0>l||100<l)&&-2!==l?this.P="HROT P values need to be from 0 to 100 or #":a.Wa=l))))))))),this.h!==b.length&&(d=!1,this.P="HROT invalid characters after rule"),this.Va>f&&(d=!1,this.P="HROT 'S"+this.Va+"' > "+f),d&&this.Ua>f&&(d=!1,this.P="HROT 'B"+this.Ua+"' > "+f));d&&(a.Ia=!0);return d};
va.prototype.ed=function(a,b,c){var d=!1,f=0;this.h=0;-1===a.i&&(a.i=2);if("r"!==b[this.h])this.P="HROT expected 'R' got '"+b[this.h].toUpperCase()+"'";else{var e=-1;this.h+=1;this.h<b.length&&(e=b[this.h].charCodeAt(0));if(48>e||57<e)this.P="HROT 'R' needs a number";else{var g=e-48;this.h+=1;e=-1;for(this.h<b.length&&(e=b[this.h].charCodeAt(0));48<=e&&57>=e;)g=10*g+(e-48),this.h+=1,this.h<b.length?e=b[this.h].charCodeAt(0):e=-1;1>g?this.P="HROT 'R' < 1":500<g?this.P="HROT 'R' > 500":(a.v=g,d=!0,
f=g*(g+1))}}d&&(d=!1,this.h<b.length?"b"!==b[this.h]?this.P="HROT expected 'B' got "+b[this.h].toUpperCase()+"'":(this.h+=1,d=this.mc(b,"B",f,a,c)):this.P="HROT expected 'B'");d&&(d=!1,this.h<b.length?"s"!==b[this.h]?this.P="HROT expected 'S' got "+b[this.h].toUpperCase()+"'":(this.h+=1,d=this.mc(b,"S",f,a,c)):this.P="HROT expected 'S'");d&&this.h<b.length&&"z"===b[this.h]&&(a.T[1]=1,this.h+=1);d&&(this.h!==b.length?(d=!1,this.P="HROT invalid characters after rule"):(a.m=this.i,a.Ia=!0));return d};
va.prototype.Tb=function(a,b){for(var c=a.length,d=-1,f="",e=0;e<c;)1===a[e]?-1===d&&(d=e):-1!==d&&(""!==f&&(f+=","),f+=d+b,e-1!==d&&(f+="-"+(e-1+b)),d=-1),e+=1;-1!==d&&(""!==f&&(f+=","),f+=d+b,e-1!==d&&(f+="-"+(e-1+b)));return f};va.prototype.xa=function(a,b,c,d){var f="",e=!1;if(!d){var g=bb.Ko(b);null!==g&&(f=bb.Jo(g),b=g)}g=b.indexOf("|");if(-1===g)(e=this.wb(a,b,c,this.o,d))&&a.o&&this.ub(a,this.Kb,this.Jb);else{var k=!1;var l=bb.Ko(b.substring(0,g));null!==l&&-1!==l.indexOf("|")&&(k=!0);l=bb.Ko(b.substring(g+
1));null!==l&&-1!==l.indexOf("|")&&(k=!0);if(-1!==b.substring(g+1).indexOf("|")||k)this.P="Only one alternate allowed";else if(e=this.wb(a,b.substring(0,g),c,this.sa,d))if(k=new jb(a.name,this),k.Wb(a),a.Zb(),e=this.wb(a,b.substring(g+1),c,this.o,d))if(this.P=a.Yb(k),""===this.P)if(a.Ia&&(0!==a.B[0]||0!==k.B[0])||!a.o&&(this.o[0]||this.sa[0])||a.o&&0!==(a.Aa&1)||0!==(k.Aa&1))this.P="Alternate not supported with B0",a.Ia&&(a.h=k.Ga),e=!1;else{a.o&&(this.ub(k,this.Jb,null),this.ub(a,this.Kb,null));
if(""!==f)a.M=f;else if(""!==a.M||""!==k.M)""===a.M&&(a.M=a.h),""===k.M&&(k.M=k.h),a.M=k.M+"|"+a.M;a.h=k.h+"|"+a.h;f=bb.Jo(a.h);null!==f&&(a.M=f);(a.Ia||a.X)&&a.Vb(k,c);this.ca=!0}else a.Ga=k.Ga,e=!1}return e};va.prototype.od=function(a,b){var c=!0,d=a.length,f=0;if("2pca4"!==a.substring(0,5))this.P="PCA rule must start with 2PCA4",c=!1;else{var e=5;var g=-1;if(","!==a[e])c=!0;else for(e+=1;c&&16>f&&e<d;)if(e<d){var k=a[e];e+=1;"0"<=k&&"9">=k?(-1===g&&(g=0),g=10*g+k.charCodeAt(0)-48):","===k?15<g?
(this.P="Value must be from 0 to 15",c=!1):(b[f]=g,f+=1,g=-1):(this.P="Illegal character found in rule",c=!1)}c&&(-1===g?(this.P=16===f?"Extra characters found after rule":"Need 16 values",c=!1):15<g?(this.P="Value must be from 0 to 15",c=!1):(b[f]=g,16!==f+1&&(this.P="Need 16 values",c=!1)))}return c};va.prototype.md=function(a,b){var c=!0,d=0,f=a.length,e,g=0;if("m"!==a[d])this.P="Margolus rule must start with M",c=!1;else{d+=1;"s,d"===a.substring(d,d+3)&&(d+=3);for(e=-1;c&&16>g&&d<f;)if(d<f){var k=
a[d];d+=1;"0"<=k&&"9">=k?(-1===e&&(e=0),e=10*e+k.charCodeAt(0)-48):","===k||";"===k?15<e?(this.P="Value must be from 0 to 15",c=!1):(b[g]=e,g+=1,e=-1):(this.P="Illegal character found in rule",c=!1)}c&&(-1===e?(this.P=16===g?"Extra characters found after rule":"Need 16 values",c=!1):15<e?(this.P="Value must be from 0 to 15",c=!1):(b[g]=e,16!==g+1&&(this.P="Need 16 values",c=!1)))}return c};va.prototype.wb=function(a,b,c,d,f){var e=!1,g=null,k=null,l=null,p="012345678ceaiknjqrytwz-";var n=this.Hb.length;
var q=this.Oa.length;var m=this.Fa.length;var r=this.Ea.length,u=this.Ga.length;var t=this.eb.length;var w=this.fb.length,y=this.cb.length,v=this.gb.length,D=this.jb.length,F="";d[0]=0;if(!f){var E=bb.Ko(b);null!==E&&(""===b&&(a.h="Life"),b=E)}if("map"===b.substring(0,3).toLowerCase()){F=b.substring(3);var O=F.indexOf("/");-1===O?"=="===F.substring(F.length-2)&&(F=F.substring(0,F.length-2)):"=="===F.substring(O-2,O)&&(F=F.substring(0,O-2)+F.substring(O));b=this.ie(F,a);if(0<=b)if(e=!0,l=F.substring(b),
F=F.substring(0,b),"/"===l[0]){E=1;a.i=0;E<l.length&&("g"===l[E].toLowerCase()||"c"===l[E].toLowerCase())&&(E+=1);for(O=0;E<l.length&&-1!==O;)O="0123456789".indexOf(l[E]),-1!==O?a.i=10*a.i+O:(this.P="Illegal character in generations number",a.i=-1,e=!1),E+=1;-1!==a.i&&(2>a.i||256<a.i)&&(this.P="Generations number must be 2-256",a.i=-1,e=!1)}else""!==l&&(E=l.length,this.P="MAP length must be "+this.Ta+", "+this.Qa+" or 86 not "+(E+b),e=!1);else this.P=86===F.length||F.length===this.Qa||F.length===
this.Ta?"MAP contains illegal base64 character":"MAP length must be "+this.Ta+", "+this.Qa+" or 86 not "+F.length}else if(b=b.toLowerCase(),b=this.tc(b),"2pca4"===b.substring(0,5)){if(e=this.od(b,d))a.ka=!0,a.i=16}else if("m"===b[0]){if(e=this.md(b,d))a.fa=!0}else{e=!0;if("g"===b[0]){E=1;for(O=a.i=0;E<b.length&&-1!==O;)O="0123456789".indexOf(b[E]),-1!==O&&(a.i=10*a.i+O,E+=1);1<E&&(2>a.i||256<a.i?(this.P="Generations number must be 2-256",a.i=-1,e=!1):(E<b.length&&"/"===b[E]&&(E+=1),b=b.substring(E),
e=!0))}if(e&&(O=b.lastIndexOf("g"),-1!==O&&O!==b.length-1&&!(0<O&&"/"===b[O-1]))){E=O+1;for(O=a.i=0;E<b.length&&-1!==O;)O="0123456789".indexOf(b[E]),-1!==O&&(a.i=10*a.i+O,E+=1);E===b.length?2>a.i||256<a.i?(this.P="Generations number must be 2-256",a.i=-1,e=!1):(b=b.substring(0,b.lastIndexOf("g")),e=!0):a.i=-1}if(e)if(e=!1,"r"===b[0]||"1"<=b[0]&&"9">=b[0]&&-1!==b.indexOf(",")){if(e="r"===b[0]?-1!==b.indexOf(".")?this.jd(a,b):-1!==b.indexOf("t")&&-1===b.indexOf("n")?this.kd(a,b):-1!==b.indexOf(",")?
this.fd(a,b,c):this.ed(a,b,c):this.ld(a,b))if(a.Ia){a.m===this.s&&(a.va>a.v&&(a.v=a.va),a.wa>a.v&&(a.v=a.wa));l=15===a.m||a.m===this.v?0:-1;a.h="R"+a.v+",";a.h+="C"+a.i+",";a.h+="S"+this.Tb(a.T,l)+",";a.h+="B"+this.Tb(a.B,0);if(a.m!==this.i)switch(a.h+=",N",a.m){case this.m:a.h+="N";break;case this.X:a.h+="C";break;case this.R:a.h+="+";break;case this.V:a.h+="X";break;case this.W:a.h+="*";break;case this.Y:a.h+="2";break;case this.I:a.h+="H";break;case this.O:a.h+="B";break;case this.M:a.h+="D";break;
case this.T:a.h+="#";break;case 10:a.h+="@"+a.ha+a.Z;break;case this.B:a.h+="3";break;case this.u:a.h+="A";break;case this.L:a.h+="L";break;case this.v:a.h+="G";break;case 15:a.h+="W"+a.ha+a.Z;break;case this.s:a.h+="F"+a.wb(a.v)}a.nb&&(a.h+=",P",-1!==a.Xa&&(a.h+=-2===a.Xa?"#":a.Xa,-1!==a.Qa&&(a.h+=","+(-2===a.Qa?"#":a.Qa),-1!==a.Wa&&(a.h+=","+(-2===a.Wa?"#":a.Wa)))))}else{a.ma===this.s&&(a.va>a.A&&(a.A=a.va),a.wa>a.A&&(a.A=a.wa));a.X=!0;a.h="R"+a.A+",C"+a.i+",M"+a.ta+",S"+a.D+".."+a.Y+",B"+a.V+".."+
a.da+",N";switch(a.ma){case this.i:a.h+="M";break;case this.m:a.h+="N";break;case this.X:a.h+="C";break;case this.R:a.h+="+";break;case this.V:a.h+="X";break;case this.W:a.h+="*";break;case this.Y:a.h+="2";break;case this.I:a.h+="H";break;case this.O:a.h+="B";break;case this.M:a.h+="D";break;case this.T:a.h+="#";break;case 10:a.h+="@"+a.ha+a.Z;break;case this.B:a.h+="3";break;case this.u:a.h+="A";break;case this.L:a.h+="L";break;case this.v:a.h+="G";break;case 15:a.h+="W"+a.ha+a.Z;break;case this.s:a.h+=
"F"+a.wb(a.A)}0===a.ta&&(a.D+=1,a.Y+=1)}}else if("w"===b[0])e=this.xd(a,b,d);else if(c=b.lastIndexOf(this.Fa),-1!==c&&c===b.length-m&&(a.o=!0,a.W=this.fa,b=b.substring(0,b.length-m),p=this.Pb),c=b.lastIndexOf(this.Ea),-1!==c&&c===b.length-r&&(a.o=!0,a.W=this.ja,b=b.substring(0,b.length-r),p=this.Nb),c=b.lastIndexOf(this.Ga),-1!==c&&c===b.length-u&&(a.o=!0,a.W=this.ka,b=b.substring(0,b.length-u),p=this.Qb),c=b.lastIndexOf(this.eb),-1!==c&&c===b.length-t&&(a.o=!0,a.W=this.ua,b=b.substring(0,b.length-
t),p=this.Fc),c=b.lastIndexOf(this.fb),-1!==c&&c===b.length-w&&(a.o=!0,a.W=this.va,b=b.substring(0,b.length-w),p=this.Gc),c=b.lastIndexOf(this.cb),-1!==c&&c===b.length-y&&(a.o=!0,a.W=this.ta,b=b.substring(0,b.length-y),p=this.Ec),c=b.lastIndexOf(this.gb),-1!==c&&c===b.length-v&&(a.o=!0,a.W=this.wa,b=b.substring(0,b.length-v),p=this.Hc),t=b.lastIndexOf(this.Hb),-1!==t&&t===b.length-n&&(a.ia=!0,a.pa=this.qa,b=b.substring(0,b.length-n),p=this.he),t=b.lastIndexOf(this.Oa),-1!==t&&t===b.length-q&&(a.ia=
!0,a.pa=this.pa,b=b.substring(0,b.length-q),p=this.Bc),t=b.lastIndexOf(this.jb),-1!==t&&t===b.length-D&&(a.ja=!0,b=b.substring(0,b.length-D),p=this.Cc),n=b.indexOf("/"),-1===n&&(n=b.indexOf("_")),-1!==n&&(t=b.lastIndexOf("/"),-1===t&&(t=b.lastIndexOf("_")),t!==n&&(l=b.substring(t+1),b=b.substring(0,t),c=b.lastIndexOf(this.Fa),-1!==c&&c===b.length-m&&(a.o=!0,a.W=this.fa,b=b.substring(0,b.length-m),p=this.Pb),c=b.lastIndexOf(this.Ea),-1!==c&&c===b.length-r&&(a.o=!0,a.W=this.ja,b=b.substring(0,b.length-
r),p=this.Nb),c=b.lastIndexOf(this.Ga),-1!==c&&c===b.length-u&&(a.o=!0,a.W=this.ka,b=b.substring(0,b.length-u),p=this.Qb),t=b.lastIndexOf(this.Oa),-1!==t&&t===b.length-q&&(a.ia=!0,b=b.substring(0,b.length-q),p=this.Bc),t=b.lastIndexOf(this.jb),-1!==t&&t===b.length-D&&(a.ja=!0,b=b.substring(0,b.length-D),p=this.Cc))),b===this.ec)a.ga=!0,a.i=256,e=!0;else{q=b.indexOf("b");m=b.indexOf("s");-1===n?0===q||0===m?-1===m?(g=b,k=""):-1===q?(k=b,g=""):q<m&&-1!==m?(g=b.substring(q+1,m),k=b.substring(m+1)):(k=
b.substring(m+1,q),g=b.substring(q+1)):this.P="Unsupported rule name":(-1===q&&-1!==m?q=n:-1!==q&&-1===m&&(m=n),q<m?(g=b.substring(0,n),k=b.substring(n+1)):(g=b.substring(n+1),k=b.substring(0,n)));-1!==q&&g&&"b"===g[0]&&(g=g.substring(1));-1!==m&&k&&"s"===k[0]&&(k=k.substring(1));if(null!==l)if(E=0,-1!==a.i)this.P="Generations defined twice",g=null;else{a.i=0;E<l.length&&("g"===l[E].toLowerCase()||"c"===l[E].toLowerCase())&&(E+=1);for(O=0;E<l.length&&-1!==O;)O="0123456789".indexOf(l[E]),-1!==O?a.i=
10*a.i+O:(this.P="Illegal character in generations number",a.i=-1,g=null),E+=1;-1!==a.i&&(2>a.i||256<a.i)&&(this.P="Generations number must be 2-256",a.i=-1,g=null)}if(null!==g&&null!==k){e=!0;for(E=0;E<g.length;)O=p.indexOf(g[E]),-1===O?(this.P="Illegal character in birth specification",e=!1,E=g.length):E+=1;if(e)for(E=0;E<k.length;)O=p.indexOf(k[E]),-1===O?(this.P="Illegal character in survival specification",e=!1,E=k.length):E+=1}}}e&&-1===a.oa&&!1===a.X&&!1===a.Ia&&(d=this.Sc(a,String(g),String(k),
F,d),""===this.P?a.h=d:e=!1,2===a.i&&(a.i=-1));e?this.Lc(a,F,f):(a.X=!1,a.Ia=!1,a.i=-1,a.ga=!0);return e};va.prototype.oa=function(a,b,c,d){var f=0,e=b.length-1,g=!1,k=!0,l,p=0,n=0,q=0,m=0,r=this.Z;for(l=b[f];!g;){var u=l;l=b[f+1];var t=-1;switch(u){case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":m=10*m+parseInt(u,10);break;case "b":t=0;break;case "o":t=1;break;case ".":t=0;break;case "z":t=19;a.L=!0;a.Oa=!0;break;case "$":0===m&&(m=1);q+=m;m=0;n>p&&(p=n);
n=0;break;case "!":0===m&&(m=1);q+=m;m=0;n>p&&(p=n);g=!0;break;default:k=!1,"A"<=u&&"X">=u?(k=!0,t=u.charCodeAt(0)-64):"p"<=u&&"y">u?"A"<=l&&"X">=l?(k=!0,t=24*(u.charCodeAt(0)-111)+(l.charCodeAt(0)-64),f+=1,l=b[f+1]):"x"===u&&(k=!0,a.L=!0,a.Oa=!0,t=15):"y"===u&&("A"<=l&&"O">=l?(k=!0,t=24*(u.charCodeAt(0)-111)+(l.charCodeAt(0)-64),f+=1,l=b[f+1]):(k=!0,a.L=!0,a.Oa=!0,t=17))}if(0<=t)if(0===m&&(m=1),c||(0===r[t]&&(a.Pa+=1),r[t]+=m,t>=a.s&&(a.s=t+1)),0<t&&c)for(;0<m;){a.la[q][n]=-1===a.i?t:2===a.i?1===
t?I.Ya:0:t<a.i?t:1;if(!(a.O||a.$||a.L)&&-1===a.i&&1===t||(a.O||a.L)&&t&1||-1!==a.i&&1===t)a.R[q][n>>4]|=1<<(~n&15);n+=1;--m}else n+=m,m=0;k||(" "===u||"\t"===u||"\n"===u?k=!0:(this.P="Illegal character in pattern: "+u,this.$=g=a.Ea=!0));f+=1;f===e&&(g||(0===m&&(m=1),q+=m,m=0,n>p&&(p=n)),g=!0)}c||(0===p&&(q=p=1),a.width=p,a.height=q,16384<p||16384<q?a.sa=!0:(a.R=Array.matrix(pa.Ca,q,(p-1>>4)+1,0,d,"Pattern.lifeMap"),a.la=Array.matrix(pa.Ma,q,p,0,d,"Pattern.multiStateMap")),a.bb="RLE");a.Ea&&(f=-1);
return f};va.prototype.ae=function(a,b){var c=b.indexOf("\n");-1===c&&(c=b.length);a.Ub=b.substring(0,c).trim()};va.prototype.bb=function(a,b,c){for(var d=!1;b<c&&!d;)" "===a[b]?b+=1:d=!0;return b};va.prototype.Ld=function(a){var b=a.indexOf("\n"),c=0,d=!1,f=!1,e=0;-1===b&&(b=a.length);for(;e<b&&!d;)"="===a[e]?d=!0:" "!==a[e]?d=!0:e+=1;if(d&&"="===a[e]){e=this.bb(a,e+1,b);e<b&&"-"===a[e]&&(f=!0,e+=1);for(d=!1;e<b&&!d;){var g="0123456789".indexOf(a[e]);-1!==g?(c=10*c+g,e+=1):d=!0}this.mb=!0;f&&(c=
-c);this.Eb=c}};va.prototype.rc=function(a,b){var c=a.indexOf("\n"),d=0,f=0,e=!1,g=!1,k=!1,l=0;-1===c&&(c=a.length);if(b){for(;l<c&&!k;)"="===a[l]?k=!0:" "!==a[l]?k=!0:l+=1;k&&"="===a[l]&&(l+=1)}else k=!0;if(k&&(l=this.bb(a,l,c),l<c)){"-"===a[l]&&(e=!0,l+=1);for(k=!1;l<c&&!k;)b="0123456789".indexOf(a[l]),-1!==b?(d=10*d+b,l+=1):k=!0;this.Ha=!0;this.Wa=e?-d:d;l=this.bb(a,l,c);if(l<c&&","===a[l]&&(l=this.bb(a,l+1,c),l<c)){"-"===a[l]&&(g=!0,l+=1);for(k=!1;l<c&&!k;)b="0123456789".indexOf(a[l]),-1!==b?
(f=10*f+b,l+=1):k=!0;this.Xa=g?-f:f}}};va.prototype.Pc=function(a,b){var c=a.indexOf("XRLE",b);b=a.indexOf("\n",b);var d=c;-1!==c&&(c=a.indexOf("Pos",c),-1!==c&&c<b&&this.rc(a.substring(c+3),!0),c=a.indexOf("Gen",d),-1!==c&&c<b&&this.Ld(a.substring(c+3)))};va.prototype.$d=function(a,b){var c=b.indexOf("\n");-1===c&&(c=b.length);a.name=b.substring(0,c).trim()};va.prototype.Ka=function(a,b,c,d,f){var e=c.indexOf("\n",d);-1===e&&(e=c.length);" "===c[d]&&(b+=" ");c=c.substring(d,e).trim();a.Nb.push(c);
f?a.jb.push(b+c):a.mb.push(b+c);return e+1-d};va.prototype.A=function(a){var b=0;a+=" ";var c="0123456789".indexOf(a[this.h]);if(-1!==c)for(b=0;-1!==c;)b=10*b+c,this.h+=1,c="0123456789".indexOf(a[this.h]);return b};va.prototype.qd=function(a,b){var c=this.A(b),d=!0;b=b[this.h];a.I=c;a.ca=c;"*"===b&&(d=!1,this.h+=1);a.Hb=d;0===c&&0===c&&(a.l=-1)};va.prototype.sd=function(a,b){var c=this.A(b),d=-1,f=0,e=0;if(-1!==c){b+=" ";var g=b[this.h];if("-"===g||"+"===g)this.h+=1,f=this.A(b),-1===f?c=-1:"-"===
g&&(f=-f);if(","===b[this.h])if(this.h+=1,d=this.A(b),-1===d)c=-1;else{if(g=b[this.h],"-"===g||"+"===g)this.h+=1,e=this.A(b),-1===e?c=-1:"-"===g&&(e=-e)}else d=c}if(-1E6>f||1E6<f||-1E6>e||1E6<e)c=-1;0!==f&&0<c&&(f%=c);0!==e&&0<d&&(e%=d);0!==f&&0!==e&&(c=-1);0===c&&0===d&&(a.l=-1);0===f&&0===e||0!==c&&0!==d||(c=-1);a.I=c;a.ca=d;a.Ba=f;a.Da=e};va.prototype.hd=function(a,b){var c=this.A(b),d=-1,f=0,e=0,g=!1,k=!1;if(-1!==c){b+=" ";var l=b[this.h];"*"===l&&(g=!0,this.h+=1,l=b[this.h]);if("-"===l||"+"===
l)this.h+=1,f=this.A(b),-1===f?c=-1:"-"===l&&(f=-f);if(","===b[this.h])if(this.h+=1,d=this.A(b),-1===d)c=-1;else{if(l=b[this.h],"*"===l&&(k=!0,this.h+=1,l=b[this.h]),"-"===l||"+"===l)this.h+=1,e=this.A(b),-1===e?c=-1:"-"===l&&(e=-e)}else d=c}g&&k&&(c=-1);0!==f&&0!==e&&(c=-1);if(g&&0!==e||k&&0!==f)c=-1;g||k||0===f||(c=-1);if(0!==f&&0!==(c&1)||0!==e&&0!==(d&1))c=-1;if(0===c&&0===d)a.l=-1;else if(0===c||0===d)c=-1;g||k||(k=!0);0!==f&&(f=1);0!==e&&(e=1);a.I=c;a.ca=d;a.Ba=f;a.Da=e;a.Eb=g;a.Ib=k};va.prototype.dd=
function(a,b){var c=this.A(b),d=-1;-1!==c&&(b+=" ",","===b[this.h]?(this.h+=1,d=this.A(b),-1===d&&(c=-1)):d=c);if(0===c&&0===d)a.l=-1;else if(0===c||0===d)c=-1;a.I=c;a.ca=d};va.prototype.ad=function(a,b){var c=this.A(b),d=-1;-1!==c&&(b+=" ",","===b[this.h]?(this.h+=1,d=this.A(b),-1===d&&(c=-1)):d=c);0===c&&0===d&&(a.l=-1);a.I=c;a.ca=d};va.prototype.Wc=function(a,b){var c=!0;b=this.tc(b).toLowerCase();if(""!==b){c=!1;a.l="ptkcs".indexOf(b[0]);if(-1!==a.l)if(this.h=1,2!==a.l&&4!==a.l&&-1!==b.indexOf("*"))a.I=
-1;else switch(a.l){case 0:this.ad(a,b);break;case 1:this.sd(a,b);break;case 2:this.hd(a,b);break;case 3:this.dd(a,b);break;case 4:this.qd(a,b);break;default:a.I=-1}this.h!==b.length&&(a.I=-1);-1!==a.I?c=!0:(a.l=-1,this.P="Invalid bounded grid definition '"+b.toUpperCase()+"'")}return c};va.prototype.Na=function(a,b,c,d){var f,e=0,g=null;if(c[b]===a){for(b+=1;b<d&&" "===c[b];)b+=1;for(b<d&&"="===c[b]&&(b+=1);b<d&&" "===c[b];)b+=1;a=0;var k=f=!1;b<d&&"-"===c[b]&&(b+=1,k=!0);for(b<d&&(e=c[b].charCodeAt(0));b<
d&&48<=e&&57>=e;)a=10*a+(e-48),b+=1,f=!0,b<d&&(e=c[b].charCodeAt(0));for(f&&(g=k?-a:a);b<d&&" "===c[b];)b+=1;for(b<d&&","===c[b]&&(b+=1);b<d&&" "===c[b];)b+=1}return[g,b]};va.prototype.pd=function(a,b){this.la=this.ma=-999999;var c=this.Na("x",0,a,b);var d=c[1];c[0]&&(this.ma=c[0]);c=this.Na("y",d,a,b);d=c[1];c[0]&&(this.la=c[0]);c=this.Na("h",d,a,b);d=c[1];c[0]&&(this.Wa=c[0],this.Ha=!0);c=this.Na("v",d,a,b);c[0]&&(this.Xa=c[0])};va.prototype.cc=function(a,b,c,d){var f=b.indexOf("\n"),e=b.indexOf("rule"),
g=!1;-1===f&&(f=b.length);this.pd(b,f);-1===e||e>f?e=c?"":b.substring(1,f).trim():(e=b.substring(e+4,f).trim(),"="===e[0]&&(e=e.substring(1).trim()));a.Ga=e;a.h=e;var k=e.indexOf(":");c=e.lastIndexOf(":");-1!==c&&k===c&&null!==bb.Ko(a.h)&&(c=-1);-1!==c&&(this.Wc(a,e.substring(c+1))?e=e.substring(0,c).trim():c=-2);var l=e.toLowerCase().lastIndexOf("history");-1!==l&&l===e.length-7&&(a.O=!0,e=e.substring(0,e.length-7).trim());l=e.indexOf("|");-1!==l&&"history"===e.toLowerCase().substring(0,l).trim().substring(l-
7)&&(a.O=!0,k=e.substring(0,l).trim(),e=k.substring(0,k.length-7)+e.substring(l));a.O||(l=e.toLowerCase().lastIndexOf("super"),-1!==l&&l===e.length-5&&(a.L=!0,e=e.substring(0,e.length-5).trim()),l=e.indexOf("|"),-1!==l&&"super"===e.toLowerCase().substring(0,l).trim().substring(l-5)&&(a.L=!0,k=e.substring(0,l).trim(),e=k.substring(0,k.length-5)+e.substring(l)));a.O||a.L||("stateinvestigator"===e.toLowerCase()?(e="B3/S23Investigator",g=!0):"leapinvestigator"===e.toLowerCase()?(e="B2n3/S23-qInvestigator",
g=!0):"eightinvestigator"===e.toLowerCase()?(e="B3/S238Investigator",g=!0):"pedestrianinvestigator"===e.toLowerCase()?(e="B38/S23Investigator",g=!0):"merryinvestigator"===e.toLowerCase()&&(e="B3-eq4ciqt5ky/S2-c3-k4yz5i8Investigator",g=!0),l=e.toLowerCase().lastIndexOf("investigator"),-1!==l&&l===e.length-12&&(a.$=!0,e=e.substring(0,e.length-12).trim()),l=e.indexOf("|"),-1!==l&&"investigator"===e.toLowerCase().substring(0,l).trim().substring(l-12)&&(a.$=!0,k=e.substring(0,l).trim(),e=k.substring(0,
k.length-12)+e.substring(l)));-2!==c&&this.xa(a,e,d,g)?this.ab=!0:this.jj=!0;""===e&&-1===b.indexOf("=")&&(f=-1);return f+1};va.prototype.Ub=function(a){switch(a){case 0:a="Plane";break;case 1:a="Torus";break;case 2:a="Klein bottle";break;case 3:a="Cross-surface";break;case 4:a="Sphere";break;default:a="(unknown)"}return a};va.prototype.Ud=function(a,b){var c=a.B,d=a.T,f=this.ra(a.v,a.m,a.na);var e=new Uint8Array(a.B.length);var g=new Uint8Array(a.T.length);if(d[f+1]){for(a=0;a<=f;a+=1)e[a]=1-d[f-
a+1],g[a+1]=1-c[f-a];for(a=0;a<=f;a+=1)c[a]=e[a],d[a+1]=g[a+1];this.ca=!1}else{a.La=b.h(pa.Ma,a.B.length,"HROT.altBirths");a.Na=b.h(pa.Ma,a.T.length,"HROT.altSurvivals");e=a.La;g=a.Na;for(a=0;a<=f;a+=1)e[a]=d[f-a+1],g[a+1]=c[f-a];for(a=0;a<=f;a+=1)c[a]=1-c[a],d[a+1]=1-d[a+1];this.ca=!0}};va.prototype.Rc=function(a,b){var c,d,f=a.R,e=a.la;if(null!==f)if(a.Ia&&2===a.i)for(d=2;256>d;d+=1)this.Z[d]&&(this.Z[d]=0,--a.Pa);else for(c=0;c<e.length;c+=1){var g=f[c];var k=e[c];for(d=0;d<k.length;d+=1){var l=
k[d];l>=b&&(k[d]=0,g[d>>2]&=~(1<<(~d&15)),0<this.Z[l]&&(this.Z[l]=0,--a.Pa))}}};va.prototype.Rb=function(a){var b="[R]History",c=!0;a.L?b="[R]Super":a.$&&(b="[R]Investigator");-1===a.i||a.ka||(this.P=a.Ia?b+" not valid with HROT":b+" not valid with Generations");a.ka&&(this.P=b+" not valid with PCA rule");a.ga&&(this.P=b+" not valid with none rule");a.o&&(this.P=b+" not valid with triangular rule");a.pa===this.qa&&(this.P=b+" not valid with Hex Tripod");a.X&&(this.P=b+" not valid with LtL");a.fa&&
(this.P=b+" not valid with Margolus");""!==this.P&&(c=!1);return c};va.prototype.Zb=function(a,b,c){var d=0,f=b.length,e,g=e=!1;var k=this.Z;var l=0,p=4,n=0;a.fa=!1;a.ga=!1;a.l=-1;a.width=0;a.height=0;a.sa=!1;a.R=null;a.la=null;a.Ea=!1;a.O=!1;a.L=!1;a.$=!1;a.Oa=!1;a.ia=!1;a.oa=-1;a.ja=!1;a.i=-1;a.X=!1;a.A=-1;a.ta=1;a.D=-1;a.Y=-1;a.V=-1;a.da=-1;a.Ia=!1;a.B=null;a.T=null;a.v=-1;a.title="";a.u="";a.ua="";a.s=2;a.Pa=0;k.fill(0);for(b+=" ";d<f&&!a.Ea;)switch(k=b[d],k){case "#":d+=1;k=b[d];d+=1;switch(k){case "N":this.$d(a,
b.substring(d));break;case "O":this.ae(a,b.substring(d));break;case "C":this.Pc(b,d);break;case "P":case "R":this.rc(b.substring(d),!1);break;case "\n":--d}d="\n"===k?d+this.Ka(a,"#",b,d,e):d+this.Ka(a,"#"+k,b,d,e);break;case "\n":d+=1;break;default:"x"!==k||g?e?d+=this.Ka(a,"",b,d,!0):(e=!0,k=this.oa(a,b.substring(d),!1,c),-1!==k&&(d=a.sa?d+k:d+this.oa(a,b.substring(d),!0,c))):(d+=this.cc(a,b.substring(d),!0,c),g=!0)}if(a.Ea&&(e=b.substring(d).indexOf("!"),-1!==e))for(d+=e+1;d<f;)d+=this.Ka(a,"",
b,d,!0);g||(this.xa(a,"",c,!1)?this.ab=!0:this.jj=!0);a.X&&this.Vd(a,c);(b=a.Xb())&&this.Ud(a,c);!a.Ia||a.m!==this.I&&a.m!==this.B&&a.m!==this.u&&(15!==a.m&&10!==a.m||"H"!==a.Z)||(a.ia=!0);!a.Ia||a.m!==this.L&&(15!==a.m&&10!==a.m||"L"!==a.Z)||(a.o=!0);-1!==a.l&&(a.Ia&&(p=6*a.v),a.X&&(p=6*a.A),a.I>=16384-p||a.ca>=16384-p)&&(this.P="Bounded grid too big",this.ab=!1,a.l=-1);a.Ia&&-1!==a.l&&(0!==a.I&&a.I<2*a.v||0!==a.ca&&a.ca<2*a.v)&&(this.P="Bounded grid too small (must be at least "+2*a.v+")",this.ab=
!1,a.l=-1);a.ia&&1<a.l&&""===this.P&&(this.P="Hexagonal rules only support Plane or Torus",this.ab=!1,a.l=-1);a.o&&1<a.l&&""===this.P&&(this.P="Triangular rules only support Plane or Torus",this.ab=!1,a.l=-1);a.o&&(1===a.l||2===a.l)&&(a.Ba&1||a.Da&1)&&(this.P="Triangular rules only support even shifts",this.ab=!1,a.l=-1);a.fa&&(1===a.l||2===a.l)&&(a.Ba&1||a.Da&1)&&(this.P="Margolus rules only support even shifts",this.ab=!1,a.l=-1);a.fa&&1<a.l&&""===this.P&&(this.P="Margolus rules only support Plane or Torus",
this.ab=!1,a.l=-1);a.ka&&1<a.l&&""===this.P&&(this.P="PCA rules only support Plane or Torus",this.ab=!1,a.l=-1);!a.X||""!==this.P||(1<a.l&&(this.P="LtL only supports Plane or Torus",this.ab=!1,a.l=-1),0!==a.l&&1!==a.l)||0!==a.I&&0!==a.ca||(this.P="LtL bounded grid must be finite",this.ab=!1,a.l=-1);a.o&&-1!==a.l&&(0!==(a.I&1)?(this.P="Bounded grid width must be even",this.ab=!1,a.l=-1):0!==(a.ca&1)&&(this.P="Bounded grid height must be even",this.ab=!1,a.l=-1));a.ka&&0!==this.o[0]&&(this.P="PCA first value must be 0",
this.o[0]=0,this.ab=!1);a.fa&&(15===this.o[0]&&0!==this.o[15]?(this.P="Margolus last value must be 0 when first is 15",this.ab=!1):0!==this.o[0]&&15!==this.o[0]&&(this.P="Margolus first value must be 0 or 15",this.ab=!1));!a.Ia||-1===a.l||0===a.Da&&0===a.Ba||(this.P="HROT does not support Bounded Grid shift",this.ab=!1,a.l=-1);b&&2<a.i&&(this.P="HROT Generations does not support B0",this.ab=!1);!a.Ia||""!==this.P||(1<a.l&&(this.P="HROT only supports Plane or Torus",this.ab=!1,a.l=-1),0!==a.l&&1!==
a.l)||0!==a.I&&0!==a.ca||(this.P="HROT bounded grid must be finite",this.ab=!1,a.l=-1);a.Oa&&(a.O||a.$)&&(this.P=a.O?"[R]History not valid with Niemiec states":"[R]Investigator not valid with Niemiec states",this.ab=!1);a.O&&""===this.P&&(a.O=this.Rb(a));a.$&&""===this.P&&(a.$=this.Rb(a));a.L&&""===this.P&&(a.L=this.Rb(a));-1===a.i||!this.o[0]||a.X||a.Ia||(this.P="Generations does not support B0",this.ab=!1);a.fa&&-1!==a.l&&(-1!==a.ca&&0!==(a.ca&1)&&(this.P="Bounded grid height must be even",a.l=
-1,this.ab=!1),-1!==a.I&&0!==(a.I&1)&&(this.P="Bounded grid width must be even",a.l=-1,this.ab=!1));a.ia&&(l+=1);a.o&&(l+=1);a.ja&&(l+=1);1<l&&(this.P="Multiple neighbourhoods specified",this.ab=!1,a.ia=!1,a.o=!1,a.ja=!1);a.L&&(a.i=26);a.$&&(a.i=21);this.ab&&(a.O?(n=7,a.s>n&&(this.P="Illegal state in pattern for [R]History",this.ab=!1,this.$=!0)):a.L?(n=26,a.s>n&&(this.P="Illegal state in pattern for [R]Super",this.ab=!1,this.$=!0)):a.$?(n=21,a.s>n&&(this.P="Illegal state in pattern for [R]Investigator",
this.ab=!1,this.$=!0)):-1!==a.i&&(n=a.i,a.s>n&&(this.P=a.X?"Illegal state in pattern for LtL":a.Ia?"Illegal state in pattern for HROT":a.ka?"Illegal state in pattern for PCA":"Illegal state in pattern for Generations",this.$=!0,this.ab=!1)),this.$&&(a.s=n,this.Rc(a,n)))};va.prototype.gd=function(a,b){var c=!0,d=!1,f=0,e=0,g=0,k=0,l=0,p=!0,n=Aa.sv,q=null,m=[],r={},u=null;b.s();var t=b.l();for(""!==t&&"@"===t[0]&&(t="");c&&""!==t;){for(;c&&!d&&""!==t;){if("/"===t[0])b.s();else if("xpm"===t.toLowerCase())b.s();
else if('"'===t[0])t=t.substring(1),b.u(t)&&(f=b.L(t),b.i()&&(e=b.h(),b.i()&&(g=b.h(),t=b.l(),'"'===t[t.length-1]&&(t=t.substring(0,t.length-1),b.u(t)&&(k=b.L(t)))))),0<f&&0<e&&1<=k&&2>=k&&0===e%f?7!==f&&15!==f&&31!==f?d=!1:(d=!0,l=0,q=new Uint16Array(f*e),u=new Uint32Array(g)):c=!1;else switch(t){case "circles":n=Aa.CF;r={};q=[];u=[];break;case "diamonds":n=Aa.DF;r={};q=[];u=[];break;case "hexagons":n=Aa.EF;r={};q=[];u=[];break;case "triangles":n=Aa.GF,r={},q=[],u=[]}for(;b.B();)b.l();t=b.l();""!==
t&&"@"===t[0]&&(t="")}for(;c&&d&&""!==t;){if("/"===t[0])b.s();else{if('"'===t[0])if(c=!1,l<g){var w=t.substring(1);if(w.length===k&&void 0===r[w]&&(t=b.l(),"c"===t&&(t=b.l(),'"'===t[t.length-1]))){c=t.substring(0,t.length-1);c=parseInt(c,16);r[w]=l;u[l]=c;if(c>>16!==(c>>8&255)||c>>16!==(c&255))p=!1;c=!0;b.s()}}else{if(c=!1,'"'===t[t.length-1]&&t.length-2===f*k){t=t.substring(1,t.length-1);var y=0;for(c=!0;c&&y<f;)w=t[y*k],1<k&&(w+=t[y*k+1]),void 0===r[w]?c=!1:q[(l-g)*f+y]=r[w],y+=1}}else l===e+g?
(d=!1,m[m.length]={hs:n,width:f,height:e,rz:g,Do:u.slice(),Fy:q.slice(),Ay:p},r={},q=null,p=!0,n=Aa.sv):c=!1,b.R();l+=1}for(;b.B();)b.l();t=b.l();""!==t&&"@"===t[0]&&(t="")}}c?l===e+g?(m[m.length]={hs:n,width:f,height:e,rz:g,Do:u.slice(),Fy:q.slice(),Ay:p},a.xa=m):a.xa=null:a.xa=null};va.prototype.nd=function(a,b){var c=a.s,d=[],f=0,e,g=!1;b.s();b.i()&&(f=b.h(),0<=f&&f<c&&(g=!0));for(;g;){g=!1;for(e="";!b.B()&&""!==b.m();)e=""===e?b.l():e+(" "+b.l());d[f]=e;b.s();b.i()&&(f=b.h(),0<=f&&f<c&&(g=!0))}a.Za=
d};va.prototype.cd=function(a,b){var c=a.s;a=a.Fa;var d=0,f=0,e=0,g=0,k=!1;b.s();b.i()&&(d=b.h(),k=!0);for(;k;){k=!1;b.i()&&(f=b.h(),b.i()&&(e=b.h(),b.i()&&(g=b.h(),k=!0)));if(k)if(b.i()&&b.M()){var l=b.h();var p=b.h();0<=d&&255>=d&&0<=f&&255>=f&&0<=e&&255>=e&&0<=g&&255>=g&&0<=l&&255>=l&&0<=p&&255>=p?this.Vb(a,d,f,e,g,l,p):k=!1}else 0<=d&&d<c&&0<=f&&255>=f&&0<=e&&255>=e&&0<=g&&255>=g?a[d]=f<<16|e<<8|g:k=!1;k&&(b.s(),b.i()?d=b.h():k=!1)}};va.prototype.Ib=function(a,b,c,d,f,e){var g=!1,k=a.length;var l=
d.length;var p=l%32;var n=1<<p,q=(l-p)/32,m=0;if(null!==e)for(l=0;!g&&l<e.length;){var r=e[l];if(r.Jn===b)for(p=0,g=!0;g&&p<a.length;)0!==this.La(a[p],r.inputs[p])&&(g=!1),p+=1;l+=1}if(!g){null!==e&&(r={inputs:[],Jn:b},r.inputs=a.slice(),e[e.length]=r);d[d.length]=b;if(q>=c.Ja){for(l=0;l<k;l+=1)for(p=0;p<c.ya;p+=1)f[l][p][f[l][p].length]=0;c.Ja+=1}for(l=0;l<k;l+=1){c=a[l];d=!1;for(p=0;p<c.length;p+=1)f[l][c[p]][q]|=n,0===c[p]&&(d=!0);d&&(m+=1)}0!==b&&m===k&&(this.D=!0)}return g};va.prototype.Gd=function(a){var b=
a.length,c=b-2,d=b-1,f=!1;if(1<b){for(;0<=c&&0<=this.La(a[c],a[c+1]);)--c;if(0<c){for(f=!0;d>=c&&0>=this.La(a[d],a[c]);)--d;var e=a[c];a[c]=a[d];a[d]=e;var g=(b-(c+1))/2|0;for(d=0;d<g;d+=1)e=a[b-d-1],a[b-d-1]=a[c+1+d],a[c+1+d]=e}}return f};va.prototype.La=function(a,b){var c=0,d=a.length;if(d===b.length){for(;c<d&&a[c]===b[c];)c+=1;return c===d?0:a[c]-b[c]}return d-b.length};va.prototype.Kd=function(a,b,c,d,f){var e,g,k,l=[],p=[],n=[],q=0;for(e=0;e<c;e+=1)for(n[e]=[],g=0;g<f.ya;g+=1)n[e][g]=[];for(e=
f.Ja=0;e<d.length;e+=1){var m=d[e].inputs;var r=d[e].Jn;if(0===a)this.Ib(m,r,f,p,n,null);else if(a===b-1){l=m.slice(1).sort(this.La);for(g=0;g<l.length;g+=1)m[g+1]=l[g];do this.Ib(m,r,f,p,n,null);while(this.Gd(m))}else{var u=this.Ba[f.Ta][a-1];var t=[];for(g=0;g<u.length;g+=1){for(k=0;k<m.length;k+=1)l[k]=m[u[g][k]];this.Ib(l,r,f,p,n,t)&&(q+=1)}}}f.Ka=[];for(e=0;e<c;e+=1)for(f.Ka[e]=[],g=0;g<f.ya;g+=1)f.Ka[e][g]=new Uint32Array(n[e][g].length),f.Ka[e][g].set(n[e][g]);f.qa=new Uint8Array(p.length);
f.qa.set(p);f.hb=q};va.prototype.rd=function(a,b){var c=-1,d=-1,f=-1,e=0,g,k="",l={},p=0,n=0,q=[],m=null,r;this.D=!1;var u=0;for(r=!0;r&&3>u;){var t=b.W();switch(t.toLowerCase()){case "n_states":r=!1;":"===b.l()?b.i()?(c=b.h()|0,2<=c&&256>=c?r=!0:this.P="n_states must be from 2 to 256"):this.P="n_states must be numeric":this.P="n_states missing :";break;case "neighborhood":r=!1;if(":"===b.l()){t=b.l();var w=!1;for(g=0;!w&&g<this.ga.length;)t.toLowerCase()===this.ga[g]?(d=g,e=this.Aa[g],w=!0,m=new Int32Array(e+
1)):g+=1;r=w;w||(this.P="neighborhood invalid")}else this.P="neighborhood missing :";break;case "symmetries":r=!1;if(-1!==d)if(":"===b.l()){t=b.l();w=!1;for(g=0;!w&&g<this.ha[d].length;)t.toLowerCase()===this.ha[d][g]?(f=g,w=!0):g+=1;r=w;w||(this.P="symmetries invalid")}else this.P="symmetries missing :";else this.P="symmetries must follow neighborhood";break;default:r=!1}u+=1}if(-1===c||-1===d||-1===f)""===this.P&&(this.P=-1===c?"missing n_states":-1===d?"missing neighborhood":"missing symmetries"),
r=!1;b.I();t=b.l();for(""!==t&&"@"===t[0]&&(t="");r&&""!==t;){if("var"===t.toLowerCase()){k=b.l();var y=[];"="===b.m()&&b.l();for(r=!0;r&&!b.B();)if(b.i())g=b.h(),0<=g&&g<=c?y[y.length]=g:(r=!1,this.P="out of range value: "+k+"="+g);else{var v=b.l();if(void 0!==l[v])for(u=0;u<l[v].length;u+=1)y[y.length]=l[v][u];else r=!1,this.P="var unknown assignment: "+k+"="+v}r&&(l[k]=y,p+=1)}else if(10>=c&&0===p&&b.B()){if(y=[],r=!1,t.length===e+1){u=0;for(r=!0;r&&u<e;)v=t.charCodeAt(u),48<=v&&v<48+c?(y[y.length]=
[v-48],u+=1):(this.P="expected only digits: "+t,r=!1);r&&(v=t.charCodeAt(u),48<=v&&v<48+c?(n=v-48,q[q.length]={inputs:y,Jn:n}):(this.P="expected only digits: "+t,r=!1))}}else{r=!1;v=[];v[0]=t;m[0]=b.u(t)?parseInt(t,10):-1;for(u=1;b.Z();)u<e+1?b.i()?(m[u]=b.h(),v[u]=""):(m[u]=-1,v[u]=b.l()):v[u]=b.l(),u+=1;if(v.length===e+1){t=[];for(k in l){for(u=r=0;u<v.length;u+=1)k===v[u]&&(r+=1);1<r&&(t[t.length]=k)}y=[];var D={};for(u=0;u<t.length;u+=1)D[t[u]]=0;for(r=!0;;){for(u=0;u<e;u+=1)if(w=!1,g=m[u],-1!==
g)g>=c?(this.P="state out of range: "+g,r=!1):y[u]=[g];else{var F=v[u];if(t.length)for(g=0;!w&&g<t.length;)t[g]===F?w=!0:g+=1;0<t.length&&w?y[u]=[l[F][D[F]]]:void 0!==l[F]?y[u]=l[F]:(this.P="unknown variable: "+F,r=!1)}w=!1;g=m[u];if(-1!==g)0>g||g>=c?(this.P="output state out of range: "+g,r=!1):n=g;else{F=v[u];if(0<t.length)for(g=0;!w&&g<t.length;)t[g]===F?w=!0:g+=1;0<t.length&&w?n=l[F][D[F]]:void 0!==l[F]?n=l[F]:(this.P="unknown output variable: "+F,r=!1)}q[q.length]={inputs:y.slice(),Jn:n};for(u=
0;u<t.length;u+=1)if(D[t[u]]<l[t[u]].length-1){D[t[u]]+=1;break}else D[t[u]]=0;if(u>=t.length)break}}}b.I();t=b.l();""!==t&&"@"===t[0]&&(b.R(),t="")}a.s>c&&(r=!1,this.P="illegal state in pattern");r&&(null===a.N&&(a.N=new fb),a.ya=c,a.Ta=d,a.ia=d===Aa.vg?!0:!1,this.Kd(f,this.ha[d].length,e,q,a),a.s=a.ya,this.P="",this.ab=!0,this.jj=!1,a.ga=!1,this.Wb(a,a.ya));return r};va.prototype.Vb=function(a,b,c,d,f,e,g){var k=a.length,l;a[0]=0;for(l=1;l<k;l+=1){var p=2===k?0:(l-1)/(k-2);a[l]=(f*p+b*(1-p)|0)<<
16|(e*p+c*(1-p)|0)<<8|g*p+d*(1-p)|0}};va.prototype.Wb=function(a,b){a.Fa=new Uint32Array(b);this.Vb(a.Fa,255,0,0,255,255,0)};va.prototype.Od=function(a){return(new RegExp("neighborhood *: *"+this.ga[Aa.vg])).test(a.source)};va.prototype.Qc=function(a,b,c,d){4===c?0!==b[a[a[a[a[d]]]]]&&(this.D=!0):0!==b[a[a[a[a[a[a[a[a[d]]]]]]]]]&&(this.D=!0)};va.prototype.wd=function(a,b){var c,d=-1,f=-1,e=-1,g=null,k=0,l=null,p=0,n=null,q=0,m=null,r=0,u=0,t=0;this.D=!1;var w=0;for(c=!0;c&&3>w;){c=b.W();switch(c.toLowerCase()){case "num_states":c=
!1;"="===b.l()?b.i()?(d=b.h()|0,2<=d&&256>=d?c=!0:this.P="num_states must be from 2 to 256"):this.P="num_states must be numeric":this.P="num_states missing =";break;case "num_neighbors":c=!1;"="===b.l()?b.i()?(f=b.h()|0,4===f||8===f?c=!0:this.P="num_neighbors must be 4 or 8"):this.P="num_neighbors must be numeric":this.P="num_neighbors missing =";break;case "num_nodes":c=!1;"="===b.l()?b.i()?(e=b.h()|0,e>=f&&1E8>=e?c=!0:this.P="num_nodes out of range"):this.P="num_nodes must be numeric":this.P="num_nodes missing =";
break;default:c=!1}w+=1}if(-1===d||-1===f||-1===e)""===this.P&&(this.P=-1===d?"missing num_states":-1===f?"missing num_neighbors":"missing num_nodes"),c=!1;c&&(g=new Uint32Array(e*d),l=new Uint8Array(e*d),n=new Uint32Array(e),m=new Uint32Array(e));for(b.I();c&&b.i();){q>e?c=!1:(u=b.h(),t=0,n[q]=1===u?p:k,q+=1,m[r]=u,r+=1);for(;c&&b.i();)w=b.h(),1===u?0>w||w>=d?(this.P="bad state value in tree data: "+w,c=!1):(l[p]=w,p+=1):0>w||w>n.length?(this.P="bad node value in tree data: "+w,c=!1):m[w]!==u-1?
(this.P="bad node pointer in tree data: "+u,c=!1):(g[k]=n[w],k+=1),t+=1;c&&t!==d&&(this.P="bad number of values on tree data line",c=!1);b.I()}c&&(k+p!==e*d?(this.P="bad count of values in tree data",c=!1):u!==f+1?(this.P="bad last node (wrong level)",c=!1):a.s>d&&(c=!1,this.P="illegal state in pattern"));c&&(null===a.N&&(a.N=new fb),a.gb=f,a.ra=d,a.ib=e,a.fb=n[n.length-1],a.cb=g.slice(0,k),a.eb=l.slice(0,p),a.Kb=this.Od(b),a.ia=a.Kb,a.s=a.ra,this.P="",this.ab=!0,this.jj=!1,a.ga=!1,this.Qc(a.cb,a.eb,
a.gb,a.fb),this.Wb(a,a.ra));return c};va.prototype.dc=function(a,b){var c=!1,d=new Sa(b,!0);a.U.Za="";a.U.P="";b=d.v("@RULE",-1);if(-1!==b&&!d.B()){a.Jb=d.l();var f=d.v("@TREE",-1);-1!==f?(c=this.wd(a,d))?a.h=a.Jb:(""===a.U.P&&(a.U.P="not valid"),a.U.P="@TREE "+a.U.P):(f=d.v("@TABLE",0),-1!==f?(c=this.rd(a,d))?a.h=a.Jb:(""===a.U.P&&(a.U.P="not valid"),a.U.P="@TABLE "+a.U.P):a.U.P="@TABLE and @TREE not found");f=d.current-1;c&&(c=d.v("@COLORS",0),-1!==c&&(this.cd(a,d),d.current-1>f&&(f=d.current-1)),
c=d.v("@ICONS",0),-1!==c&&(this.gd(a,d),d.current-1>f&&(f=d.current-1)),c=d.v("@NAMES",0),-1!==c&&(this.nd(a,d),d.current-1>f&&(f=d.current-1)));""===a.U.P&&(a.U.Za=d.Y(b,f))}};va.prototype.Mc=function(a){var b=a.h.toLowerCase().lastIndexOf("super");-1===b&&(a.h+="Super");""!==a.M&&(b=a.M.toLowerCase().lastIndexOf("super"),-1===b&&(a.M+="Super"))};va.prototype.create=function(a,b,c,d,f,e,g){a=new jb(a,this);this.ab=this.jj=this.Ja=this.$=this.D=this.Pa=!1;this.P="";this.h=0;this.mb=!1;this.Eb=0;this.Ha=
!1;this.Xa=this.Wa=0;this.la=this.ma=-999999;this.ca=!1;if("!"===b.charAt(0)||"O"===b.charAt(0)||"."===b.charAt(0)||"*"===b.charAt(0)||"o"===b.charAt(0))this.bd(a,b,c),this.ab=!0;null===a.R&&(this.ab=!1,"#Life 1.05"===b.substring(0,10)?this.Xb(a,b,!0,c):"#Life 1.06"===b.substring(0,10)?(this.Vc(a,b,c),this.ab=!0):"#"===b[0]||"x"===b[0]?(this.Zb(a,b,c),null!==a.R||a.sa||a.Ea||(this.Xb(a,b,!1,c),this.jj=!1,a.la=null,a.O=!1,a.L=!1,a.$=!1,a.s=2,a.Pa=0)):(this.Zb(a,b,c),a.Ea&&(a=null)));a&&a.sa&&(this.P=
"Pattern too big",this.Ja=a.Ea=!0,this.ab=!1);a&&(-1!==a.l?(b=a.h.lastIndexOf(":"),a.Ua=a.h.substring(b),a.h=a.h.substring(0,b)):a.Ua="");a&&a.Ia&&a.m===this.v&&50<a.v&&(this.P="HROT 'R' > 50",this.ab=!1);a&&null===a.R&&""===this.P&&(this.P="Invalid pattern",a=null,this.ab=!1);a&&a.Ea&&!a.sa&&(this.ab=!1);a&&(!a.Oa||a.O||a.$||this.Mc(a),""!==a.u&&"\n"!==a.u[a.u.length-1]&&(a.u+="\n"),""!==a.ua&&"\n"!==a.ua[a.ua.length-1]&&(a.ua+="\n"),""!==this.P&&(a.ia||a.o)&&null===a.h.match(/[0-9]/)&&(a.ia=!1,
a.o=!1),""===a.title&&(a.title=a.Nb.join(" "),a.ua=0<a.jb.length?a.jb.join("\n")+"\n":"",a.u=0<a.mb.length?a.mb.join("\n")+"\n":"",a.Nb=[],a.jb=[],a.mb=[]),""===this.P||this.Ja||this.$||(a.Va=this.P,a.Ga=a.h,-1!==a.l?(b=a.h.lastIndexOf(":"),-1!==b&&(a.Ua=a.h.substring(b),a.h=a.h.substring(0,b))):a.Ua="",a.fa=!1,a.ka=!1,a.ga=!1,a.O=!1,a.L=!1,a.$=!1,a.Oa=!1,a.ia=!1,a.o=!1,a.oa=-1,a.ja=!1,a.X=!1,a.zA=a.Ia,a.Ia=!1,Ya.Qy(a)?(d=null===a.qa?a.ra:a.ya,a.s>d?(this.P="Illegal state in pattern",this.$=!0):(a.s=
d,this.P="",this.ab=!0,this.jj=!1,a.ga=!1)):(b=a.ua.indexOf("@RULE"),-1!==b&&(b=a.ua.substring(b),this.dc(a,b),a.Va=this.P),-1===a.ra&&null===a.qa&&this.Dd(a,d,f,e,g))));return a};va.prototype.Bd=function(a){var b=a.indexOf("@RULE");if(-1===b)a="";else{var c=a.indexOf("\x3c!--",b);a=-1===c?0===b?a:a.substring(b):a.substring(b,c);a=a.replace(/<li>/g,"# ");a=a.replace(/<[^<]*>/g,"")}return a};va.prototype.Cd=function(a,b,c){if(4===b.readyState)if(200===b.status){b=a.Bd(b.responseText);var d=performance.now()-
this.time;this.time=performance.now();if(""===b)c.U.P="@RULE not found",Ya.zq(c);else{a.dc(c,b);var f=performance.now()-this.time;-1!==c.ra||null!==c.qa?Ya.add(c,d,f,b.length,a.Za,a.D):Ya.zq(c)}}else c.Va+="\n\nRepository lookup failed with status "+b.status,Ya.zq(c)};va.prototype.yd=function(a){Ya.zq(a)};va.prototype.Dd=function(a,b,c,d,f){var e=this,g=null,k=a.h,l="";k=k.replace(/ /g,"_");l="/wiki/Rule:"+k;this.time=performance.now();this.Pa=!0;f?a.N=f.g.N:a.N=null;Ya.AC(a,b,c,d,f)||(g=new XMLHttpRequest,
""!==Ca.ov&&(l=Ca.ov+k+Ca.Zz),Ia(g,"load",function(){e.Cd(e,g,a)},!1),Ia(g,"error",function(){e.yd(a)},!1),g.open("GET",l,!0),g.send(null))};var eb={xs:[48,48,48,0,255,127,127,0,255,148,148,148,128,255,0,255,0,128,0,128,255,1,159,0,159,0,1,255,254,96,0,1,159,96,255,254,254,96,255,126,125,21,21,126,125,125,21,126,255,116,116,116,255,116,116,116,255,228,227,0,28,255,27,255,27,28,0,228,227,227,0,228,27,28,255,59,59,59,234,195,176,175,196,255,171,194,68,194,68,171,68,171,194,72,184,71,184,71,72,71,72,
184,169,255,188,252,179,63,63,252,179,179,63,252,80,9,0,0,80,9,9,0,80,255,175,250,199,134,213,115,100,95,188,163,0,0,188,163,163,0,188,203,73,0,0,203,73,73,0,203,94,189,0,189,0,94,0,94,189,187,243,119,55,125,32,125,32,55,32,55,125,255,102,185,102,185,255,120,209,168,208,166,119,135,96,192,182,255,41,83,153,130,247,88,55,89,247,55,88,55,247,87,75,0,0,87,75,75,0,87,200,135,59,51,213,127,255,255,162,255,37,182,37,182,255,228,57,117,142,163,210,57,117,228,193,255,246,188,107,123,123,194,107,145,59,5,
5,145,59,59,5,145,119,39,198,40,197,23,197,23,40,23,40,197,178,199,158,255,201,121,134,223,223,39,253,84,149,203,15,203,15,149,15,149,203,152,144,90,143,75,139,71,97,132,224,65,219,65,219,224,255,255,40,218,223,69,74,241,0,241,0,74,0,74,241,122,171,51,220,211,227,61,127,87,90,124,176,36,39,13,165,142,255,255,38,255,38,255,255,83,50,107,224,142,165,255,181,9,9,255,181,181,9,255,140,238,70,255,74,5,74,5,255,138,84,51,31,172,101,177,115,17,221,0,0,0,221,0,0,0,221,220,255,200,0,41,50,255,150,205,178,
45,116,113,255,189,47,0,44,40,119,171,205,107,255,177,115,172,133,73,236,109,0,168,168,46,207,188,181,203,212,188,35,90,97,52,39,209,184,41,164,152,227,46,70,46,70,227,211,156,255,98,146,222,136,56,95,102,54,152,86,142,0,142,0,86,0,86,142,86,223,96,246,135,46,4,208,120,212,233,158,177,92,214,104,147,88,149,240,147,227,93,148,72,255,133,209,27,194,147,255,255,44,93,0,160,36,158,182,233,0,96,94,217,218,103,88,163,154,38,118,114,139,94,0,43,113,164,174,168,188,114,0,23,119,42,86,93,255,226,202,80,191,
155,255,158,136,0,247,62,234,146,88,0,183,229,110,212,36,0,143,161,105,191,210,133,164,0,41,30,89,164,0,132,30,89,42,178,222,217,121,22,11,221,107,22,69,151,255,45,158,3,158,3,45,3,45,158,86,42,29,9,122,22,213,209,110,53,221,57,159,101,91,93,140,45,247,213,37,185,34,0,0,185,34,34,0,185,236,0,172,210,180,78,231,107,221,162,49,43,43,162,49,49,43,162,36,248,213,114,0,214,213,36,248,149,34,243,185,158,167,144,122,224,34,245,149,255,31,98,31,98,255,152,200,193,255,80,95,128,123,63,102,62,72,255,62,148,
151,226,108,159,99,255,226,255,126,98,223,136,80,95,255,225,153,15,73,41,211,212,71,41,83,217,187,180,235,79,0,166,127,251,135,243,229,41,0,41,0,229,82,255,216,141,174,249,249,215,255,167,31,79,31,79,167,213,102,185,255,215,83,4,2,40,224,171,220,41,0,4,6,50,90,221,15,113,15,113,221,33,0,115,108,23,90,182,215,36],ws:[],Qe:{aliceblue:["AliceBlue",240,248,255],antiquewhite:["AntiqueWhite",250,235,215],aqua:["Aqua",0,255,255],aquamarine:["Aquamarine",127,255,212],azure:["Azure",240,255,255],beige:["Beige",
245,245,220],bisque:["Bisque",255,228,196],black:["Black",0,0,0],blanchedalmond:["BlanchedAlmond",255,235,205],blue:["Blue",0,0,255],blueviolet:["BlueViolet",138,43,226],brown:["Brown",165,42,42],burlywood:["BurlyWood",222,184,135],cadetblue:["CadetBlue",95,158,160],chartreuse:["Chartreuse",127,255,0],chocolate:["Chocolate",210,105,30],coral:["Coral",255,127,80],cornflowerblue:["CornflowerBlue",100,149,237],cornsilk:["Cornsilk",255,248,220],crimson:["Crimson",220,20,60],cyan:["Cyan",0,255,255],darkblue:["DarkBlue",
0,0,139],darkcyan:["DarkCyan",0,139,139],darkgoldenrod:["DarkGoldenRod",184,134,11],darkgray:["DarkGray",169,169,169],darkgreen:["DarkGreen",0,100,0],darkkhaki:["DarkKhaki",189,183,107],darkmagenta:["DarkMagenta",139,0,139],darkolivegreen:["DarkOliveGreen",85,107,47],darkorange:["DarkOrange",255,140,0],darkorchid:["DarkOrchid",153,50,204],darkred:["DarkRed",139,0,0],darksalmon:["DarkSalmon",233,150,122],darkseagreen:["DarkSeaGreen",143,188,143],darkslateblue:["DarkSlateBlue",72,61,139],darkslategray:["DarkSlateGray",
47,79,79],darkturquoise:["DarkTurquoise",0,206,209],darkviolet:["DarkViolet",148,0,211],deeppink:["DeepPink",255,20,147],deepskyblue:["DeepSkyBlue",0,191,255],dimgray:["DimGray",105,105,105],dodgerblue:["DodgerBlue",30,144,255],firebrick:["FireBrick",178,34,34],floralwhite:["FloralWhite",255,250,240],forestgreen:["ForestGreen",34,139,34],fuchsia:["Fuchsia",255,0,255],gainsboro:["Gainsboro",220,220,220],ghostwhite:["GhostWhite",248,248,255],gold:["Gold",255,215,0],goldenrod:["GoldenRod",218,165,32],
gray:["Gray",128,128,128],green:["Green",0,128,0],greenyellow:["GreenYellow",173,255,47],honeydew:["HoneyDew",240,255,240],hotpink:["HotPink",255,105,180],indianred:["IndianRed",205,92,92],indigo:["Indigo",75,0,130],ivory:["Ivory",255,255,240],khaki:["Khaki",240,230,140],lavender:["Lavender",230,230,250],lavenderblush:["LavenderBlush",255,240,245],lawngreen:["LawnGreen",124,252,0],lemonchiffon:["LemonChiffon",255,250,205],lightblue:["LightBlue",173,216,230],lightcoral:["LightCoral",240,128,128],lightcyan:["LightCyan",
224,255,255],lightgoldenrodyellow:["LightGoldenRodYellow",250,250,210],lightgray:["LightGray",211,211,211],lightgreen:["LightGreen",144,238,144],lightpink:["LightPink",255,182,193],lightsalmon:["LightSalmon",255,160,122],lightseagreen:["LightSeaGreen",32,178,170],lightskyblue:["LightSkyBlue",135,206,250],lightslategray:["LightSlateGray",119,136,153],lightsteelblue:["LightSteelBlue",176,196,222],lightyellow:["LightYellow",255,255,224],lime:["Lime",0,255,0],limegreen:["LimeGreen",50,205,50],linen:["Linen",
250,240,230],magenta:["Magenta",255,0,255],maroon:["Maroon",128,0,0],mediumaquamarine:["MediumAquaMarine",102,205,170],mediumblue:["MediumBlue",0,0,205],mediumorchid:["MediumOrchid",186,85,211],mediumpurple:["MediumPurple",147,112,219],mediumseagreen:["MediumSeaGreen",60,179,113],mediumslateblue:["MediumSlateBlue",123,104,238],mediumspringgreen:["MediumSpringGreen",0,250,154],mediumturquoise:["MediumTurquoise",72,209,204],mediumvioletred:["MediumVioletRed",199,21,133],midnightblue:["MidnightBlue",
25,25,112],mintcream:["MintCream",245,255,250],mistyrose:["MistyRose",255,228,225],moccasin:["Moccasin",255,228,181],navajowhite:["NavajoWhite",255,222,173],navy:["Navy",0,0,128],oldlace:["OldLace",253,245,230],olive:["Olive",128,128,0],olivedrab:["OliveDrab",107,142,35],orange:["Orange",255,165,0],orangered:["OrangeRed",255,69,0],orchid:["Orchid",218,112,214],palegoldenrod:["PaleGoldenRod",238,232,170],palegreen:["PaleGreen",152,251,152],paleturquoise:["PaleTurquoise",175,238,238],palevioletred:["PaleVioletRed",
219,112,147],papayawhip:["PapayaWhip",255,239,213],peachpuff:["PeachPuff",255,218,185],peru:["Peru",205,133,63],pink:["Pink",255,192,203],plum:["Plum",221,160,221],powderblue:["PowderBlue",176,224,230],purple:["Purple",128,0,128],rebeccapurple:["RebeccaPurple",102,51,153],red:["Red",255,0,0],rosybrown:["RosyBrown",188,143,143],royalblue:["RoyalBlue",65,105,225],saddlebrown:["SaddleBrown",139,69,19],salmon:["Salmon",250,128,114],sandybrown:["SandyBrown",244,164,96],seagreen:["SeaGreen",46,139,87],
seashell:["SeaShell",255,245,238],sienna:["Sienna",160,82,45],silver:["Silver",192,192,192],skyblue:["SkyBlue",135,206,235],slateblue:["SlateBlue",106,90,205],slategray:["SlateGray",112,128,144],snow:["Snow",255,250,250],springgreen:["SpringGreen",0,255,127],steelblue:["SteelBlue",70,130,180],tan:["Tan",210,180,140],teal:["Teal",0,128,128],thistle:["Thistle",216,191,216],tomato:["Tomato",255,99,71],turquoise:["Turquoise",64,224,208],violet:["Violet",238,130,238],wheat:["Wheat",245,222,179],white:["White",
255,255,255],whitesmoke:["WhiteSmoke",245,245,245],yellow:["Yellow",255,255,0],yellowgreen:["YellowGreen",154,205,50]},JG:function(){return this.ws},oe:function(){var a,b;if(!this.VD)for(this.VD=!0,a=b=0;256>a;a+=1)eb.ws[a]=eb.xs[b]<<16|eb.xs[b+1]<<8|eb.xs[b+2],b+=3}};Oa.prototype.set=function(a){this.F=a.F;this.H=a.H;this.J=a.J;this.K=a.K};Oa.prototype.h=function(a){a.F<this.F&&(this.F=a.F);a.J>this.J&&(this.J=a.J);a.H<this.H&&(this.H=a.H);a.K>this.K&&(this.K=a.K)};lb.prototype.T=function(a,b){var c=
b.length,d=b[0].length,f,e,g=0,k,l,p=0,n=this.O,q=0,m=n[q],r=m.length;Array.uf(this.l,b);for(f=0;f<c;f+=1){var u=this.l[f];for(b=l=0;b<d;b+=1)if(k=u[b])for(e=15;0<=e;--e){if(0!==(k&1<<e)){var t=p;var w=l;var y=m[g];g+=1;a[t][w]=y&255;a[t][w+1]=y>>8&255;a[t+1][w]=y>>16&255;a[t+1][w+1]=y>>24;t+=2;y=m[g];g+=1;a[t][w]=y&255;a[t][w+1]=y>>8&255;a[t+1][w]=y>>16&255;a[t+1][w+1]=y>>24;t+=2;y=m[g];g+=1;a[t][w]=y&255;a[t][w+1]=y>>8&255;a[t+1][w]=y>>16&255;a[t+1][w+1]=y>>24;t+=2;y=m[g];g+=1;a[t][w]=y&255;a[t][w+
1]=y>>8&255;a[t+1][w]=y>>16&255;a[t+1][w+1]=y>>24;t+=2;y=m[g];g+=1;a[t][w]=y&255;a[t][w+1]=y>>8&255;a[t+1][w]=y>>16&255;a[t+1][w+1]=y>>24;t+=2;y=m[g];g+=1;a[t][w]=y&255;a[t][w+1]=y>>8&255;a[t+1][w]=y>>16&255;a[t+1][w+1]=y>>24;t+=2;y=m[g];g+=1;a[t][w]=y&255;a[t][w+1]=y>>8&255;a[t+1][w]=y>>16&255;a[t+1][w+1]=y>>24;t+=2;y=m[g];g+=1;a[t][w]=y&255;a[t][w+1]=y>>8&255;a[t+1][w]=y>>16&255;a[t+1][w+1]=y>>24;g>=r&&(q+=1,m=n[q],g=0)}l+=2}else l+=32;p+=16}};lb.prototype.X=function(a,b){var c=b.length,d=b[0].length,
f,e,g=0,k;var l=0;var p,n=0,q=this.O,m=0,r=q[m],u=r.length,t=q.length;var w=this.U.I;Array.uf(b,this.l);for(e=0;e<c;e+=1){var y=b[e];for(f=0;f<d;f+=1)(k=y[f])&&(l+=w[k])}if(l)for(e=0;e<c;e+=1){y=b[e];for(f=p=0;f<d;f+=1)if(k=y[f])for(l=15;0<=l;--l){if(0!==(k&1<<l)){var v=n;w=p;r[g]=a[v][w]|a[v][w+1]<<8|a[v+1][w]<<16|a[v+1][w+1]<<24;g+=1;v+=2;r[g]=a[v][w]|a[v][w+1]<<8|a[v+1][w]<<16|a[v+1][w+1]<<24;g+=1;v+=2;r[g]=a[v][w]|a[v][w+1]<<8|a[v+1][w]<<16|a[v+1][w+1]<<24;g+=1;v+=2;r[g]=a[v][w]|a[v][w+1]<<8|
a[v+1][w]<<16|a[v+1][w+1]<<24;g+=1;v+=2;r[g]=a[v][w]|a[v][w+1]<<8|a[v+1][w]<<16|a[v+1][w+1]<<24;g+=1;v+=2;r[g]=a[v][w]|a[v][w+1]<<8|a[v+1][w]<<16|a[v+1][w+1]<<24;g+=1;v+=2;r[g]=a[v][w]|a[v][w+1]<<8|a[v+1][w]<<16|a[v+1][w+1]<<24;g+=1;v+=2;r[g]=a[v][w]|a[v][w+1]<<8|a[v+1][w]<<16|a[v+1][w+1]<<24;g+=1;g>=u&&(m+=1,g=0,m>=t&&(Array.$m(q,"Snapshot.gridBufferRow"),t+=1));r=q[m]}p+=2}else p+=32;n+=16}};lb.prototype.V=function(a,b){var c=b.length,d=b[0].length,f,e,g,k,l=0,p,n,q=0,m=this.u,r=0,u=m[r],t=u.length;
Array.uf(this.o,b);for(e=0;e<c;e+=1){var w=b[e];for(f=n=0;f<d;f+=1)if(p=w[f])for(g=15;0<=g;--g){if(0!==(p&1<<g))for(k=n;k<n+16;k+=4){var y=q;var v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=1;v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=1;v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=1;v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=1;v=u[l];l+=1;
a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=1;v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=1;v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=1;v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=1;v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=1;v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=
1;v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=1;v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=1;v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=1;v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=1;v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=1;v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+
3]=v>>24;l>=t&&(r+=1,u=m[r],l=0)}n+=16}else n+=256;q+=16}};lb.prototype.R=function(a,b){var c=b.length,d=b[0].length,f,e,g,k,l=0,p,n,q=0,m=this.L,r=0,u=m[r],t=u.length;Array.uf(this.m,b);for(e=0;e<c;e+=1){var w=b[e];for(f=n=0;f<d;f+=1)if(p=w[f])for(g=15;0<=g;--g){if(0!==(p&1<<g))for(k=n;k<n+16;k+=4){var y=q;var v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=1;v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=1;v=u[l];l+=1;a[y][k]=
v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=1;v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=1;v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=1;v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=1;v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=1;v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=1;v=u[l];
l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=1;v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=1;v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=1;v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=1;v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=1;v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>
24;y+=1;v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;y+=1;v=u[l];l+=1;a[y][k]=v&255;a[y][k+1]=v>>8&255;a[y][k+2]=v>>16&255;a[y][k+3]=v>>24;l>=t&&(r+=1,u=m[r],l=0)}n+=16}else n+=256;q+=16}};lb.prototype.Y=function(a,b){var c=b.length,d=b[0].length,f,e,g=0,k;var l=0;var p,n=0,q=this.u,m=0,r=q[m],u=r.length,t=q.length;var w=this.U.I;Array.uf(b,this.o);for(e=0;e<c;e+=1){var y=b[e];for(f=0;f<d;f+=1)(k=y[f])&&(l+=w[k])}if(l)for(e=0;e<c;e+=1){y=b[e];for(f=p=0;f<d;f+=1)if(k=
y[f])for(l=15;0<=l;--l){if(0!==(k&1<<l))for(w=p;w<p+16;w+=4){var v=n;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<
24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|
a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;g>=u&&(m+=1,g=0,m>=t&&(Array.$m(q,"Snapshot.overlayGridBufferRow"),t+=1),r=q[m])}p+=16}else p+=256;n+=16}};lb.prototype.W=function(a,b){var c=b.length,d=b[0].length,f,e,g=0,k;var l=0;var p,n=0,q=this.L,m=0,r=q[m],u=r.length,t=q.length;var w=this.U.I;Array.uf(b,this.m);for(e=0;e<c;e+=1){var y=b[e];for(f=0;f<d;f+=1)(k=y[f])&&(l+=w[k])}if(l)for(e=0;e<c;e+=1){y=b[e];for(f=p=0;f<d;f+=1)if(k=y[f])for(l=15;0<=l;--l){if(0!==
(k&1<<l))for(w=p;w<p+16;w+=4){var v=n;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+
1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;v+=1;r[g]=a[v][w]|
a[v][w+1]<<8|a[v][w+2]<<16|a[v][w+3]<<24;g+=1;g>=u&&(m+=1,g=0,m>=t&&(Array.$m(q,"Snapshot.colourGridBufferRow"),t+=1),r=q[m])}p+=16}else p+=256;n+=16}};db.prototype.V=function(){for(var a=0,b=0;b<this.l.length;)a+=this.s[b].length*this.s[b][0].length*2,a+=this.m[b].length*this.m[b][0].length*2,a+=this.B[b].length*this.B[b][0].length*4,a+=this.A[b].length*this.A[b][0].length*4,this.u[b]&&(a+=this.o[b].length*this.o[b][0].length*2,a+=this.u[b].length*this.u[b][0].length*4),b+=1;return a};db.prototype.Z=
function(){for(var a=0,b=0;b<this.l.length;)this.l[b]&&(a+=1),b+=1;return a};db.prototype.reset=function(){this.h=[];this.l=[];this.D=0;this.i=-1};db.prototype.Y=function(a){var b=null;if(0<this.h.length)for(b=this.h[this.i];b&&b.counter>a;)b=null,0<this.i&&(this.O(this.h[this.i].s),this.h.pop(),--this.i,0<=this.i&&(b=this.h[this.i]));return b};db.prototype.W=function(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,w,y,v){y=null!==f;if(v)t=this.v;else if(51>this.h.length)t=this.M(t,w,!1,y),this.i+=1;else{this.i+=
1;if(51<=this.i){this.i=50;this.O(this.h[0].s);for(v=0;50>v;v+=1)this.h[v]=this.h[v+1];this.h.pop();this.M(t,w,!1,y)}t=this.h[this.i]}t.X(a,b);t.W(c,d);y&&t.Y(f,e);t.i.F=g.F;t.i.J=g.J;t.i.H=g.H;t.i.K=g.K;t.h.F=k.F;t.h.J=k.J;t.h.H=k.H;t.h.K=k.K;t.I=l;t.v=p;t.B=n;t.counter=q;t.M=m;t.A=r;t.D=u};db.prototype.O=function(a){this.l[a]=!1};db.prototype.X=function(a,b,c){for(var d=0,f=!1;d<this.D&&!f;)this.l[d]?d+=1:f=!0;f?(a=d,this.l[d]=!0):(this.s[d]=Array.matrix(pa.Ca,b,a,0,this.N,"Snapshot.tileGrid"+d),
this.m[d]=Array.matrix(pa.Ca,b,a,0,this.N,"Snapshot.colourTileGrid"+d),this.B[d]=Array.matrix(pa.hc,1,1024,0,this.N,"Snapshot.gridBuffer"+d),this.A[d]=Array.matrix(pa.hc,1,8192,0,this.N,"Snapshot.colourGridBuffer"+d),c&&(this.o[d]=Array.matrix(pa.Ca,b,a,0,this.N,"Snapshot.overlayTileGrid"+d),this.u[d]=Array.matrix(pa.hc,1,8192,0,this.N,"Snapshot.overlayGridBuffer"+d)),this.l[d]=!0,this.D+=1,a=d);return a};db.prototype.M=function(a,b,c,d){a=this.X(a,b,d);c?this.v=c=new lb(this,a,d):(c=new lb(this,
a,d),this.h[this.h.length]=c);return c};db.prototype.L=function(a,b,c){a.set(b,c)};db.prototype.R=function(a,b,c,d,f,e,g,k){var l=a.l,p=a.m,n=a.o,q=a.l.length,m=0,r=a.s;this.s[r]=Array.matrix(pa.Ca,c,b,0,this.N,"Snapshot.tileGrid"+r);this.m[r]=Array.matrix(pa.Ca,c,b,0,this.N,"Snapshot.colourTileGrid"+r);k&&(this.o[r]=Array.matrix(pa.Ca,c,b,0,this.N,"Snapshot.overlayTileGrid"+r));a.l=this.s[r];a.m=this.m[r];k&&(a.o=this.o[r]);if(0<d||0<f)for(;m<q;)this.L(a.l[m+f],l[m],d),this.L(a.m[m+f],p[m],d),k&&
this.L(a.o[m+f],n[m],d),m+=1;a.i.F+=e;a.i.J+=e;a.i.H+=g;a.i.K+=g;a.h.F+=e;a.h.J+=e;a.h.H+=g;a.h.K+=g};db.prototype.T=function(a,b,c,d,f,e,g){var k;this.v&&this.R(this.v,a,b,c,d,f,e,g);var l=0;for(k=this.h.length;l<k;)this.R(this.h[l],a,b,c,d,f,e,g),l+=1;for(l=0;l<this.l.length;)this.l[l]||(this.s[l]=Array.matrix(pa.Ca,b,a,0,this.N,"Snapshot.tileGrid"+l),this.m[l]=Array.matrix(pa.Ca,b,a,0,this.N,"Snapshot.colourTileGrid"+l),g&&(this.o[l]=Array.matrix(pa.Ca,b,a,0,this.N,"Snapshot.overlayTileGrid"+l))),
l+=1};Ea.prototype.nb=function(a){this.O.oe(a);this.W=this.N.h(pa.Zc,this.B.length,"HROT.birthChances");for(a=0;a<this.B.length;a+=1)this.W[a]=-1>=this.ja?this.O.random():(100-this.ja)/100;this.T=this.N.h(pa.Zc,this.v.length,"HROT.suvivalChances");for(a=0;a<this.v.length;a+=1)this.T[a]=-1>=this.ka?this.O.random():(100-this.ka)/100;this.M=this.N.h(pa.Zc,this.v.length,"HROT.immunityChances");for(a=0;a<this.v.length;a+=1)this.M[a]=-1===this.ha?1:-2===this.ha?this.O.random():(100-this.ha)/100;this.W.fill(this.W[0]);
this.T.fill(this.T[0]);this.M.fill(this.M[0])};Ea.prototype.resize=function(a,b){this.h=Array.matrix(pa.Hd,b,a,0,this.N,"HROT.counts");this.la=this.N.h(pa.Ma,a,"HROT.colUsed")};Ea.prototype.ub=function(a,b,c,d,f,e,g,k,l){var p=2*b+1,n=b*b,q=n+b,m,r=c.length>>1;this.type=a;this.l=b;this.o=f&&10!==a&&15!==a?b+b:b;this.I=this.N.h(pa.hc,p,"HROT.widths");this.L=c;this.na=d;this.D=f;this.Y=k;this.Z=l;if(e)for(this.s=this.N.h(pa.tp,e.length,"HROT.weightedNeighbourhood"),d=0;d<e.length;d+=1)this.s[d]=e[d];
else this.s=null;if(g)for(this.A=this.N.h(pa.Ma,g.length,"HROT.weightedStates"),d=0;d<g.length;d+=1)this.A[d]=g[d];else this.A=null;switch(a){case this.U.i:for(d=0;d<p;d+=1)this.I[d]=b;break;case this.U.m:for(d=0;d<b;d+=1)this.I[d]=d,this.I[p-d-1]=d;this.I[d]=b;break;case this.U.X:for(d=-b;d<=b;d+=1){for(a=0;(a+1)*(a+1)+d*d<=q;)a+=1;this.I[d+b]=a}break;case this.U.Y:for(d=-b;d<=b;d+=1){for(a=0;(a+1)*(a+1)+d*d<=n;)a+=1;this.I[d+b]=a}break;case 10:this.Ll=Array.matrix(pa.Ma,p,p,0,this.N,"HROT.neighbourhood");
n=new Uint16Array(p);g=m=f=d=q=e=0;for(k=this.Ll[q];q<p;)for(a="0123456789abcdef".indexOf(c[e]),e===r&&(k[d]=1,d+=1,f+=1,m+=1),e+=1,l=3;0<=l;--l)0!==(a&1<<l)&&(k[d]=1,f+=1,m+=1),d+=1,d===p&&(n[g]=m,m=0,g+=1,d=0,q+=1,q<p&&(k=this.Ll[q]));c=new Uint32Array(f);for(q=f=0;q<p;q+=1)for(k=this.Ll[q],d=0;d<p;d+=1)0<k[d]&&(c[f]=q<<16|d,f+=1);for(d=p=0;d<n.length;d+=1)0<n[d]&&(p+=n[d]+2);this.ga=this.N.h(pa.Ao,p,"HROT.neighbourList");for(d=f=e=0;d<n.length;d+=1)if(0<n[d]){g=c[e];this.ga[f]=b-(g>>16);this.ga[f+
1]=n[d];f+=2;for(q=0;q<n[d];q+=1)this.ga[f+q]=b-(c[e]&65535),e+=1;f+=n[d]}}};Ea.prototype.i=function(a,b,c){return 0>a||0>a+b||b-a>=this.m?0:0>b&&a+b<this.u?this.h[a+b][0]:b>=this.m&&b-a>=this.m-this.u?this.h[a+this.m-1-b][this.m-1]:a<this.u?c[b]:a-this.u+1+b<=this.fa?this.h[this.u-1][a-this.u+1+b]:b-(a-this.u+1)>=this.fa?this.h[this.u-1][b-(a-this.u+1)]:this.h[this.u-1][this.fa+(a+b+this.u+this.fa+1)%2]};Ea.prototype.da=function(a,b,c,d,f){a.set(b.slice(c,d),f)};Ea.prototype.sa=function(a,b,c,d){var f=
this.g.i,e=this.o,g=this.l,k;for(k=0;k<g;k+=1){var l=f[b+k];var p=f[d+k+1];this.da(p,l,a,c+1,a)}for(k=0;k<g;k+=1)l=f[d-k],p=f[b-k-1],this.da(p,l,a,c+1,a);for(k=b;k<=d;k+=1)l=f[k],l.copyWithin(c+1,a,a+e+1),l.copyWithin(a-e-1,c-e,c+1);for(k=0;k<g;k+=1)l=f[b+k],p=f[d+k+1],this.da(p,l,a,a+e+1,c+1),this.da(p,l,c-e,c+1,a-e-1);for(k=0;k<g;k+=1)l=f[d-k],p=f[b-k-1],this.da(p,l,a,a+e+1,c+1),this.da(p,l,c-e,c+1,a-e-1)};Ea.prototype.oa=function(a,b,c,d){var f=this.g.i,e=this.o,g=this.l,k;for(k=0;k<g;k+=1)f[d+
k+1].fill(0,a,c+1);for(k=0;k<g;k+=1)f[b-k-1].fill(0,a,c+1);for(k=b;k<=d;k+=1){var l=f[k];l.fill(0,c+1,c+e+2);l.fill(0,a-e-1,a)}for(k=0;k<g;k+=1)l=f[d+k+1],l.fill(0,c+1,c+e+2),l.fill(0,a-e-1,a);for(k=0;k<g;k+=1)l=f[b-k-1],l.fill(0,c+1,c+e+2),l.fill(0,a-e-1,a)};Ea.prototype.wb=function(a,b,c,d,f){var e,g,k=this.g.i,l=this.g.v,p=this.g.width,n=0,q=this.g.height,m=0,r=p,u=n,t=q,w=m,y=this.g.A,v=this.g.ya,D=this.o,F=this.l,E=f?this.$:this.B,O=f?this.ca:this.v,Q=this.h;var N=this.X-1;var U=I.Ya,S=I.Hh,
G=this.g.Pe,L=this.O,P=this.W,fa=this.T,ha=this.M;var ja=this.g.h+this.g.u-1;var ca=this.g.u,Z=0<this.g.u?1:0;var la=e=f=0;if(1===N)for(N=b-F;N<=d+F;N+=1){var da=k[N];var na=Q[N];var X=l[N>>4];var ma=g=!1;for(b=a-D;b<=c+D;b+=1){var aa=da[b];var Y=na[b];ja=0;aa<U?0<=Y&&1===E[Y]&&L.random()>=P[Y]&&(e+=1,ja=128):0<=Y&&0===O[Y]?L.random()>=ha[Y]?ja=128:la+=1:L.random()>=fa[Y]?ja=128:la+=1;aa=G[aa+ja];da[b]=aa;aa>S&&(g=!0,X[b>>8]|=1<<(~(b>>4)&15),b<p&&(p=b),b>n&&(n=b),aa>=U&&(f+=1,b<r&&(r=b),b>u&&(u=b),
ma=!0))}g&&(N<q&&(q=N),N>m&&(m=N));ma&&(N<t&&(t=N),N>w&&(w=N))}else for(N=b-F;N<=d+F;N+=1){da=k[N];na=Q[N];X=l[N>>4];ma=g=!1;for(b=a-D;b<=c+D;b+=1)aa=da[b],Y=na[b],aa<=ca?0<=Y&&1===E[Y]?L.random()>=P[Y]?(aa=ja,e+=1):aa>Z&&--aa:aa>Z&&--aa:aa===ja?0>Y||0===O[Y]?L.random()>=this.M[0>Y?0:Y]||(--aa,la+=1):L.random()>=this.T[0>Y?0:Y]||(--aa,la+=1):aa>Z&&--aa,da[b]=aa,0<aa&&(g=!0,X[b>>8]|=1<<(~(b>>4)&15),b<p&&(p=b),b>n&&(n=b),aa===ja&&(f+=1,b<r&&(r=b),b>u&&(u=b),ma=!0));g&&(N<q&&(q=N),N>m&&(m=N));ma&&(N<
t&&(t=N),N>w&&(w=N))}this.g.s=f;this.g.oa=e;this.g.fa=la;0<f&&(y.F=p,y.J=n,y.H=q,y.K=m,v.F=r,v.J=u,v.H=t,v.K=w)};Ea.prototype.vb=function(a,b,c,d,f){var e,g,k=this.g.i,l=this.g.v,p=this.g.width,n=0,q=this.g.height,m=0,r=p,u=n,t=q,w=m,y=this.g.A,v=this.g.ya,D=this.o,F=this.l,E=f?this.$:this.B,O=f?this.ca:this.v,Q=this.h;var N=this.X-1;var U=I.Ya,S=I.Hh,G=this.g.Pe;var L=this.g.h+this.g.u-1;var P=this.g.u,fa=0<this.g.u?1:0;var ha=e=f=0;if(1===N)for(N=b-F;N<=d+F;N+=1){var ja=k[N];var ca=Q[N];var Z=l[N>>
4];var la=g=!1;for(b=a-D;b<=c+D;b+=1){var da=ja[b];var na=ca[b];L=0;da<U?0<=na&&1===E[na]&&(e+=1,L=128):0<=na&&0===O[na]?ha+=1:L=128;da=G[da+L];ja[b]=da;da>S&&(g=!0,Z[b>>8]|=1<<(~(b>>4)&15),b<p&&(p=b),b>n&&(n=b),da>=U&&(f+=1,b<r&&(r=b),b>u&&(u=b),la=!0))}g&&(N<q&&(q=N),N>m&&(m=N));la&&(N<t&&(t=N),N>w&&(w=N))}else for(N=b-F;N<=d+F;N+=1){ja=k[N];ca=Q[N];Z=l[N>>4];la=g=!1;for(b=a-D;b<=c+D;b+=1){da=ja[b];na=ca[b];if(da<=P)0<=na&&1===E[na]?(da=L,e+=1):da>fa&&--da;else if(da===L){if(0>na||0===O[na])--da,
ha+=1}else da>fa&&--da;ja[b]=da;0<da&&(g=!0,Z[b>>8]|=1<<(~(b>>4)&15),b<p&&(p=b),b>n&&(n=b),da===L&&(f+=1,b<r&&(r=b),b>u&&(u=b),la=!0))}g&&(N<q&&(q=N),N>m&&(m=N));la&&(N<t&&(t=N),N>w&&(w=N))}this.g.s=f;this.g.oa=e;this.g.fa=ha;0<f&&(y.F=p,y.J=n,y.H=q,y.K=m,v.F=r,v.J=u,v.H=t,v.K=w)};Ea.prototype.ra=function(a,b,c,d,f){this.V?this.wb(a,b,c,d,f):this.vb(a,b,c,d,f)};Ea.prototype.jb=function(a,b,c,d,f){var e,g=this.g.h+this.g.u,k=this.g.u,l=this.s,p=this.g.i,n=this.h,q=this.A,m=q[0],r=l[0],u=l[1],t=l[2],
w=l[3],y=l[4],v=l[5],D=l[6],F=l[7];l=l[8];for(a-=f;a<=b+f;a+=1){var E=n[a];var O=c-f;var Q=O-1;for(e=O+1;O<=d+f;){var N=0;var U=p[a-1];var S=U[Q];S>k?N+=r*q[g-S]:0<m&&(N+=r*m);S=U[O];S>k?N+=u*q[g-S]:0<m&&(N+=u*m);S=U[e];S>k?N+=t*q[g-S]:0<m&&(N+=t*m);U=p[a];S=U[Q];S>k?N+=w*q[g-S]:0<m&&(N+=w*m);S=U[O];S>k?N+=y*q[g-S]:0<m&&(N+=y*m);S=U[e];S>k?N+=v*q[g-S]:0<m&&(N+=v*m);U=p[a+1];S=U[Q];S>k?N+=D*q[g-S]:0<m&&(N+=D*m);S=U[O];S>k?N+=F*q[g-S]:0<m&&(N+=F*m);S=U[e];S>k?N+=l*q[g-S]:0<m&&(N+=l*m);E[O]=N;O+=1;Q+=
1;e+=1}}};Ea.prototype.ib=function(a,b,c,d,f){var e,g=I.Ya,k=this.s,l=this.g.i,p=this.h,n=k[0],q=k[1],m=k[2],r=k[3],u=k[4],t=k[5],w=k[6],y=k[7];k=k[8];for(a-=f;a<=b+f;a+=1){var v=p[a];var D=c-f;var F=D-1;for(e=D+1;D<=d+f;){var E=0;var O=l[a-1];O[F]>=g&&(E+=n);O[D]>=g&&(E+=q);O[e]>=g&&(E+=m);O=l[a];O[F]>=g&&(E+=r);O[D]>=g&&(E+=u);O[e]>=g&&(E+=t);O=l[a+1];O[F]>=g&&(E+=w);O[D]>=g&&(E+=y);O[e]>=g&&(E+=k);v[D]=E;D+=1;F+=1;e+=1}}};Ea.prototype.Aa=function(a,b,c,d,f,e){var g=this.h,k,l=I.Ya,p=this.Y,n=this.Z,
q=this.g.i;for(k=b-e;k<=d+e;k+=1){var m=g[k];for(b=a-f;b<=c+f;){var r=0;var u=q[k-p];u[b-p]>=l&&(r+=1);u[b+p]>=l&&(r+=1);u=q[k+p];u[b-p]>=l&&(r+=1);u[b+p]>=l&&(r+=1);q[k-n][b]>=l&&(r+=1);q[k+n][b]>=l&&(r+=1);u=q[k];u[b-n]>=l&&(r+=1);u[b+n]>=l&&(r+=1);u[b]>=l&&(r+=1);m[b]=r;b+=1}}};Ea.prototype.va=function(a,b,c,d,f,e){var g=this.h,k,l,p=I.Ya,n=this.g.i;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var m=0;for(l=-e;0>l;l+=1){var r=n[k+l];r[b]>=p&&(m+=1);r[b+l]>=p&&(m+=1)}r=n[k];for(l=-f;l<=
f;l+=1)r[b+l]>=p&&(m+=1);for(l=1;l<=f;l+=1)r=n[k+l],r[b]>=p&&(m+=1),r[b+l]>=p&&(m+=1);q[b]=m;b+=1}}};Ea.prototype.fb=function(a,b,c,d,f,e){var g=this.h,k,l,p=I.Ya,n=this.g.i;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var m=0;for(l=-e;0>l;l+=1){var r=n[k+l];r[b]>=p&&(m+=1)}r=n[k];for(l=-f;0>=l;l+=1)r[b+l]>=p&&(m+=1);for(l=1;l<=f;l+=1)n[k+l][b+l]>=p&&(m+=1);q[b]=m;b+=1}}};Ea.prototype.hb=function(a,b,c,d,f,e){var g=this.h,k,l,p,n=I.Ya,q=this.g.i;if(null===this.A)if(1!==f||1!==e||this.D)for(k=
b-e;k<=d+e;k+=1){var m=g[k];for(b=a-f;b<=c+f;){if(this.D&&0!==(b+k&1)){var r=-(f+f+1);var u=this.s.length+r;r+=r}else r=u=0;var t=0;for(p=-e;p<=e;p+=1){var w=q[k+p];for(l=-f;l<=f;l+=1)w[b+l]>=n&&(t+=this.s[u]),u+=1;u+=r}m[b]=t;b+=1}}else this.ib(b,d,a,c,f);else{var y=this.A[0];var v=this.A[1];for(k=b-e;k<=d+e;k+=1)for(m=g[k],b=a-f;b<=c+f;){this.D&&0!==(b+k&1)?(r=-(f+f+1),u=this.s.length+r,r+=r):r=u=0;t=0;for(p=-e;p<=e;p+=1){w=q[k+p];for(l=-f;l<=f;l+=1)t=w[b+l]>=n?t+this.s[u]*v:t+this.s[u]*y,u+=1;
u+=r}m[b]=t;b+=1}}};Ea.prototype.Fa=function(a,b,c,d,f,e){var g=this.h,k,l,p,n,q=I.Ya,m=this.ga,r=this.g.i;for(k=b-e;k<=d+e;k+=1){var u=g[k];for(b=a-f;b<=c+f;){for(l=n=0;l<m.length;){var t=m[l];this.D&&0===(b+k&1)&&(t=-t);l+=1;var w=r[k+t];t=m[l];for(p=l+=1;p<l+t;p+=1)w[b+m[p]]>=q&&(n+=1);l+=t}u[b]=n;b+=1}}};Ea.prototype.Oa=function(a,b,c,d,f,e){var g=this.h,k,l,p,n,q,m=I.Ya,r=this.g.i;for(k=b-e;k<=d+e;k+=1){var u=g[k];b=a-f;var t=q=n=0;for(p=-e;p<=e;p+=1){var w=r[k+p];if(1===p)for(l=-f;l<=f;l+=1)w[b+
l]>=m&&(q+=1);else if(-1===p)for(l=-f;l<=f;l+=1)w[b+l]>=m&&(t+=1);else w[b-1]>=m&&(n+=1),w[b+1]>=m&&(n+=1)}r[k][b]>=m&&(n+=1);u[b]=n+q+t;for(b+=1;b<=c+f;){n=0;for(p=-e;p<=e;p+=1)w=r[k+p],1===p?(w[b-f-1]>=m&&--q,w[b+f]>=m&&(q+=1)):-1===p?(w[b-f-1]>=m&&--t,w[b+f]>=m&&(t+=1)):(w[b-1]>=m&&(n+=1),w[b+1]>=m&&(n+=1));r[k][b]>=m&&(n+=1);u[b]=n+q+t;b+=1}}};Ea.prototype.pa=function(a,b,c,d,f,e,g){var k=this.h,l,p,n,q=I.Ya,m=this.g.i;for(l=b-e;l<=d+e;l+=1){var r=k[l];b=a-f;var u=0;var t=g;for(n=-e;n<=e;n+=1){var w=
m[l+n];for(p=-f+t;p<=f-t;p+=2)w[b+p]>=q&&(u+=1);t=1-t}1===g&&m[l][b]>=q&&(u+=1);r[b]=u;b+=1;if(b<=c+f){var y=0;t=g;for(n=-e;n<=e;n+=1){w=m[l+n];for(p=-f+t;p<=f-t;p+=2)w[b+p]>=q&&(y+=1);t=1-t}1===g&&m[l][b]>=q&&(y+=1);r[b]=y;for(b+=1;b<=c+f;){t=g;for(n=-e;n<=e;n+=1)w=m[l+n],w[b-f+t-2]>=q&&--u,w[b+f-t]>=q&&(u+=1),t=1-t;1===g&&(m[l][b-2]>=q&&--u,m[l][b]>=q&&(u+=1));r[b]=u;b+=1;if(b<=c+f){t=g;for(n=-e;n<=e;n+=1)w=m[l+n],w[b-f+t-2]>=q&&--y,w[b+f-t]>=q&&(y+=1),t=1-t;1===g&&(m[l][b-2]>=q&&--y,m[l][b]>=q&&
(y+=1));r[b]=y;b+=1}}}}};Ea.prototype.xa=function(a,b,c,d,f,e){this.pa(a,b,c,d,f,e,1)};Ea.prototype.ta=function(a,b,c,d,f,e){this.pa(a,b,c,d,f,e,0)};Ea.prototype.Qa=function(a,b,c,d,f,e){var g=this.h,k,l,p,n=I.Ya,q=this.g.i;for(k=b-e;k<=d+e;k+=1){var m=g[k];b=a-f;var r=0;for(p=-e;0>p;p+=1){var u=q[k+p];for(l=-f;l<=f+p;l+=1)u[b+l]>=n&&(r+=1)}for(p=0;p<=e;p+=1)for(u=q[k+p],l=-f+p;l<=f;l+=1)u[b+l]>=n&&(r+=1);m[b]=r;for(b+=1;b<=c+f;){for(p=-e;0>p;p+=1)u=q[k+p],u[b-f-1]>=n&&--r,u[b+f+p]>=n&&(r+=1);for(p=
0;p<=e;p+=1)u=q[k+p],u[b-f+p-1]>=n&&--r,u[b+f]>=n&&(r+=1);m[b]=r;b+=1}}};Ea.prototype.Ua=function(a,b,c,d,f,e){var g=this.h,k,l,p=I.Ya,n=this.g.i;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var m=0;for(l=1;l<=e;l+=1){var r=n[k+l];r[b-l]>=p&&(m+=1);r[b+l]>=p&&(m+=1);r=n[k-l];r[b-l]>=p&&(m+=1);r[b+l]>=p&&(m+=1)}r=n[k];r[b]>=p&&(m+=1);q[b]=m;b+=1}}};Ea.prototype.Za=function(a,b,c,d,f,e){var g=this.h,k,l,p=I.Ya,n=this.g.i;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var m=0;for(l=1;l<=
e;l+=1){var r=n[k+l];r[b-l]>=p&&(m+=1);r[b+l]>=p&&(m+=1);r[b]>=p&&(m+=1);r=n[k-l];r[b-l]>=p&&(m+=1);r[b+l]>=p&&(m+=1);r[b]>=p&&(m+=1)}r=n[k];for(l=-f;l<=f;l+=1)r[b+l]>=p&&(m+=1);q[b]=m;b+=1}}};Ea.prototype.Da=function(a,b,c,d,f,e){var g=this.h,k,l,p,n=I.Ya,q=this.g.i;for(k=b-e;k<=d+e;k+=1){var m=g[k];b=a-f;var r=p=0;for(l=1;l<=e;l+=1){var u=q[k+l];u[b]>=n&&(p+=1);u=q[k-l];u[b]>=n&&(p+=1)}u=q[k];for(l=-f;l<=f;l+=1)u[b+l]>=n&&(r+=1);m[b]=p+r;for(b+=1;b<=c+f;){p=0;for(l=1;l<=e;l+=1)q[k+l][b]>=n&&(p+=
1),q[k-l][b]>=n&&(p+=1);u=q[k];u[b-f-1]>=n&&--r;u[b+f]>=n&&(r+=1);m[b]=p+r;b+=1}}};Ea.prototype.cb=function(a,b,c,d,f,e){var g=this.h,k,l,p=I.Ya,n=this.g.i;for(k=b-e;k<=d+e;k+=1){var q=g[k];b=a-f;var m=0;var r=b+k&1;if(0===r){var u=e+1;for(r=-e;0>r;r+=1){var t=n[k+r];for(l=-u;l<u;l+=2)t[b+l]>=p&&(m+=1),t[b+l+1]>=p&&(m+=1);t[b+l]>=p&&(m+=1);u+=1}r=0}else{u=e;for(r=-e;0>=r;r+=1){t=n[k+r];for(l=-u;l<u;l+=2)t[b+l]>=p&&(m+=1),t[b+l+1]>=p&&(m+=1);t[b+l]>=p&&(m+=1);u+=1}r=1}for(;r<=e;r+=1){--u;t=n[k+r];
for(l=-u;l<u;l+=2)t[b+l]>=p&&(m+=1),t[b+l+1]>=p&&(m+=1);t[b+l]>=p&&(m+=1)}q[b]=m;for(b+=1;b<=c+f;){r=b+k&1;if(0===r){u=e+1;l=e;for(r=-e;0>r;r+=1)t=n[k+r],t[b+l]>=p&&(m+=1),l+=1,t[b+l]>=p&&(m+=1),u+=1;--u;t=n[k];t[b-l-1]>=p&&--m;t[b+l]>=p&&(m+=1);l+=1;for(r=1;r<=e;r+=1)--u,--l,t=n[k+r],t[b-l-1]>=p&&--m,t[b-l]>=p&&--m}else{u=e;l=e+1;for(r=-e;0>r;r+=1)t=n[k+r],t[b-l-1]>=p&&--m,t[b-l]>=p&&--m,u+=1,l+=1;--l;t=n[k];t[b-l-1]>=p&&--m;t[b+l]>=p&&(m+=1);u+=1;for(r=1;r<=e;r+=1)--u,--l,t=n[k+r],t[b+l]>=p&&(m+=
1),t[b+l+1]>=p&&(m+=1)}q[b]=m;b+=1}}};Ea.prototype.Ha=function(a,b,c,d,f,e){var g=this.h,k,l,p,n,q=I.Ya,m=this.g.i;for(k=b-e;k<=d+e;k+=1){var r=g[k];for(b=a-f;b<=c+f;){var u=0;for(p=-e;0>p;p+=1){var t=n=p+e+1;var w=m[k+p];for(l=-f;0>=l;l+=1)w[b+l]>=q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)w[b+l]>=q&&(u+=t),t-=n;t=n=p+e+1;w=m[k-p];for(l=-f;0>=l;l+=1)w[b+l]>=q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)w[b+l]>=q&&(u+=t),t-=n}t=n=f+1;w=m[k];for(l=-f;0>=l;l+=1)w[b+l]>=q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=
1)w[b+l]>=q&&(u+=t),t-=n;r[b]=u;b+=1}}};Ea.prototype.Wa=function(a,b,c,d,f,e){var g=this.h,k,l,p,n=I.Ya,q=this.I,m=this.g.i;for(k=b-e;k<=d+e;k+=1){var r=g[k];b=a-f;var u=0;for(p=-e;p<=e;p+=1){var t=q[p+e];var w=m[k+p];for(l=-t;l<t;l+=2)w[b+l]>=n&&(u+=1),w[b+l+1]>=n&&(u+=1);w[b+l]>=n&&(u+=1)}r[b]=u;for(b+=1;b<=c+f;){for(p=-e;p<=e;p+=1)t=q[p+e],w=m[k+p],w[b-t-1]>=n&&--u,w[b+t]>=n&&(u+=1);r[b]=u;b+=1}}};Ea.prototype.La=function(a){var b,c,d=this.g.A.F,f=this.g.A.J,e=this.g.A.H,g=this.g.A.K,k=this.o,
l=this.l,p=a?this.$:this.B,n=a?this.ca:this.v,q=k+k,m=l+l;var r=k+1;var u=l+1;var t=this.h,w=this.type,y=this.X-1,v=this.g.width,D=0,F=this.g.height,E=0,O=v,Q=D,N=F,U=E,S=this.g.i,G=this.g.v;var L=this.g.O;var P=this.g.M,fa=0,ha=0,ja=0,ca=0,Z=0,la=0,da=0,na=I.Ya,X=I.Hh,ma=this.g.Pe,aa=this.la,Y=this.V,V=this.O,oa=this.W,R=this.T,C=this.M;-1!==this.g.D&&(fa=Math.round((this.g.width-L)/2),ja=Math.round((this.g.height-P)/2),ha=fa+L-1,ca=ja+P-1,1===p[0]&&(d=fa+k,f=ha-k,g=ca-l,e=ja+l),1===this.g.D&&(d-
fa<k&&(f=ha),ha-f<k&&(d=fa),ca-g<l&&(e=ja),e-ja<l&&(g=ca),this.sa(fa,ja,ha,ca)),0===this.g.D&&1===y&&this.g.Mf(S,0),d-fa<k&&(d=fa+k),ha-f<k&&(f=ha-k),ca-g<l&&(g=ca-l),e-ja<l&&(e=ja+l),w===this.U.i?(d-=q,e-=m,f+=q,g+=m):w===this.U.m&&6<k&&(d-=k,e-=l,f+=k,g+=l));if(w===this.U.i){d-=q;e-=m;f+=q;g+=m;for(c=e;c<e+m;c+=1)t[c].fill(0,d,f+1);for(c=e+m;c<=g;c+=1)t[c].fill(0,d,d+q+1);var z=t[e+m-1];for(c=e+m;c<=g;c+=1){var K=t[c];y=S[c];L=0;for(b=d+q;b+8<=f;)y[b]>=na&&(L+=1),K[b]=z[b]+L,b+=1,y[b]>=na&&(L+=
1),K[b]=z[b]+L,b+=1,y[b]>=na&&(L+=1),K[b]=z[b]+L,b+=1,y[b]>=na&&(L+=1),K[b]=z[b]+L,b+=1,y[b]>=na&&(L+=1),K[b]=z[b]+L,b+=1,y[b]>=na&&(L+=1),K[b]=z[b]+L,b+=1,y[b]>=na&&(L+=1),K[b]=z[b]+L,b+=1,y[b]>=na&&(L+=1),K[b]=z[b]+L,b+=1;for(;b<=f;)y[b]>=na&&(L+=1),K[b]=z[b]+L,b+=1;z=K}d+=k;e+=l;f-=k;g-=l;-1!==this.g.D&&(d+=q,e+=m,f-=q,g-=m);m=S[e][d];L=t[e+l][d+k];var M=0;m<na?1===p[L]&&(Y?V.random()>=oa[L]&&(la+=1,M=128):(la+=1,M=128)):0===n[L]?Y?V.random()>=C[L]?M=128:da+=1:da+=1:Y?V.random()>=R[L]?M=128:da+=
1:M=128;m=ma[m+M];S[e][d]=m;m>X&&(aa[d]|=1,E=F=e,G[e>>4][d>>8]|=1<<(~(d>>4)&15),m>=na&&(Z+=1,aa[d]|=2,U=N=e));var J=P=!1;K=t[e+l];z=t[e+l];y=S[e];q=G[e>>4];if(Y)for(b=d+1;b<=f;b+=1)m=y[b],L=K[b+k]-z[b-r],M=0,m<na?1===p[L]&&V.random()>=oa[L]&&(la+=1,M=128):0===n[L]?V.random()>=C[L]?M=128:da+=1:V.random()>=R[L]?M=128:da+=1,m=ma[m+M],y[b]=m,m>X&&(aa[b]|=1,P=!0,q[b>>8]|=1<<(~(b>>4)&15),m>=na&&(Z+=1,aa[b]|=2,J=!0));else for(b=d+1;b<=f;b+=1)m=y[b],L=K[b+k]-z[b-r],M=0,m<na?1===p[L]&&(la+=1,M=128):0===n[L]?
da+=1:M=128,m=ma[m+M],y[b]=m,m>X&&(aa[b]|=1,P=!0,q[b>>8]|=1<<(~(b>>4)&15),m>=na&&(Z+=1,aa[b]|=2,J=!0));P&&(E=F=e);J&&(U=N=e);q=y=!1;K=d+k;for(c=e+1;c<=g;c+=1)m=S[c][d],L=t[c+l][K]-t[c-u][K],M=0,m<na?1===p[L]&&(Y?V.random()>=oa[L]&&(la+=1,M=128):(la+=1,M=128)):0===n[L]?Y?V.random()>=C[L]?M=128:da+=1:da+=1:Y?V.random()>=R[L]?M=128:da+=1:M=128,m=ma[m+M],S[c][d]=m,m>X&&(c<F&&(F=c),c>E&&(E=c),y=!0,G[c>>4][d>>8]|=1<<(~(d>>4)&15),m>=na&&(Z+=1,c<N&&(N=c),c>U&&(U=c),q=!0));y&&(aa[d]|=1);q&&(aa[d]|=2);for(c=
e+1;c<=g;c+=1){y=S[c];q=G[c>>4];z=t[c+l];var x=t[c-u];K=d+1+k;var A=d+1-r;J=P=!1;if(Y)for(b=d+1;b<=f;b+=1)m=y[b],L=z[K]+x[A]-z[A]-x[K],M=0,m<na?1===p[L]&&V.random()>=oa[L]&&(M=128,la+=1):0===n[L]?V.random()>=C[L]?M=128:da+=1:V.random()>=R[L]?M=128:da+=1,m=ma[m+M],y[b]=m,m>X&&(P=!0,q[b>>8]|=1<<(~(b>>4)&15),aa[b]|=1,m>=na&&(Z+=1,J=!0,aa[b]|=2)),K+=1,A+=1;else for(b=d+1;b<=f;b+=1)m=y[b],L=z[K]+x[A]-z[A]-x[K],M=0,m<na?1===p[L]&&(M=128,la+=1):0===n[L]?da+=1:M=128,m=ma[m+M],y[b]=m,m>X&&(P=!0,q[b>>8]|=1<<
(~(b>>4)&15),aa[b]|=1,m>=na&&(Z+=1,J=!0,aa[b]|=2)),K+=1,A+=1;P&&(c<F&&(F=c),c>E&&(E=c));J&&(c<N&&(N=c),c>U&&(U=c))}for(b=d;b<=f;b+=1)aa[b]&&(b<v&&(v=b),b>D&&(D=b),0!==(aa[b]&2)&&(b<O&&(O=b),b>Q&&(Q=b)),aa[b]=0);this.g.s=Z;this.g.oa=la;this.g.fa=da;0<Z&&(this.g.A.F=v,this.g.A.J=D,this.g.A.H=F,this.g.A.K=E,this.g.ya.F=O,this.g.ya.J=Q,this.g.ya.H=N,this.g.ya.K=U)}else if(w===this.U.m&&6<k){d-=k;f+=k;e-=l;g+=l;-1===this.g.D&&(d-=k,f+=k,e-=l,g+=l);this.R=g-e+1;this.m=f-d+1;this.u=this.R+(this.m-1)/2|0;
this.fa=this.m/2|0;for(r=0;r<this.u;r+=1)for(K=t[r],y=S[r+e],aa=r-1,L=aa-1,c=t[aa],q=t[L],u=0;u<=this.m;u+=1)K[u]=this.i(aa,u-1,c)+this.i(aa,u+1,c)-this.i(L,u,q),r<this.R&&y[u+d]>=na&&(K[u]+=1);for(r=l;r<=this.R-l;r+=1){aa=r-1;c=t[aa];A=r+l;var ka=t[A];K=A-1;var W=t[K];b=r-l-1;var qa=t[b];z=b-1;var sa=t[z];x=r+e;y=S[x];q=G[x>>4];J=P=!1;if(Y)for(u=k;u<=this.m-k;u+=1){L=u+k;m=u-k;L=this.i(A,u,ka)-this.i(aa,L+1,c)-this.i(aa,m-1,c)+this.i(z,u,sa)+this.i(K,u,W)-this.i(aa,L,c)-this.i(aa,m,c)+this.i(b,u,
qa);var ia=u+d;m=y[ia];M=0;m<na?1===p[L]&&V.random()>=oa[L]&&(M=128,la+=1):0===n[L]?V.random()>=C[L]?M=128:da+=1:V.random()>=R[L]?M=128:da+=1;m=ma[m+M];y[ia]=m;m>X&&(ia<v&&(v=ia),ia>D&&(D=ia),P=!0,q[ia>>8]|=1<<(~(ia>>4)&15),m>=na&&(Z+=1,J=!0,ia<O&&(O=ia),ia>Q&&(Q=ia)))}else for(u=k;u<=this.m-k;u+=1)L=u+k,m=u-k,L=this.i(A,u,ka)-this.i(aa,L+1,c)-this.i(aa,m-1,c)+this.i(z,u,sa)+this.i(K,u,W)-this.i(aa,L,c)-this.i(aa,m,c)+this.i(b,u,qa),ia=u+d,m=y[ia],M=0,m<na?1===p[L]&&(M=128,la+=1):0===n[L]?da+=1:M=
128,m=ma[m+M],y[ia]=m,m>X&&(ia<v&&(v=ia),ia>D&&(D=ia),P=!0,q[ia>>8]|=1<<(~(ia>>4)&15),m>=na&&(Z+=1,J=!0,ia<O&&(O=ia),ia>Q&&(Q=ia)));P&&(x<F&&(F=x),x>E&&(E=x));J&&(x<N&&(N=x),x>U&&(U=x))}this.g.s=Z;this.g.oa=la;this.g.fa=da;0<Z&&(this.g.A.F=v,this.g.A.J=D,this.g.A.H=F,this.g.A.K=E,this.g.ya.F=O,this.g.ya.J=Q,this.g.ya.H=N,this.g.ya.K=U)}else switch(w){case this.U.s:this.Aa(d,e,f,g,k,l);break;case this.U.u:this.va(d,e,f,g,k,l);break;case this.U.B:this.fb(d,e,f,g,k,l);break;case 15:this.hb(d,e,f,g,k,
l);break;case 10:this.Fa(d,e,f,g,k,l);break;case this.U.T:this.Oa(d,e,f,g,k,l);break;case this.U.O:this.xa(d,e,f,g,k,l);break;case this.U.M:this.ta(d,e,f,g,k,l);break;case this.U.I:this.Qa(d,e,f,g,k,l);break;case this.U.V:this.Ua(d,e,f,g,k,l);break;case this.U.W:this.Za(d,e,f,g,k,l);break;case this.U.R:this.Da(d,e,f,g,k,l);break;case this.U.L:this.cb(d,e,f,g,k,l);break;case this.U.v:this.Ha(d,e,f,g,k,l);break;default:this.Wa(d,e,f,g,k,l)}-1!==this.g.D&&(d<fa+k&&(d=fa+k),f>ha-k&&(f=ha-k),e<ja+l&&(e=
ja+l),g>ca-l&&(g=ca-l));w===this.U.i||w===this.U.m&&6<k||this.ra(d,e,f,g,a);1===this.g.D&&this.oa(fa,ja,ha,ca)};Ea.prototype.Ba=function(a,b,c,d,f,e){var g=this.h,k,l=this.g.h+this.g.u-1,p=this.Y,n=this.Z,q=this.g.i;for(k=b-e;k<=d+e;k+=1){var m=g[k];for(b=a-f;b<=c+f;){var r=0;var u=q[k-p];u[b-p]===l&&(r+=1);u[b+p]===l&&(r+=1);u=q[k+p];u[b-p]===l&&(r+=1);u[b+p]===l&&(r+=1);q[k-n][b]===l&&(r+=1);q[k+n][b]===l&&(r+=1);u=q[k];u[b-n]===l&&(r+=1);u[b+n]===l&&(r+=1);u[b]===l&&(r+=1);m[b]=r;b+=1}}};Ea.prototype.wa=
function(a,b,c,d,f,e){var g=this.h,k,l,p=this.g.h+this.g.u-1,n=this.g.i;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var m=0;for(l=-e;0>l;l+=1){var r=n[k+l];r[b]===p&&(m+=1);r[b+l]===p&&(m+=1)}r=n[k];for(l=-f;l<=f;l+=1)r[b+l]===p&&(m+=1);for(l=1;l<=f;l+=1)r=n[k+l],r[b]===p&&(m+=1),r[b+l]===p&&(m+=1);q[b]=m;b+=1}}};Ea.prototype.gb=function(a,b,c,d,f,e){var g=this.h,k,l,p=this.g.h+this.g.u-1,n=this.g.i;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var m=0;for(l=-e;0>l;l+=1){var r=n[k+
l];r[b]===p&&(m+=1)}r=n[k];for(l=-f;0>=l;l+=1)r[b+l]===p&&(m+=1);for(l=1;l<=f;l+=1)n[k+l][b+l]===p&&(m+=1);q[b]=m;b+=1}}};Ea.prototype.mb=function(a,b,c,d,f,e){var g=this.h,k,l,p,n=this.g.h+this.g.u-1,q=this.g.i;if(null===this.A)for(k=b-e;k<=d+e;k+=1){var m=g[k];for(b=a-f;b<=c+f;){if(this.D&&0!==(b+k&1)){var r=-(f+f+1);var u=this.s.length+r;r+=r}else r=u=0;var t=0;for(p=-e;p<=e;p+=1){var w=q[k+p];for(l=-f;l<=f;l+=1)w[b+l]===n&&(t+=this.s[u]),u+=1;u+=r}m[b]=t;b+=1}}else if(1!==f||1!==e||this.D){var y=
this.A[0];var v=this.A[1];for(k=b-e;k<=d+e;k+=1)for(m=g[k],b=a-f;b<=c+f;){this.D&&0!==(b+k&1)?(r=-(f+f+1),u=this.s.length+r,r+=r):r=u=0;t=0;for(p=-e;p<=e;p+=1){w=q[k+p];for(l=-f;l<=f;l+=1)t=w[b+l]===n?t+this.s[u]*v:t+this.s[u]*y,u+=1;u+=r}m[b]=t;b+=1}}else this.jb(b,d,a,c,f)};Ea.prototype.Ga=function(a,b,c,d,f,e){var g=this.h,k,l,p,n,q=this.g.h+this.g.u-1,m=this.ga,r=this.g.i;for(k=b-e;k<=d+e;k+=1){var u=g[k];for(b=a-f;b<=c+f;){for(l=n=0;l<m.length;){var t=m[l];this.D&&0===(b+k&1)&&(t=-t);l+=1;var w=
r[k+t];t=m[l];for(p=l+=1;p<l+t;p+=1)w[b+m[p]]===q&&(n+=1);l+=t}u[b]=n;b+=1}}};Ea.prototype.Pa=function(a,b,c,d,f,e){var g=this.h,k,l,p,n,q,m=this.g.h+this.g.u-1,r=this.g.i;for(k=b-e;k<=d+e;k+=1){var u=g[k];b=a-f;var t=q=n=0;for(p=-e;p<=e;p+=1){var w=r[k+p];if(1===p)for(l=-f;l<=f;l+=1)w[b+l]===m&&(q+=1);else if(-1===p)for(l=-f;l<=f;l+=1)w[b+l]===m&&(t+=1);else w[b-1]===m&&(n+=1),w[b+1]===m&&(n+=1)}r[k][b]===m&&(n+=1);u[b]=n+q+t;for(b+=1;b<=c+f;){n=0;for(p=-e;p<=e;p+=1)w=r[k+p],1===p?(w[b-f-1]===m&&
--q,w[b+f]===m&&(q+=1)):-1===p?(w[b-f-1]===m&&--t,w[b+f]===m&&(t+=1)):(w[b-1]===m&&(n+=1),w[b+1]===m&&(n+=1));r[k][b]===m&&(n+=1);u[b]=n+q+t;b+=1}}};Ea.prototype.qa=function(a,b,c,d,f,e,g){var k=this.h,l,p,n,q=this.g.h+this.g.u-1,m=this.g.i;for(l=b-e;l<=d+e;l+=1){var r=k[l];b=a-f;var u=0;var t=g;for(n=-e;n<=e;n+=1){var w=m[l+n];for(p=-f+t;p<=f-t;p+=2)w[b+p]===q&&(u+=1);t=1-t}1===g&&m[l][b]===q&&(u+=1);r[b]=u;b+=1;if(b<=c+f){var y=0;t=g;for(n=-e;n<=e;n+=1){w=m[l+n];for(p=-f+t;p<=f-t;p+=2)w[b+p]===
q&&(y+=1);t=1-t}1===g&&m[l][b]===q&&(y+=1);r[b]=y;for(b+=1;b<=c+f;){t=g;for(n=-e;n<=e;n+=1)w=m[l+n],w[b-f+t-2]===q&&--u,w[b+f-t]===q&&(u+=1),t=1-t;1===g&&(m[l][b-2]===q&&--u,m[l][b]===q&&(u+=1));r[b]=u;b+=1;if(b<=c+f){t=g;for(n=-e;n<=e;n+=1)w=m[l+n],w[b-f+t-2]===q&&--y,w[b+f-t]===q&&(y+=1),t=1-t;1===g&&(m[l][b-2]===q&&--y,m[l][b]===q&&(y+=1));r[b]=y;b+=1}}}}};Ea.prototype.ya=function(a,b,c,d,f,e){this.qa(a,b,c,d,f,e,1)};Ea.prototype.ua=function(a,b,c,d,f,e){this.qa(a,b,c,d,f,e,0)};Ea.prototype.Ta=
function(a,b,c,d,f,e){var g=this.h,k,l,p,n=this.g.h+this.g.u-1,q=this.g.i;for(k=b-e;k<=d+e;k+=1){var m=g[k];b=a-f;var r=0;for(p=-e;0>p;p+=1){var u=q[k+p];for(l=-f;l<=f+p;l+=1)u[b+l]===n&&(r+=1)}for(p=0;p<=e;p+=1)for(u=q[k+p],l=-f+p;l<=f;l+=1)u[b+l]===n&&(r+=1);m[b]=r;for(b+=1;b<=c+f;){for(p=-e;0>p;p+=1)u=q[k+p],u[b-f-1]===n&&--r,u[b+f+p]===n&&(r+=1);for(p=0;p<=e;p+=1)u=q[k+p],u[b-f+p-1]===n&&--r,u[b+f]===n&&(r+=1);m[b]=r;b+=1}}};Ea.prototype.Va=function(a,b,c,d,f,e){var g=this.h,k,l,p=this.g.h+this.g.u-
1,n=this.g.i;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var m=0;for(l=1;l<=e;l+=1){var r=n[k+l];r[b-l]===p&&(m+=1);r[b+l]===p&&(m+=1);r=n[k-l];r[b-l]===p&&(m+=1);r[b+l]===p&&(m+=1)}r=n[k];r[b]===p&&(m+=1);q[b]=m;b+=1}}};Ea.prototype.bb=function(a,b,c,d,f,e){var g=this.h,k,l,p=this.g.h+this.g.u-1,n=this.g.i;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var m=0;for(l=1;l<=e;l+=1){var r=n[k+l];r[b-l]===p&&(m+=1);r[b+l]===p&&(m+=1);r[b]===p&&(m+=1);r=n[k-l];r[b-l]===p&&(m+=1);r[b+l]===
p&&(m+=1);r[b]===p&&(m+=1)}r=n[k];for(l=-f;l<=f;l+=1)r[b+l]===p&&(m+=1);q[b]=m;b+=1}}};Ea.prototype.Ea=function(a,b,c,d,f,e){var g=this.h,k,l,p,n=this.g.h+this.g.u-1,q=this.g.i;for(k=b-e;k<=d+e;k+=1){var m=g[k];b=a-f;var r=p=0;for(l=1;l<=e;l+=1){var u=q[k+l];u[b]===n&&(p+=1);u=q[k-l];u[b]===n&&(p+=1)}u=q[k];for(l=-f;l<=f;l+=1)u[b+l]===n&&(r+=1);m[b]=p+r;for(b+=1;b<=c+f;){p=0;for(l=1;l<=e;l+=1)q[k+l][b]===n&&(p+=1),q[k-l][b]===n&&(p+=1);u=q[k];u[b-f-1]===n&&--r;u[b+f]===n&&(r+=1);m[b]=p+r;b+=1}}};
Ea.prototype.eb=function(a,b,c,d,f,e){var g=this.h,k,l,p=this.g.h+this.g.u-1,n=this.g.i;for(k=b-e;k<=d+e;k+=1){var q=g[k];b=a-f;var m=0;var r=b+k&1;if(0===r){var u=e+1;for(r=-e;0>r;r+=1){var t=n[k+r];for(l=-u;l<u;l+=2)t[b+l]===p&&(m+=1),t[b+l+1]===p&&(m+=1);t[b+l]===p&&(m+=1);u+=1}r=0}else{u=e;for(r=-e;0>=r;r+=1){t=n[k+r];for(l=-u;l<u;l+=2)t[b+l]===p&&(m+=1),t[b+l+1]===p&&(m+=1);t[b+l]===p&&(m+=1);u+=1}r=1}for(;r<=e;r+=1){--u;t=n[k+r];for(l=-u;l<u;l+=2)t[b+l]===p&&(m+=1),t[b+l+1]===p&&(m+=1);t[b+
l]===p&&(m+=1)}q[b]=m;for(b+=1;b<=c+f;){r=b+k&1;if(0===r){u=e+1;l=e;for(r=-e;0>r;r+=1)t=n[k+r],t[b+l]===p&&(m+=1),l+=1,t[b+l]===p&&(m+=1),u+=1;--u;t=n[k];t[b-l-1]===p&&--m;t[b+l]===p&&(m+=1);l+=1;for(r=1;r<=e;r+=1)--u,--l,t=n[k+r],t[b-l-1]===p&&--m,t[b-l]===p&&--m}else{u=e;l=e+1;for(r=-e;0>r;r+=1)t=n[k+r],t[b-l-1]===p&&--m,t[b-l]===p&&--m,u+=1,l+=1;--l;t=n[k];t[b-l-1]===p&&--m;t[b+l]===p&&(m+=1);u+=1;for(r=1;r<=e;r+=1)--u,--l,t=n[k+r],t[b+l]===p&&(m+=1),t[b+l+1]===p&&(m+=1)}q[b]=m;b+=1}}};Ea.prototype.Ja=
function(a,b,c,d,f,e){var g=this.h,k,l,p,n,q=this.g.h+this.g.u-1,m=this.g.i;for(k=b-e;k<=d+e;k+=1){var r=g[k];for(b=a-f;b<=c+f;){var u=0;for(p=-e;0>p;p+=1){var t=n=p+e+1;var w=m[k+p];for(l=-f;0>=l;l+=1)w[b+l]===q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)w[b+l]===q&&(u+=t),t-=n;t=n=p+e+1;w=m[k-p];for(l=-f;0>=l;l+=1)w[b+l]===q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)w[b+l]===q&&(u+=t),t-=n}t=n=f+1;w=m[k];for(l=-f;0>=l;l+=1)w[b+l]===q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)w[b+l]===q&&(u+=t),t-=n;r[b]=u;b+=
1}}};Ea.prototype.Xa=function(a,b,c,d,f,e){var g=this.h,k,l,p,n=this.g.h+this.g.u-1,q=this.I,m=this.g.i;for(k=b-e;k<=d+e;k+=1){var r=g[k];b=a-f;var u=0;for(p=-e;p<=e;p+=1){var t=q[p+e];var w=m[k+p];for(l=-t;l<t;l+=2)w[b+l]===n&&(u+=1),w[b+l+1]===n&&(u+=1);w[b+l]===n&&(u+=1)}r[b]=u;for(b+=1;b<=c+f;){for(p=-e;p<=e;p+=1)t=q[p+e],w=m[k+p],w[b-t-1]===n&&--u,w[b+t]===n&&(u+=1);r[b]=u;b+=1}}};Ea.prototype.Na=function(a){var b,c,d=this.g.A.F,f=this.g.A.J,e=this.g.A.H,g=this.g.A.K,k=this.o,l=this.l,p=a?this.$:
this.B,n=a?this.ca:this.v,q=k+k,m=l+l;var r=k+1;var u=l+1;var t=this.h,w=this.type,y=this.g.width,v=0,D=this.g.height,F=0,E=y,O=v,Q=D,N=F,U=this.g.i,S=this.g.v;var G=this.g.O;var L=this.g.M;var P=0,fa=0,ha=0,ja=0,ca=0,Z=0,la=0,da,na=this.V,X=this.O,ma=this.W,aa=this.T,Y=this.M,V=this.g.h+this.g.u-1,oa=this.g.u,R=0<this.g.u?1:0;-1!==this.g.D&&(P=Math.round((this.g.width-G)/2),ha=Math.round((this.g.height-L)/2),fa=P+G-1,ja=ha+L-1,1===p[0]&&(d=P+k,f=fa-k,g=ja-l,e=ha+l),1===this.g.D&&(d-P<k&&(f=fa),fa-
f<k&&(d=P),ja-g<l&&(e=ha),e-ha<l&&(g=ja),this.sa(P,ha,fa,ja)),d-P<k&&(d=P+k),fa-f<k&&(f=fa-k),ja-g<l&&(g=ja-l),e-ha<l&&(e=ha+l),w===this.U.i?(d-=q,e-=m,f+=q,g+=m):w===this.U.m&&6<k&&(d-=k,e-=l,f+=k,g+=l));if(w===this.U.i){d-=q;e-=m;f+=q;g+=m;for(c=e;c<e+m;c+=1)t[c].fill(0,d,f+1);for(c=e+m;c<=g;c+=1)t[c].fill(0,d,d+q);for(c=e+m;c<=g;c+=1){var C=t[c-1];var z=t[c];G=U[c];L=0;for(b=d+q;b<=f;b+=1)G[b]===V&&(L+=1),z[b]=C[b]+L}d+=k;e+=l;f-=k;g-=l;-1!==this.g.D&&(d+=q,e+=m,f-=q,g-=m);m=U[e][d];L=t[e+l][d+
k];m<=oa?1===p[L]?na?X.random()>=ma[L]?(m=V,Z+=1):m>R&&--m:(m=V,Z+=1):m>R&&--m:m===V?0===n[L]?na?X.random()>=Y[L]||(--m,la+=1):(--m,la+=1):!na||X.random()>=aa[L]||(--m,la+=1):m>R&&--m;U[e][d]=m;0<m&&(v=y=d,F=D=e,S[e>>4][d>>8]|=1<<(~(d>>4)&15),m===V&&(ca+=1,O=E=d,N=Q=e));var K=da=!1;z=t[e+l];C=t[e+l];G=U[e];q=S[e>>4];if(na)for(b=d+1;b<=f;b+=1)m=G[b],L=z[b+k]-C[b-r],m<=oa?1===p[L]?X.random()>=ma[L]?(m=V,Z+=1):m>R&&--m:m>R&&--m:m===V?0===n[L]?X.random()>=Y[L]||(--m,la+=1):X.random()>=aa[L]||(--m,la+=
1):m>R&&--m,G[b]=m,0<m&&(b<y&&(y=b),b>v&&(v=b),da=!0,q[b>>8]|=1<<(~(b>>4)&15),m===V&&(ca+=1,b<E&&(E=b),b>O&&(O=b),K=!0));else for(b=d+1;b<=f;b+=1)m=G[b],L=z[b+k]-C[b-r],m<=oa?1===p[L]?(m=V,Z+=1):m>R&&--m:m===V?0===n[L]&&(--m,la+=1):m>R&&--m,G[b]=m,0<m&&(b<y&&(y=b),b>v&&(v=b),da=!0,q[b>>8]|=1<<(~(b>>4)&15),m===V&&(ca+=1,b<E&&(E=b),b>O&&(O=b),K=!0));da&&(F=D=e);K&&(N=Q=e);q=G=!1;z=d+k;if(na)for(c=e+1;c<=g;c+=1)m=U[c][d],L=t[c+l][z]-t[c-u][z],m<=oa?1===p[L]?X.random()>=ma[L]?(m=V,Z+=1):m>R&&--m:m>R&&
--m:m===V?0===n[L]?X.random()>=Y[L]||(--m,la+=1):X.random()>=aa[L]||(--m,la+=1):m>R&&--m,U[c][d]=m,0<m&&(c<D&&(D=c),c>F&&(F=c),G=!0,S[c>>4][d>>8]|=1<<(~(d>>4)&15),m===V&&(ca+=1,c<Q&&(Q=c),c>N&&(N=c),q=!0));else for(c=e+1;c<=g;c+=1)m=U[c][d],L=t[c+l][z]-t[c-u][z],m<=oa?1===p[L]?(m=V,Z+=1):m>R&&--m:m===V?0===n[L]&&(--m,la+=1):m>R&&--m,U[c][d]=m,0<m&&(c<D&&(D=c),c>F&&(F=c),G=!0,S[c>>4][d>>8]|=1<<(~(d>>4)&15),m===V&&(ca+=1,c<Q&&(Q=c),c>N&&(N=c),q=!0));G&&(d<y&&(y=d),d>v&&(v=d));q&&(d<E&&(E=d),d>O&&(O=
d));for(c=e+1;c<=g;c+=1){G=U[c];q=S[c>>4];C=t[c+l];var M=t[c-u];K=da=!1;z=d+1+k;var J=d+1-r;if(na)for(b=d+1;b<=f;b+=1)m=G[b],L=C[z]+M[J]-C[J]-M[z],m<=oa?1===p[L]?X.random()>=ma[L]?(m=V,Z+=1):m>R&&--m:m>R&&--m:m===V?0===n[L]?X.random()>=Y[L]||(--m,la+=1):X.random()>=aa[L]||(--m,la+=1):m>R&&--m,G[b]=m,0<m&&(q[b>>8]|=1<<(~(b>>4)&15),b<y&&(y=b),b>v&&(v=b),da=!0,m===V&&(ca+=1,K=!0,b<E&&(E=b),b>O&&(O=b))),z+=1,J+=1;else for(b=d+1;b<=f;b+=1)m=G[b],L=C[z]+M[J]-C[J]-M[z],m<=oa?1===p[L]?(m=V,Z+=1):m>R&&--m:
m===V?0===n[L]&&(--m,la+=1):m>R&&--m,G[b]=m,0<m&&(q[b>>8]|=1<<(~(b>>4)&15),b<y&&(y=b),b>v&&(v=b),da=!0,m===V&&(ca+=1,K=!0,b<E&&(E=b),b>O&&(O=b))),z+=1,J+=1;da&&(c<D&&(D=c),c>F&&(F=c));K&&(c<Q&&(Q=c),c>N&&(N=c))}this.g.s=ca;this.g.oa=Z;this.g.fa=la;0<ca&&(this.g.A.F=y,this.g.A.J=v,this.g.A.H=D,this.g.A.K=F,this.g.ya.F=E,this.g.ya.J=O,this.g.ya.H=Q,this.g.ya.K=N)}else if(w===this.U.m&&6<k){d-=k;f+=k;e-=l;g+=l;-1===this.g.D&&(d-=k,f+=k,e-=l,g+=l);this.R=g-e+1;this.m=f-d+1;this.u=this.R+(this.m-1)/2|
0;this.fa=this.m/2|0;for(r=0;r<this.u;r+=1)for(z=t[r],G=U[r+e],c=r-1,L=c-1,b=t[c],q=t[L],u=0;u<=this.m;u+=1)z[u]=this.i(c,u-1,b)+this.i(c,u+1,b)-this.i(L,u,q),r<this.R&&G[u+d]===V&&(z[u]+=1);for(r=l;r<=this.R-l;r+=1){c=r-1;b=t[c];var x=r+l;var A=t[x];z=x-1;var ka=t[z];C=r-l-1;var W=t[C];M=C-1;var qa=t[M];J=r+e;G=U[J];q=S[J>>4];K=da=!1;if(na)for(u=k;u<=this.m-k;u+=1){L=u+k;m=u-k;L=this.i(x,u,A)-this.i(c,L+1,b)-this.i(c,m-1,b)+this.i(M,u,qa)+this.i(z,u,ka)-this.i(c,L,b)-this.i(c,m,b)+this.i(C,u,W);
var sa=u+d;m=G[sa];m<=oa?1===p[L]?X.random()>=ma[L]?(m=V,Z+=1):m>R&&--m:m>R&&--m:m===V?0===n[L]?X.random()>=Y[L]||(--m,la+=1):X.random()>=aa[L]||(--m,la+=1):m>R&&--m;G[sa]=m;0<m&&(q[sa>>8]|=1<<(~(sa>>4)&15),sa<y&&(y=sa),sa>v&&(v=sa),da=!0,m===V&&(ca+=1,K=!0,sa<E&&(E=sa),sa>O&&(O=sa)))}else for(u=k;u<=this.m-k;u+=1)L=u+k,m=u-k,L=this.i(x,u,A)-this.i(c,L+1,b)-this.i(c,m-1,b)+this.i(M,u,qa)+this.i(z,u,ka)-this.i(c,L,b)-this.i(c,m,b)+this.i(C,u,W),sa=u+d,m=G[sa],m<=oa?1===p[L]?(m=V,Z+=1):m>R&&--m:m===
V?0===n[L]&&(--m,la+=1):m>R&&--m,G[sa]=m,0<m&&(q[sa>>8]|=1<<(~(sa>>4)&15),sa<y&&(y=sa),sa>v&&(v=sa),da=!0,m===V&&(ca+=1,K=!0,sa<E&&(E=sa),sa>O&&(O=sa)));da&&(J<D&&(D=J),J>F&&(F=J));K&&(J<Q&&(Q=J),J>N&&(N=J))}this.g.s=ca;this.g.oa=Z;this.g.fa=la;0<ca&&(this.g.A.F=y,this.g.A.J=v,this.g.A.H=D,this.g.A.K=F,this.g.ya.F=E,this.g.ya.J=O,this.g.ya.H=Q,this.g.ya.K=N)}else switch(w){case this.U.s:this.Ba(d,e,f,g,k,l);break;case this.U.u:this.wa(d,e,f,g,k,l);break;case this.U.B:this.gb(d,e,f,g,k,l);break;case 15:this.mb(d,
e,f,g,k,l);break;case 10:this.Ga(d,e,f,g,k,l);break;case this.U.T:this.Pa(d,e,f,g,k,l);break;case this.U.O:this.ya(d,e,f,g,k,l);break;case this.U.M:this.ua(d,e,f,g,k,l);break;case this.U.I:this.Ta(d,e,f,g,k,l);break;case this.U.V:this.Va(d,e,f,g,k,l);break;case this.U.W:this.bb(d,e,f,g,k,l);break;case this.U.R:this.Ea(d,e,f,g,k,l);break;case this.U.L:this.eb(d,e,f,g,k,l);break;case this.U.v:this.Ja(d,e,f,g,k,l);break;default:this.Xa(d,e,f,g,k,l)}-1!==this.g.D&&(d<P+k&&(d=P+k),f>fa-k&&(f=fa-k),e<ha+
l&&(e=ha+l),g>ja-l&&(g=ja-l));w===this.U.i||w===this.U.m&&6<k||this.ra(d,e,f,g,a);1===this.g.D&&this.oa(P,ha,fa,ja)};Ea.prototype.Ka=function(a){var b=!1;this.ma&&1===(a&1)&&(b=!0);2===this.X?this.La(b):this.Na(b)};var I={Qt:0,St:1,Rt:2,DE:3,Dv:"St.6",Cv:"St.3",Sj:5E4,Oh:0,Nh:1,pi:2,ri:3,si:4,Ye:5,Ze:6,mz:7,nz:8,lq:9,Pt:10,kz:11,yE:12,zE:13,iz:14,jz:15,lz:16,AE:[0,1,2,3,4,5,6],BE:[2,3,5,6],cn:0,fl:1,ai:2,Jl:27,Zy:36,CE:["Rot90CW","Rot90CCW","FlipX","FlipY","Rot180","Flip"+String.fromCharCode(10189),
"Flip"+String.fromCharCode(10187),"FlipOrth","Rot90","FlipOrthOrRot90","FlipDiag","FlipDiagOrRot90","FlipXOrRot180","FlipYOrRot180","Flip"+String.fromCharCode(10189)+"OrRot180","Flip"+String.fromCharCode(10187)+"OrRot180","FlipOrthOrDiag"],Il:4194304,sE:268435456,Fx:"Buffer Full",Jp:[[0,0,0],[0,236,91],[0,192,254],[254,0,0],[254,254,254],[75,75,75],[233,41,254],[64,0,128],[254,230,0],[150,128,0],[130,200,0],[0,120,40],[254,140,0],[140,70,0],[0,0,254],[192,192,192],[128,128,128],[254,112,140],[174,
0,168],[0,152,127],[0,73,59]],Cn:"off;on;killer on;killer off;eternal on;eternal off;p2 killer on;p2 killer off;egg on;egg off;p2 on;p2 off;p2 egg on;p2 egg off;inverter;catalyst;catalyst killer;on births;off births;on p2 births;off p2 births".split(";"),Kp:[[0,0,0],[0,255,0],[0,0,160],[255,216,255],[255,0,0],[255,255,0],[96,96,96],[255,105,180],[128,0,128],[0,191,255],[0,64,128],[64,224,208],[0,128,64],[255,255,255],[255,99,71],[250,128,114],[219,112,147],[255,165,0],[245,222,179],[0,255,255],[192,
192,192],[192,255,128],[255,182,193],[0,255,127],[1,1,1],[255,0,127]],Dn:"dead;on;off;marked on trail;marked off trail;marked on alt;boundary;marked on no-trail;marked off no-trail;on trail 2;off trail 2;on trail 3;off trail 3;on no-trail 1;off disappearing;on no-trail 2;off vanishing;on no-trail 3;off cycling 1;on no-trail 4;off cycling 2;on no-trail 5;off cycling 3;on no-trail 6;hidden;on no-trail 7".split(";"),uD:[[1,1,1],[1,0,0],[0,1,0]],vD:[[0,1,0],[1,1,0],[1,0,1]],wD:[[1,1,0],[1,0,1],[1,0,0]],
xD:[[0,1,1],[1,1,0],[0,0,1]],qD:[[1,1,1],[0,0,1],[0,1,0]],rD:[[0,1,0],[0,1,1],[1,0,1]],sD:[[0,1,1],[1,0,1],[0,0,1]],tD:[[1,1,0],[0,1,1],[1,0,0]],CD:[[0,1,0],[1,0,0],[1,1,1]],DD:[[1,0,1],[1,1,0],[0,1,0]],ED:[[1,0,0],[1,0,1],[1,1,0]],FD:[[0,0,1],[1,1,0],[0,1,1]],yD:[[0,1,0],[0,0,1],[1,1,1]],zD:[[1,0,1],[0,1,1],[0,1,0]],AD:[[0,0,1],[1,0,1],[0,1,1]],BD:[[1,0,0],[0,1,1],[1,1,0]],Lg:0,Mg:1,Ng:2,Og:3,Tj:0,hi:1,Uj:2,ii:3,Ic:4096,gw:1.6,bg:16,Sl:4096,MD:512,Yp:262144,Wj:65536,ul:65536,Cy:8192,By:131072,fp:64,
bq:524288,Ph:12,Ya:64,$f:127,me:63,Hh:1,pb:1,kb:2,sb:4,xb:8,Db:16,rb:32,zb:64,Ab:128};Ma.prototype.set=function(a){var b;this.Vj=a.Vj;this.A=a.A;this.o=a.o;this.s=a.s;this.u.set(a.u);this.l.set(a.l);this.h.set(a.h);this.v.set(a.v);this.m.set(a.m);this.i.set(a.i);this.D.set(a.D);this.m.set(a.m);this.I=a.I;for(b=0;b<a.B.length;b+=1)this.B[b].set(a.B[b])};Ma.prototype.L=function(a,b,c){this.Vj=!0;this.A=a;this.o=b.h<<16|b.l<<8|b.i;this.s=c.h<<16|c.l<<8|c.i};Ma.prototype.M=function(a,b){-1!==a&&(this.o=
a);-1!==b&&(this.s=b)};T.prototype.set=function(a){this.h=a.h;this.l=a.l;this.i=a.i};ua.prototype.set=function(a){this.h.set(a.h);this.i.set(a.i)};ra.prototype.xi=function(){var a=H.ac,b=this.ea+a+a<<1;a=this.aa+a+a<<1;this.Hc?(null===this.pd&&(this.pd=document.createElement("canvas")),this.pd.width=b,this.pd.height=a,this.Zf=this.pd.getContext("2d",{alpha:!1}),this.ag=this.Zf.getImageData(0,0,this.pd.width,this.pd.height),this.Hg=new Uint32Array(this.ag.data.buffer)):this.Hg=this.ag=this.Zf=null};
ra.prototype.mj=function(){var a,b,c,d=this.ea,f=20*this.aa,e=-f,g=this.mh;this.Vh=new Uint16Array(I.Sj);this.Wh=new Float32Array(I.Sj);this.Uh=new Float32Array(I.Sj);this.Mj=new Uint32Array(I.Sj);var k=this.Vh;var l=this.Wh;var p=this.Uh;for(a=0;a<I.Sj;a+=1){k[a]=g.random()*d|0;for(b=c=0;10>b;b+=1)c+=g.random()*f;l[a]=-c/10;l[a]>e&&(e=l[a]);p[a]=g.random()/5+.8;if(a<I.Sj-4&&.2>g.random()){b=k[a];c=l[a];var n=p[a];a+=1;k[a]=b;l[a]=c-2;p[a]=n;a+=1;k[a]=b;l[a]=c+2;p[a]=n;1<b&&(a+=1,k[a]=b-2,l[a]=c,
p[a]=n);b<d-2&&(a+=1,k[a]=b+2,l[a]=c,p[a]=n)}}for(a=0;a<I.Sj;a+=1)l[a]-=e};ra.prototype.hj=function(){var a=1;this.W&&(a=H.em);this.ia&&(a=H.vl);return a};ra.prototype.uc=function(a){this.W&&(a*=H.em);this.ia&&(a*=H.vl);return a};ra.prototype.Xg=function(){var a,b=0,c=this.ea,d=this.aa,f=this.fb[0],e=this.Nc,g=this.mh,k=this.Vh,l=this.Wh,p=this.Uh,n=this.Mj;for(a=0;a<I.Sj;a+=1){var q=k[a];var m=l[a];var r=p[a];var u=q;var t=m;if(0<=m&&m<d-1)if((m|0)===(m+r|0))t=m+r,e[(t|0)*c+u]=-1;else{if(e[(m+r|
0)*c+q]===f)t=m+r;else{var w=g.random();if(.05>w){var y=1;.025>w&&(y=-1);0<=q+y&&q+y<c&&e[(m+r|0)*c+q+y]===f&&e[(m|0)*c+q+y]===f&&(u=q+y,t=m+r)}}e[(t|0)*c+u]=-1}else 0>m&&(t=m+r);t>=d-1&&(n[b]=a,b+=1);k[a]=u;l[a]=t}if(5<b)for(a=0;a<b;a+=1).25>g.random()&&(w=n[a],t=-(g.random()*d),u=g.random()*c|0,k[w]=u,l[w]=t,r=p[w],a<b-4&&.2>g.random()&&(a+=1,w=n[a],k[w]=u,l[w]=t-2,p[w]=r,a+=1,w=n[a],k[w]=u,l[w]=t+2,p[w]=r,1<u&&(a+=1,w=n[a],k[w]=u-2,l[w]=t,p[w]=r),u<c-2&&(a+=1,w=n[a],k[w]=u+2,l[w]=t,p[w]=r)))};
ra.prototype.Um=function(a){var b,c,d,f;this.Od=this.ff=null;this.zc=a;var e=a[0].width;var g=a[0].height/e;var k=a[0].Fy;var l=a[0].Do;if(0<g&&31===e){null===this.Od&&(this.Od=document.createElement("canvas"),this.Od.width=32,this.Od.height=32*g);var p=this.Od.getContext("2d");var n=p.getImageData(0,0,this.Od.width,this.Od.height);var q=new Uint32Array(n.data.buffer);for(a=c=b=0;a<g;a+=1){for(f=0;f<e;f+=1){for(d=0;d<e;d+=1){var m=k[b];b+=1;m=l[m];q[c]=-16777216|(m&255)<<16|m&65280|m>>16;c+=1}q[c]=
0;c+=1}for(d=0;d<e+1;d+=1)q[c]=0,c+=1}p.putImageData(n,0,0);null===this.ff&&(this.ff=new Image);this.ff.src=this.Od.toDataURL("image/png")}};ra.prototype.Rf=function(a){this.wc=0;a?null===this.Of&&(this.Of=this.N.h(pa.Hd,I.Il,"Life.hashList"),this.fi=this.N.h(pa.hc,I.Il,"Life.genList"),this.hf=this.N.h(pa.hc,I.Il,"Life.popList"),this.lc=this.N.h(pa.hc,2*I.Il,"Life.boxList"),this.Ae=this.N.h(pa.Hd,I.Il,"Life.nextList"),this.Jg=Array.matrix(pa.Ma,this.height,this.width,I.cn,this.N,"Life.countList"),
2<this.h||this.o?this.ze=Array.matrix(pa.Ma,this.height,this.width,0,this.N,"Life.initList"):this.ze=null,this.qf=this.If=this.Lc=-1,this.Ae.fill(-1),this.Yh="",this.he=null,this.Wd=new Uint16Array(67),this.Wd[0]=I.cn,this.Wd[1]=I.ai,this.Wd[2]=I.ai,this.Wd[64]=I.ai,this.Wd[65]=I.cn,this.Wd[66]=I.ai,this.vi=performance.now()):(this.ze=this.Jg=this.Ae=this.lc=this.hf=this.fi=this.Of=null,this.qf=this.If=this.Lc=-1,this.Ff=this.Xf=this.Wd=null)};ra.prototype.xm=function(a,b,c){b="Spaceship ("+(b+","+
c)+")c";1<a&&(b+="/"+a);return b};ra.prototype.Zk=function(a,b,c,d,f,e){var g=31415962,k,l=0,p=this.i,n=I.Ya;d+=e;for(k=0;k<b;k+=1)for(e=0;e<a;e+=1)p[d-l][f]>=n&&(g=1000003*g^k,g=1000003*g^e),l+=1,l===c&&(l=0,f+=1);return g|0};ra.prototype.Xk=function(a,b,c,d,f,e){var g=31415962,k=this.i,l=I.Ya;c+=f;d+=e;for(e=0;e<b;e+=1){var p=k[d-e];for(f=0;f<a;f+=1)p[c-f]>=l&&(g=1000003*g^e,g=1000003*g^f)}return g|0};ra.prototype.al=function(a,b,c,d,f,e){var g=31415962,k,l=0,p=0,n=this.i,q=I.Ya;d+=f;for(k=0;k<
b;k+=1)for(f=0;f<a;f+=1)n[p+e][d-l]>=q&&(g=1000003*g^k,g=1000003*g^f),p+=1,p===c&&(p=0,l+=1);return g|0};ra.prototype.Tk=function(a,b,c,d,f){var e=31415962,g,k=this.i,l=I.Ya;c+=d;for(g=0;g<b;g+=1){var p=k[g+f];for(d=0;d<a;d+=1)p[c-d]>=l&&(e=1000003*e^g,e=1000003*e^d)}return e|0};ra.prototype.Vk=function(a,b,c,d,f){var e=31415962,g,k=this.i,l=I.Ya;c+=f;for(g=0;g<b;g+=1){var p=k[c-g];for(f=0;f<a;f+=1)p[f+d]>=l&&(e=1000003*e^g,e=1000003*e^f)}return e|0};ra.prototype.lk=function(a,b,c,d,f){var e=31415962,
g,k=0,l=this.i,p=I.Ya;var n=d;for(g=0;g<b;g+=1)for(d=0;d<a;d+=1)l[k+f][n]>=p&&(e=1000003*e^g,e=1000003*e^d),k+=1,k===c&&(k=0,n+=1);return e|0};ra.prototype.cl=function(a,b,c,d,f,e,g){var k=31415962,l=0,p=0,n=this.i,q=I.Ya;d+=e;f+=g;for(g=0;g<b;g+=1)for(e=0;e<a;e+=1)n[f-p][d-l]>=q&&(k=1000003*k^g,k=1000003*k^e),p+=1,p===c&&(p=0,l+=1);return k|0};ra.prototype.gl=function(a,b){var c=0,d=a.F,f=a.H,e=a.J-d+1;a=a.K-f+1;var g=e-1,k=a-1,l=a;if(b===I.Oh||b===I.Nh||b===I.Ye||b===I.Ze){var p=e;e=l;l=p}switch(b){case I.Oh:c=
this.al(e,l,a,g,d,f);break;case I.si:c=this.Xk(e,l,g,k,d,f);break;case I.Nh:c=this.Zk(e,l,a,k,d,f);break;case I.pi:c=this.Tk(e,l,g,d,f);break;case I.ri:c=this.Vk(e,l,k,d,f);break;case I.Ye:c=this.lk(e,l,a,d,f);break;case I.Ze:c=this.cl(e,l,a,g,k,d,f)}return c};ra.prototype.ll=function(a,b){var c=31415962,d=a.F,f=a.H,e=a.J-d+1;a=a.K-f+1;var g=e-1,k=a-1,l=a,p,n,q=0,m=0,r=0,u=0,t=this.i,w=this.Ba,y=I.Ya,v=H.Cb[6]+128;(this.l||this.o||this.m||this.B)&&0!==(this.counter&1)&&(t=this.X);if(b===I.Oh||b===
I.Nh||b===I.Ye||b===I.Ze){var D=e;e=l;l=D}for(n=0;n<l;n+=1)for(p=0;p<e;p+=1){switch(b){case I.Nh:q=r;m=k-u;break;case I.si:q=g-p;m=k-n;break;case I.Oh:q=g-r;m=u;break;case I.pi:q=g-p;m=n;break;case I.ri:q=p;m=k-n;break;case I.Ye:q=r;m=u;break;case I.Ze:q=g-r,m=k-u}if(this.I){if(t[m+f][q+d]>=y||w[m+f][q+d]===v)c=1000003*c^n,c=1000003*c^p,w[m+f][q+d]===v&&(c=1000003*c^6)}else if(this.m){if(D=t[m+f][q+d],D&1||6===D)c=1000003*c^n,c=1000003*c^p,6===D&&(c=1000003*c^D)}else if(D=t[m+f][q+d],D>this.u){D-=
this.u;if(this.l)switch(b){case I.Nh:D=D<<1&15|(D&8)>>3;break;case I.si:D=(D&3)<<2|(D&12)>>2;break;case I.Oh:D=D>>1&15|(D&1)<<3;break;case I.pi:D=D&5|(D&2)<<2|(D&8)>>2;break;case I.ri:D=D&10|(D&1)<<2|(D&4)>>2;break;case I.Ye:D=(D&8)>>3|(D&4)>>1|(D&2)<<1|(D&1)<<3;break;case I.Ze:D=(D&4)<<1|(D&8)>>1|(D&1)<<1|(D&2)>>1}else this.o||(D=this.h-D);c=1000003*c^n;c=1000003*c^p;c=1000003*c^D}u+=1;u===a&&(u=0,r+=1)}return c|0};ra.prototype.el=function(a,b,c){return c?this.gl(a,b):this.ll(a,b)};ra.prototype.$k=
function(a,b,c,d,f,e){var g=0!==d&&0!==f,k=-1;a=this.Pi(a,b,d,f);if(a&=c)a&1<<I.pi&&(k=I.pi,a&1<<I.ri?(k=I.mz,a&1<<I.Oh?a&1<<I.Nh&&(k=I.lq):a&1<<I.Ye&&a&1<<I.Ze&&(k=I.lz)):a&1<<I.si&&(k=I.yE),k===I.pi&&2!==e&&(k=-1)),-1===k&&a&1<<I.ri&&(k=I.ri,a&1<<I.pi?(k=I.mz,a&1<<I.Oh?a&1<<I.Nh&&(k=I.lq):a&1<<I.Ye&&a&1<<I.Ze&&(k=I.lz)):a&1<<I.si&&(k=I.zE),k===I.ri&&2!==e&&(k=-1)),-1===k&&a&1<<I.Oh&&(k=I.Oh,a&1<<I.Nh&&(k=I.nz,a&1<<I.pi&&a&1<<I.ri&&(k=I.lq),a&1<<I.Ye&&a&1<<I.Ze&&(k=I.kz)),k===I.Oh&&4!==e&&(k=-1)),
-1===k&&a&1<<I.Nh&&(k=I.Nh,a&1<<I.Oh&&(k=I.nz,a&1<<I.pi&&a&1<<I.ri&&(k=I.lq),a&1<<I.Ye&&a&1<<I.Ze&&(k=I.kz)),k===I.Nh&&4!==e&&(k=-1)),-1===k&&a&1<<I.Ye&&(k=I.Ye,a&1<<I.Ze?k=I.Pt:!g&&a&1<<I.si&&(k=I.iz)),-1===k&&a&1<<I.Ze&&(k=I.Ze,a&1<<I.Ye?k=I.Pt:!g&&a&1<<I.si&&(k=I.jz)),-1===k&&a&1<<I.si&&(k=I.si,a&1<<I.Ye?k=I.iz:a&1<<I.Ze&&(k=I.jz),k===I.si&&2!==e&&(k=-1));g&&(k==I.Pt?(d===f&&(k=I.Ye),d===-f&&(k=I.Ze)):(a&1<<I.Ze&&d===f&&(k=-1),a&1<<I.Ye&&d===-f&&(k=-1)));this.ia||this.W?1!==e&&2!==e&&3!==e&&6!==
e&&(k=-1):1!==e&&2!==e&&4!==e&&(k=-1);return k};ra.prototype.Pi=function(a,b,c,d){var f=2>=this.h&&!this.o&&!this.I,e,g=0;var k=0===c&&0===d?I.AE:I.BE;for(e=0;e<k.length;e+=1){var l=k[e];var p=this.el(a,l,f);if(p===b){p=!0;if(0!==c||0!==d)0!==c||l!==I.ri&&l!==I.Ye&&l!==I.Ze||(p=!1),0!==d||l!==I.pi&&l!==I.Ye&&l!==I.Ze||(p=!1);p&&(g|=1<<l)}}return g};ra.prototype.Yg=function(a){var b=31415962,c=a.F,d=a.H,f=a.J;a=a.K;var e,g,k=2>=this.h&&!this.o,l=this.i,p=this.Ba,n=I.Ya,q=H.Cb[6]+128;(this.l||this.o||
this.m||this.B)&&0!==(this.counter&1)&&(l=this.X);for(g=d;g<=a;g+=1){var m=g-d;var r=l[g];if(this.I){var u=p[g];for(e=c;e<=f;e+=1)if(r[e]>=n||u[e]===q)b=1000003*b^m,b=1000003*b^e-c,u[e]===q&&(b=1000003*b^6)}else if(k)for(e=c;e<=f;e+=1)r[e]>=n&&(b=1000003*b^m,b=1000003*b^e-c);else if(this.m)for(e=c;e<=f;e+=1){if(r[e]&1||6===r[e])b=1000003*b^m,b=1000003*b^e-c,6===r[e]&&(b=1000003*b^6)}else if(this.o)for(e=c;e<=f;e+=1)u=r[e],u>this.u&&(u-=this.u,b=1000003*b^m,b=1000003*b^e-c,b=1000003*b^u);else for(e=
c;e<=f;e+=1)u=r[e],u>this.u&&(u-=this.u,this.l||(u=this.h-u),b=1000003*b^m,b=1000003*b^e-c,b=1000003*b^u)}return b|0};ra.prototype.Nf=function(a,b){for(var c;0!==b;)c=b,b=a%b,a=c;return a};ra.prototype.Rk=function(a,b){var c="Oblique";if(a>b){var d=a;a=b;b=d}d=this.Nf(a,b);a/=d;b/=d;switch(10*a+b){case 12:c+=" Knightwise";break;case 13:c+=" Camelwise";break;case 14:c+=" Giraffewise";break;case 15:c+=" Ibiswise";break;case 16:c+=" Flamingowise";break;case 23:c+=" Zebrawise";break;case 34:c+=" Antelopewise"}return c};
ra.prototype.ol=function(a,b){var c=new Oa(0,0,0,0),d,f,e=16384,g=-16384,k=16384,l=-16384;for(d=f=0;d<a;d+=1){var p=this.lc[b+f<<1];var n=p>>16;var q=p&65535;p=this.lc[(b+f<<1)+1];var m=p>>16;p&=65535;m<e&&(e=m);p<k&&(k=p);m+n-1>g&&(g=m+n-1);p+q-1>l&&(l=p+q-1);f+=1}c.F=e;c.H=k;c.J=g;c.K=l;return c};ra.prototype.Pd=function(a,b){return a===Math.floor(a)?String(a):a.toFixed(b)};ra.prototype.Xi=function(a,b){var c,d,f=4283453520,e=4286611584,g=0;var k=[];var l=!1;var p=this.view.h.s;var n=this.ea-120*
p;var q=this.aa-90*p;this.Ac||(f=1347440895,e=2155905279);p=this.Rg=8;n/=(this.gd+2)*p;q/=(this.Qd+2)*p;1<=(n>q?q:n)?(l=!0,g=1):p=this.Rg=1;var m=0;for(n=2;n<this.Oa.length-1;n+=1)0<this.Oa[n]&&(m+=1);this.Oi=m;q=0;for(n=2;n<this.Oa.length-1;n+=1)if(0<this.Oa[n]){var r=Math.floor(q/m*360);k[n]="hsl("+r+",100%,"+(70-12*(q&3))+"%)";q+=1}k[0]="black";k[1]="rgb(168,168,168)";k[this.Oa.length-1]="rgb(238,238,238)";this.cc?(k[-1]="rgb(96,96,96)",n=-1):n=0;for(;n<this.Oa.length;){if(-1===n||0===n||0<this.Oa[n])this.vf.fillStyle=
k[n],m=this.vf.fillStyle,q=parseInt(m.substring(1,3),16),r=parseInt(m.substring(3,5),16),m=parseInt(m.substring(5,7),16),this.Jc[n]=this.Ac?-16777216|m<<16|r<<8|q:q<<24|r<<16|m<<8|255;n+=1}k=p*(this.gd+2)+g;r=p*(this.Qd+2)+g;this.wf.width=k;this.wf.height=r;this.fd.width=k;this.fd.height=r;this.vf.fillStyle="black";this.vf.fillRect(0,0,this.fd.width,this.fd.height);g=this.vf.getImageData(0,0,this.fd.width,this.fd.height);var u=new Uint32Array(g.data.buffer);for(q=0;q<this.Qd;q+=1)for(n=0;n<this.gd;n+=
1)for(m=this.he[q*this.gd+n],m=this.Jc[m],d=0;d<p;d+=1){var t=((q+1)*p+d)*k+(n+1)*p;for(c=0;c<p;c+=1)u[t+c]=m}if(-1!==this.D){for(d=0;d<p;d+=1){t=d*k;for(n=0;n<(this.gd+2)*p;n+=1)u[t+n]=e;t+=(this.Qd+1)*p*k;for(n=0;n<(this.gd+2)*p;n+=1)u[t+n]=e}for(q=0;q<this.Qd;q+=1)for(d=0;d<p;d+=1)for(t=((q+1)*p+d)*k,n=t+p*(this.gd+1),c=0;c<p;c+=1)u[t+c]=e,u[n+c]=e}if(l){for(q=-1;q<=this.Qd+1;q+=1)for(t=(q+1)*p*k,n=0;n<(this.gd+2)*p+1;n+=1)u[t+n]=f;for(n=-1;n<=this.gd+1;n+=1)for(q=0;q<(this.Qd+2)*p;q+=1)u[q*k+
(n+1)*p]=f}else{t=k*(r-1);for(n=0;n<k;n+=1)u[n]=f,u[n+t]=f;for(q=0;q<r;q+=1)u[q*k]=f,u[q*k+k-1]=f}for(n=this.cc?-1:0;n<this.Oa.length;){if(-1===n||0<this.Oa[n])m=this.Jc[n],this.Ac?(q=m&255,r=m>>8&255,m=m>>16&255):(q=m>>24,r=m>>16&255,m=m>>8&255),this.Jc[n]=q<<16|r<<8|m;n+=1}this.vf.putImageData(g,0,0);this.wf.src=this.fd.toDataURL("image/png");b.Jy();this.uk(a)};ra.prototype.ye=function(a,b,c,d,f){var e=this.ma;var g=e.measureText(a).width;e.fillText(a,c+b-g+f,d+f);return c+b};ra.prototype.uk=function(a){var b=
this.view.h.s,c=24*b,d=a.R+a.height,f=0;for(a=this.Oa.length-1;0<a;--a){var e=this.Oa[a];0<e&&(f+=1)}this.Wc=d+(c>>1)+(f+1)*c>this.aa-80*b?f-1:0};ra.prototype.Qk=function(){0!==this.Wc&&(this.cb=0)};ra.prototype.Ok=function(){0!==this.Wc&&(this.cb=this.Wc)};ra.prototype.Uk=function(){0<this.cb&&(this.cb-=this.Zh,0>this.cb&&(this.cb=0))};ra.prototype.Sk=function(){this.cb<this.Wc&&(this.cb+=this.Zh,this.cb>this.Wc&&(this.cb=this.Wc))};ra.prototype.Bk=function(a){var b=0,c=2,d=this.view.h.s;var f=a.y+
a.height;var e=a.width;var g=a.v;var k=a.jc;var l=a.A;a=24*d;var p=16*d,n=(e>>2)-1,q=this.ea-e>>1,m=this.ma;m.fillStyle=k;m.globalAlpha=g;var r=a;for(g=this.Oa.length-1;0<g;--g){var u=this.Oa[g];0<u&&r+f<this.aa-80*d&&(r+=a)}m.fillRect(q,f,e,r);m.font=(20*d|0)+"px Arial";m.globalAlpha=1;m.fillStyle=k;r=f+(a>>1);for(e=0;2>e;e+=1){k=q;k=this.ye("Period",n,k,r,c);k=this.ye("Count",n,k,r,c);k=this.ye("% Total",n,k,r,c);this.ye("% Rotor",n,k,r,c);r+=a;b=0;for(g=this.Oa.length-1;0<g;--g)u=this.Oa[g],0<
u&&r<this.aa-80*d&&(b>=(this.cb|0)&&(k=q,k=this.ye(String(g),n,k,r,c),k=this.ye(String(u),n,k,r,c),k=this.ye((Math.floor(1E4*u/this.Yf)/100).toFixed(2)+"%",n,k,r,c),1<g&&this.ye((Math.floor(1E4*u/this.Bi)/100).toFixed(2)+"%",n,k,r,c),r+=a),b+=1);r=f+(a>>1);c=0;m.fillStyle=l}f=b;b=0;c=28*d>>1;for(g=this.Oa.length-1;0<g;--g)u=this.Oa[g],0<u&&b<f&&(b>=(this.cb|0)&&(m.fillStyle=this.view.C.jc,m.fillRect(q+(p>>1)+2,r+c+2,p,p),m.fillStyle="#"+("000000"+this.Jc[g].toString(16)).slice(-6),m.fillRect(q+(p>>
1),r+c,p,p),r+=a),b+=1);0===this.cb&&(this.Zh=f-1)};ra.prototype.zk=function(a){var b=this.view.h.s,c=50*b,d=15*b,f=16*b,e=.7*d|0;var g=this.aa-90*b;var k=this.Oi;var l=this.Rg;var p=a.v,n=a.A;a=a.jc;var q=this.ma;var m=(this.ea-b*(c+c+20))/((this.gd+2)*l);g/=(this.Qd+2)*l;m=m>g?g:m;1<=m&&(m|=0);q.save();q.translate(this.ea>>1,this.aa>>1);q.scale(m,m);q.imageSmoothingEnabled=1>m?!0:!1;q.drawImage(this.wf,-(this.wf.width>>1),-(this.wf.height>>1));q.imageSmoothingEnabled=!1;q.restore();var r=55*b;q.font=
(11*b|0)+"px Arial";0===this.Oa[this.Oa.length-1]&&--k;0===this.Oa[1]&&--k;this.cc&&(k+=1);g=0;for(m=this.Oa.length-1;0<m;--m)l=this.Oa[m],0<l&&m>g&&(g=m);m=q.measureText(String(g)).width;this.cc&&(g=this.B?q.measureText(I.Cv).width:q.measureText(I.Dv).width,g>m&&(m=g));var u=(this.aa-(k+2)*d)/2;q.globalAlpha=p;q.fillStyle=a;q.fillRect(r-c-2,u-2,e+e+m+3,(k+2)*d+3);q.globalAlpha=1;g=0;this.cc&&(q.fillStyle=this.view.C.jc,q.fillRect(r-c+2,u+g*d+2,e,e),q.fillStyle="#"+("000000"+this.Jc[-1].toString(16)).slice(-6),
q.fillRect(r-c,u+g*d,e,e),this.B?(q.fillStyle=a,q.fillText(I.Cv,r-c+f+2,u+g*d+2+7*b),q.fillStyle=n,q.fillText(I.Cv,r-c+f,u+g*d+7*b)):(q.fillStyle=a,q.fillText(I.Dv,r-c+f+2,u+g*d+2+7*b),q.fillStyle=n,q.fillText(I.Dv,r-c+f,u+g*d+7*b)),g+=1);for(m=this.Oa.length-1;0<m;--m)l=this.Oa[m],0<l&&(q.fillStyle=this.view.C.jc,q.fillRect(r-c+2,u+g*d+2+b,e,e),q.fillStyle="#"+("000000"+this.Jc[m].toString(16)).slice(-6),q.fillRect(r-c,u+g*d+b,e,e),q.fillStyle=a,q.fillText(String(m),r-c+f+2,u+g*d+2+7*b),q.fillStyle=
n,q.fillText(String(m),r-c+f,u+g*d+7*b),g+=1)};ra.prototype.Lm=function(a,b){var c,d=this.i,f=this.Jg,e,g,k,l,p=I.Ya,n=this.Wd;var q=this.ca;var m=this.Y>>4;var r=0;var u=q,t=I.fl;0>r&&(r=0);u>q&&(u=q);q=r<<4;var w=q+16;for(e=r;e<u;e+=1){var y=0;var v=b[e];for(g=0;g<m;g+=1)if(l=v[g])for(k=15;0<=k;--k){if(0!==(l&1<<k))for(r=q;r<w;){var D=d[r];var F=f[r];if(0===a)for(c=y;c<y+16;)D[c]>=p&&(F[c]=t),c+=1,D[c]>=p&&(F[c]=t),c+=1,D[c]>=p&&(F[c]=t),c+=1,D[c]>=p&&(F[c]=t),c+=1;else c=y,F[c]=n[(D[c]&64)+F[c]],
c+=1,F[c]=n[(D[c]&64)+F[c]],c+=1,F[c]=n[(D[c]&64)+F[c]],c+=1,F[c]=n[(D[c]&64)+F[c]],c+=1,F[c]=n[(D[c]&64)+F[c]],c+=1,F[c]=n[(D[c]&64)+F[c]],c+=1,F[c]=n[(D[c]&64)+F[c]],c+=1,F[c]=n[(D[c]&64)+F[c]],c+=1,F[c]=n[(D[c]&64)+F[c]],c+=1,F[c]=n[(D[c]&64)+F[c]],c+=1,F[c]=n[(D[c]&64)+F[c]],c+=1,F[c]=n[(D[c]&64)+F[c]],c+=1,F[c]=n[(D[c]&64)+F[c]],c+=1,F[c]=n[(D[c]&64)+F[c]],c+=1,F[c]=n[(D[c]&64)+F[c]],c+=1,F[c]=n[(D[c]&64)+F[c]];r+=1}y+=16}else y+=256;q+=16;w+=16}};ra.prototype.Jm=function(a,b){var c=a.F,d=a.H,
f=a.J;a=a.K;var e,g=this.i,k=this.Jg,l=this.ze,p=I.Ya,n=2>=this.h&&!this.o,q=I.fl,m=I.cn,r=I.ai;(this.l||this.o||this.m||this.B)&&0!==(this.counter&1)&&(g=this.X);for(e=d;e<=a;e+=1){var u=g[e];var t=k[e];if(n)if(0===b)for(d=c;d<=f;d+=1)u[d]>=p&&(t[d]=q);else for(d=c;d<=f;d+=1)u[d]>=p?t[d]===m&&(t[d]=r):t[d]===q&&(t[d]=r);else if(this.l)if(0===b)for(d=c;d<=f;d+=1){var w=u[d];w=w>this.u?w-this.u:0;var y=0;0!==(w&1)&&(y=q);var v=0;0!==(w&2)&&(v=q);var D=0;0!==(w&4)&&(D=q);var F=0;0!==(w&8)&&(F=q);t[d]=
y|v<<2|D<<4|F<<6}else for(d=c;d<=f;d+=1)F=t[d],w=u[d],w=w>this.u?w-this.u:0,y=F&3,0!==(w&1)?y===m&&(y=r):y===q&&(y=r),v=F>>2&3,0!==(w&2)?v===m&&(v=r):v===q&&(v=r),D=F>>4&3,0!==(w&4)?D===m&&(D=r):D===q&&(D=r),F=F>>6&3,0!==(w&8)?F===m&&(F=r):F===q&&(F=r),t[d]=y|v<<2|D<<4|F<<6;else if(this.m)for(w=l[e],d=c;d<=f;d+=1)0===b?(w[d]=u[d]&1,u[d]&1&&(t[d]=q)):u[d]&1?t[d]===m?t[d]=r:(u[d]&1)!==w[d]&&(t[d]=r):t[d]===q&&(t[d]=r);else if(this.B)for(w=l[e],d=c;d<=f;d+=1)y=0<u[c],0===b?y?(w[d]=1,t[d]=q):w[d]=0:y?
t[d]===m?t[d]=r:0===w[d]&&(t[d]=r):t[d]===q&&(t[d]=r);else for(w=l[e],d=c;d<=f;d+=1)0===b?(w[d]=u[d],u[d]>this.u&&(t[d]=q)):u[d]>this.u?t[d]===m?t[d]=r:u[d]!==w[d]&&(t[d]=r):t[d]===q&&(t[d]=r)}};ra.prototype.Hm=function(a,b){var c=this.Ff.ba,d=this.ra.ba,f=this.Xf.ba;if(-1===this.h||this.Ia&&2===this.h){for(a=0;a<c.length;a+=1)c[a]=d[a]|f[a];this.Lm(b,this.Ff);for(a=0;a<f.length;a+=1)f[a]=d[a]}else this.Jm(a,b)};ra.prototype.Dm=function(a,b,c){var d,f,e=0,g=I.Ya;if(this.m||this.B||this.o)b=this.i,
0!==(this.counter&1)&&(b=this.X);for(f=a.H;f<=a.K;f+=1){var k=b[f];if(this.m||this.o)for(d=a.F;d<=a.J;d+=1)k[d]&1&&(c[e]+=1),e+=1;else if(this.B)for(d=a.F;d<=a.J;d+=1)k[d]&&(3===k[d]?--this.s:c[e]+=1),e+=1;else for(d=a.F;d<=a.J;d+=1)k[d]>=g&&(c[e]+=1),e+=1}};ra.prototype.Nm=function(a,b,c,d,f,e,g){var k,l=I.Ya;if(this.m||this.B||this.o)b=this.i,0!==(this.counter&1)&&(b=this.X);var p=d*e;for(e=a.H;e<=a.K;e+=1){var n=b[e];var q=(e-a.H)*f+p;var m=g;if(this.m||this.o){d=a.F;for(k=0;d<=a.J-16;)n[d]&1&&
(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),d+=1,0!==k&&(c[q]=k,k=0),m=g,q+=1;for(;d<=a.J;)n[d]&1&&(k|=m),m>>=1,d+=1}else if(this.B){d=a.F;for(k=0;d<=
a.J-16;)n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),d+=1,0!==k&&(c[q]=k,k=0),m=g,q+=1;for(;d<=a.J;)n[d]&&(k|=m),m>>=1,d+=1}else{d=a.F;for(k=0;d<=a.J-16;)n[d]>=l&&(k|=m),m>>=
1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),d+=1,0!==k&&(c[q]=k,k=0),m=g,q+=1;for(;d<=a.J;)n[d]>=l&&(k|=m),m>>=1,d+=1}0!==k&&(c[q]=k)}};ra.prototype.Ml=
function(a,b,c,d,f,e,g,k,l){var p,n,q,m;for(p=1;p<=b/2;p+=1)if(0===b%p){var r=b-p;var u=r*g;var t=p*g;var w=b/p;for(q=0;q<e;q+=1){var y=q*f;r=q*k;var v=l;for(n=0;n<f;n+=1){if(a[y+n]===b&&!(d[y+n]%w)){var D=(n>>4)+r;for(m=D+u;D<m;){var F=c[D];var E=c[D+t];(F^E)&v&&(D=m);D+=g}D===m&&(a[y+n]=p)}v=(v>>1|v<<15)&65535}}}};ra.prototype.Ek=function(a,b,c){var d=a.F,f=a.H,e=a.J;a=a.K;var g,k,l=H.Cb[6]+128;this.cc=0;for(k=f;k<=a;k+=1){var p=c[k];var n=(k-f)*(e-d+1);for(g=d;g<=e;g+=1)p[g]===l&&(b[n+g-d]=-1,
this.cc+=1)}};ra.prototype.Ik=function(a,b,c){var d=a.F,f=a.H,e=a.J;a=a.K;var g,k;this.cc=0;for(k=f;k<=a;k+=1){var l=c[k];var p=(k-f)*(e-d+1);for(g=d;g<=e;g+=1)6===l[g]&&(b[p+g-d]=-1,this.cc+=1)}};ra.prototype.Ck=function(a,b,c){var d=a.F,f=a.H,e=a.J;a=a.K;var g,k;this.cc=0;for(k=f;k<=a;k+=1){var l=c[k];var p=(k-f)*(e-d+1);for(g=d;g<=e;g+=1)3===l[g]&&(b[p+g-d]=-1,this.cc+=1)}};ra.prototype.Oj=function(){var a=this.Ia?this.ya:this.A,b=this.Xh,c=this.oi,d=this.Z?-1:0;this.m&&(a=this.pg);-1!==this.D?
(c.F=Math.round((this.width-this.O)/2)+d,c.H=Math.round((this.height-this.M)/2)+d,c.J=c.F+this.O-1,c.K=c.H+this.M-1):(c.set(a),(this.m||this.I)&&c.h(b));return this.oi};ra.prototype.Ri=function(a,b,c,d,f,e){var g,k=0,l=0,p=!1,n=null,q=null,m=this.i,r=new Uint32Array(a+1),u=null,t=0,w=0,y=0,v,D,F=v=D=0,E=0,O=0,Q=0,N=0,U=0,S=0,G=0,L=[];this.kj=(performance.now()-this.vi)/1E3;(this.l||this.o||this.m||this.B)&&0!==(this.counter&1)&&(m=this.X);b=this.ol(a,b);d&&(2>=this.h||this.m||this.B)&&(t=b.J-b.F+
1,w=b.K-b.H+1,k=(t-1>>4)+1,l=k*w,l*a<=I.sE&&(n=new Uint16Array(a*l),u=new Int32Array(t*w),q=new Uint32Array(t*w),D=8*n.BYTES_PER_ELEMENT-1,D=1<<D,p=!0));p||(this.Jg.ba.fill(I.cn),this.Xf=Array.matrix(pa.Ca,this.ca,(this.Y-1>>4)+1,0,this.N,"Life.occTileMap"),this.Ff=Array.matrix(pa.Ca,this.ca,(this.Y-1>>4)+1,0,this.N,"Life.occMergedTileMap"));this.Cf=268435456;for(g=this.ah=this.Tf=0;g<=a+1;g+=1){c.oi();d||(b=this.Oj());if(c.Xl){-1===c.vb&&(c.vb=this.counter);return}this.counter&&0<this.s&&!d&&(c.Qb.F=
b.F,c.Qb.H=b.H,c.Qb.J=b.J,c.Qb.K=b.K,c.Jj(c,c.Qb));p?(g<a&&this.Dm(b,m,q),this.Nm(b,m,n,g,k,l,D)):this.Hm(b,g);0===g?(v=this.Yg(b),F=b.J-b.F+1,E=b.K-b.H+1):1===g?(O=this.Yg(b),Q=b.J-b.F+1,N=b.K-b.H+1):2===g&&this.Z&&v===O&&(U=this.Yg(b),S=b.J-b.F+1,G=b.K-b.H+1);if(!this.ia&&!this.W&&-1===this.Lc){for(;-1===this.Lc&&0<L.length&&L[0].i===g;){if(this.Z&&v===O){var P=S;var fa=G;var ha=2;var ja=U}else P=Q,fa=N,ha=1,ja=O;if(b.J-b.F+1===P&&b.K-b.H+1===fa||b.J-b.F+1===fa&&b.K-b.H+1===P)this.If=this.$k(b,
ja,L[0].h,f,e,a/(g-ha)),this.Lc=-1!==this.If?g-ha:-1;L.shift()}-1===this.Lc&&0<g&&0===a%g&&(b.J-b.F+1===F&&b.K-b.H+1===E||b.J-b.F+1===E&&b.K-b.H+1==F)&&(P=this.Pi(b,v,f,e),0===P||this.Z&&v===O&&2>g||(L[L.length]=this.Z&&v===O?new gc(g+2,P):new gc(g+1,P)))}g<a&&(P=this.oa+this.fa,P<this.Cf&&(this.Cf=P),P>this.Tf&&(this.Tf=P),this.ah+=P,this.hf[g]=this.s,this.lc[g<<1]=b.J-b.F+1<<16|b.K-b.H+1,this.lc[(g<<1)+1]=b.F<<16|b.H)}if(p){for(e=0;e<w;e+=1)for(v=e*t,f=0;f<t;f+=1)q[v+f]&&(u[v+f]=a,y+=1);this.Ml(u,
a,n,q,t,w,l,k,D);for(e=0;e<w;e+=1)for(v=e*t,f=0;f<t;f+=1)(g=u[v+f])&&(r[g]+=1);d&&(this.cc=0,this.I&&this.Ek(b,u,this.Ba),this.m&&this.Ik(b,u,m),this.B&&this.Ck(b,u,m));g=r[a]/y;this.Yh=this.Pd(g,2);this.Oa=r;this.Yf=y;this.he=u;this.gd=t;this.Qd=w;this.Xi(c.Be,c)}else this.Oa=null;this.lj=(performance.now()-this.vi)/1E3};ra.prototype.xn=function(a,b,c,d,f,e,g,k){var l="",p=String(this.counter-d),n="",q="",m=268435457,r=0,u=16384,t=0,w=16384,y=0,v=276627456,D=0,F=0,E=0,O=0,Q=0,N=0,U="",S="",G="",
L=this.Jg,P=0,fa=0,ha="",ja="",ca="";0<d&&(p+=" and "+this.counter);var Z=f;var la=e;f=Math.abs(f);e=Math.abs(e);if(0<f||0<e){var da="Spaceship";0===f||0===e?q="0":(f>e?(q=f,n=e):(q=e,n=f),l=this.Nf(q,n),q=String(q/l),1!==n/l&&(q+="/"+String(n/l)));if(f===e||0===f||0===e)if(n=f===e&&0!==f?"Diagonal":"Orthogonal",0===f&&(f=e),1<f)if(1===d)l=f+"c";else{l=this.Nf(f,d);var na=f/l;var X=d/l;1!==l?(l=1===na?"c":na+"c",1<X&&(l+="/"+X),l+=" | "+f+"c/"+d):l=f+"c/"+d}else l="c",1<d&&(l+="/"+d);else l=this.Nf(f,
this.Nf(e,d)),na=f/l,n=e/l,X=d/l,1!==l?(l=na>n?"("+na+","+n+")c":"("+n+","+na+")c",1<X&&(l+="/"+X),l=f>e?l+(" | ("+f+","+e+")c"):l+(" | ("+e+","+f+")c")):l=f>e?"("+f+","+e+")c":"("+e+","+f+")c",1<d&&(l+="/"+d),n=this.Rk(f,e);this.Ri(d,b,a,!1,Z,la)}else 1===d||2===d&&this.Z?da="Still Life":(da="Oscillator",this.Ri(d,b,a,!0,0,0));if(0===this.s)return this.l||this.Z?["Life ended at generation "+(this.Hb+a.Ja),"Empty"]:["Life ended at generation "+(this.counter+a.Ja),"Empty"];e=f=0;this.dh="";if("Still Life"===
da)a=String(this.s);else{for(b=la=0;b<d;b+=1)Z=this.hf[b],la+=Z,Z<m&&(m=Z,f=(b+1)%d),Z>r&&(r=Z,e=(b+1)%d);m===r?a=String(r):(a=String(m)+" | "+String(r)+" | "+this.Pd(la/d,1),this.dh=String(m)+" @ T"+f+" | "+String(r)+" @ T"+e)}e=f=0;this.bh="";if("Still Life"!==da)if("Spaceship"===da)for(b=0;b<d;b+=1)Z=this.lc[b<<1],m=Z>>16,r=Z&65535,m>g&&(g=m),r>k&&(k=r),m*r<v&&(v=m*r,F=m,E=r,f=(b+1)%d),m*r>D&&(D=m*r,O=m,Q=r,e=(b+1)%d);else{for(b=0;b<d;b+=1)Z=this.lc[b<<1],m=Z>>16,r=Z&65535,Z=this.lc[(b<<1)+1],
g=Z>>16,k=Z&65535,g<u&&(u=g),k<w&&(w=k),g+m-1>t&&(t=g+m-1),k+r-1>y&&(y=k+r-1),m*r<v&&(v=m*r,F=m,E=r,f=(b+1)%d),m*r>D&&(D=m*r,O=m,Q=r,e=(b+1)%d);g=t-u+1;k=y-w+1}b=String(g+" x "+k+" = "+g*k);if(F!==O||E!==Q)this.bh=String(F+" x "+E+" = "+v+" @ T"+f+" | "+O+" x "+Q+" = "+D+" @ T"+e);0<d&&(this.Cf===this.Tf?(N=this.Cf,U=String(N.toFixed(1))):(N=this.ah/d,U=this.Pd(this.Cf,1)+" | "+this.Pd(this.Tf,1)+" | "+this.Pd(N,1)));if("Oscillator"===da){if(this.Oa)P=this.Yf-this.Oa[1],fa=this.Oa[1];else for(v=w;v<=
y;v+=1)if(S=L[v],this.l)for(w=u;w<=t;w+=1)G=S[w],(G&3)===I.ai?P+=1:(G&3)===I.fl&&(fa+=1),G>>=2,(G&3)===I.ai?P+=1:(G&3)===I.fl&&(fa+=1),G>>=2,(G&3)===I.ai?P+=1:(G&3)===I.fl&&(fa+=1),G>>=2,(G&3)===I.ai?P+=1:(G&3)===I.fl&&(fa+=1);else for(w=u;w<=t;w+=1)S[w]===I.ai?P+=1:S[w]===I.fl&&(fa+=1);S=this.Pd(P/(P+fa),2);G=this.Yh;this.Bi=P}this.ij=P===g*k?!0:!1;"Oscillator"===da&&(ja=0===P?this.Pd(N/(P+fa),2)+" | "+this.Pd(0,2):this.Pd(N/(P+fa),2)+" | "+this.Pd(N/P,2));u=String(P+" | "+fa+" | "+(P+fa));this.ia||
this.W||(0>=this.Lc?(this.Lc=d,ha=String(this.Lc)):ha=0===d%this.Lc&&d!==this.Lc?String(this.Lc)+" ("+I.CE[this.If]+")":String(this.Lc));"Still Life"===da&&(la=this.s/(g*k),this.l&&(la/=4),ca=1===la?String(la):la.toFixed(3));return[c,da,n,l,b,p,a,q,d,U,S,G,ha,u,ja,ca]};ra.prototype.vm=function(a,b,c,d,f,e){var g=!1;a===b/2&&(g=0===c?0===d&&a/b===f/e:0===f?0===e&&a/b===c/d:a/b===c/d&&a/b===f/e);return g};ra.prototype.Gk=function(a,b,c,d,f){this.Of[this.wc]=a;this.fi[this.wc]=this.counter;this.hf[this.wc]=
this.s;this.lc[this.wc<<1]=b;this.lc[(this.wc<<1)+1]=c<<16|d;this.Ae[this.wc]=-1;-1===this.qf?this.qf=0:-1===f?this.qf=this.wc:this.Ae[f]=this.wc};ra.prototype.Pm=function(a){var b=this.Oj(),c=b.F,d=b.H,f=b.J-c+1,e=b.K-d+1,g=!1,k=-1,l=-1,p=-1,n=f<<16|e,q=c<<16|d,m=!1,r,u=0,t=0,w="",y=[];if(this.wc<I.Il)if(0===this.s)y=["Empty pattern","Empty"];else{b=this.Yg(b);var v=!1;var D=this.qf;for(r=-1;-1!==D&&!v;){var F=this.Of[D];if(b>F)r=D,D=this.Ae[D];else if(b<F)v=!0;else if(b===F){var E=D<<1;if(this.s===
this.hf[D]&&n===this.lc[E]){F=!0;var O=this.counter-this.fi[D];this.lc[E+1]===q?1===(O&1)&&this.Z?F=!1:w=1===O||2===O&&this.Z?"Still Life":"Oscillator period "+O:(u=c-(this.lc[E+1]>>16),t=d-(this.lc[E+1]&65535),g?this.vm(O,k,u,l,t,p)?(w=this.xm(O,u,t),g=!1):F=!1:(g=!0,k=O,l=u,p=t,F=!1));F?(m=v=!0,g&&(t=u=0),y=this.xn(a,D,w,O,u,t,f,e)):(r=D,D=this.Ae[D])}else r=D,D=this.Ae[D]}}m||(this.Gk(b,n,c,d,r),this.wc+=1,this.wc===I.Il&&(this.wc=0,y=[I.Fx]))}return y};ra.prototype.Jk=function(a,b,c,d,f,e,g){var k=
this.ea/2,l=this.aa/2,p=0,n=this.width/2,q=this.height/2,m=this.coords,r=this.Tb,u=this.height/2-this.da-this.qa+.5,t=this.width/2-this.ga-this.Aa+.5,w=this.zoom*this.Ha;if(a>c){var y=c;c=a;a=y}b>d&&(y=d,d=b,b=y);a+=f;c+=f;b+=e;d+=e;r.length!==I.Ic&&(this.coords=this.N.h(pa.Zc,12*I.Ic,"Life.coords"),this.Tb=this.N.h(pa.hc,I.Ic,"Life.cellColours"),m=this.coords,r=this.Tb);this.ma.lineWidth=I.gw;this.ma.lineCap="butt";this.ma.lineJoin="bevel";for(e=f=0;b<=d;b+=1)if(y=(b-q+u)*w+l,y>=-w&&y<this.aa+w){var v=
b-q;var D=t-n;for(y=a;y<=c;y+=1){if(0<g[p]){var F=(y+D)*w+k;if(F>=-w&&F<this.ea+2*w){r[f]=(0<<I.bg)+e;F=y-n+.5;var E=y+b&1;m[e]=F-1;m[e+1]=v+E;m[e+2]=F+1;m[e+3]=v+E;m[e+4]=F;m[e+5]=v+1-E;e+=6;f+=1;f===I.Ic&&(this.vb=f,this.Fc(!0,!1,!0),e=f=0)}}p+=1}}else p+=c-a+1;this.vb=f;0<f&&this.Fc(!0,!1,!0)};ra.prototype.dj=function(a,b,c,d,f,e){var g=this.ea/2,k=this.aa/2,l=this.width/2,p=this.height/2,n=this.coords,q=this.Tb,m=this.height/2-this.da-this.qa+.5,r=this.width/2-this.ga-this.Aa+.5,u=this.zoom*this.Ha;
if(a>c){var t=c;c=a;a=t}b>d&&(t=d,d=b,b=t);a+=f;c+=f;b+=e;d+=e;q.length!==I.Ic&&(this.coords=this.N.h(pa.Zc,12*I.Ic,"Life.coords"),this.Tb=this.N.h(pa.hc,I.Ic,"Life.cellColours"),n=this.coords,q=this.Tb);this.ma.lineWidth=I.gw;this.ma.lineCap="butt";this.ma.lineJoin="bevel";for(e=f=0;b<=d;b+=1)if(t=(b-p+m)*u+k,t>=-u&&t<this.aa+u){var w=b-p;var y=r-l;for(t=a;t<=c;t+=1){var v=(t+y)*u+g;if(v>=-u&&v<this.ea+2*u){q[f]=(0<<I.bg)+e;v=t-l+.5;var D=t+b&1;n[e]=v-1;n[e+1]=w+D;n[e+2]=v+1;n[e+3]=w+D;n[e+4]=v;
n[e+5]=w+1-D;e+=6;f+=1;f===I.Ic&&(this.vb=f,this.Fc(!0,!1,!0),e=f=0)}}}this.vb=f;0<f&&this.Fc(!0,!1,!0)};ra.prototype.ej=function(){var a=this.i,b=this.Ba,c=null,d=this.ib,f=this.ea/2,e=this.aa/2,g,k,l=this.width/2,p=this.height/2,n=H.Cb[3]+128,q=H.Cb[4]+128,m=H.Cb[5]+128,r=H.Cb[6]+128,u=this.Ya,t=this.coords,w=this.Tb,y=d.F,v=d.J;var D=d.H;var F=d.K,E=this.height/2-this.da-this.qa+.5,O=this.width/2-this.ga-this.Aa+.5,Q=this.zoom*this.Ha,N=!this.Ka&&!this.Wa,U=this.width,S=this.height,G=0,L=0,P=this.T;
(this.m||this.B||this.o)&&0!==(this.counter&1)&&(a=this.X);w.length!==I.Ic&&(this.coords=this.N.h(pa.Zc,12*I.Ic,"Life.coords"),this.Tb=this.N.h(pa.hc,I.Ic,"Life.cellColours"),t=this.coords,w=this.Tb);-1!==this.D&&(0!==this.O?(y=Math.round((this.width-this.O)/2)-1,v=y+this.O-1+2):(y=0,v=this.width-1),0!==this.M?(D=Math.round((this.height-this.M)/2)-1,F=D+this.M-1+2):(D=0,F=this.height-1));this.ma.lineWidth=I.gw;this.ma.lineCap="butt";this.ma.lineJoin="bevel";for(k=d=0;D<=F;D+=1){var fa=(D-p+E)*Q+e;
if(fa>=-Q&&fa<this.aa+Q){fa=a[D];b&&(c=b[D]);var ha=D-p;var ja=O-l;for(g=y-1;g<=v+1;g+=1){var ca=(g+ja)*Q+f;if(ca>=-Q&&ca<=this.ea+2*Q){ca=fa[g];if(c){var Z=c[g];if(Z===q||Z===r)ca=ca>=u?n:Z;else if(Z===n||Z===m)ca=ca<u?q:Z}0<ca&&(w[d]=(ca<<I.bg)+k,ca=g-l+.5,Z=g+D&1,t[k]=ca-1,t[k+1]=ha+Z,t[k+2]=ca+1,t[k+3]=ha+Z,t[k+4]=ca,t[k+5]=ha+1-Z,k+=6,d+=1);d===I.Ic&&(this.vb=d,this.Fc(!0,N,!1),this.Wa&&!this.Ka&&(this.ma.strokeStyle="rgb("+this.la[0]+","+this.ja[0]+","+this.ka[0]+")",this.Fc(!1,!1,!1)),k=d=
0)}}}}this.vb=d;0<d&&(this.Fc(!0,N,!1),this.Wa&&!this.Ka&&(this.ma.strokeStyle="rgb("+this.la[0]+","+this.ja[0]+","+this.ka[0]+")",this.Fc(!1,!1,!1)));for(k=d=0;U<P;)G+=U>>1,U<<=1;for(;S<P;)L+=S>>1,S<<=1;F=e/Q-E+p|0;for(D=-e/Q-E+p|0;D<=F;D+=1)if(fa=(D-p+E)*Q+e,fa>=-Q&&fa<this.aa+Q)for(ha=D-p,ja=O-l,y=-f/Q-ja-Q|0,v=f/Q-ja+Q|0,g=y-1;g<=v+1;g+=1)if(ca=(g+ja)*Q+f,ca>=-Q&&ca<=this.ea+2*Q){if(0>g+G||g+G>=P||0>D+L||D+L>=P)w[d]=(256<<I.bg)+k,ca=g-l+.5,Z=g+D&1,t[k]=ca-1,t[k+1]=ha+Z,t[k+2]=ca+1,t[k+3]=ha+Z,
t[k+4]=ca,t[k+5]=ha+1-Z,k+=6,d+=1;d===I.Ic&&(this.vb=d,this.Fc(!0,N,!1),this.Wa&&!this.Ka&&(this.ma.strokeStyle="rgb("+this.la[0]+","+this.ja[0]+","+this.ka[0]+")",this.Fc(!1,!1,!1)),k=d=0)}this.vb=d;0<d&&(this.Fc(!0,N,!1),this.Wa&&!this.Ka&&(this.ma.strokeStyle="rgb("+this.la[0]+","+this.ja[0]+","+this.ka[0]+")",this.Fc(!1,!1,!1)),k=0);if(this.Ka){this.ma.strokeStyle="rgb("+(this.nb>>16)+","+(this.nb>>8&255)+","+(this.nb&255)+")";this.ma.lineWidth=1;F=e/Q-E+p|0;d=0;for(D=-e/Q-E+p|0;D<=F;D+=1)if(fa=
(D-p+E)*Q+e,fa>=-Q&&fa<this.aa+Q)for(ha=D-p,ja=O-l,y=-f/Q-ja-Q|0,v=f/Q-ja+Q|0,g=y-1;g<=v+1;g+=1)ca=(g+ja)*Q+f,ca>=-Q&&ca<this.ea+2*Q&&(ca=g-l+.5,Z=g+D&1,t[k]=ca-1,t[k+1]=ha+Z,t[k+2]=ca+1,t[k+3]=ha+Z,t[k+4]=ca,t[k+5]=ha+1-Z,k+=6,d+=1),d===I.Ic&&(this.vb=d,this.Fc(!1,!1,!1),k=d=0);this.vb=d;0<d&&this.Fc(!1,!1,!1)}};ra.prototype.Fc=function(a,b,c){var d,f=this.ma,e=this.width/2-this.ga-this.Aa,g=this.height/2-this.da-this.qa,k=this.zoom*this.Ha,l=this.uc(this.zoom)*this.Ha,p=this.ea/2,n=this.aa/2,q=
0,m=0,r=-1,u=this.coords,t=this.vb,w=this.Tb,y=(1<<I.bg)-1;if(a&&!c&&w.sort){m=(I.Ic<<I.bg)+256;for(d=t;d<I.Ic;d+=1)w[d]=m;w.sort()}f.beginPath();a||(r=m=q=0);for(d=0;d<t;d+=1){a&&(m=w[d],q=m&y,m>>=I.bg);var v=u[q];var D=u[q+1];q+=2;var F=(D+g)*l+n;var E=(v+e)*k+p;var O=(u[q+1]-D)*l;var Q=(u[q]-v)*k;q+=2;m!==r&&(r=m,0<d&&(a?(b&&f.stroke(),f.fill()):f.stroke(),f.beginPath()),a&&!c&&(f.fillStyle=this.ef[m],b&&(f.strokeStyle=this.ef[m])));f.moveTo(E|0,F|0);f.lineTo(Q+E|0,O+F|0);f.lineTo(Q+E|0,F|0);O=
(u[q+1]-D)*l;Q=(u[q]-v)*k;f.lineTo(Q+E|0,O+F|0);q+=2}a?(b&&f.stroke(),f.fill()):f.stroke()};ra.prototype.Fk=function(a,b,c,d,f,e,g){var k=0,l=this.width/2-H.ao/4,p=this.height/2,n=Math.PI/3,q=1/H.ao,m=[],r=[],u=this.coords,t=this.Tb,w=this.ea/2,y=this.aa/2,v=this.width/2-this.ga-this.Aa,D=this.height/2-this.da-this.qa,F=this.zoom*this.Ha,E=this.uc(this.zoom)*this.Ha;v=v+D/2+-(this.height>>2)+.5;D+=.5;if(a>c){var O=c;c=a;a=O}b>d&&(O=d,d=b,b=O);a+=f;c+=f;b+=e;d+=e;t.length!==I.Ic&&(this.coords=this.N.h(pa.Zc,
12*I.Ic,"Life.coords"),this.Tb=this.N.h(pa.hc,I.Ic,"Life.cellColours"),u=this.coords,t=this.Tb);e=n/2;for(f=0;5>=f;f+=1)m[f]=Math.cos(e)*q,r[f]=Math.sin(e)*q*1.16,e+=n;n=m[0];q=r[0];O=m[1];var Q=r[1];var N=m[2];var U=r[2];var S=m[3];var G=r[3];var L=m[4];var P=r[4];m=m[5];r=r[5];this.ma.lineWidth=1;this.ma.lineCap="round";this.ma.lineJoin="round";for(e=f=0;b<=d;b+=1){var fa=b-p;var ha=(fa+D)*E+y;if(ha>=-E&&ha<this.aa+E)for(ha=a;ha<=c;ha+=1){if(0<g[k]){var ja=ha-l;var ca=(ja+v-(fa+D)/2)*F+w;ca>=-F&&
ca<this.ea+F&&(t[f]=(0<<I.bg)+e,u[e]=n+ja,u[e+1]=q+fa,u[e+2]=O+ja,u[e+3]=Q+fa,u[e+4]=N+ja,u[e+5]=U+fa,u[e+6]=S+ja,u[e+7]=G+fa,u[e+8]=L+ja,u[e+9]=P+fa,u[e+10]=m+ja,u[e+11]=r+fa,e+=12,f+=1,f===I.Ic&&(this.vb=f,this.Ec(!0,!1,!1,!0),e=f=0))}k+=1}else k+=c-a+1}this.vb=f;0<f&&this.Ec(!0,!1,!1,!0)};ra.prototype.bj=function(a,b,c,d,f,e){var g=this.width/2-H.ao/4,k=this.height/2,l=Math.PI/3,p=1/H.ao,n=[],q=[],m=this.coords,r=this.Tb,u=this.ea/2,t=this.aa/2,w=this.width/2-this.ga-this.Aa,y=this.height/2-this.da-
this.qa,v=this.zoom*this.Ha,D=this.uc(this.zoom)*this.Ha;w=w+y/2+-(this.height>>2)+.5;y+=.5;if(a>c){var F=c;c=a;a=F}b>d&&(F=d,d=b,b=F);a+=f;c+=f;b+=e;d+=e;r.length!==I.Ic&&(this.coords=this.N.h(pa.Zc,12*I.Ic,"Life.coords"),this.Tb=this.N.h(pa.hc,I.Ic,"Life.cellColours"),m=this.coords,r=this.Tb);e=l/2;for(f=0;5>=f;f+=1)n[f]=Math.cos(e)*p,q[f]=Math.sin(e)*p*1.16,e+=l;l=n[0];p=q[0];F=n[1];var E=q[1];var O=n[2];var Q=q[2];var N=n[3];var U=q[3];var S=n[4];var G=q[4];n=n[5];q=q[5];this.ma.lineWidth=1;this.ma.lineCap=
"round";this.ma.lineJoin="round";for(e=f=0;b<=d;b+=1){var L=b-k;var P=(L+y)*D+t;if(P>=-D&&P<this.aa+D)for(P=a;P<=c;P+=1){var fa=P-g;var ha=(fa+w-(L+y)/2)*v+u;ha>=-v&&ha<this.ea+v&&(r[f]=(0<<I.bg)+e,m[e]=l+fa,m[e+1]=p+L,m[e+2]=F+fa,m[e+3]=E+L,m[e+4]=O+fa,m[e+5]=Q+L,m[e+6]=N+fa,m[e+7]=U+L,m[e+8]=S+fa,m[e+9]=G+L,m[e+10]=n+fa,m[e+11]=q+L,e+=12,f+=1,f===I.Ic&&(this.vb=f,this.Ec(!0,!1,!1,!0),e=f=0))}}this.vb=f;0<f&&this.Ec(!0,!1,!1,!0)};ra.prototype.cj=function(){var a=this.i,b=this.Ba,c=null,d=this.ib,
f=this.ea/2,e=this.aa/2,g,k=this.width/2-H.ao/4,l=this.height/2,p=Math.PI/3,n=1/H.ao,q=[],m=[],r=H.Cb[3]+128,u=H.Cb[4]+128,t=H.Cb[5]+128,w=H.Cb[6]+128,y=this.Ya,v=this.coords,D=this.Tb,F=d.F,E=d.J;var O=d.H;var Q=d.K,N=this.height/2-this.da-this.qa+.5,U=this.width/2-this.ga-this.Aa+.5-(this.height>>2)+N/2,S=this.zoom*this.Ha,G=this.uc(this.zoom)*this.Ha,L=!this.Ka&&!this.Wa,P=this.width,fa=this.height,ha=0,ja=0,ca=this.T;(this.m||this.B||this.o)&&0!==(this.counter&1)&&(a=this.X);D.length!==I.Ic&&
(this.coords=this.N.h(pa.Zc,12*I.Ic,"Life.coords"),this.Tb=this.N.h(pa.hc,I.Ic,"Life.cellColours"),v=this.coords,D=this.Tb);-1!==this.D&&(0!==this.O?(F=Math.round((this.width-this.O)/2)-1,E=F+this.O-1+2):(F=0,E=this.width-1),0!==this.M?(O=Math.round((this.height-this.M)/2)-1,Q=O+this.M-1+2):(O=0,Q=this.height-1));var Z=p/2;for(d=0;5>=d;d+=1)q[d]=Math.cos(Z)*n,m[d]=Math.sin(Z)*n*1.16,Z+=p;p=q[0];n=m[0];var la=q[1];var da=m[1];var na=q[2];var X=m[2];var ma=q[3];var aa=m[3];var Y=q[4];var V=m[4];q=q[5];
m=m[5];this.ma.lineWidth=1;this.ma.lineCap="round";this.ma.lineJoin="round";Z=d=0;0<O&&--O;for(Q<this.height-1&&(Q+=1);O<=Q;O+=1){var oa=(O+N-l)*G+e;if(oa>=-G&&oa<this.aa+G){oa=a[O];b&&(c=b[O]);var R=O-l;var C=U-k-(R+N)/2;for(g=F;g<=E;g+=1){var z=(g+C)*S+f;if(z>=-S&&z<this.ea+S){z=oa[g];if(c){var K=c[g];if(K===u||K===w)z=z>=y?r:K;else if(K===r||K===t)z=z<y?u:K}0<z&&(D[d]=(z<<I.bg)+Z,z=g-k,v[Z]=p+z,v[Z+1]=n+R,v[Z+2]=la+z,v[Z+3]=da+R,v[Z+4]=na+z,v[Z+5]=X+R,v[Z+6]=ma+z,v[Z+7]=aa+R,v[Z+8]=Y+z,v[Z+9]=
V+R,v[Z+10]=q+z,v[Z+11]=m+R,Z+=12,d+=1);d===I.Ic&&(this.vb=d,this.Ec(!0,L,!1,!1),this.Wa&&!this.Ka&&(this.ma.strokeStyle="rgb("+this.la[0]+","+this.ja[0]+","+this.ka[0]+")",this.Ec(!1,!1,!1,!1)),Z=d=0)}}}}this.vb=d;0<d&&(this.Ec(!0,L,!1,!1),this.Wa&&!this.Ka&&(this.ma.strokeStyle="rgb("+this.la[0]+","+this.ja[0]+","+this.ka[0]+")",this.Ec(!1,!1,!1,!1)));for(Z=d=0;P<ca;)ha+=P>>1,P<<=1;for(;fa<ca;)ja+=fa>>1,fa<<=1;Q=(e/G-N+l|0)+1;for(O=(-e/G-N+l|0)-1;O<=Q;O+=1)if(oa=(O+N-l)*G+e,oa>=-G&&oa<this.aa+G)for(R=
O-l,C=U-k-(R+N)/2,F=-f/S-C-S|0,E=f/S-C+S|0,g=F;g<=E;g+=1)if(z=(g+C)*S+f,z>=-S&&z<this.ea+S){if(0>g+ha||g+ha>=ca||0>O+ja||O+ja>=ca)D[d]=(256<<I.bg)+Z,z=g-k,v[Z]=p+z,v[Z+1]=n+R,v[Z+2]=la+z,v[Z+3]=da+R,v[Z+4]=na+z,v[Z+5]=X+R,v[Z+6]=ma+z,v[Z+7]=aa+R,v[Z+8]=Y+z,v[Z+9]=V+R,v[Z+10]=q+z,v[Z+11]=m+R,Z+=12,d+=1;d===I.Ic&&(this.vb=d,this.Ec(!0,L,!1,!1),this.Wa&&!this.Ka&&(this.ma.strokeStyle="rgb("+this.la[0]+","+this.ja[0]+","+this.ka[0]+")",this.Ec(!1,!1,!1,!1)),Z=d=0)}this.vb=d;0<d&&(this.Ec(!0,L,!1,!1),
this.Wa&&!this.Ka&&(this.ma.strokeStyle="rgb("+this.la[0]+","+this.ja[0]+","+this.ka[0]+")",this.Ec(!1,!1,!1,!1)),Z=0);if(this.Ka){this.ma.strokeStyle="rgb("+(this.nb>>16)+","+(this.nb>>8&255)+","+(this.nb&255)+")";this.ma.lineWidth=1;d=0;Q=e/G-N+l|0;for(O=-e/G-N+l|0;O<=Q;O+=1)if(oa=(O+N-l)*G+e,oa>=-G&&oa<this.aa+G)for(R=O-l,C=U-k-(R+N)/2,F=-f/S-C-S|0,E=f/S-C+S|0,g=F;g<=E;g+=1)z=(g+C)*S+f,z>=-S&&z<this.ea+S&&(z=g-k,v[Z]=p+z,v[Z+1]=n+R,v[Z+2]=la+z,v[Z+3]=da+R,v[Z+4]=na+z,v[Z+5]=X+R,v[Z+6]=ma+z,v[Z+
7]=aa+R,Z+=8,d+=1),d===I.Ic&&(this.vb=d,this.Ec(!1,!1,!0,!1),Z=d=0);this.vb=d;0<d&&this.Ec(!1,!1,!0,!1)}};ra.prototype.Ec=function(a,b,c,d){var f=this.ma,e=this.width/2-this.ga-this.Aa,g=this.height/2-this.da-this.qa,k=this.zoom*this.Ha,l=this.uc(this.zoom)*this.Ha,p=this.ea/2,n=this.aa/2,q=0,m=0,r=12,u=0,t=-1,w=this.coords,y=this.vb,v=this.Tb,D=(1<<I.bg)-1;e=e+g/2+-(this.height>>2)+.5;g+=.5;a&&!d&&v.sort&&(u=(I.Ic<<I.bg)+256,v.fill(u,y),v.sort());f.beginPath();a||(m=r=c?8:12,t=u=q=0);for(c=0;c<y;c+=
1){a&&(u=v[c],q=u&D,m=q+r,u>>=I.bg);var F=w[q];var E=w[q+1];var O=E+g;var Q=F+e-O/2;q+=2;O=O*l+n;Q=Q*k+p;var N=(w[q+1]-E)*l;var U=(w[q]-F)*k;q+=2;u!==t&&(t=u,0<c&&(a?(b&&f.stroke(),f.fill()):f.stroke(),f.beginPath()),a&&!d&&(f.fillStyle=this.ef[u],b&&(f.strokeStyle=this.ef[u])));f.moveTo(Q,O);for(f.lineTo(U+Q,N+O);q<m;)N=(w[q+1]-E)*l,U=(w[q]-F)*k,q+=2,f.lineTo(U+Q,N+O);m+=r}a?(b&&f.stroke(),f.fill()):f.stroke()};ra.prototype.qg=function(a,b,c,d,f,e,g){var k="",l=b.I?b.ib:b.A,p=l.F,n=l.J,q=l.K,m=l.H,
r=n-p+1,u=q-m+1;l=0;var t=[],w=this.i,y=null;var v=a.ca-a.R;var D=a.W-a.Y,F=a.$;2>d&&(d=2);2>f&&(f=2);d===f&&this.I&&(f=d=7);a.M&&(p=F.F+v,m=F.H+D,n=F.J+v,q=F.K+D,p>n&&(v=p,p=n,n=v),m>q&&(v=m,m=q,q=v),r=n-p+1,u=q-m+1,a.kc&&(-1!==b.D?(p-=Math.floor(a.ra/2)-2*a.Zb,n-=Math.floor(a.ra/2)-2*a.Zb,m-=Math.floor(a.qa/2)-2*a.uc,q-=Math.floor(a.qa/2)-2*a.uc):(p+=2*a.Zb,n+=2*a.Zb,m+=2*a.uc,q+=2*a.uc)));b.W&&(0<p&&0!==(p&1)&&(--p,r+=1),0<m&&0!==(m&1)&&(--m,u+=1));b.Z&&(0<p&&0===(p&1)&&(--p,r+=1),0<m&&0===(m&
1)&&(--m,u+=1));if(0===e.length)for(v=0;v<d;v+=1)e[v]=v;if(2>=f)t[0]="b",t[1]="o";else for(t[0]=".",v=0;v<f-1;v+=1)t[v+1]=24<=v?String.fromCharCode(112+(v/24|0)-1)+String.fromCharCode(65+v%24):String.fromCharCode(65+v);c&&(k+=b.lh);v=g&&""!==a.xa?a.xa:a.O;"Conway's Life"===v&&(v="Life");"B3/S23History"===v&&(v="LifeHistory");k=k+("x = "+r+", y = "+u+", rule = "+v)+a.Rf;k+="\n";for(a=k.length;m<=q;){v=p;2>=d&&!this.o?(y=w[m],r=y[v],f=r<=this.me||r===this.pc?0:1):f=b.Ta(v,m,!1);g=1;for(v+=1;v<=n+1;)v>
n?r=-1:2>=d&&!this.o?(r=y[v],r=r<=this.me||r===this.pc?0:1):r=b.Ta(v,m,!1),r!==f?((-1!==r||0!==f)&&0<l&&(1<l&&(k+=l),k+="$",69<=k.length-a&&(k+="\n",a=k.length),l=0),0<f?(1<g&&(k+=g),k+=t[e[f]]):v<=n&&(1<g&&(k+=g),k+=t[e[f]]),69<=k.length-a&&(k+="\n",a=k.length),g=1,f=r):g+=1,v+=1;l+=1;m+=1}k+="!\n";c&&(k+=b.kh);return k};ra.prototype.xo=function(a,b,c,d){var f=this.va,e=this.L,g=this.i,k=this.ra,l=this.v,p=this.A,n=this.ib,q,m=!0,r=this.W?1:0,u=this.W?14:15;if(a!==(a&this.xa)||b!==(b&this.wa)){m=
!1;var t=this.width<this.T&&a!==(a&this.xa);for(q=this.height<this.T&&b!==(b&this.wa);t||q;)(t||q)&&this.Af(t,q),t&&(a+=this.width>>2),q&&(b+=this.height>>2),t=this.width<this.T&&a!==(a&this.xa),q=this.height<this.T&&b!==(b&this.wa);a===(a&this.xa)&&b===(b&this.wa)&&(m=!0,f=this.va,e=this.L,g=this.i,k=this.ra,l=this.v)}if(m)if(0!==(this.counter&1)&&(f=this.Qa,e=this.V),t=1<<(~a&15),q=1<<(~(a>>4)&15),1===(c&1)?(0===(f[b][a>>4]&t)&&(this.s+=1),g[b][a]=this.Vb?(a+b&127)+64:this.Ya,k[b>>4][a>>8]|=q,l[b>>
4][a>>8]|=q,f[b][a>>4]|=t,e[b>>4][a>>8]|=q,d=a&15,0<a&&d<=r?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=u&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),0<b&&0===(b&15)?(--b,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=r?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=u&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),b+=1):b<this.height-1&&15===(b&15)&&(b+=1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=r?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-
1&&d>=u&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),--b)):(0!==(f[b][a>>4]&t)&&--this.s,g[b][a]=d?0:this.me,k[b>>4][a>>8]|=q,l[b>>4][a>>8]|=q,f[b][a>>4]&=~t),0<c)1===this.s?(p.F=a,p.J=a,p.H=b,p.K=b):(a<p.F&&(p.F=a),a>p.J&&(p.J=a),b<p.H&&(p.H=b),b>p.K&&(p.K=b)),a<n.F&&(n.F=a),a>n.J&&(n.J=a),b<n.H&&(n.H=b),b>n.K&&(n.K=b);else if(a===p.F||a===p.J||b===p.K||b===p.H)this.Wb=!0;return 0};ra.prototype.zo=function(a,b,c,d){var f=this.va,e=this.L,g=this.i,k=this.ra,l=this.v,p=this.Ba,n=this.A,q=this.ib,
m,r=!0,u=0,t=this.W?1:0,w=this.W?14:15;if(a!==(a&this.xa)||b!==(b&this.wa)){r=!1;var y=this.width<this.T&&a!==(a&this.xa);for(m=this.height<this.T&&b!==(b&this.wa);y||m;)(y||m)&&this.Af(y,m),y&&(a+=this.width>>2),m&&(b+=this.height>>2),y=this.width<this.T&&a!==(a&this.xa),m=this.height<this.T&&b!==(b&this.wa);a===(a&this.xa)&&b===(b&this.wa)&&(r=!0,f=this.va,e=this.L,g=this.i,k=this.ra,l=this.v,p=this.Ba)}if(r){0!==(this.counter&1)&&(f=this.Qa,e=this.V);y=1<<(~a&15);m=1<<(~(a>>4)&15);1===(c&1)?(0===
(f[b][a>>4]&y)&&(this.s+=1),g[b][a]=this.Ya,k[b>>4][a>>8]|=m,l[b>>4][a>>8]|=m,f[b][a>>4]|=y,e[b>>4][a>>8]|=m,d=a&15,0<a&&d<=t?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=w&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),0<b&&0===(b&15)?(--b,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=t?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=w&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),b+=1):b<this.height-1&&15===(b&15)&&(b+=1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&
d<=t?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=w&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),--b)):(0!==(f[b][a>>4]&y)&&--this.s,g[b][a]=d?0:this.me,k[b>>4][a>>8]|=m,l[b>>4][a>>8]|=m,f[b][a>>4]&=~y);if(p){e=p[b][a];0<e&&(e=H.Cb.indexOf(e-128));if(6===c&&6!==e||6!==c&&6===e)u=1;2===c&&(g[b][a]=I.Hh);p[b][a]=0===c?0:H.Cb[c]+128}if(0<c)1===this.s?(n.F=a,n.J=a,n.H=b,n.K=b):(a<n.F&&(n.F=a),a>n.J&&(n.J=a),b<n.H&&(n.H=b),b>n.K&&(n.K=b)),a<q.F&&(q.F=a),a>q.J&&(q.J=a),b<q.H&&
(q.H=b),b>q.K&&(q.K=b);else if(a===n.F||a===n.J||b===n.K||b===n.H)this.Wb=!0}return u};ra.prototype.Lj=function(a,b,c,d){var f=this.va,e=this.L,g=this.i,k=this.ra,l=this.v,p=this.Ba,n=this.A,q=this.ya,m=this.ib,r=0,u=0,t=0,w=this.W?1:0,y=this.W?14:15;(this.l||this.o||this.m||this.B)&&0!==(this.counter&1)&&(g=this.X);if(this.l||this.o)u=g[b][a],g[b][a]=d&&0===c?0:this.u+c,l[b>>4][a>>8]=65535,this.o&&(0!==(this.counter&1)&&(e=this.V),r=1<<(~(a>>4)&15),e[b>>4][a>>8]|=r),0===c?u>this.u&&(this.l?this.s-=
this.kc[u-this.u]:--this.s):this.l?u<=this.u?this.s+=this.kc[c]:(this.s-=this.kc[u-this.u],this.s+=this.kc[c]):(e[b>>4][a>>8]|=r,0===u&&(this.s+=1),d=a&15,0<a&&d<=w?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=y&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),0<b&&0===(b&15)?(--b,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=w?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=y&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),b+=1):b<this.height-1&&15===(b&15)&&(b+=
1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=w?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=y&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),--b));else{0!==(this.counter&1)&&(f=this.Qa,e=this.V);var v=1<<(~a&15);r=1<<(~(a>>4)&15);if(this.Ia)u=g[b][a],2===this.h?(e=this.Ya,1===c&&(c=this.Ya),0===c&&u>=e&&(c=d?0:this.u)):(e=this.h-1+this.u,0<c&&(c=this.u+c)),g[b][a]=c,k[b>>4][a>>8]|=r,l[b>>4][a>>8]|=r,u<e&&c>=e?this.s+=1:u>=e&&c<e&&--this.s;else{if(this.B){var D=0<c;u=g[b][a]}else D=
2>=this.h||this.m?1===(c&1):c===this.h-1;this.m&&(u=g[b][a],6===c&&6!==u||6!==c&&6===u)&&(t=1);D?(this.B?u||(this.s+=1):0===(f[b][a>>4]&v)&&(this.s+=1),g[b][a]=this.Vb?(a+b&127)+64:this.B||this.m?c:this.Ya,k[b>>4][a>>8]|=r,l[b>>4][a>>8]|=r,f[b][a>>4]|=v,e[b>>4][a>>8]|=r,d=a&15,0<a&&d<=w?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=y&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),0<b&&0===(b&15)?(--b,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=w?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&
15),a+=d+1):a<this.width-1&&d>=y&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),b+=1):b<this.height-1&&15===(b&15)&&(b+=1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=w?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=y&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),--b)):(this.B?0<u&&--this.s:0!==(f[b][a>>4]&v)&&--this.s,g[b][a]=this.B||this.m?c:d?0:this.me,k[b>>4][a>>8]|=r,l[b>>4][a>>8]|=r,f[b][a>>4]&=~v);if(this.I&&p){u=p[b][a];0<u&&(u=H.Cb.indexOf(u-128));if(6===c&&6!==u||6!==
c&&6===u)t=1;2===c?g[b][a]=I.Hh:p[b][a]=0===c?0:H.Cb[c]+128}2<this.h&&!this.m&&!this.B&&(0<c&&(c=this.u+c),g[b][a]=c)}}if(0<c)1===this.s&&(this.Wb=!0),a<n.F&&(n.F=a),a>n.J&&(n.J=a),b<n.H&&(n.H=b),b>n.K&&(n.K=b),a<m.F&&(m.F=a),a>m.J&&(m.J=a),b<m.H&&(m.H=b),b>m.K&&(m.K=b),this.Ia&&c===this.h-1+this.u&&(1===this.s?(q.F=a,q.J=a,q.H=b,q.K=b):(a<q.F&&(q.F=a),a>q.J&&(q.J=a),b<q.H&&(q.H=b),b>q.K&&(q.K=b)));else if(a===n.F||a===n.J||b===n.K||b===n.H)this.Wb=!0;return t};ra.prototype.Ta=function(a,b,c){switch(this.Nj){case I.Qt:return this.fj(a,
b,c);case I.St:return this.fj(a,b,!0);case I.Rt:return this.ql(a,b,c);default:return this.sl(a,b,c)}};ra.prototype.qd=function(a,b,c,d){switch(this.Nj){case I.Qt:return this.xo(a,b,c,d);case I.St:return this.Lj(a,b,c,d);case I.Rt:return this.zo(a,b,c,d);default:return this.Lj(a,b,c,d)}};ra.prototype.pm=function(){this.Nj=-1!==this.h||-1!==this.D||this.ha?this.o&&2===this.h?I.St:I.DE:this.I?I.Rt:I.Qt};ra.prototype.Kk=function(a){var b=1<<I.Ph;a?(this.Mc=Array.matrix(pa.hc,1,b,0,this.N,"Life.popGraphData"),
this.cf=Array.matrix(pa.hc,1,b,0,this.N,"Life.birthGraphData"),this.zf=Array.matrix(pa.hc,1,b,0,this.N,"Life.deathGraphData"),this.Gf=b):(this.Mc=Array.matrix(pa.hc,0,0,0,this.N,"Life.popGraphData"),this.cf=Array.matrix(pa.hc,0,0,0,this.N,"Life.birthGraphData"),this.zf=Array.matrix(pa.hc,0,0,0,this.N,"Life.deathGraphData"),this.Gf=0)};ra.prototype.fj=function(a,b,c){var d=0,f=this.i;a===(a&this.xa)&&b===(b&this.wa)&&(this.o&&0!==(this.counter&1)&&(f=this.X),a=f[b][a],d=c?a:a<=this.me?0:1);return d};
ra.prototype.ql=function(a,b,c){var d=0,f=H.Cb[3]+128,e=H.Cb[4]+128,g=H.Cb[5]+128,k=H.Cb[6]+128;a===(a&this.xa)&&b===(b&this.wa)&&(d=this.i[b][a],c||(this.Ba?(a=this.Ba[b][a],a===e||a===k?(d>=this.Ya&&(a=f),d=H.Cb.indexOf(a-128)):a===f||a===g?(d<this.Ya&&(a=e),d=H.Cb.indexOf(a-128)):d=0===d?0:d<=this.me?2:1):d=d<=this.me?0:1));return d};ra.prototype.sl=function(a,b,c){var d=0,f=H.Cb[3]+128,e=H.Cb[4]+128,g=H.Cb[5]+128,k=H.Cb[6]+128,l=this.Z?-1:0,p=Math.round((this.width-this.O)/2)+l;l=Math.round((this.height-
this.M)/2)+l;var n=p+this.O-1,q=l+this.M-1,m=this.i;(this.l||this.o||this.m||this.B)&&0!==(this.counter&1)&&(m=this.X);a===(a&this.xa)&&b===(b&this.wa)&&(d=m[b][a],c||2<this.h?2<this.h&&0<d&&!this.ha&&(d<=this.u?d=0:(-1!==this.D&&(0===this.O&&(p=0,n=this.width-1),0===this.M&&(l=0,q=this.height-1)),d=-1===this.D||d!==this.pc||a>=p&&a<=n&&b>=l&&b<=q?this.l||this.o||this.m||this.B?d-this.u:this.h+this.u-d:0)):this.Ba?-1===this.D||d!==this.pc||a>=p&&a<=n&&b>=l&&b<=q?(a=this.Ba[b][a],a===e||a===k?(d>=
this.Ya&&(a=f),d=H.Cb.indexOf(a-128)):a===f||a===g?(d<this.Ya&&(a=e),d=H.Cb.indexOf(a-128)):d=0===d?0:d<=this.me?2:1):d=0:d=d<=this.me||d===this.pc?0:1);return d};ra.prototype.sd=function(a){var b,c,d,f=a.length,e=a[0].length,g=this.kc,k=0;for(b=0;b<f;b+=1){var l=a[b];for(c=0;c<e;c+=1)(d=l[c])&&(k+=g[d])}return k};ra.prototype.bl=function(a,b){var c=a.lc,d=c.length,f=!1;if(this.Z||this.l)for(this.Za=this.wb=!1,a=0;!f&&a<d;){var e=c[a];e.og<b?("reverse playback"===e.action&&(this.Za=!this.Za),a+=1):
e.og>b?f=!0:"reverse playback"===e.action?f=this.wb=!0:a+=1}};ra.prototype.Ak=function(a,b){var c=this.Cc.h.length,d=null;a<this.counter&&(d=this.Cc.Y(a),c!==this.Cc.h.length&&(this.Te-=I.fp*(c-this.Cc.h.length)));d&&(this.Hj(d,b),b.tk());for(;this.counter<a;)this.bl(b,this.counter),this.l&&(1===(this.counter&1)?this.i.ba.fill(0):this.X.ba.fill(0)),this.Ef(!0),b.ha+=b.I,this.ue(),this.Hi(),this.pf(b),b.tk()};ra.prototype.Hj=function(a,b){var c=this.i,d=this.Ba;this.counter=a.counter;b.ha=a.M;this.Hb=
a.A;this.ee=a.D;if(0!==(this.counter&1)){b=this.Gc;var f=this.grid;var e=this.V;var g=this.L}else b=this.grid,f=this.Gc,e=this.L,g=this.V;b.ba.fill(0);f.ba.fill(0);this.i.ba.fill(0);(this.l||this.o||this.m||this.B)&&this.X.ba.fill(0);this.Fa.ba.fill(0);a.T(b,e);a.R(c,this.ra);(this.l||this.o||this.m||this.B)&&Array.uf(c,this.X);this.tc?(d.ba.fill(0),this.Xa.ba.fill(0),a.V(d,this.v),this.gb()):(this.m&&this.gb(),Array.uf(this.v,this.ra));Array.uf(e,g);Array.uf(b,f);this.A.F=a.i.F;this.A.H=a.i.H;this.A.J=
a.i.J;this.A.K=a.i.K;this.ya.F=a.h.F;this.ya.H=a.h.H;this.ya.J=a.h.J;this.ya.K=a.h.K;this.s=a.I;this.oa=a.v;this.fa=a.B};ra.prototype.oh=function(a){if(0!==(this.counter&1)){var b=this.Gc;var c=this.V}else b=this.grid,c=this.L;this.Kj(!1,b,c,a)};ra.prototype.Hf=function(a,b){this.Hj(this.Li,a);this.Cc.reset();this.Te=I.fp;b||this.oh(a)};ra.prototype.Kj=function(a,b,c,d){var f=this.i;(this.l||this.o||this.m||this.B)&&0!==(this.counter&1)&&(f=this.X);this.Cc.W(b,c,f,this.v,this.Ba,this.v,this.A,this.ya,
this.s,this.oa,this.fa,this.counter,d.ha,this.Hb,this.ee,(this.Y-1>>4)+1,this.ca,this,a)};ra.prototype.to=function(a,b){this.Cc.reset();this.Li=this.Cc.M((this.Y-1>>4)+1,this.ca,!0,this.tc);this.Kj(!0,this.grid,this.L,b);a||this.oh(b)};ra.prototype.Xn=function(){var a=this.Ba,b=this.yc;this.width=512;this.height=256;this.Ia&&this.R.resize(this.width,this.height);this.grid=Array.matrix(pa.Ma,this.height,(this.width-1>>3)+1,0,this.N,"Life.grid");this.Gc=Array.matrix(pa.Ma,this.height,(this.width-1>>
3)+1,0,this.N,"Life.nextGrid");this.va=Array.Ed(pa.Ca,this.grid,"Life.grid16");this.Qa=Array.Ed(pa.Ca,this.Gc,"Life.nextGrid16");b&&(this.yc=Array.matrix(pa.Ca,this.height,(this.width-1>>4)+1,0,this.N,"Life.state6Mask"),this.rd=Array.matrix(pa.Ca,this.height,(this.width-1>>4)+1,0,this.N,"Life.state6Alive"),this.Vc=Array.matrix(pa.Ca,this.height,(this.width-1>>4)+1,0,this.N,"Life.state6Cells"));this.Y=this.width>>4;this.ca=this.height>>4;b&&(this.Bc=Array.matrix(pa.Ca,this.ca,(this.Y-1>>4)+1,0,this.N,
"Life.state6TileGrid"));this.L=Array.matrix(pa.Ca,this.ca,(this.Y-1>>4)+1,0,this.N,"Life.tileGrid");this.V=Array.matrix(pa.Ca,this.ca,(this.Y-1>>4)+1,0,this.N,"Life.nextTileGrid");this.ra=Array.matrix(pa.Ca,this.ca,(this.Y-1>>4)+1,0,this.N,"Life.colourTileGrid");this.v=Array.matrix(pa.Ca,this.ca,(this.Y-1>>4)+1,0,this.N,"Life.colourTileHistoryGrid");this.Pa=Array.matrix(pa.Ca,this.ca,(this.Y-1>>4)+1,0,this.N,"Life.diedGrid");this.df=this.N.h(pa.Ma,(this.width-1>>3)+1,"Life.blankRow");this.dd=this.N.h(pa.Ca,
(this.width-1>>4)+1,"Life.blankRow16");this.La=this.N.h(pa.Ca,this.Y>>4,"Life.blankTileRow");this.na=this.N.h(pa.Ma,this.width,"Life.blankColourRow");this.Ja=this.N.h(pa.Ca,(this.width-1>>4)+1,"Life.columnOccupied16");this.Va=this.N.h(pa.Ca,(this.height-1>>4)+1,"Life.rowOccupied16");this.xf=this.N.h(pa.Ca,(this.width-1>>4)+1,"Life.columnAliveOccupied16");this.mf=this.N.h(pa.Ca,(this.height-1>>4)+1,"Life.rowAliveOccupied16");this.i=Array.matrix(pa.Ma,this.height,this.width,0,this.N,"Life.colourGrid");
this.l||this.o||this.m||this.B?(this.X=Array.matrix(pa.Ma,this.height,this.width,0,this.N,"Life.nextColourGrid"),this.Df=Array.Ed(pa.Ca,this.X,"Life.nextColourGrid16"),this.Ea=Array.Ed(pa.hc,this.X,"Life.nextColourGrid32")):this.Ea=this.Df=this.X=null;this.Fa=Array.matrix(pa.Ma,this.height,this.width,0,this.N,"Life.smallColourGrid");this.$d=Array.Ed(pa.Ca,this.i,"Life.colourGrid16");this.Da=Array.Ed(pa.hc,this.i,"Life.colourGrid32");a&&(this.Ba=Array.matrix(pa.Ma,this.height,this.width,0,this.N,"Life.overlayGrid"),
this.Xa=Array.matrix(pa.Ma,this.height,this.width,0,this.N,"Life.smallOverlayGrid"),this.Ue=Array.Ed(pa.Ca,this.Ba,"Life.overlayGrid16"),this.Fd=Array.Ed(pa.hc,this.Ba,"Life.overlayGrid32"));this.xa=this.width-1;this.wa=this.height-1;this.Cc.T((this.Y-1>>4)+1,this.ca,0,0,0,0,this.tc)};ra.prototype.Mk=function(){this.height=this.width=1024;this.grid=Array.matrix(pa.Ma,this.height,(this.width-1>>3)+1,0,this.N,"Life.grid");this.Gc=Array.matrix(pa.Ma,this.height,(this.width-1>>3)+1,0,this.N,"Life.nextGrid");
this.va=Array.Ed(pa.Ca,this.grid,"Life.grid16");this.Qa=Array.Ed(pa.Ca,this.Gc,"Life.nextGrid16");this.Y=this.width>>4;this.ca=this.height>>4;this.Bc&&this.aj();this.L=Array.matrix(pa.Ca,this.ca,(this.Y-1>>4)+1,0,this.N,"Life.tileGrid");this.V=Array.matrix(pa.Ca,this.ca,(this.Y-1>>4)+1,0,this.N,"Life.nextTileGrid");this.ra=Array.matrix(pa.Ca,this.ca,(this.Y-1>>4)+1,0,this.N,"Life.colourTileGrid");this.v=Array.matrix(pa.Ca,this.ca,(this.Y-1>>4)+1,0,this.N,"Life.colourTileHistoryGrid");this.Pa=Array.matrix(pa.Ca,
this.ca,(this.Y-1>>4)+1,0,this.N,"Life.diedGrid");this.df=this.N.h(pa.Ma,(this.width-1>>3)+1,"Life.blankRow");this.dd=this.N.h(pa.Ca,(this.width-1>>4)+1,"Life.blankRow16");this.La=this.N.h(pa.Ca,this.Y>>4,"Life.blankTileRow");this.na=this.N.h(pa.Ma,this.width,"Life.blankColourRow");this.Ja=this.N.h(pa.Ca,(this.width-1>>4)+1,"Life.columnOccupied16");this.Va=this.N.h(pa.Ca,(this.height-1>>4)+1,"Life.rowOccupied16");this.xf=this.N.h(pa.Ca,(this.width-1>>4)+1,"Life.columnAliveOccupied16");this.mf=this.N.h(pa.Ca,
(this.height-1>>4)+1,"Life.rowAliveOccupied16");this.i=Array.matrix(pa.Ma,this.height,this.width,0,this.N,"Life.colourGrid");this.$d=Array.Ed(pa.Ca,this.i,"Life.colourGrid16");this.Da=Array.Ed(pa.hc,this.i,"Life.colourGrid32");this.l||this.o||this.m||this.B?(this.X=Array.matrix(pa.Ma,this.height,this.width,0,this.N,"Life.nextColourGrid"),this.Df=Array.Ed(pa.Ca,this.X,"Life.nextColourGrid16"),this.Ea=Array.Ed(pa.hc,this.X,"Life.nextColourGrid32")):this.Ea=this.Df=this.X=null;this.Fa=Array.matrix(pa.Ma,
this.height,this.width,0,this.N,"Life.smallColourGrid");this.Ba&&this.$i();this.xa=this.width-1;this.wa=this.height-1};ra.prototype.dc=function(a,b,c,d,f){var e;for(e=0;e<a;e+=1)d[e+b].set(f[e],c)};ra.prototype.Af=function(a,b){var c=this.height,d=this.grid,f=this.Gc,e=this.i,g=this.X,k=this.Fa,l=this.Ba,p=this.Xa,n=this.yc,q=this.rd,m=this.Vc,r=this.Jg,u=this.ze,t=this.Bc,w=this.L,y=this.V,v=this.ra,D=this.v,F=this.Pa,E=this.Xf,O=this.Ff,Q=this.ca,N=0,U=0,S=0,G=0;if(this.width<this.T||c<this.T)if(a&&
(N=this.width>>1,this.width*=2),b&&(U=this.height>>1,this.height*=2),this.Ia&&this.R.resize(this.width,this.height),this.grid=Array.matrix(pa.Ma,this.height,(this.width-1>>3)+1,0,this.N,"Life.grid"),this.Gc=Array.matrix(pa.Ma,this.height,(this.width-1>>3)+1,0,this.N,"Life.nextGrid"),this.va=Array.Ed(pa.Ca,this.grid,"Life.grid16"),this.Qa=Array.Ed(pa.Ca,this.Gc,"Life.nextGrid16"),n&&(this.yc=Array.matrix(pa.Ca,this.height,(this.width-1>>4)+1,0,this.N,"Life.state6Mask"),this.rd=Array.matrix(pa.Ca,this.height,
(this.width-1>>4)+1,0,this.N,"Life.state6Alive"),this.Vc=Array.matrix(pa.Ca,this.height,(this.width-1>>4)+1,0,this.N,"Life.state6Cells")),this.Y=this.width>>4,this.ca=this.height>>4,n&&(this.Bc=Array.matrix(pa.Ca,this.ca,(this.Y-1>>4)+1,0,this.N,"Life.state6TileGrid")),this.L=Array.matrix(pa.Ca,this.ca,(this.Y-1>>4)+1,0,this.N,"Life.tileGrid"),this.V=Array.matrix(pa.Ca,this.ca,(this.Y-1>>4)+1,0,this.N,"Life.nextTileGrid"),this.ra=Array.matrix(pa.Ca,this.ca,(this.Y-1>>4)+1,0,this.N,"Life.colourTileGrid"),
this.v=Array.matrix(pa.Ca,this.ca,(this.Y-1>>4)+1,0,this.N,"Life.colourTileHistoryGrid"),this.Pa=Array.matrix(pa.Ca,this.ca,(this.Y-1>>4)+1,0,this.N,"Life.diedGrid"),E&&(this.Xf=Array.matrix(pa.Ca,this.ca,(this.Y-1>>4)+1,0,this.N,"Life.occTileMap")),O&&(this.Ff=Array.matrix(pa.Ca,this.ca,(this.Y-1>>4)+1,0,this.N,"Life.occMergedTileMap")),this.df=this.N.h(pa.Ma,(this.width-1>>3)+1,"Life.blankRow"),this.dd=this.N.h(pa.Ca,(this.width-1>>4)+1,"Life.blankRow16"),this.La=this.N.h(pa.Ca,this.Y>>4,"Life.blankTileRow"),
this.na=this.N.h(pa.Ma,this.width,"Life.blankColourRow"),this.Ja=this.N.h(pa.Ca,(this.width-1>>4)+1,"Life.columnOccupied16"),this.Va=this.N.h(pa.Ca,(this.height-1>>4)+1,"Life.rowOccupied16"),this.xf=this.N.h(pa.Ca,(this.width-1>>4)+1,"Life.columnAliveOccupied16"),this.mf=this.N.h(pa.Ca,(this.height-1>>4)+1,"Life.rowAliveOccupied16"),r&&(this.Jg=Array.matrix(pa.Ma,this.height,this.width,I.cn,this.N,"Life.countList")),u&&(this.ze=Array.matrix(pa.Ma,this.height,this.width,0,this.N,"Life.initList")),
this.i=Array.matrix(pa.Ma,this.height,this.width,0,this.N,"Life.colourGrid"),this.Fa=Array.matrix(pa.Ma,this.height,this.width,0,this.N,"Life.smallColourGrid"),this.$d=Array.Ed(pa.Ca,this.i,"Life.colourGrid16"),this.Da=Array.Ed(pa.hc,this.i,"Life.colourGrid32"),this.l||this.o||this.m||this.B?(this.X=Array.matrix(pa.Ma,this.height,this.width,0,this.N,"Life.nextColourGrid"),this.Df=Array.Ed(pa.Ca,this.X,"Life.nextColourGrid16"),this.Ea=Array.Ed(pa.hc,this.X,"Life.nextColourGrid32")):this.Ea=this.Df=
this.X=null,l&&(this.Ba=Array.matrix(pa.Ma,this.height,this.width,0,this.N,"Life.overlayGrid"),this.Xa=Array.matrix(pa.Ma,this.height,this.width,0,this.N,"Life.smallOverlayGrid"),this.Ue=Array.Ed(pa.Ca,this.Ba,"Life.overlayGrid16"),this.Fd=Array.Ed(pa.hc,this.Ba,"Life.overlayGrid32")),this.xa=this.width-1,this.wa=this.height-1,this.dc(c,U,N>>3,this.grid,d),this.dc(c,U,N>>3,this.Gc,f),this.dc(c,U,N,this.i,e),this.dc(c,U,N,this.Fa,k),(this.l||this.o||this.m||this.B)&&this.dc(c,U,N,this.X,g),this.Jg&&
this.dc(c,U,N,this.Jg,r),this.ze&&this.dc(c,U,N,this.ze,u),l&&p&&(this.dc(c,U,N,this.Ba,l),this.dc(c,U,N,this.Xa,p)),n&&q&&m&&(this.dc(c,U,N>>4,this.yc,n),this.dc(c,U,N>>4,this.rd,q),this.dc(c,U,N>>4,this.Vc,m)),b&&(G=Q>>1),a&&(S=this.L[0].length>>2),t&&this.dc(Q,G,S,this.Bc,t),this.dc(Q,G,S,this.L,w),this.dc(Q,G,S,this.V,y),this.dc(Q,G,S,this.ra,v),this.dc(Q,G,S,this.v,D),this.dc(Q,G,S,this.Pa,F),this.Cc.T((this.Y-1>>4)+1,this.ca,S,G,N,U,this.tc),this.ga+=N,this.da+=U,this.ia&&(this.ga-=U/2|0),this.A.F+=
N,this.A.J+=N,this.A.K+=U,this.A.H+=U,this.ya.F+=N,this.ya.J+=N,this.ya.K+=U,this.ya.H+=U,this.mc.F+=N,this.mc.J+=N,this.mc.K+=U,this.mc.H+=U,this.ib.F+=N,this.ib.J+=N,this.ib.K+=U,this.ib.H+=U,0<this.wc)for(b=0;b<this.wc;b+=1)c=this.lc[(b<<1)+1],a=(c>>16)+N,c=(c&65535)+U,this.lc[(b<<1)+1]=a<<16|c};ra.prototype.Yk=function(a,b,c){var d=this.width,f=this.height,e=!1,g=!1,k=!1;if(d<this.T||f<this.T)if(d<this.T&&(b.F<=c||b.J>=d-c)&&(e=!0),f<this.T&&(b.H<=c||b.K>=f-c)&&(g=!0),e||g)this.Af(e,g),k=!0,e&&
(a.ta+=this.width>>2,a.ya+=this.width>>2),g&&(a.ub+=this.height>>2,a.Hb+=this.height>>2),a.g.ia&&g&&(a.ta-=this.height>>3,a.ya-=this.height>>3),e&&(a.ca+=this.width>>2),g&&(a.W+=this.height>>2),e&&(b.F+=this.width>>2,b.J+=this.width>>2),g&&(b.H+=this.height>>2,b.K+=this.height>>2);return k};ra.prototype.Wk=function(a,b,c){for(c=c+1>>1;this.Yk(a,b,c););};ra.prototype.En=function(){var a,b,c=this.kc;for(a=0;65536>a;a+=1){var d=a;for(b=0;d;b+=1)d&=d-1;c[a]=b}};ra.prototype.Hn=function(){var a,b,c=this.Qi,
d=this.Ya;for(a=0;256>a;a+=1)for(b=0;8>b;b+=1)c[(a<<3)+b]=a&1<<7-b?d:0};ra.prototype.$n=function(a,b){var c,d=0,f=this.kc;var e=0;var g=this.A;var k=g.F,l=g.J,p=g.K;g=g.H;this.Ia&&(e=2<this.h?this.u+this.h-1:I.Ya);if(this.Ia||this.l||this.o||this.B||this.ha)for(;g<=p;g+=1)for(a=b[g],c=k;c<=l;c+=1){var n=a[c];0<n&&(this.l?d+=f[n-this.u]:this.Ia?n===e&&(d+=1):this.B?0<n&&(d+=1):d+=1)}else for(k>>=4,l>>=4;g<=p;g+=1)for(b=a[g],c=k;c<=l;c+=1)e=f[b[c]],d+=e;this.s=d;this.fa=this.oa=0};ra.prototype.Gj=function(a,
b){var c=this.ma,d=!1;var f=this.Ac?4278190080:255;if(this.ea!==a||this.aa!==b)d=!0;this.ea=a;this.aa=b;this.Vf=this.gn=this.Nc=this.Uc=null;this.Uc=c.createImageData(c.canvas.width,c.canvas.height);this.N.l(pa.hc,c.canvas.width*c.canvas.height,"Life.imageData");this.Uc.data.buffer?this.Nc=new Uint32Array(this.Uc.data.buffer):(this.Nc=new Uint32Array(this.Uc.data.length>>2),this.gn=new Uint8Array(this.Nc.buffer));if(d){this.ph=this.N.h(pa.hc,a,"Life.blankPixelRow");for(b=0;b<a;b+=1)this.ph[b]=f;this.Dl(f);
this.xi()}};ra.prototype.Ql=function(a,b,c){var d,f,e=this.i,g=a.width,k=a.height,l=this.xa,p=this.wa,n=this.Hh,q=H.Cb[2];for(f=0;f<k;f+=1){var m=a.la[f];var r=e[f+c&p];for(d=0;d<g;d+=1)m[d]===q&&(r[d+b&l]=n)}};ra.prototype.Lk=function(){this.Fd=this.Ue=this.Xa=this.Ba=null};ra.prototype.$i=function(){this.Ba=Array.matrix(pa.Ma,this.height,this.width,0,this.N,"Life.overlayGrid");this.Xa=Array.matrix(pa.Ma,this.height,this.width,0,this.N,"Life.smallOverlayGrid");Array.Gt(this.Xa,1,"Life.smallOverlayGrid4");
Array.Gt(this.Xa,3,"Life.smallOverlayGrid8");Array.Gt(this.Xa,7,"Life.smallOverlayGrid16");this.Ue=Array.Ed(pa.Ca,this.Ba,"Life.overlayGrid16");this.Fd=Array.Ed(pa.hc,this.Ba,"Life.overlayGrid32")};ra.prototype.Nk=function(){this.Bc=this.Vc=this.rd=this.yc=null};ra.prototype.aj=function(){this.yc=Array.matrix(pa.Ca,this.height,(this.width-1>>4)+1,0,this.N,"Life.state6Mask");this.rd=Array.matrix(pa.Ca,this.height,(this.width-1>>4)+1,0,this.N,"Life.state6Alive");this.Vc=Array.matrix(pa.Ca,this.height,
(this.width-1>>4)+1,0,this.N,"Life.state6Cells");this.Bc=Array.matrix(pa.Ca,this.ca,(this.Y-1>>4)+1,0,this.N,"Life.state6TileGrid")};ra.prototype.gb=function(){var a,b,c=this.xa,d=this.wa,f=this.Bc,e=this.m?6:H.Cb[6]+128,g=this.m?this.i:this.Ba,k=this.Xh,l=this.width,p=-1,n=this.height,q=-1;if(this.I)for(this.yc.ba.fill(0),this.Vc.ba.fill(0),this.rd.ba.fill(0),this.Bc.ba.fill(0),b=0;b<this.height;b+=1){var m=g[b];if(0<b){var r=this.yc[b-1&d];var u=f[(b-1&d)>>4]}else u=r=null;var t=this.yc[b&d];var w=
f[(b&d)>>4];var y=this.Vc[b&d];if(b<this.height-1){var v=this.yc[b+1&d];var D=f[(b+1&d)>>4]}else D=v=null;for(a=0;a<this.width;a+=1)if(m[a]===e){a<l&&(l=a);a>p&&(p=a);b<n&&(n=b);b>q&&(q=b);var F=a&c;y[F>>4]|=1<<(~F&15);r&&(r[F>>4]|=1<<(~F&15),u[F>>8]|=1<<(~(F>>4)&15));t[F>>4]|=1<<(~F&15);w[F>>8]|=1<<(~(F>>4)&15);v&&(v[F>>4]|=1<<(~F&15),D[F>>8]|=1<<(~(F>>4)&15));0<a&&(F=a-1&c,!this.bd&&r&&(r[F>>4]|=1<<(~F&15),u[F>>8]|=1<<(~(F>>4)&15)),t[F>>4]|=1<<(~F&15),w[F>>8]|=1<<(~(F>>4)&15),this.ia||this.bd||
!v||(v[F>>4]|=1<<(~F&15),D[F>>8]|=1<<(~(F>>4)&15)));a<this.width-1&&(F=a+1&c,this.ia||this.bd||!r||(r[F>>4]|=1<<(~F&15),u[F>>8]|=1<<(~(F>>4)&15)),t[F>>4]|=1<<(~F&15),w[F>>8]|=1<<(~(F>>4)&15),!this.bd&&v&&(v[F>>4]|=1<<(~F&15),D[F>>8]|=1<<(~(F>>4)&15)))}}else for(b=0;b<this.height;b+=1)for(m=g[b],a=0;a<this.width;a+=1)6===m[a]&&(a<l&&(l=a),a>p&&(p=a),b<n&&(n=b),b>q&&(q=b));k.F=l;k.H=n;k.J=p;k.K=q};ra.prototype.lf=function(a){this.Vb?this.Tn(a):this.Pn(a)};ra.prototype.Tn=function(a){var b,c=this.i;
var d=this.A;var f=d.F>>4,e=d.J>>4,g=d.K;for(b=d.H;b<=g;b+=1){var k=a[b];var l=c[b];var p=f<<4;for(d=f;d<=e;d+=1){var n=k[d]>>8;l[p]=n&128?(b+p&127)+64:0;p+=1;l[p]=n&64?(b+p&127)+64:0;p+=1;l[p]=n&32?(b+p&127)+64:0;p+=1;l[p]=n&16?(b+p&127)+64:0;p+=1;l[p]=n&8?(b+p&127)+64:0;p+=1;l[p]=n&4?(b+p&127)+64:0;p+=1;l[p]=n&2?(b+p&127)+64:0;p+=1;l[p]=n&1?(b+p&127)+64:0;p+=1;n=k[d]&255;l[p]=n&128?(b+p&127)+64:0;p+=1;l[p]=n&64?(b+p&127)+64:0;p+=1;l[p]=n&32?(b+p&127)+64:0;p+=1;l[p]=n&16?(b+p&127)+64:0;p+=1;l[p]=
n&8?(b+p&127)+64:0;p+=1;l[p]=n&4?(b+p&127)+64:0;p+=1;l[p]=n&2?(b+p&127)+64:0;p+=1;l[p]=n&1?(b+p&127)+64:0;p+=1}}};ra.prototype.Pn=function(a){var b,c=this.i,d=this.Qi;var f=this.A;var e=f.F>>4,g=f.J>>4,k=f.K;f=f.H;if(!(this.l||this.o||this.Ia))for(b=f;b<=k;b+=1){var l=a[b];var p=c[b];var n=e<<4;for(f=e;f<=g;f+=1){var q=l[f]>>8<<3;p[n]=d[q];n+=1;p[n]=d[q+1];n+=1;p[n]=d[q+2];n+=1;p[n]=d[q+3];n+=1;p[n]=d[q+4];n+=1;p[n]=d[q+5];n+=1;p[n]=d[q+6];n+=1;p[n]=d[q+7];n+=1;q=(l[f]&255)<<3;p[n]=d[q];n+=1;p[n]=
d[q+1];n+=1;p[n]=d[q+2];n+=1;p[n]=d[q+3];n+=1;p[n]=d[q+4];n+=1;p[n]=d[q+5];n+=1;p[n]=d[q+6];n+=1;p[n]=d[q+7];n+=1}}};ra.prototype.sc=function(a){var b=[],c,d;for(d=0;7>d;d+=1){var f=[];for(c=0;7>c;c+=1)f[c]=0;b[d]=f}for(d=0;3>d;d+=1)for(c=0;3>c;c+=1)b[d+2][c+2]=a[d][c];return b};ra.prototype.gm=function(){this.jh=this.sc(I.uD);this.Eh=this.sc(I.vD);this.Gh=this.sc(I.wD);this.bi=this.sc(I.xD);this.Ah=this.sc(I.qD);this.Bh=this.sc(I.rD);this.Ch=this.sc(I.sD);this.Dh=this.sc(I.tD);this.ji=this.sc(I.CD);
this.ki=this.sc(I.DD);this.li=this.sc(I.ED);this.mi=this.sc(I.FD);this.ci=this.sc(I.yD);this.di=this.sc(I.zD);this.ei=this.sc(I.AD);this.gi=this.sc(I.BD)};ra.prototype.On=function(a,b,c){var d=this.df,f=this.na,e=this.ph,g=this.La;var k=this.Ac?4278190080:255;this.tc=!1;this.xa=this.width-1;this.wa=this.height-1;this.A=new Oa(0,0,this.width-1,this.height-1);this.mc=new Oa(0,0,this.width-1,this.height-1);this.ya=new Oa(0,0,this.width-1,this.height-1);this.oi=new Oa(0,0,this.width-1,this.height-1);
this.Xh=new Oa(this.width,this.height,-1,-1);this.ib=new Oa(0,0,this.width-1,this.height-1);this.ma=a;this.Hn();this.Gj(b,c);d.fill(0);f.fill(0);g.fill(0);e.fill(k);this.gm()};ra.prototype.km=function(){var a=0;this.pa[a]=new Ma("Mono",new ua(new T(0,0,0),new T(0,0,0)),new ua(new T(255,255,255),new T(255,255,255)),new T(0,0,0),new T(255,255,255),new ua(new T(64,64,64),new T(-1,-1,-1)),new ua(new T(0,0,0),new T(0,0,0)),new T(0,0,0),[new T(64,64,64),new T(64,64,64),new T(128,128,128),new T(64,64,64),
new T(128,128,128),new T(128,128,128),new T(192,192,192),new T(64,64,64),new T(128,128,128),new T(128,128,128),new T(192,192,192),new T(128,128,128),new T(192,192,192),new T(192,192,192),new T(255,255,255)]);a+=1;this.pa[a]=new Ma("Blues",new ua(new T(0,0,47),new T(0,0,255)),new ua(new T(0,255,255),new T(255,255,255)),new T(0,0,0),new T(0,255,255),new ua(new T(0,0,255),new T(-1,-1,-1)),new ua(new T(0,0,47),new T(0,0,128)),new T(0,0,0),[new T(0,128,255),new T(0,255,128),new T(0,192,192),new T(128,
0,255),new T(0,0,255),new T(96,128,192),new T(128,255,224),new T(255,0,128),new T(96,96,192),new T(128,128,255),new T(128,224,255),new T(192,0,192),new T(255,128,224),new T(224,128,225),new T(224,224,255)]);a+=1;this.pa[a]=new Ma("Fire",new ua(new T(32,0,0),new T(160,0,0)),new ua(new T(255,144,0),new T(255,255,0)),new T(0,0,0),new T(255,144,0),new ua(new T(240,0,0),new T(-1,-1,-1)),new ua(new T(32,0,0),new T(160,0,0)),new T(0,0,0),[new T(128,0,0),new T(128,0,48),new T(192,0,48),new T(128,48,48),new T(192,
64,0),new T(192,48,64),new T(224,48,64),new T(128,48,0),new T(192,48,0),new T(192,0,64),new T(224,48,64),new T(192,64,48),new T(224,64,48),new T(224,64,64),new T(255,192,0)]);a+=1;this.pa[a]=new Ma("Poison",new ua(new T(0,24,0),new T(0,128,0)),new ua(new T(0,255,255),new T(255,255,255)),new T(0,0,0),new T(0,255,255),new ua(new T(0,192,0),new T(-1,-1,-1)),new ua(new T(0,24,0),new T(0,128,0)),new T(0,0,0),[new T(0,128,255),new T(0,255,128),new T(0,192,192),new T(64,0,255),new T(0,0,255),new T(48,128,
192),new T(64,255,224),new T(0,128,128),new T(48,128,192),new T(64,128,255),new T(64,224,255),new T(0,96,192),new T(64,128,224),new T(56,128,255),new T(224,255,224)]);a+=1;this.pa[a]=new Ma("Yellow",new ua(new T(0,47,0),new T(128,0,128)),new ua(new T(255,255,0),new T(255,255,255)),new T(0,32,128),new T(255,255,0),new ua(new T(192,64,64),new T(-1,-1,-1)),new ua(new T(0,47,0),new T(128,0,128)),new T(0,32,128),[new T(0,150,0),new T(50,100,0),new T(50,200,0),new T(150,0,0),new T(75,25,0),new T(200,100,
0),new T(200,225,0),new T(100,50,0),new T(100,200,0),new T(25,75,0),new T(150,255,0),new T(200,50,0),new T(225,200,0),new T(255,225,0),new T(255,255,0)]);a+=1;this.pa[a]=new Ma("Gray",new ua(new T(16,16,16),new T(104,104,104)),new ua(new T(176,176,176),new T(240,240,240)),new T(0,0,0),new T(240,240,240),new ua(new T(160,160,160),new T(-1,-1,-1)),new ua(new T(16,16,16),new T(104,104,104)),new T(0,0,0),[new T(128,128,128),new T(128,128,128),new T(144,144,144),new T(128,128,128),new T(144,144,144),new T(144,
144,144),new T(160,160,160),new T(128,128,128),new T(144,144,144),new T(144,144,144),new T(160,160,160),new T(144,144,144),new T(160,160,160),new T(160,160,160),new T(192,192,192)]);a+=1;this.pa[a]=new Ma("Inverse",new ua(new T(255,255,255),new T(255,255,255)),new ua(new T(0,0,0),new T(0,0,0)),new T(255,255,255),new T(0,0,0),new ua(new T(192,192,192),new T(-1,-1,-1)),new ua(new T(255,255,255),new T(255,255,255)),new T(255,255,255),[new T(192,192,192),new T(192,192,192),new T(128,128,128),new T(192,
192,192),new T(128,128,128),new T(128,128,128),new T(64,64,64),new T(192,192,192),new T(128,128,128),new T(128,128,128),new T(64,64,64),new T(128,128,128),new T(64,64,64),new T(64,64,64),new T(0,0,0)]);a+=1;this.pa[a]=new Ma("Day",new ua(new T(240,240,240),new T(0,255,255)),new ua(new T(0,0,255),new T(0,0,0)),new T(255,255,255),new T(0,0,255),new ua(new T(0,255,255),new T(-1,-1,-1)),new ua(new T(240,240,240),new T(0,192,192)),new T(255,255,255),[new T(192,224,255),new T(192,255,224),new T(192,0,192),
new T(224,192,255),new T(128,128,255),new T(96,96,192),new T(0,128,32),new T(255,192,224),new T(96,128,192),new T(0,0,255),new T(0,32,128),new T(0,192,192),new T(128,0,32),new T(32,0,128),new T(0,0,32)]);a+=1;this.pa[a]=new Ma("Occupied",new ua(new T(240,240,240),new T(240,240,240)),new ua(new T(240,240,240),new T(240,240,240)),new T(0,0,0),new T(240,240,240),new ua(new T(240,240,240),new T(240,240,240)),new ua(new T(240,240,240),new T(240,240,240)),new T(0,0,0),[new T(240,240,240),new T(240,240,
240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240)]);a+=1;this.pa[a]=new Ma("Red",new ua(new T(160,0,0),new T(160,0,0)),new ua(new T(240,240,240),new T(240,240,240)),new T(0,0,0),new T(255,255,255),new ua(new T(160,160,160),new T(160,160,160)),new ua(new T(160,0,0),new T(160,0,0)),new T(0,0,0),[new T(255,
255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255)]);a+=1;this.pa[a]=new Ma("LifeHistory",new ua(new T(0,0,96),new T(0,0,160)),new ua(new T(0,240,0),new T(16,255,16)),new T(0,0,0),new T(16,255,16),new ua(new T(0,128,160),new T(-1,-1,-1)),new ua(new T(0,0,96),new T(0,0,160)),new T(0,
0,0),[new T(255,0,0),new T(192,192,0),new T(224,144,0),new T(0,192,192),new T(192,144,144),new T(144,192,144),new T(255,224,192),new T(0,0,255),new T(192,0,192),new T(144,144,192),new T(255,192,255),new T(0,144,224),new T(128,96,224),new T(144,192,224),new T(224,224,224)]);a+=1;this.pa[a]=new Ma("Generations",new ua(new T(64,0,0),new T(255,0,0)),new ua(new T(255,255,0),new T(255,255,255)),new T(0,0,0),new T(255,255,0),new ua(new T(255,0,0),new T(-1,-1,-1)),new ua(new T(64,0,0),new T(128,0,0)),new T(0,
0,0),[new T(255,128,0),new T(224,128,64),new T(192,192,0),new T(255,16,32),new T(255,0,0),new T(192,128,48),new T(255,224,64),new T(128,32,64),new T(192,96,48),new T(255,128,64),new T(255,224,64),new T(192,24,48),new T(224,128,128),new T(255,218,112),new T(255,255,224)]);a+=1;this.pa[a]=new Ma("Golly",new ua(new T(48,48,48),new T(48,48,48)),new ua(new T(255,255,255),new T(255,255,255)),new T(48,48,48),new T(255,255,0),new ua(new T(255,0,0),new T(-1,-1,-1)),new ua(new T(48,48,48),new T(48,48,48)),
new T(48,48,48),[new T(0,255,127),new T(127,0,255),new T(148,148,148),new T(128,255,9),new T(255,0,128),new T(0,128,255),new T(1,159,0),new T(159,0,1),new T(255,254,96),new T(0,1,159),new T(96,255,254),new T(254,96,255),new T(126,125,21),new T(21,126,125),new T(125,21,126)]);this.pa[a].L(10,new T(80,80,80),new T(112,112,112));a+=1;this.pa[a]=new Ma("MCell",new ua(new T(0,0,0),new T(0,0,0)),new ua(new T(255,255,0),new T(255,255,0)),new T(0,0,0),new T(255,255,0),new ua(new T(0,255,0),new T(-1,-1,-1)),
new ua(new T(0,0,0),new T(0,0,0)),new T(0,0,0),[new T(255,255,0),new T(255,219,0),new T(255,183,0),new T(255,147,0),new T(255,111,0),new T(255,75,0),new T(255,39,0),new T(255,0,0),new T(240,0,0),new T(225,0,0),new T(210,0,0),new T(195,0,0),new T(180,0,0),new T(165,0,0),new T(150,0,0)]);this.pa[a].L(5,new T(64,0,0),new T(99,3,1));a+=1;this.pa[a]=new Ma("Catagolue",new ua(new T(160,221,204),new T(160,221,204)),new ua(new T(0,0,0),new T(0,0,0)),new T(192,255,238),new T(0,0,0),new ua(new T(96,192,139),
new T(2,129,2)),new ua(new T(160,221,204),new T(160,221,204)),new T(192,255,238),[new T(0,0,0),new T(0,128,0),new T(0,64,0),new T(255,0,0),new T(128,0,0),new T(128,64,0),new T(85,43,0),new T(0,0,255),new T(0,0,128),new T(0,64,128),new T(0,43,85),new T(128,0,128),new T(85,0,85),new T(85,43,85),new T(64,32,64)]);this.pa[a].L(0,new T(160,221,204),new T(160,221,204));a+=1;this.pa[a]=new Ma("Caterer",new ua(new T(54,57,62),new T(54,57,62)),new ua(new T(255,255,255),new T(255,255,255)),new T(54,57,62),
new T(255,170,0),new ua(new T(255,85,0),new T(-1,-1,-1)),new ua(new T(54,57,62),new T(54,57,62)),new T(54,57,62),[new T(48,93,148),new T(58,73,148),new T(144,137,188),new T(78,72,128),new T(134,137,218),new T(124,147,228),new T(130,151,242),new T(78,93,118),new T(114,107,218),new T(114,137,238),new T(120,171,242),new T(84,137,188),new T(150,171,212),new T(150,151,222),new T(186,205,255)]);this.pa[a].L(0,new T(0,0,0),new T(0,0,0));a+=1;this.pa[a]=new Ma("Life32",new ua(new T(255,255,255),new T(255,
255,255)),new ua(new T(0,0,128),new T(0,0,128)),new T(255,255,255),new T(0,0,128),new ua(new T(0,0,64),new T(-1,-1,-1)),new ua(new T(255,255,255),new T(255,255,255)),new T(255,255,255),[new T(255,128,128),new T(192,192,128),new T(224,144,96),new T(128,192,192),new T(192,112,112),new T(144,192,144),new T(128,96,64),new T(128,128,255),new T(192,96,192),new T(112,112,192),new T(128,64,128),new T(96,144,224),new T(64,32,160),new T(32,96,128),new T(32,32,32)]);this.pa[a].L(5,new T(192,192,192),new T(128,
128,128));a+=1;this.pa[a]=new Ma("Margolus",new ua(new T(0,0,47),new T(0,0,128)),new ua(new T(255,255,0),new T(255,255,255)),new T(0,0,0),new T(255,255,0),new ua(new T(64,64,128),new T(-1,-1,-1)),new ua(new T(0,0,47),new T(0,0,128)),new T(0,0,0),[new T(255,128,0),new T(224,128,64),new T(192,192,0),new T(255,16,32),new T(255,0,0),new T(192,128,48),new T(224,255,64),new T(128,32,64),new T(192,96,48),new T(255,128,64),new T(255,224,64),new T(192,24,48),new T(224,128,128),new T(255,128,112),new T(255,
255,224)]);this.pa[a].L(2,new T(64,64,128),new T(32,32,255));a+=1;this.pa[a]=new Ma("PCA",new ua(new T(24,24,24),new T(64,64,64)),new ua(new T(176,176,176),new T(240,240,240)),new T(0,0,0),new T(240,240,240),new ua(new T(160,160,160),new T(-1,-1,-1)),new ua(new T(24,24,24),new T(64,64,64)),new T(0,0,0),[new T(255,0,0),new T(0,255,0),new T(128,128,0),new T(16,16,255),new T(128,0,128),new T(0,128,128),new T(96,96,96),new T(255,255,0),new T(255,128,0),new T(128,255,0),new T(170,170,0),new T(144,144,
144),new T(170,85,85),new T(85,128,43),new T(128,128,64)]);a+=1;this.pa[a]=new Ma("Book",new ua(new T(255,220,192),new T(192,220,255)),new ua(new T(0,0,0),new T(0,0,0)),new T(255,255,255),new T(0,0,0),new ua(new T(128,128,128),new T(48,48,48)),new ua(new T(255,220,192),new T(192,220,255)),new T(255,255,255),[new T(255,128,128),new T(192,192,128),new T(224,144,96),new T(128,192,192),new T(192,112,112),new T(144,192,144),new T(128,96,64),new T(128,128,255),new T(192,96,192),new T(112,112,192),new T(128,
64,128),new T(96,144,224),new T(64,32,160),new T(32,96,128),new T(32,32,32)]);this.pa[a].L(0,new T(192,192,192),new T(209,209,209));this.pa[a+1]=new Ma(B.ho,new ua(new T(0,0,0),new T(0,0,0)),new ua(new T(0,0,0),new T(0,0,0)),new T(0,0,0),new T(0,0,0),new ua(new T(0,0,0),new T(0,0,0)),new ua(new T(0,0,0),new T(0,0,0)),new T(0,0,0),[new T(255,0,0),new T(0,255,0),new T(128,128,0),new T(16,16,255),new T(128,0,128),new T(0,128,128),new T(96,96,96),new T(255,255,0),new T(255,128,0),new T(128,255,0),new T(170,
170,0),new T(144,144,144),new T(170,85,85),new T(85,128,43),new T(128,128,64)]);this.jb=this.pa.length-1;this.Kd=new ua(new T(0,0,0),new T(0,0,0));this.Rc=new ua(new T(0,0,0),new T(0,0,0));this.Zd=new T(0,0,0);this.bf=new T(0,0,0);this.be=new ua(new T(0,0,0),new T(0,0,0));this.we=new ua(new T(0,0,0),new T(0,0,0));this.rf=new T(0,0,0);this.Be=[new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),
new T(0,0,0),new T(0,0,0),new T(0,0,0)];this.zd=new ua(new T(0,0,0),new T(0,0,0));this.Kc=new ua(new T(0,0,0),new T(0,0,0));this.Gd=new T(0,0,0);this.Oe=new T(0,0,0);this.Cd=new ua(new T(0,0,0),new T(0,0,0));this.ae=new ua(new T(0,0,0),new T(0,0,0));this.Xe=new T(0,0,0);this.ad=[new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0)]};ra.prototype.nm=function(a,
b,c){var d=this.pa[a],f;this.Xb=a;this.Kd.set(this.zd);this.Rc.set(this.Kc);this.Zd.set(this.Gd);this.bf.set(this.Oe);this.we.set(this.ae);this.be.set(this.Cd);this.rf.set(this.Xe);for(f=0;f<this.ad.length;f+=1)this.Be[f]=this.ad[f];this.zd.set(d.l);this.Kc.set(d.h);this.Gd.set(d.u);this.Oe.set(d.v);this.ae.set(d.i);this.Cd.set(d.m);this.Xe.set(d.D);for(f=0;f<this.ad.length;f+=1)this.ad[f]=d.B[f];this.re=b;this.nb=d.o;this.vc=d.s;this.Ua=a!==this.jb&&this.Z&&0!==d.A?2:d.A;this.Ac?(this.Dd=-16777216|
(this.nb&255)<<16|(this.nb>>8&255)<<8|this.nb>>16,this.Td=-16777216|(this.vc&255)<<16|(this.vc>>8&255)<<8|this.vc>>16):(this.Dd=this.nb>>16<<24|(this.nb>>8&255)<<16|(this.nb&255)<<8|255,this.Td=this.vc>>16<<24|(this.vc>>8&255)<<16|(this.vc&255)<<8|255);this.I&&(a===this.jb?this.th(c.Qe,c.L):this.th(c.Qe,null));c.yx()};ra.prototype.rh=function(){this.Vb?this.im():this.jm()};ra.prototype.im=function(){var a=this.Pe,b;for(b=0;512>b;b+=1){var c=b&128;var d=b&256;var f=b&127;var e=0;0!==c&&(e=(f+1&127)+
64<<8);0!==d&&(e|=(f&127)+64);a[b]=e}};ra.prototype.jm=function(){var a=this.Pe,b=this.$f,c=this.Ya,d=this.Hh,f=this.me,e,g=new Uint8Array(256);g[0]=0;g[b+1]=c;for(e=1;e<b+1;e+=1)g[e]=Math.min(Math.max(e-1,d),f),g[e+b+1]=Math.max(Math.min(e+1,b),c);if(0===this.u)for(e=c;e<=b;e+=1)g[e]=0;else this.u<f&&(g[f-this.u]=1);for(e=0;65536>e;e+=1)a[e]=g[e>>8]<<8|g[e&255]};ra.prototype.Zm=function(){var a;for(a=0;a<this.pa.length;a+=1){var b=this.pa[a];if(b.I)if(2>=this.h)b.m.i.set(b.v);else{var c=1/(this.h-
2);b.m.i.h=b.m.h.h*c+b.v.h*(1-c)|0;b.m.i.l=b.m.h.l*c+b.v.l*(1-c)|0;b.m.i.i=b.m.h.i*c+b.v.i*(1-c)|0}}};ra.prototype.sh=function(){var a;var b=(this.re-1)/this.se;if(!this.ha)if(this.B)for(a=0;a<I.Jp.length;a+=1){if(this.la[a+this.u]=I.Jp[a][0],this.ka[a+this.u]=I.Jp[a][1],this.ja[a+this.u]=I.Jp[a][2],this.Zb&&this.Zb.length>=a){var c=this.Zb[a];-1!==c&&(this.la[a+this.u]=c>>16,this.ka[a+this.u]=c>>8&255,this.ja[a+this.u]=c&255)}}else if(this.m)for(a=0;a<I.Kp.length;a+=1)this.la[a+this.u]=I.Kp[a][0],
this.ka[a+this.u]=I.Kp[a][1],this.ja[a+this.u]=I.Kp[a][2],this.Zb&&this.Zb.length>=a&&(c=this.Zb[a],-1!==c&&(this.la[a+this.u]=c>>16,this.ka[a+this.u]=c>>8&255,this.ja[a+this.u]=c&255));else if(2<this.h||this.o){a=0;this.o?(this.la[a]=this.Qc[a]>>16,this.ka[a]=this.Qc[a]>>8&255,this.ja[a]=this.Qc[a]&255):(this.la[a]=Math.round(this.rf.h*b+this.Xe.h*(1-b)),this.ka[a]=Math.round(this.rf.l*b+this.Xe.l*(1-b)),this.ja[a]=Math.round(this.rf.i*b+this.Xe.i*(1-b)));for(a=1;a<this.h-1;a+=1){c=3>=this.h?0:(a-
1)/(this.h-3);if(this.l)this.la[a+this.u]=Math.round(this.Be[a-1].h*b+this.ad[a-1].h*(1-b)),this.ka[a+this.u]=Math.round(this.Be[a-1].l*b+this.ad[a-1].l*(1-b)),this.ja[a+this.u]=Math.round(this.Be[a-1].i*b+this.ad[a-1].i*(1-b));else if(this.o)this.la[a]=this.Qc[a]>>16,this.ka[a]=this.Qc[a]>>8&255,this.ja[a]=this.Qc[a]&255;else{var d=Math.round(this.be.i.h*c+this.be.h.h*(1-c));var f=Math.round(this.Cd.i.h*c+this.Cd.h.h*(1-c));this.la[a+this.u]=Math.round(d*b+f*(1-b));d=Math.round(this.be.i.l*c+this.be.h.l*
(1-c));f=Math.round(this.Cd.i.l*c+this.Cd.h.l*(1-c));this.ka[a+this.u]=Math.round(d*b+f*(1-b));d=Math.round(this.be.i.i*c+this.be.h.i*(1-c));f=Math.round(this.Cd.i.i*c+this.Cd.h.i*(1-c));this.ja[a+this.u]=Math.round(d*b+f*(1-b))}this.Zb&&this.Zb.length>a&&this.Xb===this.jb&&(c=this.l||this.o?this.Zb[a]:this.Zb[this.h-a],-1!==c&&(this.la[a+this.u]=c>>16,this.ka[a+this.u]=c>>8&255,this.ja[a+this.u]=c&255))}a=this.h-1;this.l?(this.la[a+this.u]=Math.round(this.Be[a-1].h*b+this.ad[a-1].h*(1-b)),this.ka[a+
this.u]=Math.round(this.Be[a-1].l*b+this.ad[a-1].l*(1-b)),this.ja[a+this.u]=Math.round(this.Be[a-1].i*b+this.ad[a-1].i*(1-b))):this.o?(this.la[a]=this.Qc[a]>>16,this.ka[a]=this.Qc[a]>>8&255,this.ja[a]=this.Qc[a]&255):(this.la[a+this.u]=Math.round(this.bf.h*b+this.Oe.h*(1-b)),this.ka[a+this.u]=Math.round(this.bf.l*b+this.Oe.l*(1-b)),this.ja[a+this.u]=Math.round(this.bf.i*b+this.Oe.i*(1-b)));this.Zb&&this.Zb.length>a&&this.Xb===this.jb&&(c=this.l||this.o?this.Zb[a]:this.Zb[this.h-a],-1!==c&&(this.la[a+
this.u]=c>>16,this.ka[a+this.u]=c>>8&255,this.ja[a+this.u]=c&255));for(a=0;a<this.u;a+=1)c=1<this.u?1-a/(this.u-1):1,d=Math.round(this.we.h.h*c+this.we.i.h*(1-c)),f=Math.round(this.ae.h.h*c+this.ae.i.h*(1-c)),this.la[a+1]=Math.round(d*b+f*(1-b)),d=Math.round(this.we.h.l*c+this.we.i.l*(1-c)),f=Math.round(this.ae.h.l*c+this.ae.i.l*(1-c)),this.ka[a+1]=Math.round(d*b+f*(1-b)),d=Math.round(this.we.h.i*c+this.we.i.i*(1-c)),f=Math.round(this.ae.h.i*c+this.ae.i.i*(1-c)),this.ja[a+1]=Math.round(d*b+f*(1-b));
this.Zb&&0<this.Zb.length&&this.Xb===this.jb&&(c=this.Zb[0],-1!==c&&(this.la[0]=c>>16,this.ka[0]=c>>8&255,this.ja[0]=c&255))}else{a=0;this.la[a]=Math.round(this.Zd.h*b+this.Gd.h*(1-b));this.ka[a]=Math.round(this.Zd.l*b+this.Gd.l*(1-b));this.ja[a]=Math.round(this.Zd.i*b+this.Gd.i*(1-b));if(0===this.u)for(a=1;a<=this.me;a+=1)this.la[a]=Math.round(this.Zd.h*b+this.Gd.h*(1-b)),this.ka[a]=Math.round(this.Zd.l*b+this.Gd.l*(1-b)),this.ja[a]=Math.round(this.Zd.i*b+this.Gd.i*(1-b));else{var e=this.me-this.u+
1;for(a=1;a<e;a+=1)this.la[a]=Math.round(this.Rc.h.h*b+this.Kc.h.h*(1-b)),this.ka[a]=Math.round(this.Rc.h.l*b+this.Kc.h.l*(1-b)),this.ja[a]=Math.round(this.Rc.h.i*b+this.Kc.h.i*(1-b));for(a=e;a<=this.me;a+=1)c=this.me===e?1:1-(a-e)/(this.me-e),d=Math.round(this.Rc.h.h*c+this.Rc.i.h*(1-c)),f=Math.round(this.Kc.h.h*c+this.Kc.i.h*(1-c)),this.la[a]=Math.round(d*b+f*(1-b)),d=Math.round(this.Rc.h.l*c+this.Rc.i.l*(1-c)),f=Math.round(this.Kc.h.l*c+this.Kc.i.l*(1-c)),this.ka[a]=Math.round(d*b+f*(1-b)),d=Math.round(this.Rc.h.i*
c+this.Rc.i.i*(1-c)),f=Math.round(this.Kc.h.i*c+this.Kc.i.i*(1-c)),this.ja[a]=Math.round(d*b+f*(1-b))}for(a=this.Ya;a<=this.$f;a+=1)c=0===this.jg?1:a<this.Ya+this.jg?1-(a-this.Ya)/this.jg:0,d=Math.round(this.Kd.h.h*c+this.Kd.i.h*(1-c)),f=Math.round(this.zd.h.h*c+this.zd.i.h*(1-c)),this.la[a]=Math.round(d*b+f*(1-b)),d=Math.round(this.Kd.h.l*c+this.Kd.i.l*(1-c)),f=Math.round(this.zd.h.l*c+this.zd.i.l*(1-c)),this.ka[a]=Math.round(d*b+f*(1-b)),d=Math.round(this.Kd.h.i*c+this.Kd.i.i*(1-c)),f=Math.round(this.zd.h.i*
c+this.zd.i.i*(1-c)),this.ja[a]=Math.round(d*b+f*(1-b))}};ra.prototype.Yi=function(a,b){var c=this.la,d=this.ka,f=this.ja,e;for(e=0;e<a.length;e+=1){var g=b&&-1!==b[e]?b[e]:a[e];c[e]=g>>16;d[e]=g>>8&255;f[e]=g&255}this.re=0};ra.prototype.th=function(a,b){var c=this.la,d=this.ka,f=this.ja,e=H.Cb,g;for(g=0;g<a.length;g+=1)b&&-1!==b[g]?(c[128+e[g]]=b[g]>>16,d[128+e[g]]=b[g]>>8&255,f[128+e[g]]=b[g]&255):(c[128+e[g]]=a[g]>>16,d[128+e[g]]=a[g]>>8&255,f[128+e[g]]=a[g]&255)};ra.prototype.mb=function(a){this.fb.fill(4294967295);
this.Vb?this.pk(a):this.nk(a)};ra.prototype.pk=function(a){var b=this.fb,c,d=255,f=15,e=15,g=0,k=0,l=[[0,1,0],[-1,0,0],[0,0,1],[0,-1,0],[1,0,0],[0,0,-1]],p=this.la,n=this.ka,q=this.ja,m=this.ef,r=this.ia&&!this.ua||this.W&&!this.ua,u=this.nb,t=this.vc;for(c=1;240>=c;c+=1)b[c]=this.Ac?-16777216|e*a<<16|f*a<<8|d*a:d*a<<24|f*a<<16|e*a<<8|255,d+=6*l[k][0],f+=6*l[k][1],e+=6*l[k][2],g+=1,40===g&&(g=0,k+=1);for(c=0;128>c;c+=1)g=240*(c+1)/128|0,b[c]=b[g];for(c=127;0<=c;--c)b[c+64]=b[c],r&&(this.Ac?(d=b[c]&
255,f=b[c]>>8&255,e=b[c]>>16&255):(d=b[c]>>24,f=b[c]>>16&255,e=b[c]>>8&255),m[c+64]="#"+(16777216+((d<<16)+(f<<8)+e)).toString(16).substring(1));b[0]=this.Ac?-16777216|q[0]*a<<16|n[0]*a<<8|p[0]*a:p[0]*a<<24|n[0]*a<<16|q[0]*a<<8|255;this.Ac?(this.Dd=-16777216|(u&255)<<16|(u>>8&255)<<8|u>>16,this.Td=-16777216|(t&255)<<16|(t>>8&255)<<8|t>>16):(this.Dd=u>>16<<24|(u>>8&255)<<16|(u&255)<<8|255,this.Td=t>>16<<24|(t>>8&255)<<16|(t&255)<<8|255);-1!==this.D&&(c=this.pc,b[c]=this.Ac?-16777216|q[c]*a<<16|n[c]*
a<<8|p[c]*a:p[c]*a<<24|n[c]*a<<16|q[c]*a<<8|255,r&&(m[c]="#"+(16777216+((p[c]<<16)+(n[c]<<8)+q[c])).toString(16).substring(1)));m[256]=this.sg};ra.prototype.nk=function(a){var b=this.la,c=this.ka,d=this.ja,f=this.fb,e=this.nb,g=this.vc,k=this.ef,l=this.ia&&!this.ua||this.W&&!this.ua,p=0;if(2<this.h)if(this.Ac){f[0]=-16777216|d[0]<<16|c[0]<<8|b[0];l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));if(this.m||this.B||this.Ia||this.l)p=1;else{for(p=1;p<=this.u;p+=1)f[p]=-16777216|
d[p]<<16|c[p]<<8|b[p],l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));p=this.u+1}for(;p<=this.h+this.u;p+=1)f[p]=-16777216|d[p]*a<<16|c[p]*a<<8|b[p]*a,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1))}else if(f[0]=b[0]<<24|c[p]<<16|d[p]<<8|255,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1)),this.m||this.B||this.Ia||this.l)for(p=1;p<=this.h+this.u;p+=1)f[p]=b[p]*a<<24|c[p]*a<<16|d[p]*a<<8|255,l&&(k[p]="#"+(16777216+
((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));else for(p=1;p<=this.u;p+=1)for(f[p]=b[p]<<24|c[p]<<16|d[p]<<8|255,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1)),p=this.u+1;p<=this.h+this.u;p+=1)f[p]=b[p]*a<<24|c[p]*a<<16|d[p]*a<<8|255,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));else if(this.o)this.Ac?(f[0]=-16777216|d[0]<<16|c[0]<<8|b[0],f[1]=-16777216|d[1]*a<<16|c[1]*a<<8|b[1]*a):(f[0]=b[0]<<24|c[0]<<16|d[0]<<8|255,f[1]=
b[1]*a<<24|c[1]*a<<16|d[1]*a<<8|255);else if(this.Ac){for(p=0;p<this.Ya;p+=1)f[p]=-16777216|d[p]<<16|c[p]<<8|b[p],l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));for(p=this.Ya;p<=this.$f;p+=1)f[p]=-16777216|d[p]*a<<16|c[p]*a<<8|b[p]*a,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));for(p=this.$f+1;256>p;p+=1)f[p]=-16777216|d[p]*a<<16|c[p]*a<<8|b[p]*a,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1))}else{for(p=
0;p<this.Ya;p+=1)f[p]=b[p]<<24|c[p]<<16|d[p]<<8|255,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));for(p=this.Ya;p<=this.$f;p+=1)f[p]=b[p]*a<<24|c[p]*a<<16|d[p]*a<<8|255,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));for(p=this.$f+1;256>p;p+=1)f[p]=b[p]*a<<24|c[p]*a<<16|d[p]*a<<8|255,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1))}this.Ac?(this.Dd=-16777216|(e&255)<<16|(e>>8&255)<<8|e>>16,this.Td=-16777216|
(g&255)<<16|(g>>8&255)<<8|g>>16):(this.Dd=e>>16<<24|(e>>8&255)<<16|(e&255)<<8|255,this.Td=g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255);-1!==this.D&&(p=this.pc,f[p]=this.Ac?-16777216|d[p]*a<<16|c[p]*a<<8|b[p]*a:b[p]*a<<24|c[p]*a<<16|d[p]*a<<8|255,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1)),this.m||this.B)&&(f[31]=f[p]);k[256]=this.sg};ra.prototype.vo=function(){var a=this.la,b=this.ka,c=this.ja;this.pc=-1!==this.D&&256===this.h+this.u?2:255;-1!==this.D&&256>this.h+this.u&&
(this.Ac?(a[this.pc]=this.fe&255,b[this.pc]=this.fe>>8&255,c[this.pc]=this.fe>>16&255):(a[this.pc]=this.fe>>24,b[this.pc]=this.fe>>16&255,c[this.pc]=this.fe>>8&255))};ra.prototype.qh=function(){var a=this.Gc,b=this.i,c=this.X,d=this.Fa,f=this.Ba,e=this.Xa,g=this.L,k=this.ra,l=this.v,p=this.V;this.grid.ba.fill(0);a.ba.fill(0);b.ba.fill(0);c&&c.ba.fill(0);d.ba.fill(0);f&&(f.ba.fill(0),e.ba.fill(0));g.ba.fill(0);p.ba.fill(0);k.ba.fill(0);l.ba.fill(0)};ra.prototype.uh=function(a,b){var c=I.Cy,d;for(d=
0;d<c;d+=1)a[d]=b[d]};ra.prototype.Sg=function(a,b){var c=I.Yp,d;for(d=0;d<c;d+=1){var f=b[d>>9&448|d>>6&56|d>>3&7]<<3;f|=b[d>>8&448|d>>5&56|d>>2&7]<<2;f|=b[d>>7&448|d>>4&56|d>>1&7]<<1;f|=b[d>>6&448|d>>3&56|d&7];a[d]=f}};ra.prototype.yf=function(a,b,c){if(c){var d=new Uint8Array(16);for(c=0;16>c;c+=1){var f=b[c];d[f]=c}for(c=0;c<I.ul;c+=1)f=(d[c>>12]&1)<<2,f|=(d[c>>8&15]&2)<<2,f|=(d[c>>4&15]&4)>>2,f|=(d[c&15]&8)>>2,a[c]=f}else for(c=0;c<I.ul;c+=1)f=(c>>12&1)<<2,f|=(c>>8&2)<<2,f|=(c>>4&4)>>2,f|=(c&
8)>>2,a[c]=b[f]};ra.prototype.ve=function(a,b){var c,d,f,e;for(c=0;c<I.Wj;c+=1){var g=c>>8;var k=c&255;var l=192;var p=6;for(d=e=f=0;4>d;d+=1){var n=0===p?(k&l)<<2|g&l:(k&l)>>p-2|(g&l)>>p;n=(n&8)>>1|(n&4)<<1|(n&2)>>1|(n&1)<<1;n=b[n];n=(n&8)>>1|(n&4)<<1|(n&2)>>1|(n&1)<<1;f<<=2;e<<=2;f|=n>>2&3;e|=n&3;l>>=2;p-=2}a[c]=e<<8|f}};ra.prototype.ed=function(a,b){var c,d=0,f=!0,e=new Uint8Array(16);for(c=0;f&&16>c;){var g=1<<a[c];0!==(d&g)?f=!1:(d|=g,c+=1)}if(f){for(c=0;16>c;c+=1)d=a[c],e[d]=c;if(b)for(c=0;c<
e.length;c+=1)a[c]=e[c]}return f};ra.prototype.Zi=function(a,b){var c;for(c=0;16>c;c+=1)b[c]=a[15-c];for(c=0;16>c;c+=1)a[c]=15-a[c]};ra.prototype.rk=function(){var a=this.h,b,c=this.xd,d=this.Pb,f=this.wd,e,g;var k=a*a;var l=k*a;var p=l*a;var n=p*a;for(b=0;1<<b<a;)b+=1;switch(this.Pc){case Aa.wg:var q=9*b;break;default:q=I.Jl+1}if(q<=I.Jl){if(null===this.Ga&&(this.Ga=this.N.h(pa.Ma,1<<q,"Life.ruleTreeLookup"),this.Yd=b),this.Pc===Aa.wg){var m=b;var r=m+b;var u=r+b;var t=u+b;var w=t+b;var y=w+b;q=
y+b;var v=c[0];var D=c[1];var F=c[2];var E=c[3];var O=c[4];var Q=c[5];var N=c[6];var U=c[7];c=c[8];var S=this.hb/p|0;c=c[S];p=this.hb%p/l|0;F=F[p];l=this.hb%l/k|0;N=N[l];k=this.hb%k/a|0;y=S<<0|p<<y|l<<r|k<<q+b;b=O[k];O=this.hb%a;u=y|O<<u;l=D[O];for(y=0;y<a;y+=1)for(k=u|y<<m,p=U[y],D=0;D<a;D+=1){S=k|D<<q;var G=E[D];for(r=0;r<a;r+=1){var L=Q[r];var P=S|r<<w;for(O=0;O<a;O+=1){var fa=v[O];var ha=O;for(g=0;g<f;g+=1)if(e=fa[g]&l[g])if(e&=F[g]&G[g])if(e&=b[g]&L[g])if(e&=N[g]&p[g]&c[g]){ha=0;for(fa=1;!(e&
fa);)ha+=1,fa<<=1;ha=d[(g<<5)+ha];break}this.Ga[P+(O<<t)]=ha}}}this.hb+=1;this.hb===n&&(this.hb=-1)}}else this.Ga=null};ra.prototype.qk=function(){var a=this.h,b,c,d,f,e,g,k,l,p;var n=this.xd;var q=this.Pb,m=this.wd,r,u;for(b=0;1<<b<a;)b+=1;switch(this.Pc){case Aa.Ai:var t=5*b;break;case Aa.vg:t=7*b;break;case Aa.wg:t=9*b;break;case Aa.yj:t=3*b;break;default:t=I.Jl+1}if(t<=I.Jl)switch(this.Ga=this.N.h(pa.Ma,1<<t,"Life.ruleTreeLookup"),this.Yd=b,this.Pc){case Aa.Ai:var w=0;var y=w+b;var v=y+b;var D=
v+b;var F=D+b;b=n[0];var E=n[1];var O=n[2];var Q=n[3];var N=n[4];for(g=0;g<a;g+=1){var U=N[g];for(f=0;f<a;f+=1){var S=O[f];for(c=0;c<a;c+=1){var G=E[c];for(l=0;l<a;l+=1){var L=Q[l];var P=g<<F|f<<v|c<<y|l<<w;for(e=0;e<a;e+=1){var fa=b[e];var ha=e;for(u=0;u<m;u+=1)if(r=fa[u]&G[u])if(r&=S[u]&L[u]&U[u]){ha=0;for(fa=1;!(r&fa);)ha+=1,fa<<=1;ha=q[(u<<5)+ha];break}this.Ga[P+(e<<D)]=ha}}}}}break;case Aa.wg:t=0;F=t+b;var ja=F+b;y=ja+b;D=y+b;w=D+b;var ca=w+b;v=ca+b;var Z=v+b;b=n[0];E=n[1];O=n[2];Q=n[3];N=n[4];
var la=n[5];var da=n[6];var na=n[7];var X=n[8];for(n=0;n<a;n+=1){var ma=n<<t;var aa=X[n];for(d=0;d<a;d+=1){var Y=ma|d<<ca;var V=O[d];for(p=0;p<a;p+=1){var oa=Y|p<<ja;var R=da[p];for(k=0;k<a;k+=1){var C=oa|k<<Z;var z=N[k];for(c=0;c<a;c+=1){var K=C|c<<y;G=E[c];for(g=0;g<a;g+=1){var M=K|g<<F;U=na[g];for(f=0;f<a;f+=1){var J=M|f<<v;S=Q[f];for(l=0;l<a;l+=1)for(L=la[l],P=J|l<<w,e=0;e<a;e+=1){fa=b[e];ha=e;for(u=0;u<m;u+=1)if(r=fa[u]&G[u])if(r&=V[u]&S[u])if(r&=z[u]&L[u])if(r&=R[u]&U[u]&aa[u]){ha=0;for(fa=
1;!(r&fa);)ha+=1,fa<<=1;ha=q[(u<<5)+ha];break}this.Ga[P+(e<<D)]=ha}}}}}}}}break;case Aa.vg:D=0;w=D+b;v=w+b;F=v+b;y=F+b;Z=y+b;t=Z+b;b=n[0];E=n[1];O=n[2];Q=n[3];N=n[4];la=n[5];da=n[6];for(n=0;n<a;n+=1)for(ma=n<<t,aa=da[n],k=0;k<a;k+=1)for(C=ma|k<<Z,z=Q[k],c=0;c<a;c+=1)for(K=C|c<<y,G=E[c],g=0;g<a;g+=1)for(M=K|g<<F,U=la[g],f=0;f<a;f+=1)for(J=M|f<<v,S=O[f],l=0;l<a;l+=1)for(P=J|l<<w,L=N[l],e=0;e<a;e+=1){fa=b[e];ha=e;for(u=0;u<m;u+=1)if(r=fa[u]&G[u])if(r&=S[u]&z[u])if(r&=L[u]&U[u]&aa[u]){ha=0;for(fa=1;!(r&
fa);)ha+=1,fa<<=1;ha=q[(u<<5)+ha];break}this.Ga[P+(e<<D)]=ha}break;case Aa.yj:v=0;D=v+b;F=D+b;b=n[0];E=n[1];O=n[2];for(g=0;g<a;g+=1)for(U=E[g],f=0;f<a;f+=1)for(S=O[f],P=g<<F|f<<v,e=0;e<a;e+=1){fa=b[e];ha=e;for(u=0;u<m;u+=1)if(r=fa[u]&U[u]&S[u]){ha=0;for(fa=1;!(r&fa);)ha+=1,fa<<=1;ha=q[(u<<5)+ha];break}this.Ga[P+(e<<D)]=ha}break;default:this.Ga=null}else this.Ga=null};ra.prototype.sk=function(){var a=this.nh,b,c,d,f,e,g,k,l,p,n=this.Jf,q=this.Le;var m=this.Ne;this.Ee=null;for(b=0;1<<b<a;)b+=1;var r=
(this.yd+1)*b;if(r<=I.Jl)if(this.Ga=this.N.h(pa.Ma,1<<r,"Life.ruleTreeLookup"),this.Yd=b,4===this.yd){var u=0;var t=u+b;var w=t+b;var y=w+b;var v=y+b;for(g=0;g<a;g+=1)for(f=0;f<a;f+=1)for(c=0;c<a;c+=1)for(l=0;l<a;l+=1){var D=q[q[q[q[n+c]+g]+f]+l];var F=c<<t|f<<w|g<<v|l<<u;for(e=0;e<a;e+=1)this.Ga[F+(e<<y)]=m[D+e]}}else if(8===this.yd){r=0;v=r+b;var E=v+b;t=E+b;y=t+b;u=y+b;var O=u+b;w=O+b;var Q=w+b;for(b=0;b<a;b+=1){var N=b<<r;var U=q[n+b];for(d=0;d<a;d+=1){var S=N|d<<O;var G=q[U+d];for(p=0;p<a;p+=
1){var L=S|p<<E;var P=q[G+p];for(k=0;k<a;k+=1){f=L|k<<Q;var fa=q[P+k];for(c=0;c<a;c+=1){var ha=q[fa+c];for(g=0;g<a;g+=1){var ja=q[ha+g];for(f=0;f<a;f+=1){var ca=q[ja+f];for(l=0;l<a;l+=1)for(D=q[ca+l],e=0;e<a;e+=1)F=b<<r|g<<v|p<<E|c<<t|e<<y|l<<u|d<<O|f<<w|k<<Q,this.Ga[F]=m[D+e]}}}}}}}}else this.Ga=null;else if(this.Ga=null,8===this.yd&&r<=I.Zy)for(this.Ee=this.N.h(pa.hc,16777216,"Life.ruleTreePartialLookup"),this.Yd=24,v=0,t=v+b,Q=t+b,E=Q+b,O=E+b,r=O+b,b=0;b<a;b+=1)for(N=b<<r,U=q[n+b],d=0;d<a;d+=1)for(S=
N|d<<O,G=q[U+d],p=0;p<a;p+=1)for(L=S|p<<E,P=q[G+p],k=0;k<a;k+=1)for(f=L|k<<Q,fa=q[P+k],c=0;c<a;c+=1)for(m=f|c<<t,ha=q[fa+c],g=0;g<a;g+=1)w=m|g<<v,ja=q[ha+g],this.Ee[w]=ja};ra.prototype.yk=function(){this.Yb&&(this.Ve=performance.now(),null===this.Pb?this.sk():this.qk(),this.Ve=performance.now()-this.Ve)};ra.prototype.nf=function(){var a=!1,b;if(this.o){if(null===this.Pb){var c=this.nh;for(b=0;1<<b<c;)b+=1;c=(this.yd+1)*b}else{c=this.h;for(b=0;1<<b<c;)b+=1;switch(this.Pc){case Aa.Ai:c=5*b;break;case Aa.wg:c=
9*b;break;case Aa.vg:c=7*b;break;default:c=I.Jl+1}}c<=I.Jl?a=!0:c<=I.Zy&&null===this.Pb&&8===this.yd&&(a=!0)}return a};ra.prototype.Fm=function(a){var b=this.W?this.U.Kb:this.U.o,c=this.W?this.U.Jb:this.U.sa,d=this.U.ca,f=this.W?I.Cy:I.MD,e=!1,g=null,k=b.length;this.eb=d;if(this.o)this.Ga=null,this.hb=-1;else if(this.eb&&this.Ia){var l=0;var p=!0;for(k=this.R.B.length;l<k&&p;)this.R.B[l]!==this.R.$[l]?p=!1:l+=1;if(p){l=0;for(k=this.R.v.length;l<k&&p;)this.R.v[l]!==this.R.ca[l]?p=!1:l+=1;p&&(this.eb=
!1,l=a.O.indexOf("|"),-1!==l&&(a.O=a.O.substring(0,l)),l=a.xa.indexOf("|"),-1!==l&&(a.xa=a.xa.substring(0,l)))}}else{if(this.eb){if(this.Z||this.l)k=16;l=0;for(p=!0;l<k&&p;)b[l]!==c[l]?p=!1:l+=1;p&&(this.eb=!1,l=a.O.indexOf("|"),-1!==l&&(a.O=a.O.substring(0,l)),l=a.xa.indexOf("|"),-1!==l&&(a.xa=a.xa.substring(0,l)));if(this.eb&&(this.Z||this.l))for(l=0;l<k;l+=1)a=b[l],b[l]=c[l],c[l]=a}this.Vd=this.bb=this.Re=this.Ud=this.eh=this.Qf=this.Bf=this.Pf=null;if(this.l)this.Ud=this.N.h(pa.Ca,I.ul,"Life.PCALookup1"),
d?(this.Re=this.N.h(pa.Ca,I.ul,"Life.PCALookup2"),this.yf(this.Re,b,!1),this.yf(this.Ud,c,!1),this.ed(b,!1)&&this.ed(c,!1)&&(this.bb=this.N.h(pa.Ca,I.ul,"Life.PCAReverseLookup1"),this.Vd=this.N.h(pa.Ca,I.ul,"Life.PCAReverseLookup2"),this.ed(c,!1),this.yf(this.bb,c,!0),this.ed(b,!1),this.yf(this.Vd,b,!0))):(this.yf(this.Ud,b,!1),this.ed(b,!1)&&(this.bb=this.N.h(pa.Ca,I.ul,"Life.PCAsReverseLookup1"),this.yf(this.bb,b,!0)));else if(this.Z){this.Ud=this.N.h(pa.Ca,I.Wj,"Life.margolusLookup1");if(15===
b[0]&&0===b[15]){d=this.eb=!0;g=new Uint8Array(16);for(l=0;16>l;l+=1)g[l]=b[l];this.Zi(b,c)}d?(this.Re=this.N.h(pa.Ca,I.Wj,"Life.margolusLookup2"),this.ve(this.Re,b),this.ve(this.Ud,c),g&&this.ed(g,!0)?(this.bb=this.N.h(pa.Ca,I.Wj,"Life.margolusReverseLookup1"),this.Vd=this.N.h(pa.Ca,I.Wj,"Life.margolusReverseLookup2"),this.Zi(g,c),this.ve(this.bb,c),this.ve(this.Vd,g)):this.ed(b,!1)&&this.ed(c,!1)&&(this.bb=this.N.h(pa.Ca,I.Wj,"Life.margolusReverseLookup1"),this.Vd=this.N.h(pa.Ca,I.Wj,"Life.margolusReverseLookup2"),
this.ed(b,!0),this.ve(this.bb,b),this.ed(c,!0),this.ve(this.Vd,c))):(this.ve(this.Ud,b),this.ed(b,!0)&&(this.bb=this.N.h(pa.Ca,I.Wj,"Life.margolusReverseLookup1"),this.ve(this.bb,b)))}else if(this.W)this.Qf=this.N.h(pa.Ma,I.By,"Life.indexLookupTri1"),d?(this.eh=this.N.h(pa.Ma,I.By,"Life.indexLookupTri2"),this.uh(this.eh,b),this.uh(this.Qf,c)):this.uh(this.Qf,b);else{this.Pf=this.N.h(pa.Ma,I.Yp,"Life.indexLookup63");if(-1===this.Jd&&b[0])if(b[f-1])for(l=0;l<f/2;l+=1)a=b[l],b[l]=1-b[f-l-1],b[f-l-1]=
1-a;else{for(l=0;l<f/2;l+=1)a=b[l],b[l]=b[f-l-1],b[f-l-1]=a;e=!0;this.Bf=this.N.h(pa.Ma,I.Yp,"Life.indexLookup632");this.Sg(this.Bf,b);if(this.B)for(c.set(b),l=0;l<f/2;l+=1)a=c[l],c[l]=1-c[f-l-1],c[f-l-1]=1-a;else for(l=0;l<f/2;l+=1)a=b[l],b[l]=1-b[f-l-1],b[f-l-1]=1-a}this.eb?(this.Bf=this.N.h(pa.Ma,I.Yp,"Life.indexLookup632"),this.Sg(this.Bf,b),this.Sg(this.Pf,c)):(this.Sg(this.Pf,b),e&&(this.eb=!0))}}};ra.prototype.ub=function(a){var b=0;0!==(a&32768)?b=0:0!==(a&16384)?b=1:0!==(a&8192)?b=2:0!==
(a&4096)?b=3:0!==(a&2048)?b=4:0!==(a&1024)?b=5:0!==(a&512)?b=6:0!==(a&256)?b=7:0!==(a&128)?b=8:0!==(a&64)?b=9:0!==(a&32)?b=10:0!==(a&16)?b=11:0!==(a&8)?b=12:0!==(a&4)?b=13:0!==(a&2)?b=14:0!==(a&1)&&(b=15);return b};ra.prototype.Eb=function(a){var b=0;0!==(a&1)?b=15:0!==(a&2)?b=14:0!==(a&4)?b=13:0!==(a&8)?b=12:0!==(a&16)?b=11:0!==(a&32)?b=10:0!==(a&64)?b=9:0!==(a&128)?b=8:0!==(a&256)?b=7:0!==(a&512)?b=6:0!==(a&1024)?b=5:0!==(a&2048)?b=4:0!==(a&4096)?b=3:0!==(a&8192)?b=2:0!==(a&16384)&&(b=1);return b};
ra.prototype.mk=function(a){var b=this.Ba,c=this.L,d=this.width,f=this.height,e,g=this.A.K,k=this.A.H,l=this.A.F,p=this.A.J,n,q;for(n=0;n<f;n+=1){var m=b[n];var r=c[n>>4];for(q=e=0;q<d;q+=1)0!==m[q]&&(r[q>>8]|=1<<(~(q>>4)&15),e|=m[q],q<l&&(l=q),q>p&&(p=q));e&&(n<k&&(k=n),n>g&&(g=n))}a||(this.A.K=g,this.A.H=k,this.A.F=l,this.A.J=p)};ra.prototype.rm=function(){var a,b,c,d=this.va,f=this.V,e=this.L,g,k=this.W?49152:32768,l=this.W?3:1,p=this.ca,n=this.Y>>4,q=this.La;var m=0;var r=m+16;e.ba.fill(0);for(b=
0;b<p;b+=1){var u=0;var t=f[b];var w=e[b];var y=0<b?e[b-1]:q;var v=b<p-1?e[b+1]:q;for(c=0;c<n;c+=1)if(g=t[c]){var D=w[c];var F=y[c];var E=v[c];for(a=15;0<=a;--a){if(0!==(g&1<<a)){var O=!1;var Q=0;var N=m;var U=d[N];if(U=U[u])O=!0,0!==(U&k)&&(Q|=I.pb,Q|=I.zb),0!==(U&l)&&(Q|=I.kb,Q|=I.Ab),Q|=I.xb;for(N+=1;N<r-1;){U=d[N];if(U=U[u])O=!0,0!==(U&k)&&(Q|=I.pb),0!==(U&l)&&(Q|=I.kb);N+=1}U=d[N];if(U=U[u])O=!0,0!==(U&k)&&(Q|=I.pb,Q|=I.Db),0!==(U&l)&&(Q|=I.kb,Q|=I.rb),Q|=I.sb;O&&(D|=1<<a,Q&&(0!==(Q&I.pb)&&(15>
a?D|=1<<a+1:0<c&&(w[c-1]|=1)),0!==(Q&I.kb)&&(0<a?D|=1<<a-1:c<n-1&&(w[c+1]|=32768)),0!==(Q&I.xb)&&(F|=1<<a),0!==(Q&I.sb)&&(E|=1<<a),0!==(Q&I.zb)&&(15>a?F|=1<<a+1:0<c&&(y[c-1]|=1)),0!==(Q&I.Ab)&&(0<a?F|=1<<a-1:c<n-1&&(y[c+1]|=32768)),0!==(Q&I.Db)&&(15>a?E|=1<<a+1:0<c&&(v[c-1]|=1)),0!==(Q&I.rb)&&(0<a?E|=1<<a-1:c<n-1&&(v[c+1]|=32768))))}u+=1}w[c]|=D;0<b&&(y[c]|=F);b<p-1&&(v[c]|=E)}else u+=16;m+=16;r+=16}q.fill(0)};ra.prototype.tm=function(){var a,b,c,d=this.va,f=this.V,e=this.i,g=this.L,k,l=this.ca,p=
this.Y>>4,n=this.La;var q=0;var m=q+16;g.ba.fill(0);for(b=0;b<l;b+=1){var r=0;var u=f[b];var t=g[b];var w=0<b?g[b-1]:n;var y=b<l-1?g[b+1]:n;for(c=0;c<p;c+=1)if(k=u[c]){var v=t[c];var D=w[c];var F=y[c];for(a=15;0<=a;--a){if(0!==(k&1<<a)){var E=!1;var O=0;var Q=q;var N=d[Q];var U=e[Q];N=N[r];var S=r<<4;0<U[S]&&(N|=32768);S+=1;0<U[S]&&(N|=16384);S+=1;0<U[S]&&(N|=8192);S+=1;0<U[S]&&(N|=4096);S+=1;0<U[S]&&(N|=2048);S+=1;0<U[S]&&(N|=1024);S+=1;0<U[S]&&(N|=512);S+=1;0<U[S]&&(N|=256);S+=1;0<U[S]&&(N|=128);
S+=1;0<U[S]&&(N|=64);S+=1;0<U[S]&&(N|=32);S+=1;0<U[S]&&(N|=16);S+=1;0<U[S]&&(N|=8);S+=1;0<U[S]&&(N|=4);S+=1;0<U[S]&&(N|=2);S+=1;0<U[S]&&(N|=1);N&&(E=!0,0!==(N&32768)&&(O|=I.pb,O|=I.zb),0!==(N&1)&&(O|=I.kb,O|=I.Ab),O|=I.xb);for(Q+=1;Q<m-1;)N=d[Q],U=e[Q],N=N[r],S=r<<4,0<U[S]&&(N|=32768),S+=1,0<U[S]&&(N|=16384),S+=1,0<U[S]&&(N|=8192),S+=1,0<U[S]&&(N|=4096),S+=1,0<U[S]&&(N|=2048),S+=1,0<U[S]&&(N|=1024),S+=1,0<U[S]&&(N|=512),S+=1,0<U[S]&&(N|=256),S+=1,0<U[S]&&(N|=128),S+=1,0<U[S]&&(N|=64),S+=1,0<U[S]&&
(N|=32),S+=1,0<U[S]&&(N|=16),S+=1,0<U[S]&&(N|=8),S+=1,0<U[S]&&(N|=4),S+=1,0<U[S]&&(N|=2),S+=1,0<U[S]&&(N|=1),N&&(E=!0,0!==(N&32768)&&(O|=I.pb),0!==(N&1)&&(O|=I.kb)),Q+=1;N=d[Q];U=e[Q];N=N[r];S=r<<4;0<U[S]&&(N|=32768);S+=1;0<U[S]&&(N|=16384);S+=1;0<U[S]&&(N|=8192);S+=1;0<U[S]&&(N|=4096);S+=1;0<U[S]&&(N|=2048);S+=1;0<U[S]&&(N|=1024);S+=1;0<U[S]&&(N|=512);S+=1;0<U[S]&&(N|=256);S+=1;0<U[S]&&(N|=128);S+=1;0<U[S]&&(N|=64);S+=1;0<U[S]&&(N|=32);S+=1;0<U[S]&&(N|=16);S+=1;0<U[S]&&(N|=8);S+=1;0<U[S]&&(N|=4);
S+=1;0<U[S]&&(N|=2);S+=1;0<U[S]&&(N|=1);N&&(E=!0,0!==(N&32768)&&(O|=I.pb,O|=I.Db),0!==(N&1)&&(O|=I.kb,O|=I.rb),O|=I.sb);E&&(v|=1<<a,O&&(0!==(O&I.pb)&&(15>a?v|=1<<a+1:0<c&&(t[c-1]|=1)),0!==(O&I.kb)&&(0<a?v|=1<<a-1:c<p-1&&(t[c+1]|=32768)),0!==(O&I.xb)&&(D|=1<<a),0!==(O&I.sb)&&(F|=1<<a),0!==(O&I.zb)&&(15>a?D|=1<<a+1:0<c&&(w[c-1]|=1)),0!==(O&I.Ab)&&(0<a?D|=1<<a-1:c<p-1&&(w[c+1]|=32768)),0!==(O&I.Db)&&(15>a?F|=1<<a+1:0<c&&(y[c-1]|=1)),0!==(O&I.rb)&&(0<a?F|=1<<a-1:c<p-1&&(y[c+1]|=32768))))}r+=1}t[c]|=v;
0<b&&(w[c]|=D);b<l-1&&(y[c]|=F)}else r+=16;q+=16;m+=16}n.fill(0)};ra.prototype.Pk=function(a){var b,c=this.u+1,d=this.height,f=this.width,e=this.i,g=this.height,k=-1,l=this.width,p=-1;var n=this.Z?-1:0;this.l&&0!==(this.counter&1)&&(e=this.X);if(-1===this.D){var q=0;var m=f-1;var r=0;var u=d-1}else 0===this.O?(q=0,m=f-1):(q=Math.round((this.width-this.O)/2)+n,m=q+this.O),0===this.M?(r=0,u=d-1):(r=Math.round((this.height-this.M)/2)+n,u=r+this.M);for(b=r;b<u;b+=1){var t=e[b];var w=!1;for(n=q;n<m;n+=
1){var y=t[n];y>=c&&255>=y&&(w=!0,n<l&&(l=n),n>p&&(p=n))}w&&(b<g&&(g=b),b>k&&(k=b))}if(0>k||g>=d||l>=f||0>p)g=k=u-r>>1,p=l=m-q>>1;k>d-1&&(k=d-1);0>g&&(g=0);0>l&&(l=0);p>f-1&&(p=f-1);a.K=k;a.H=g;a.F=l;a.J=p};ra.prototype.ec=function(){var a,b,c=this.width>>4,d=this.height,f=this.width,e=this.Ba,g=this.i,k=this.A,l=this.ya,p=this.mc,n=this.height,q=-1,m=this.width,r=-1,u=this.height,t=-1,w=this.width,y=-1,v,D=I.Hh,F=I.me,E=this.Ia?this.view.Ii()>>1:0,O=this.Ja;if(this.Wb){this.Wb=!1;(this.l||this.o||
this.m||this.B)&&0!==(this.counter&1)&&(g=this.X);var Q=0!==(this.counter&1)?this.Qa:this.va;-1!==this.D&&this.Mf(g,0);if(e)for(b=0;b<d;b+=1){var N=e[b];var U=g[b];for(a=v=0;a<f;a+=1){var S=N[a]||U[a]>=D&&U[a]<=F?1:0;v|=S;S&&(a<w&&(w=a),a>y&&(y=a))}v&&(b<u&&(u=b),b>t&&(t=b))}O.fill(0);if(-1!==this.h)for(b=0;b<d;b+=1){U=g[b];for(a=v=0;a<f;a+=1)S=U[a],v|=S,S&&(a<m&&(m=a),a>r&&(r=a));v&&(b<n&&(n=b),b>q&&(q=b))}else{for(b=0;b<d;b+=1){N=Q[b];for(a=v=0;a<c;a+=1)S=N[a],v|=S,O[a]|=S;v&&(b<n&&(n=b),b>q&&(q=
b))}for(a=0;a<c;a+=1)O[a]&&(a<m&&(m=a),a>r&&(r=a));m=(m<<4)+this.ub(O[m]);r=(r<<4)+this.Eb(O[r])}if(0>q||n>=d||m>=f||0>r)n=q=d>>1,r=m=f>>1;e&&(t>q&&(q=t),u<n&&(n=u),w<m&&(m=w),y>r&&(r=y));q>this.height-1-E&&(q=this.height-1-E);n<E&&(n=E);m<E&&(m=E);r>this.width-1-E&&(r=this.width-1-E);k.K=q;k.H=n;k.F=m;k.J=r;l.K=q;l.H=n;l.F=m;l.J=r;p.K=q;p.H=n;p.F=m;p.J=r}};ra.prototype.Gi=function(a){var b,c,d=this.width>>4,f=this.height,e=this.width,g=this.Ba;var k=this.i;var l=this.A,p=this.ya,n=this.mc,q=this.height,
m=-1,r=this.width,u=-1,t=this.height,w=-1,y=this.width,v=-1,D,F=this.Ja,E=this.ra,O=this.v;if(0!==(this.counter&1)){var Q=this.Qa;var N=this.V;var U=this.L}else Q=this.va,N=this.L,U=this.V;if(g&&!a)for(c=0;c<f;c+=1){var S=g[c];for(b=D=0;b<e;b+=1){var G=S[b];D|=G;G&&(b<y&&(y=b),b>v&&(v=b))}D&&(c<t&&(t=c),c>w&&(w=c))}F.fill(0);U.ba.fill(0);if(-1!==this.h)for(c=0;c<f;c+=1){d=k[c];for(b=D=0;b<e;b+=1)G=d[b],D|=G,G&&(b<r&&(r=b),b>u&&(u=b));D&&(c<q&&(q=c),c>m&&(m=c))}else{for(c=0;c<f;c+=1){k=Q[c];for(b=
D=0;b<d;b+=1)G=k[b],D|=G,F[b]|=G;D&&(c<q&&(q=c),c>m&&(m=c))}for(b=0;b<d;b+=1)F[b]&&(b<r&&(r=b),b>u&&(u=b));r=(r<<4)+this.ub(F[r]);u=(u<<4)+this.Eb(F[u])}if(0>m||q>=f||r>=e||0>u)q=m=f>>1,u=r=e>>1,w=m,t=q,y=r,v=u;g&&!a&&-1!==w&&(w<m&&(m=w),t>q&&(q=t),y<r&&(r=y),v>u&&(u=v));m>this.height-1&&(m=this.height-1);0>q&&(q=0);0>r&&(r=0);u>this.width-1&&(u=this.width-1);l.K=m;l.H=q;l.F=r;l.J=u;p.K=m;p.H=q;p.F=r;p.J=u;n.K=m;n.H=q;n.F=r;n.J=u;0<r&&--r;0<q&&--q;u<this.width-1&&(u+=1);m<this.height-1&&(m+=1);G=
m>>4;r>>=8;u>>=8;for(c=q>>4;c<=G;c+=1)for(q=U[c],b=r;b<=u;b+=1)q[b]=-1;-1!==this.h?this.tm():this.rm();g&&(this.mk(a),n.K=l.K,n.H=l.H,n.F=l.F,n.J=l.J);Array.uf(N,U);Array.uf(N,E);Array.uf(N,O)};ra.prototype.kl=function(){var a=Math.round((this.width-this.O)/2),b=Math.round((this.height-this.M)/2),c=a+this.O-1,d=b+this.M-1,f=this.Ba,e=!1,g;--a;c+=1;d+=1;--b;var k=f[d];var l=f[b];if(0===this.O)for(g=a;g<=c;g+=1)129===l[g]&&(e=!0,l[g]=0),129===k[g]&&(e=!0,k[g]=0);else if(0===this.M)for(b=0;b<this.height;b+=
1)129===f[b][a]&&(e=!0,f[b][a]=0),129===f[b][c]&&(e=!0,f[b][c]=0);else{for(g=a;g<=c;g+=1)129===l[g]&&(e=!0,l[g]=0),129===k[g]&&(e=!0,k[g]=0);for(b+=1;b<=d-1;b+=1)129===f[b][a]&&(e=!0,f[b][a]=0),129===f[b][c]&&(e=!0,f[b][c]=0)}e&&this.gb()};ra.prototype.Bl=function(){var a=Math.round((this.width-this.O)/2),b=Math.round((this.height-this.M)/2),c=a+this.O-1,d=b+this.M-1,f=a-16,e=b-16,g=c+16,k=d+16,l,p=this.i;0!==(this.counter&1)&&(p=this.X);0>f&&(f=0);g>=this.width&&(g=this.width-1);0>e&&(e=0);e>=this.height&&
(e=this.height-1);for(l=e;l<=k;l+=1){var n=p[l];if(l<b||l>d)for(e=f;e<=g;e+=1)0!==n[e]&&(n[e]=0);else for(e=f;e<=g;e+=1)(e<a||e>c)&&0!==n[e]&&(n[e]=0)}this.L.ba.fill(0);this.V.ba.fill(0);this.ra.ba.fill(0);this.v.ba.fill(0);this.Ig();this.s=0;for(l=b;l<=d;l+=1)for(n=p[l],e=a;e<=c;e+=1)0!==n[e]&&(this.s+=1)};ra.prototype.dl=function(a){var b=this.Z?-1:0,c=Math.round((this.width-this.O)/2)+b;b=Math.round((this.height-this.M)/2)+b;var d=c+this.O-1,f=b+this.M-1,e=d+a>>4;var g=c-a>>4;var k=d+a>>4;var l=
~(1<<(~(c-a)&15)),p=~(1<<(~(d+a)&15)),n,q=this.kc,m=0;if(!(this.l||this.o||this.B)){var r=0!==(this.counter&1)?this.Qa:this.va;var u=r[f+a];var t=r[b-a];if(0===this.O)for(e=this.width>>4,n=0;n<e;n+=1)m+=q[t[n]],t[n]=0,m+=q[u[n]],u[n]=0;else if(0===this.M)for(b=0,f=this.height,n=0;n<f;n+=1)e=r[n],e[g]&~l&&(m+=1),e[g]&=l,e[k]&~p&&(m+=1),e[k]&=p;else{for(n=c-a>>4;n<=e;n+=1)m+=q[t[n]],t[n]=0,m+=q[u[n]],u[n]=0;for(n=b-a+1;n<=f+a-1;n+=1)e=r[n],e[g]&~l&&(m+=1),e[g]&=l,e[k]&~p&&(m+=1),e[k]&=p}this.s-=m}if(-1!==
this.h){r=this.i;(this.l||this.o||this.m||this.B)&&0!==(this.counter&1)&&(r=this.X);c-=a;d+=a;f+=a;b-=a;g=r[f];k=r[b];if(0===this.O)for(n=0;n<this.width;n+=1)a=k[n],0!==a&&(k[n]=0,m+=1),a=g[n],0!==a&&(g[n]=0,m+=1);else if(0===this.M)for(n=0;n<this.height;n+=1)a=r[n][c],0!==a&&(r[n][c]=0,m+=1),a=r[n][d],0!==a&&(r[n][d]=0,m+=1);else{for(n=0;n<this.width;n+=1)a=k[n],0!==a&&(k[n]=0,m+=1),a=g[n],0!==a&&(g[n]=0,m+=1);for(n=b+1;n<=f-1;n+=1)a=r[n][c],0!==a&&(r[n][c]=0,m+=1),a=r[n][d],0!==a&&(r[n][d]=0,m+=
1)}if(this.o||this.B)this.s-=m}};ra.prototype.vh=function(a,b,c,d,f){if(!this.ko(b,c,d,f))for(this.Wf+=1,f=0;f<a.length;f+=1){var e=a[f];if(this.I)for(d=0;d<e.length;d+=1){if(1===e[d]){var g=this.Ta(b+d,c+f,!1);3===g||5===g?this.qd(b+d,c+f,4,!1):this.qd(b+d,c+f,0,!1);this.fa+=1}}else for(d=0;d<e.length;d+=1)1===e[d]&&(this.qd(b+d,c+f,0,!1),this.fa+=1)}};ra.prototype.Na=function(a,b,c,d,f,e,g,k){var l,p=0,n=0,q=d+d,m=f+f,r=q+d,u=m+f,t=r+d,w=u+f,y=this.i;var v=this.Ia?this.ya:this.A;var D=v.F;var F=
v.J;var E=v.H;var O=v.K,Q=this.Ya;b-=2;c-=2;var N=0;for(v=!0;v&&N<a.length;){var U=0;for(l=a[N];v&&U<l.length;){var S=l[U];var G=y[c+N][b+U];G<Q&&0===S||G>=Q&&1===S||(v=!1);U+=1}N+=1}if(v){U=b+3+d+d;N=c+3+f+f;D=0>d?D-1:F+1;E=0>f?E-1:O+1;for(v=!1;!v&&U!==D&&N!==E;)F=y[N],G=F[U],G&64&&(p=U,n=N,v=!0),G=y[N+f][U],G&64&&(p=U,n=N+f,v=!0),G=F[U+d],G&64&&(p=U+d,n=N,v=!0),G=y[N+m][U],G&64&&(p=U,n=N+m,v=!0),G=F[U+q],G&64&&(p=U+q,n=N,v=!0),G=y[N+u][U],G&64&&(p=U,n=N+u,v=!0),G=F[U+r],G&64&&(p=U+r,n=N,v=!0),G=
y[N+w][U],G&64&&(p=U,n=N+w,v=!0),G=F[U+t],G&64&&(p=U+t,n=N,v=!0),G=y[N+w+f][U],G&64&&(p=U,n=N+w+f,v=!0),G=F[U+t+d],G&64&&(p=U+t+d,n=N+f,v=!0),G=y[N+w+f][U],G&64&&(p=U,n=N+w+f,v=!0),G=F[U+t+d],G&64&&(p=U+t+d,n=N,v=!0),G=y[N+w+m][U],G&64&&(p=U,n=N+w+m,v=!0),G=F[U+t+q],G&64&&(p=U+t+q,n=N,v=!0),G=y[N+w+u][U],G&64&&(p=U,n=N+w+u,v=!0),G=F[U+t+r],G&64&&(p=U+t+r,n=N,v=!0),G=y[N-w][U],G&64&&(p=U,n=N-w,v=!0),G=F[U-t],G&64&&(p=U-t,n=N,v=!0),G=y[N-w-f][U],G&64&&(p=U,n=N-w-f,v=!0),G=F[U-t-d],G&64&&(p=U-t-d,n=
N,v=!0),G=y[N-w-m][U],G&64&&(p=U,n=N-w-m,v=!0),F=F[U-t-q],F&64&&(p=U-t-q,n=N,v=!0),U+=d,N+=f;this.Ce[this.Ce.length]={Ns:a,x:b,y:c,uG:p,zG:n,orientation:e,hy:v,offset:g,Bs:k}}return v};ra.prototype.ko=function(a,b,c,d){var f=!1,e=this.Ia?this.ya:this.A,g=e.F,k=e.J,l=e.H;e=e.K;var p=this.i,n=this.Ya;switch(c){case I.Lg:if(d===I.hi)for(b+=1,a+=1;b>=l&&!f;){if(p[b][a]>=n||p[b][a+1]>=n||p[b][a+2]>=n)f=!0;--b}else for(b+=5,a+=5;a<=k&&!f;){if(p[b][a]>=n||p[b-1][a]>=n||p[b-2][a]>=n)f=!0;a+=1}break;case I.Ng:if(d===
I.hi)for(b+=5,a+=1;b<=e&&!f;){if(p[b][a]>=n||p[b][a+1]>=n||p[b][a+2]>=n)f=!0;b+=1}else for(b+=1,a+=5;a<=k&&!f;){if(p[b][a]>=n||p[b+1][a]>=n||p[b+2][a]>=n)f=!0;a+=1}break;case I.Og:if(d===I.ii)for(b+=5,a+=5;b<=e&&!f;){if(p[b][a]>=n||p[b][a-1]>=n||p[b][a-2]>=n)f=!0;b+=1}else for(b+=1,a+=1;a>=g&&!f;){if(p[b][a]>=n||p[b+1][a]>=n||p[b+2][a]>=n)f=!0;--a}break;case I.Mg:if(d===I.ii)for(b+=1,a+=5;b>=l&&!f;){if(p[b][a]>=n||p[b][a-1]>=n||p[b][a-2]>=n)f=!0;--b}else for(b+=5,a+=1;a>=g&&!f;){if(p[b][a]>=n||p[b-
1][a]>=n||p[b-2][a]>=n)f=!0;--a}}return f};ra.prototype.kk=function(){var a,b=this.Ce.length,c;if(1<b)for(a=0;a<b;a+=1){var d=this.Ce[a];if(d.hy){var f=d.uG;var e=d.zG;var g=d.orientation;var k=0;for(c=!1;!c&&k<b;){if(k!==a){var l=this.Ce[k];var p=l.x+3;var n=l.y+3;f>=p-1&&f<=p+1&&e>=n-1&&e<=n+1&&l.orientation===g&&0===d.offset&&(this.vh(d.Ns,d.x,d.y,d.orientation,d.Bs),c=!0)}k+=1}}else{f=d.x+3;e=d.y+3;g=d.orientation;k=0;for(c=!1;!c&&k<b;){if(k!==a)switch(l=this.Ce[k],p=l.x+3,n=l.y+3,l=l.orientation,
g){case I.Mg:l===I.Lg&&e>=n-6&&e<=n+6&&f>=p&&(c=!0);l===I.Og&&f>=p-6&&f<=p+6&&e>=n&&(c=!0);break;case I.Lg:l===I.Mg&&e>=n-6&&e<=n+6&&f<=p&&(c=!0);l===I.Ng&&f>=p-6&&f<=p+6&&e>=n&&(c=!0);break;case I.Og:l===I.Ng&&e>=n-6&&e<=n+6&&f>=p&&(c=!0);l===I.Mg&&f>=p-6&&f<=p+6&&e<=n&&(c=!0);break;case I.Ng:l===I.Og&&e>=n-6&&e<=n+6&&f<=p&&(c=!0),l===I.Lg&&f>=p-6&&f<=p+6&&e<=n&&(c=!0)}k+=1}c||0!==d.offset||this.vh(d.Ns,d.x,d.y,d.orientation,d.Bs)}}else 1===b&&(d=this.Ce[0],d.hy||0!==d.offset||this.vh(d.Ns,d.x,d.y,
d.orientation,d.Bs))};ra.prototype.nl=function(){var a,b=this.Ia?this.ya:this.A;var c=b.F;var d=b.J;var f=b.H;var e=b.K,g=this.i,k=this.Ya;if(!(-1!==this.D||this.Ia&&1<this.R.o)){this.Ce=[];64>c&&(c=64);d>this.width-64&&(d=this.width-64);64>f&&(f=64);for(e>this.height-64&&(e=this.height-64);c<=d;c+=1)for(a=0;6>=a;a+=1){f=b.H+a;e=g[f];e[c]>=k&&(this.Na(this.jh,c,f,-1,1,I.Mg,a,I.Uj)||this.Na(this.Eh,c-1,f,-1,1,I.Mg,a,I.Uj)||this.Na(this.Gh,c,f,-1,1,I.Mg,a,I.Uj)||this.Na(this.bi,c-1,f,-1,1,I.Mg,a,I.Uj)||
this.Na(this.Ah,c,f,1,1,I.Lg,a,I.Uj)||this.Na(this.Bh,c-1,f,1,1,I.Lg,a,I.Uj)||this.Na(this.Ch,c-1,f,1,1,I.Lg,a,I.Uj)||this.Na(this.Dh,c,f,1,1,I.Lg,a,I.Uj));e=b.K-a;var l=g[e];l[c]>=k&&(this.Na(this.ji,c,e-2,-1,-1,I.Og,a,I.Tj)||this.Na(this.ki,c-1,e-2,-1,-1,I.Og,a,I.Tj)||this.Na(this.li,c,e-2,-1,-1,I.Og,a,I.Tj)||this.Na(this.mi,c-1,e-2,-1,-1,I.Og,a,I.Tj)||this.Na(this.ci,c,e-2,1,-1,I.Ng,a,I.Tj)||this.Na(this.di,c-1,e-2,1,-1,I.Ng,a,I.Tj)||this.Na(this.ei,c-1,e-2,1,-1,I.Ng,a,I.Tj)||this.Na(this.gi,c,
e-2,1,-1,I.Ng,a,I.Tj))}for(;f<=e;f+=1)for(a=0;6>=a;a+=1)l=g[f],c=b.F+a,l[c]>=k&&(this.Na(this.jh,c,f,1,-1,I.Mg,a,I.ii)||this.Na(this.Eh,c,f-1,1,-1,I.Mg,a,I.ii)||this.Na(this.Gh,c,f,1,-1,I.Mg,a,I.ii)||this.Na(this.bi,c,f-1,1,-1,I.Mg,a,I.ii)||this.Na(this.ji,c,f-1,1,1,I.Og,a,I.ii)||this.Na(this.ki,c,f,1,1,I.Og,a,I.ii)||this.Na(this.li,c,f,1,1,I.Og,a,I.ii)||this.Na(this.mi,c,f-1,1,1,I.Og,a,I.ii)),d=b.J-a,l[d]>=k&&(this.Na(this.Ah,d-2,f,-1,-1,I.Lg,a,I.hi)||this.Na(this.Bh,d-2,f-1,-1,-1,I.Lg,a,I.hi)||
this.Na(this.Ch,d-2,f,-1,-1,I.Lg,a,I.hi)||this.Na(this.Dh,d-2,f-1,-1,-1,I.Lg,a,I.hi)||this.Na(this.ci,d-2,f-1,-1,1,I.Ng,a,I.hi)||this.Na(this.di,d-2,f,-1,1,I.Ng,a,I.hi)||this.Na(this.ei,d-2,f,-1,1,I.Ng,a,I.hi)||this.Na(this.gi,d-2,f-1,-1,1,I.Ng,a,I.hi));this.kk();this.ec()}};ra.prototype.Ig=function(){var a,b,c=this.Z?-1:0,d=this.O,f=this.M;for(b=0;1>=b;b+=1){var e=Math.round((this.width-d)/2-1)+c+b>>4;var g=Math.round((this.width+d)/2)+c-b>>4;var k=Math.round((this.height-f)/2-1+b)+c>>4;var l=Math.round((this.height+
f)/2)+c-b>>4;0===f&&(k=0,l=(this.height>>4)-1);0===d&&(e=0,g=(this.width>>4)-1);0>e&&(e=0);0>k&&(k=0);g>=this.width>>4&&(g=(this.width>>4)-1);l>=this.height>>4&&(l=(this.height>>4)-1);if(this.Me)for(;k<=l;k+=1){var p=this.L[k];var n=this.V[k];var q=this.ra[k];var m=this.v[k];for(a=e;a<=g;a+=1){var r=1<<(~a&15);p[a>>4]|=r;n[a>>4]|=r;q[a>>4]|=r;m[a>>4]|=r}}else{for(a=e;a<=g;a+=1)r=1<<(~a&15),this.L[k][a>>4]|=r,this.V[k][a>>4]|=r,this.ra[k][a>>4]|=r,this.v[k][a>>4]|=r,this.L[l][a>>4]|=r,this.V[l][a>>
4]|=r,this.ra[l][a>>4]|=r,this.v[l][a>>4]|=r;for(;k<=l;k+=1)r=1<<(~e&15),this.L[k][e>>4]|=r,this.V[k][e>>4]|=r,this.ra[k][e>>4]|=r,this.v[k][e>>4]|=r,r=1<<(~g&15),this.L[k][g>>4]|=r,this.V[k][g>>4]|=r,this.ra[k][g>>4]|=r,this.v[k][g>>4]|=r}}};ra.prototype.dn=function(a){var b=this.O,c=this.M,d=Math.round((this.width-b)/2),f=Math.round((this.height-c)/2),e=d+b-1,g=f+c-1,k=this.Md,l=this.Nd,p=this.v,n=!1,q;0===this.O&&(d=0,e=this.width-1,b=this.width);0===this.M&&(f=0,g=this.height-1,c=this.height);
if(0!==this.M)for(q=0;q<b;q+=1){var m=d+q;var r=d+((q+k)%b+b)%b;var u=a[g][m];129===u&&(n=!0,a[f-1][r]=u,p[f-1>>4][r>>8]|=1<<(~(r>>4)&15),15===(f-1&15)&&(p[(f-1>>4)+1][r>>8]|=1<<(~(r>>4)&15)));r=d+((q-k)%b+b)%b;u=a[f][m];129===u&&(n=!0,a[g+1][r]=u,p[g+1>>4][r>>8]|=1<<(~(r>>4)&15),0===(g+1&15)&&(p[(g+1>>4)-1][r>>8]|=1<<(~(r>>4)&15)))}if(0!==this.O)for(q=0;q<c;q+=1)m=f+q,r=f+((q-l)%c+c)%c,u=a[m][d],129===u&&(n=!0,a[r][e+1]=u,p[r>>4][e+1>>8]|=1<<(~(e+1>>4)&15),0===(e+1&15)&&(p[r>>4][e-15>>8]|=1<<(~(e-
15>>4)&15))),r=f+((q+l)%c+c)%c,u=a[m][e],129===u&&(n=!0,a[r][d-1]=u,p[r>>4][d-1>>8]|=1<<(~(d-1>>4)&15),15===(d-1&15)&&(p[r>>4][d+15>>8]|=1<<(~(d+15>>4)&15)));0!==this.O&&0!==this.M&&(u=a[f+(c-1+l+c)%c][d+(-k+b)%b],129===u&&(a[f-1][e+1]=u,n=!0),u=a[f+(c-1-l+c)%c][d+(b-1-k+b)%b],129===u&&(a[f-1][d-1]=u,n=!0),u=a[f+(l+c)%c][d+(k+b)%b],129===u&&(a[g+1][e+1]=u,n=!0),u=a[f+(-l+c)%c][d+(b-1+k+b)%b],129===u&&(a[g+1][d-1]=u,n=!0));n&&this.gb()};ra.prototype.Xm=function(a){var b=this.v,c=this.O,d=this.M,f=
Math.round((this.width-c)/2),e=Math.round((this.height-d)/2),g=f+c-1,k=e+d-1,l=this.Md,p=this.Nd,n=this.Kf,q=this.Pg,m=!1,r;for(r=0;r<c;r+=1){var u=f+r;var t=n?g-(r+l+c)%c:f+(r+l+c)%c;var w=a[k][u];129===w&&(m=!0,a[e-1][t]=w,b[e-1>>4][t>>8]|=1<<(~(t>>4)&15),15===(e-1&15)&&(b[(e-1>>4)+1][t>>8]|=1<<(~(t>>4)&15)));t=n?g-(r+l+c)%c:f+(r+l+c)%c;w=a[e][u];129===w&&(m=!0,a[k+1][t]=w,b[k+1>>4][t>>8]|=1<<(~(t>>4)&15),0===(k+1&15)&&(b[(k+1>>4)-1][t>>8]|=1<<(~(t>>4)&15)))}for(r=0;r<d;r+=1)c=e+r,u=q?k-(r+p+d)%
d:e+(r+p+d)%d,w=a[c][f],129===w&&(m=!0,a[u][g+1]=w,b[u>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(b[u>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),u=q?k-(r+p+d)%d:e+(r+p+d)%d,w=a[c][g],129===w&&(m=!0,a[u][f-1]=w,b[u>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(b[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));0!==this.O&&0!==this.M&&this.Vm(n,f,e,g,k,l,p,a,b)&&(m=!0);m&&this.gb()};ra.prototype.Sm=function(a){var b=this.ra,c=this.O,d=this.M,f=Math.round((this.width-c)/2),e=Math.round((this.height-d)/2),g=f+c-1,k=
e+d-1,l=!1,p;for(p=0;p<c;p+=1){var n=f+p;var q=g-p;var m=a[k][n];129===m&&(l=!0,a[e-1][q]=m,b[e-1>>4][q>>8]|=1<<(~(q>>4)&15),15===(e-1&15)&&(b[(e-1>>4)+1][q>>8]|=1<<(~(q>>4)&15)));m=a[e][n];129===m&&(l=!0,a[k+1][q]=m,b[k+1>>4][q>>8]|=1<<(~(q>>4)&15),0===(k+1&15)&&(b[(k+1>>4)-1][q>>8]|=1<<(~(q>>4)&15)))}for(p=0;p<=d;p+=1)n=e+p,q=k-p,m=a[n][f],129===m&&(l=!0,a[q][g+1]=m,b[q>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(b[q>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),m=a[n][g],129===m&&(l=!0,a[q][f-1]=m,b[q>>
4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(b[q>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));m=a[k][f];129===m&&(a[k+1][f-1]=m,l=!0);m=a[k][g];129===m&&(a[k+1][g+1]=m,l=!0);m=a[e][f];129===m&&(a[e-1][f-1]=m,l=!0);m=a[e][g];129===m&&(a[e-1][g+1]=m,l=!0);l&&this.gb()};ra.prototype.an=function(a){var b=this.ra,c=this.O,d=this.M,f=Math.round((this.width-c)/2),e=Math.round((this.height-d)/2),g=f+c-1;d=e+d-1;var k=!1,l;if(this.Lf)for(l=0;l<c;l+=1){var p=e+l;var n=f+l;var q=a[p][f];129===q&&(k=!0,a[e-1][n]=q,b[e-
1>>4][n>>8]|=1<<(~(n>>4)&15),15===(e-1&15)&&(b[(e-1>>4)+1][n>>8]|=1<<(~(n>>4)&15)));q=a[p][g];129===q&&(k=!0,a[d+1][n]=q,b[d+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(d+1&15)&&(b[(d+1>>4)-1][n>>8]|=1<<(~(n>>4)&15)));q=a[e][n];129===q&&(k=!0,a[p][f-1]=q,b[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(b[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));q=a[d][n];129===q&&(k=!0,a[p][g+1]=q,b[p>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(b[p>>4][g-15>>8]|=1<<(~(g-15>>4)&15)))}else for(l=0;l<c;l+=1)p=e+l,n=f+(c-l-1),
q=a[p][g],129===q&&(k=!0,a[e-1][n]=q,b[e-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(e-1&15)&&(b[(e-1>>4)+1][n>>8]|=1<<(~(n>>4)&15))),q=a[p][f],129===q&&(k=!0,a[d+1][n]=q,b[d+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(d+1&15)&&(b[(d+1>>4)-1][n>>8]|=1<<(~(n>>4)&15))),q=a[e][n],129===q&&(k=!0,a[p][g+1]=q,b[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),0===(g+1&15)&&(b[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15),b[p>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),q=a[d][n],129===q&&(k=!0,a[p][f-1]=q,b[p>>4][g+1>>8]|=1<<(~(g+1>>4)&15),15===(f+15&15)&&(b[p>>
4][f+15>>8]|=1<<(~(f+15>>4)&15)));q=a[d][f];129===q&&(k=!0,a[d+1][f-1]=q);q=a[d][g];129===q&&(k=!0,a[d+1][g+1]=q);q=a[e][f];129===q&&(k=!0,a[e-1][f-1]=q);q=a[e][g];129===q&&(k=!0,a[e-1][g+1]=q);k&&this.gb()};ra.prototype.jn=function(a){var b=this.O,c=this.M,d=this.Z?-1:0,f=Math.round((this.width-b)/2)+d;d=Math.round((this.height-c)/2)+d;var e=f+b-1,g=d+c-1,k=this.Md,l=this.Nd,p=this.v,n;0===this.O&&(f=0,e=this.width-1,b=this.width);0===this.M&&(d=0,g=this.height-1,c=this.height);if(0!==this.M)for(n=
0;n<b;n+=1){var q=f+n;var m=f+((n+k)%b+b)%b;var r=a[g][q];0!==r&&(a[d-1][m]=r,p[d-1>>4][m>>8]|=1<<(~(m>>4)&15),15===(d-1&15)&&(p[(d-1>>4)+1][m>>8]|=1<<(~(m>>4)&15)));m=f+((n-k)%b+b)%b;r=a[d][q];0!==r&&(a[g+1][m]=r,p[g+1>>4][m>>8]|=1<<(~(m>>4)&15),0===(g+1&15)&&(p[(g+1>>4)-1][m>>8]|=1<<(~(m>>4)&15)))}if(0!==this.O)for(n=0;n<c;n+=1)q=d+n,m=d+((n+l)%c+c)%c,r=a[q][f],0!==r&&(a[m][e+1]=r,p[m>>4][e+1>>8]|=1<<(~(e+1>>4)&15),0===(e+1&15)&&(p[m>>4][e-15>>8]|=1<<(~(e-15>>4)&15))),m=d+((n+l)%c+c)%c,r=a[q][e],
0!==r&&(a[m][f-1]=r,p[m>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(p[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));0!==this.O&&0!==this.M&&(r=a[d+(c-1+l+c)%c][f+(-k+b)%b],a[d-1][e+1]=r,r=a[d+(c-1-l+c)%c][f+(b-1-k+b)%b],a[d-1][f-1]=r,r=a[d+(l+c)%c][f+(k+b)%b],a[g+1][e+1]=r,r=a[d+(-l+c)%c][f+(b-1+k+b)%b],a[g+1][f-1]=r)};ra.prototype.Ym=function(a){var b=this.v,c=this.O,d=this.M,f=this.Z?-1:0,e=Math.round((this.width-c)/2)+f;f=Math.round((this.height-d)/2)+f;var g=e+c-1,k=f+d-1,l=this.Md,p=this.Nd,n=this.Kf,
q=this.Pg,m;for(m=0;m<c;m+=1){var r=e+m;var u=n?g-(m+l+c)%c:e+(m+l+c)%c;var t=a[k][r];0!==t&&(a[f-1][u]=t,b[f-1>>4][u>>8]|=1<<(~(u>>4)&15),15===(f-1&15)&&(b[(f-1>>4)+1][u>>8]|=1<<(~(u>>4)&15)));u=n?g-(m+l+c)%c:e+(m+l+c)%c;t=a[f][r];0!==t&&(a[k+1][u]=t,b[k+1>>4][u>>8]|=1<<(~(u>>4)&15),0===(k+1&15)&&(b[(k+1>>4)-1][u>>8]|=1<<(~(u>>4)&15)))}for(m=0;m<d;m+=1)c=f+m,r=q?k-(m+p+d)%d:f+(m+p+d)%d,t=a[c][e],0!==t&&(a[r][g+1]=t,b[r>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(b[r>>4][g-15>>8]|=1<<(~(g-15>>4)&
15))),r=q?k-(m+p+d)%d:f+(m+p+d)%d,t=a[c][g],0!==t&&(a[r][e-1]=t,b[r>>4][e-1>>8]|=1<<(~(e-1>>4)&15),15===(e-1&15)&&(b[r>>4][e+15>>8]|=1<<(~(e+15>>4)&15)));0!==this.O&&0!==this.M&&this.Wm(n,e,f,g,k,l,p,a,b)};ra.prototype.Tm=function(a){var b=this.ra,c=this.O,d=this.M,f=this.Z?-1:0,e=Math.round((this.width-c)/2)+f;f=Math.round((this.height-d)/2)+f;var g=e+c-1,k=f+d-1,l;for(l=0;l<c;l+=1){var p=e+l;var n=g-l;var q=a[k][p];0!==q&&(a[f-1][n]=q,b[f-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(f-1&15)&&(b[(f-1>>4)+
1][n>>8]|=1<<(~(n>>4)&15)));q=a[f][p];0!==q&&(a[k+1][n]=q,b[k+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(k+1&15)&&(b[(k+1>>4)-1][n>>8]|=1<<(~(n>>4)&15)))}for(l=0;l<=d;l+=1)p=f+l,n=k-l,q=a[p][e],0!==q&&(a[n][g+1]=q,b[n>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(b[n>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),q=a[p][g],0!==q&&(a[n][e-1]=q,b[n>>4][e-1>>8]|=1<<(~(e-1>>4)&15),15===(e-1&15)&&(b[n>>4][e+15>>8]|=1<<(~(e+15>>4)&15)));q=a[k][e];a[k+1][e-1]=q;q=a[k][g];a[k+1][g+1]=q;q=a[f][e];a[f-1][e-1]=q;q=a[f][g];a[f-1][g+
1]=q};ra.prototype.bn=function(a){var b=this.ra,c=this.O,d=this.M,f=this.Z?-1:0,e=Math.round((this.width-c)/2)+f;f=Math.round((this.height-d)/2)+f;var g=e+c-1;d=f+d-1;var k=this.u,l;if(this.Lf)for(l=0;l<c;l+=1){var p=f+l;var n=e+l;var q=a[p][e];q>k&&(this.l&&(q-=k,q=(q>>1&15|(q&1)<<3)+k),a[f-1][n]=q,b[f-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(f-1&15)&&(b[(f-1>>4)+1][n>>8]|=1<<(~(n>>4)&15)));q=a[p][g];q>k&&(this.l&&(q-=k,q=(q>>1&15|(q&1)<<3)+k),a[d+1][n]=q,b[d+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(d+1&15)&&
(b[(d+1>>4)-1][n>>8]|=1<<(~(n>>4)&15)));q=a[f][n];q>k&&(this.l&&(q-=k,q=(q<<1&15|(q&8)>>3)+k),a[p][e-1]=q,b[p>>4][e-1>>8]|=1<<(~(e-1>>4)&15),15===(e-1&15)&&(b[p>>4][e+15>>8]|=1<<(~(e+15>>4)&15)));q=a[d][n];q>k&&(this.l&&(q-=k,q=(q<<1&15|(q&8)>>3)+k),a[p][g+1]=q,b[p>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(b[p>>4][g-15>>8]|=1<<(~(g-15>>4)&15)))}else for(l=0;l<c;l+=1)p=f+l,n=e+(c-l-1),q=a[p][g],q>k&&(this.l&&(q-=k,q=(q<<1&15|(q&8)>>3)+k),a[f-1][n]=q,b[f-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(f-1&15)&&
(b[(f-1>>4)+1][n>>8]|=1<<(~(n>>4)&15))),q=a[p][e],q>k&&(this.l&&(q-=k,q=(q<<1&15|(q&8)>>3)+k),a[d+1][n]=q,b[d+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(d+1&15)&&(b[(d+1>>4)-1][n>>8]|=1<<(~(n>>4)&15))),q=a[f][n],q>k&&(this.l&&(q-=k,q=(q>>1&15|(q&1)<<3)+k),a[p][g+1]=q,b[p>>4][e-1>>8]|=1<<(~(e-1>>4)&15),0===(g+1&15)&&(b[p>>4][e+15>>8]|=1<<(~(e+15>>4)&15),b[p>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),q=a[d][n],q>k&&(this.l&&(q-=k,q=(q>>1&15|(q&1)<<3)+k),a[p][e-1]=q,b[p>>4][g+1>>8]|=1<<(~(g+1>>4)&15),15===(e+15&15)&&
(b[p>>4][e+15>>8]|=1<<(~(e+15>>4)&15)));q=a[d][e];a[d+1][e-1]=q;q=a[d][g];a[d+1][g+1]=q;q=a[f][e];a[f-1][e-1]=q;q=a[f][g];a[f-1][g+1]=q};ra.prototype.hk=function(){var a=this.ra,b=this.O,c=this.M;var d=this.Z?-1:0;var f=Math.round((this.width-b)/2)+d,e=Math.round((this.height-c)/2)+d,g=f+b-1,k=e+c-1,l=this.Md,p=this.Nd,n=this.W&&0<f&&g<this.width-1,q;if(0!==(this.counter&1)){d=this.Qa;var m=this.V}else d=this.va,m=this.L;0===this.O&&(f=0,g=this.width-1,b=this.width);0===this.M&&(e=0,k=this.height-
1,c=this.height);if(0!==this.M)for(q=0;q<b;q+=1){var r=f+q;var u=f+((q+l)%b+b)%b;0!==(d[k][r>>4]&1<<(~r&15))&&(d[e-1][u>>4]|=1<<(~u&15),m[e-1>>4][u>>8]|=1<<(~(u>>4)&15),a[e-1>>4][u>>8]|=1<<(~(u>>4)&15),15===(e-1&15)&&(m[(e-1>>4)+1][u>>8]|=1<<(~(u>>4)&15),a[(e-1>>4)+1][u>>8]|=1<<(~(u>>4)&15)));u=f+((q-l)%b+b)%b;0!==(d[e][r>>4]&1<<(~r&15))&&(d[k+1][u>>4]|=1<<(~u&15),m[k+1>>4][u>>8]|=1<<(~(u>>4)&15),a[k+1>>4][u>>8]|=1<<(~(u>>4)&15),0===(k+1&15)&&(m[(k+1>>4)-1][u>>8]|=1<<(~(u>>4)&15),a[(k+1>>4)-1][u>>
8]|=1<<(~(u>>4)&15)))}if(0!==this.O)for(q=0;q<c;q+=1)r=e+q,u=e+((q-p)%c+c)%c,0!==(d[r][f>>4]&1<<(~f&15))&&(d[u][g+1>>4]|=1<<(~(g+1)&15),m[u>>4][g+1>>8]|=1<<(~(g+1>>4)&15),a[u>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(m[u>>4][g-15>>8]|=1<<(~(g-15>>4)&15),a[u>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),n&&(f+=1,g+=1,0!==(d[r][f>>4]&1<<(~f&15))&&(d[u][g+1>>4]|=1<<(~(g+1)&15),m[u>>4][g+1>>8]|=1<<(~(g+1>>4)&15),a[u>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(m[u>>4][g-15>>8]|=1<<(~(g-15>>4)&15),a[u>>4][g-
15>>8]|=1<<(~(g-15>>4)&15))),--f,--g),u=e+((q+p)%c+c)%c,0!==(d[r][g>>4]&1<<(~g&15))&&(d[u][f-1>>4]|=1<<(~(f-1)&15),m[u>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[u>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(m[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),n&&(--f,--g,0!==(d[r][g>>4]&1<<(~g&15))&&(d[u][f-1>>4]|=1<<(~(f-1)&15),m[u>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[u>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(m[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[u>>4][f+15>>8]|=1<<(~(f+15>>
4)&15))),f+=1,g+=1);0!==this.O&&0!==this.M&&(r=f+(-l+b)%b,d[e-1][g+1>>4]=0!==(d[e+(c-1+p+c)%c][r>>4]&1<<(~r&15))?d[e-1][g+1>>4]|1<<(~(g+1)&15):d[e-1][g+1>>4]&~(1<<(~(g+1)&15)),r=f+(b-1-l+b)%b,d[e-1][f-1>>4]=0!==(d[e+(c-1-p+c)%c][r>>4]&1<<(~r&15))?d[e-1][f-1>>4]|1<<(~(f-1)&15):d[e-1][f-1>>4]&~(1<<(~(f-1)&15)),r=f+(l+b)%b,d[k+1][g+1>>4]=0!==(d[e+(p+c)%c][r>>4]&1<<(~r&15))?d[k+1][g+1>>4]|1<<(~(g+1)&15):d[k+1][g+1>>4]&~(1<<(~(g+1)&15)),r=f+(b-1+l+b)%b,d[k+1][f-1>>4]=0!==(d[e+(-p+c)%c][r>>4]&1<<(~r&15))?
d[k+1][f-1>>4]|1<<(~(f-1)&15):d[k+1][f-1>>4]&~(1<<(~(f-1)&15)),n&&(f+=1,g+=1,r=f+(-l+b)%b,d[e-1][g+1>>4]=0!==(d[e+(c-1+p+c)%c][r>>4]&1<<(~r&15))?d[e-1][g+1>>4]|1<<(~(g+1)&15):d[e-1][g+1>>4]&~(1<<(~(g+1)&15)),r=f+(b-1-l+b)%b,d[e-1][f-1>>4]=0!==(d[e+(c-1-p+c)%c][r>>4]&1<<(~r&15))?d[e-1][f-1>>4]|1<<(~(f-1)&15):d[e-1][f-1>>4]&~(1<<(~(f-1)&15)),r=f+(l+b)%b,d[k+1][g+1>>4]=0!==(d[e+(p+c)%c][r>>4]&1<<(~r&15))?d[k+1][g+1>>4]|1<<(~(g+1)&15):d[k+1][g+1>>4]&~(1<<(~(g+1)&15)),r=f+(b-1+l+b)%b,d[k+1][f-1>>4]=0!==
(d[e+(-p+c)%c][r>>4]&1<<(~r&15))?d[k+1][f-1>>4]|1<<(~(f-1)&15):d[k+1][f-1>>4]&~(1<<(~(f-1)&15)),f-=2,g-=2,r=f+(-l+b)%b,d[e-1][g+1>>4]=0!==(d[e+(c-1+p+c)%c][r>>4]&1<<(~r&15))?d[e-1][g+1>>4]|1<<(~(g+1)&15):d[e-1][g+1>>4]&~(1<<(~(g+1)&15)),r=f+(b-1-l+b)%b,d[e-1][f-1>>4]=0!==(d[e+(c-1-p+c)%c][r>>4]&1<<(~r&15))?d[e-1][f-1>>4]|1<<(~(f-1)&15):d[e-1][f-1>>4]&~(1<<(~(f-1)&15)),r=f+(l+b)%b,d[k+1][g+1>>4]=0!==(d[e+(p+c)%c][r>>4]&1<<(~r&15))?d[k+1][g+1>>4]|1<<(~(g+1)&15):d[k+1][g+1>>4]&~(1<<(~(g+1)&15)),r=f+
(b-1+l+b)%b,d[k+1][f-1>>4]=0!==(d[e+(-p+c)%c][r>>4]&1<<(~r&15))?d[k+1][f-1>>4]|1<<(~(f-1)&15):d[k+1][f-1>>4]&~(1<<(~(f-1)&15))))};ra.prototype.Vm=function(a,b,c,d,f,e,g,k,l){var p=!1;if(a){g=d-e;g<b&&(g=d);var n=d+1;var q=c-1;a=k[f][g];129===a&&(p=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15)));g=b-e;g<b&&(g=d);var m=f;n=b-1;q=c-1;a=k[m][g];129===a&&(p=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15)));0!==
(k[m][g>>4]&1<<(~g&15))&&(k[c-1][b-1>>4]|=1<<(~(b-1)&15));g=d-e;g<b&&(g=d);n=d+1;q=f+1;a=k[c][g];129===a&&(p=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)-1][n>>8]|=1<<(~(n>>4)&15)));g=b-e;g<b&&(g=d);n=b-1;q=f+1;a=k[c][g];129===a&&(p=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)-1][n>>8]|=1<<(~(n>>4)&15)))}else m=c-g,m<c&&(m=f),n=d+1,q=c-1,a=k[m][b],129===a&&(p=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15))),
m=c-g,m<c&&(m=f),n=b-1,q=c-1,a=k[m][d],129===a&&(p=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15))),m=f-g,m<c&&(m=f),n=d+1,q=f+1,a=k[m][b],129===a&&(p=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15))),m=f-g,m<c&&(m=f),n=b-1,q=f+1,a=k[m][d],129===a&&(p=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15)));return p};ra.prototype.Wm=function(a,b,c,d,f,e,g,k,l){if(a){g=d-
e;g<b&&(g=d);a=c-1;var p=k[f][g];0!==p&&(k[a][d+1]=p,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15));g=b-e;g<b&&(g=d);a=c-1;p=k[f][g];0!==p&&(k[a][b-1]=p,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15));g=d-e;g<b&&(g=d);a=f+1;p=k[c][g];0!==p&&(k[a][d+1]=p,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15));g=b-e;g<b&&(g=d);e=b-1;a=f+1;p=k[c][g]}else p=c-g,p<c&&(p=f),a=c-1,p=k[p][b],0!==p&&(k[a][d+1]=p,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15)),p=c-g,p<c&&(p=f),a=c-1,p=k[p][d],0!==p&&(k[a][b-1]=p,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15)),p=f-g,p<c&&(p=
f),a=f+1,p=k[p][b],0!==p&&(k[a][d+1]=p,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15)),p=f-g,p<c&&(p=f),e=b-1,a=f+1,p=k[p][d];0!==p&&(k[a][e]=p,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15))};ra.prototype.Ci=function(a,b,c,d,f,e,g,k){a?(a=d-e,a<b&&(a=d),0!==(k[f][a>>4]&1<<(~a&15))&&(k[c-1][d+1>>4]|=1<<(~(d+1)&15)),a=b-e,a<b&&(a=d),0!==(k[f][a>>4]&1<<(~a&15))&&(k[c-1][b-1>>4]|=1<<(~(b-1)&15)),a=d-e,a<b&&(a=d),0!==(k[c][a>>4]&1<<(~a&15))&&(k[f+1][d+1>>4]|=1<<(~(d+1)&15)),a=b-e,a<b&&(a=d),0!==(k[c][a>>4]&1<<(~a&15))&&(k[f+
1][b-1>>4]|=1<<(~(b-1)&15))):(a=b,e=c-g,e<c&&(e=f),0!==(k[e][a>>4]&1<<(~a&15))&&(k[c-1][d+1>>4]|=1<<(~(d+1)&15)),a=d,e=c-g,e<c&&(e=f),0!==(k[e][a>>4]&1<<(~a&15))&&(k[c-1][b-1>>4]|=1<<(~(b-1)&15)),a=b,e=f-g,e<c&&(e=f),0!==(k[e][a>>4]&1<<(~a&15))&&(k[f+1][d+1>>4]|=1<<(~(d+1)&15)),a=d,e=f-g,e<c&&(e=f),0!==(k[e][a>>4]&1<<(~a&15))&&(k[f+1][b-1>>4]|=1<<(~(b-1)&15)))};ra.prototype.fk=function(){var a=this.ra,b=this.O,c=this.M;var d=this.Z?-1:0;var f=Math.round((this.width-b)/2)+d,e=Math.round((this.height-
c)/2)+d,g=f+b-1,k=e+c-1,l=this.Md,p=this.Nd,n=this.Kf,q=this.Pg,m=this.W&&0<f&&g<this.width-1,r;if(0!==(this.counter&1)){d=this.Qa;var u=this.V}else d=this.va,u=this.L;for(r=0;r<b;r+=1){var t=f+r;var w=n?g-(r+l)%b:t;0!==(d[k][w>>4]&1<<(~w&15))&&(d[e-1][t>>4]|=1<<(~t&15),u[e-1>>4][t>>8]|=1<<(~(t>>4)&15),a[e-1>>4][t>>8]|=1<<(~(t>>4)&15),15===(e-1&15)&&(u[(e-1>>4)+1][t>>8]|=1<<(~(t>>4)&15),a[(e-1>>4)+1][t>>8]|=1<<(~(t>>4)&15)));0!==(d[e][w>>4]&1<<(~w&15))&&(d[k+1][t>>4]|=1<<(~t&15),u[k+1>>4][t>>8]|=
1<<(~(t>>4)&15),a[k+1>>4][t>>8]|=1<<(~(t>>4)&15),0===(k+1&15)&&(u[(k+1>>4)-1][t>>8]|=1<<(~(t>>4)&15),a[(k+1>>4)-1][t>>8]|=1<<(~(t>>4)&15)))}for(r=0;r<c;r+=1)w=e+r,b=q?k-(r+p)%c:w,0!==(d[b][f>>4]&1<<(~f&15))&&(d[w][g+1>>4]|=1<<(~(g+1)&15),u[w>>4][g+1>>8]|=1<<(~(g+1>>4)&15),a[w>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(u[w>>4][g-15>>8]|=1<<(~(g-15>>4)&15),a[w>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),m&&(f+=1,g+=1,0!==(d[b][f>>4]&1<<(~f&15))&&(d[w][g+1>>4]|=1<<(~(g+1)&15),u[w>>4][g+1>>8]|=1<<(~(g+1>>4)&
15),a[w>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(u[w>>4][g-15>>8]|=1<<(~(g-15>>4)&15),a[w>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),--f,--g),0!==(d[b][g>>4]&1<<(~g&15))&&(d[w][f-1>>4]|=1<<(~(f-1)&15),u[w>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[w>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(u[w>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[w>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),m&&(--f,--g,0!==(d[b][g>>4]&1<<(~g&15))&&(d[w][f-1>>4]|=1<<(~(f-1)&15),u[w>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[w>>4][f-1>>8]|=1<<(~(f-1>>4)&15),
15===(f-1&15)&&(u[w>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[w>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),f+=1,g+=1);0!==this.O&&0!==this.M&&(this.Ci(n,f,e,g,k,l,p,d),m&&(f+=1,g+=1,this.Ci(n,f,e,g,k,l,p,d),this.Ci(n,f-2,e,g-2,k,l,p,d)))};ra.prototype.ek=function(){var a=this.ra,b=this.O,c=this.M;var d=this.Z?-1:0;var f=Math.round((this.width-b)/2)+d,e=Math.round((this.height-c)/2)+d,g=f+b-1,k=e+c-1,l=this.W&&0<f&&g<this.width-1,p;if(0!==(this.counter&1)){d=this.Qa;var n=this.V}else d=this.va,n=this.L;for(p=0;p<
b;p+=1){var q=f+p;var m=g-p;0!==(d[k][q>>4]&1<<(~q&15))&&(d[e-1][m>>4]|=1<<(~m&15),n[e-1>>4][m>>8]|=1<<(~(m>>4)&15),a[e-1>>4][m>>8]|=1<<(~(m>>4)&15),15===(e-1&15)&&(n[(e-1>>4)+1][m>>8]|=1<<(~(m>>4)&15),a[(e-1>>4)+1][m>>8]|=1<<(~(m>>4)&15)));0!==(d[e][q>>4]&1<<(~q&15))&&(d[k+1][m>>4]|=1<<(~m&15),n[k+1>>4][m>>8]|=1<<(~(m>>4)&15),a[k+1>>4][m>>8]|=1<<(~(m>>4)&15),0===(k+1&15)&&(n[(k+1>>4)-1][m>>8]|=1<<(~(m>>4)&15),a[(k+1>>4)-1][m>>8]|=1<<(~(m>>4)&15)))}for(p=0;p<c;p+=1)q=e+p,m=k-p,0!==(d[q][f>>4]&1<<
(~f&15))&&(d[m][g+1>>4]|=1<<(~(g+1)&15),n[m>>4][g+1>>8]|=1<<(~(g+1>>4)&15),a[m>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(n[m>>4][g-15>>8]|=1<<(~(g-15>>4)&15),a[m>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),l&&(f+=1,g+=1,0!==(d[q][f>>4]&1<<(~f&15))&&(d[m][g+1>>4]|=1<<(~(g+1)&15),n[m>>4][g+1>>8]|=1<<(~(g+1>>4)&15),a[m>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(n[m>>4][g-15>>8]|=1<<(~(g-15>>4)&15),a[m>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),--f,--g),0!==(d[q][g>>4]&1<<(~g&15))&&(d[m][f-1>>4]|=1<<(~(f-1)&15),
n[m>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[m>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(n[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),l&&(--f,--g,0!==(d[q][g>>4]&1<<(~g&15))&&(d[m][f-1>>4]|=1<<(~(f-1)&15),n[m>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[m>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(n[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),f+=1,g+=1);0!==this.O&&0!==this.M&&(0!==(d[k][f>>4]&1<<(~f&15))&&(d[k+1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[k][g>>
4]&1<<(~g&15))&&(d[k+1][g+1>>4]|=1<<(~(g+1)&15)),0!==(d[e][f>>4]&1<<(~f&15))&&(d[e-1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[e][g>>4]&1<<(~g&15))&&(d[e-1][g+1>>4]|=1<<(~(g+1)&15)),l&&(f+=1,g+=1,0!==(d[k][f>>4]&1<<(~f&15))&&(d[k+1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[k][g>>4]&1<<(~g&15))&&(d[k+1][g+1>>4]|=1<<(~(g+1)&15)),0!==(d[e][f>>4]&1<<(~f&15))&&(d[e-1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[e][g>>4]&1<<(~g&15))&&(d[e-1][g+1>>4]|=1<<(~(g+1)&15)),f-=2,g-=2,0!==(d[k][f>>4]&1<<(~f&15))&&(d[k+1][f-1>>4]|=1<<(~(f-1)&
15)),0!==(d[k][g>>4]&1<<(~g&15))&&(d[k+1][g+1>>4]|=1<<(~(g+1)&15)),0!==(d[e][f>>4]&1<<(~f&15))&&(d[e-1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[e][g>>4]&1<<(~g&15))&&(d[e-1][g+1>>4]|=1<<(~(g+1)&15))))};ra.prototype.gk=function(){var a=this.ra,b=this.O;var c=this.M;var d=this.Z?-1:0,f=Math.round((this.width-b)/2)+d;d=Math.round((this.height-c)/2)+d;var e=f+b-1,g=d+c-1,k;if(0!==(this.counter&1)){c=this.Qa;var l=this.V}else c=this.va,l=this.L;if(this.Lf)for(k=0;k<b;k+=1){var p=d+k;var n=f+k;0!==(c[p][f>>4]&
1<<(~f&15))&&(c[d-1][n>>4]|=1<<(~n&15),l[d-1>>4][n>>8]|=1<<(~(n>>4)&15),a[d-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(d-1&15)&&(l[(d-1>>4)+1][n>>8]|=1<<(~(n>>4)&15),a[(d-1>>4)+1][n>>8]|=1<<(~(n>>4)&15)));0!==(c[p][e>>4]&1<<(~e&15))&&(c[g+1][n>>4]|=1<<(~n&15),l[g+1>>4][n>>8]|=1<<(~(n>>4)&15),a[g+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(g+1&15)&&(l[(g+1>>4)-1][n>>8]|=1<<(~(n>>4)&15),a[(g+1>>4)-1][n>>8]|=1<<(~(n>>4)&15)));0!==(c[d][n>>4]&1<<(~n&15))&&(c[p][f-1>>4]|=1<<(~(f-1)&15),l[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),
a[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(l[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));0!==(c[g][n>>4]&1<<(~n&15))&&(c[p][e+1>>4]|=1<<(~(e+1)&15),l[p>>4][e+1>>8]|=1<<(~(e+1>>4)&15),a[p>>4][e+1>>8]|=1<<(~(e+1>>4)&15),0===(e+1&15)&&(l[p>>4][e-15>>8]|=1<<(~(e-15>>4)&15),a[p>>4][e-15>>8]|=1<<(~(e-15>>4)&15)))}else for(k=0;k<b;k+=1)p=d+k,n=f+(b-k-1),0!==(c[p][e>>4]&1<<(~e&15))&&(c[d-1][n>>4]|=1<<(~n&15),l[d-1>>4][n>>8]|=1<<(~(n>>4)&15),a[d-1>>4][n>>8]|=1<<(~(n>>
4)&15),15===(d-1&15)&&(l[(d-1>>4)+1][n>>8]|=1<<(~(n>>4)&15),a[(d-1>>4)+1][n>>8]|=1<<(~(n>>4)&15))),0!==(c[p][f>>4]&1<<(~f&15))&&(c[g+1][n>>4]|=1<<(~n&15),l[g+1>>4][n>>8]|=1<<(~(n>>4)&15),a[g+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(g+1&15)&&(l[(g+1>>4)-1][n>>8]|=1<<(~(n>>4)&15),a[(g+1>>4)-1][n>>8]|=1<<(~(n>>4)&15))),0!==(c[d][n>>4]&1<<(~n&15))&&(c[p][e+1>>4]|=1<<(~(e+1)&15),l[p>>4][e+1>>8]|=1<<(~(e+1>>4)&15),a[p>>4][e+1>>8]|=1<<(~(e+1>>4)&15),15===(e+1&15)&&(l[p>>4][e-15>>8]|=1<<(~(e-15>>4)&15),a[p>>4][e-
15>>8]|=1<<(~(e-15>>4)&15))),0!==(c[g][n>>4]&1<<(~n&15))&&(c[p][f-1>>4]|=1<<(~(f-1)&15),l[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),0===(f-1&15)&&(l[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));0!==(c[g][f>>4]&1<<(~f&15))&&(c[g+1][f-1>>4]|=1<<(~(f-1)&15));0!==(c[g][e>>4]&1<<(~e&15))&&(c[g+1][e+1>>4]|=1<<(~(e+1)&15));0!==(c[d][f>>4]&1<<(~f&15))&&(c[d-1][f-1>>4]|=1<<(~(f-1)&15));0!==(c[d][e>>4]&1<<(~e&15))&&(c[d-1][e+1>>4]|=1<<(~(e+1)&15))};ra.prototype.Qm=
function(){var a,b=1;0!==this.D&&(b=2);this.W&&(b+=1);for(a=1;a<=b+1;a+=1)this.dl(a);this.I&&this.kl();this.Me&&this.Bl()};ra.prototype.Rm=function(){var a=this.i,b=this.Ba;(this.l||this.o||this.m||this.B)&&0!==(this.counter&1)&&(a=this.X);this.Mf(a,0);this.Ig();switch(this.D){case 1:this.l||this.o||this.m||this.B?(this.jn(a),(this.m||this.B)&&this.hk()):(this.hk(),this.I&&this.dn(b));break;case 2:this.l||this.o||this.m||this.B?(this.Ym(a),(this.m||this.B)&&this.fk()):(this.fk(),this.I&&this.Xm(b));
break;case 3:this.l||this.o||this.m||this.B?(this.Tm(a),(this.m||this.B)&&this.ek()):(this.ek(),this.I&&this.Sm(b));break;case 4:this.l||this.o||this.m||this.B?(this.bn(a),(this.m||this.B)&&this.gk()):(this.gk(),this.I&&this.an(b))}this.Ig()};ra.prototype.pf=function(a){this.Th&&(this.Te+=I.fp,this.oh(a),this.Th=!1)};ra.prototype.Ef=function(a){this.ha?this.counter+=1:this.lm(a)};ra.prototype.lm=function(a){var b=this.A,c=this.ib;this.Th=this.counter!==this.Te-1||a?!1:!0;-1===this.D||this.Ia||this.Rm();
this.yc&&this.Bm();this.o?null===this.Pb?this.Am():this.um():this.l?this.mm():this.Ia?this.R.Ka(this.counter):this.Z?this.yo():this.W?this.Om():this.B||this.Mm();this.counter+=1;if(this.Z||this.l)this.Za?--this.Hb:this.Hb+=1,this.Hb>this.ee&&(this.ee=this.Hb);-1===this.h||this.Ia||this.l||this.o||this.m||this.B||this.wo();this.m&&this.Em();this.B&&this.no();this.yc&&this.zm();-1===this.D||this.Ia||this.Qm();if(this.width===this.T||this.height===this.T)if(a=this.Ia?2*this.R.o:this.B||this.o?1:16,b.F<
a||b.J>=this.T-a||b.H<a||b.K>=this.T-a)a=this.s,this.Ia?this.wl():this.o?this.Gl():this.B?this.pl():this.rl(),a!==this.s&&(this.Wb=!0,this.ec());0<this.s&&(b.F<c.F&&(c.F=b.F),b.J>c.J&&(c.J=b.J),b.H<c.H&&(c.H=b.H),b.K>c.K&&(c.K=b.K))};ra.prototype.Hi=function(){var a=this.counter>>I.Ph,b=this.counter&(1<<I.Ph)-1;this.counter<I.bq&&(this.s>this.Uf&&(this.Uf=this.s),this.oa>this.fh&&(this.fh=this.oa),this.fa>this.Sf&&(this.Sf=this.fa),this.Mc&&0<this.Mc.length&&(this.counter>=this.Gf&&(Array.$m(this.Mc,
"Life.popGraphData"),Array.$m(this.cf,"Life.birthGraphData"),Array.$m(this.zf,"Life.deathGraphData"),this.Gf+=1<<I.Ph),this.Mc[a][b]=this.s,this.cf[a][b]=this.oa,this.zf[a][b]=this.fa))};ra.prototype.Fi=function(a,b,c,d,f,e,g,k){var l=1,p,n=(1<<I.Ph)-1,q=I.bq;var m=this.counter;m>q&&(m=q);m>c&&(l=c/m);if(k){a.strokeStyle=b;a.beginPath();var r=d-g[0][0]/this.od*d|0;a.moveTo(e+.5,r+f+e+.5)}else a.fillStyle=b;g.length<<I.Ph<q&&(q=g.length<<I.Ph);var u=0;for(b=m=1;b<c;b+=1){if(m<q){var t=m>>I.Ph;r=m&
n;var w=p=g[t][r];u+=l;for(m+=1;0===(u|0)&&m<q;)t=m>>I.Ph,r=m&n,t=g[t][r],m+=1,t>w&&(w=t),t<p&&(p=t),u+=l;--u}else w=p=0;b<=this.counter&&(t=e+1+b,r=d-p/this.od*d|0,k?(a.lineTo(t+.5,r+f+e+.5),p!==w&&(r=d-w/this.od*d|0,a.lineTo(t+.5,r+f+e+.5))):0<p&&0<w&&(p!==w&&(r=d-w/this.od*d|0),a.fillRect(t+.5,r+f+e+.5,1,1)))}k&&a.stroke()};ra.prototype.Ki=function(a,b,c,d,f){var e=this.ma,g=f.h.s,k=40*f.h.D,l=40*g,p=this.ea-l,n=this.aa-k-l,q=this.counter,m="rgb("+this.ld[0]+","+this.ld[1]+","+this.ld[2]+")",r=
"rgb("+this.kd[0]+","+this.kd[1]+","+this.kd[2]+")",u="rgb("+this.jd[0]+","+this.jd[1]+","+this.jd[2]+")",t="rgb("+this.md[0]+","+this.md[1]+","+this.md[2]+")",w="rgb("+this.nd[0]+","+this.nd[1]+","+this.nd[2]+")";if(this.Mc&&0<this.Mc.length){c?(n=this.aa,k=0):d&&(n=this.aa,k=0,p=this.ea,l=0);var y=p-l;q>I.bq&&(q=I.bq);this.od=0;-1===this.D&&(f.dh&&(this.od=this.fh),f.eh&&this.Sf>this.od&&(this.od=this.Sf));f.fh&&this.Uf>this.od&&(this.od=this.Uf);e.save();e.fillStyle=m;e.globalAlpha=b;e.fillRect(0,
k,p+l,n);e.globalAlpha=1;c&&(n-=l);if(!d){e.font=(16*g|0)+"px Arial";e.textAlign="center";e.fillStyle=f.C.jc;for(b=2;0<=b;b-=2)e.save(),e.translate(this.ea/2,n+l/2-(6*g|0)),e.fillText("Generation",b,b),e.restore(),e.save(),e.translate(l/2+(6*g|0),this.aa/2),e.rotate(-90*Math.PI/180),320>this.aa?e.fillText("Pop",b,b):e.fillText("Population",b,b),e.restore(),e.fillStyle=r;e.fillStyle=f.C.jc;for(b=2;0<=b;b-=2)e.save(),e.translate(l-l/2+(6*g|0),k+l),e.rotate(-90*Math.PI/180),e.fillText(String(this.od),
b,b),e.restore(),e.save(),e.translate(l-l/2+(6*g|0),n),e.rotate(-90*Math.PI/180),e.fillText("0",b,b),e.restore(),e.save(),e.translate(l,n+l/2-(6*g|0)),e.fillText("0",b,b),e.restore(),e.save(),e.translate(p,n+l/2-(6*g|0)),e.fillText(String(q>y?q:y|0),b,b),e.restore(),e.fillStyle=r}-1===this.D&&(f.eh&&this.Fi(e,w,y,n-k-l,k,l,this.zf,a),f.dh&&this.Fi(e,t,y,n-k-l,k,l,this.cf,a));(-1!==this.D||f.fh)&&this.Fi(e,u,y,n-k-l,k,l,this.Mc,a);-1!==this.D||f.eh||f.dh||f.fh||(e.save(),e.font=(24*g|0)+"px Arial",
e.translate(this.ea/2,this.aa/2),e.fillStyle=f.C.jc,e.fillText("Select Data",2,2),e.fillStyle=r,e.fillText("Select Data",0,0),e.restore());e.strokeStyle=r;e.lineWidth=1;e.beginPath();e.moveTo(l+.5,k+l+.5);e.lineTo(l+.5,n+.5);e.lineTo(p+.5,n+.5);e.lineTo(p+.5,n+2.5);e.moveTo(l+.5,n+.5);e.lineTo(l+.5,n+2.5);e.moveTo(l+.5,n+.5);e.lineTo(l+.5-2,n+.5);e.moveTo(l+.5,k+l+.5);e.lineTo(l+.5-2,k+l+.5);e.stroke();e.restore()}};ra.prototype.Gg=function(){var a=(1<<I.Ph)-1,b;if(this.Mc&&0<this.Mc.length){for(b=
0;b<this.Gf;b+=1){var c=b>>I.Ph;var d=b&a;this.Mc[c][d]=0;this.cf[c][d]=0;this.zf[c][d]=0}this.Mc[0][0]=this.s}this.Uf=this.s;this.fh=this.oa;this.Sf=this.fa};ra.prototype.Fg=function(){var a=this.A,b=this.ib;b.F=a.F;b.J=a.J;b.K=a.K;b.H=a.H};ra.prototype.Bm=function(){var a,b,c,d,f=this.yc,e=this.rd,g=this.Vc,k=this.Bc,l=this.ca,p=this.Y>>4,n;var q=0;var m=0!==(this.counter&1)?this.Qa:this.va;for(a=0;a<l;a+=1){var r=0;var u=k[a];for(b=0;b<p;b+=1)if(n=u[b])for(c=15;0<=c;--c){if(0!==(n&1<<c))for(d=
q;d<q+16;d+=1)e[d][r]=(m[d][r]|g[d][r])&f[d][r];r+=1}else r+=16;q+=16}};ra.prototype.zm=function(){var a,b,c,d,f,e=this.kc,g=this.rd,k=this.Vc,l=this.Bc,p=this.ca,n=this.Y>>4,q;var m=0!==(this.counter&1)?this.Qa:this.va;for(a=f=0;a<p;a+=1){var r=0;var u=l[a];for(b=0;b<n;b+=1)if(q=u[b])for(c=15;0<=c;--c){if(0!==(q&1<<c))for(d=f;d<f+16;d+=1){var t=m[d][r];var w=t&~g[d][r];var y=t&~k[d][r];w!==t&&(m[d][r]=w,w=e[t]-e[w],t=e[t]-e[y],this.s-=w,this.oa-=t,this.fa+=w-t)}r+=1}else r+=16;f+=16}};ra.prototype.Ei=
function(a,b,c,d){var f,e,g=this.Bd,k=0,l=this.Ib[k],p=this.Jb[k],n=0,q=I.Sl,m=q-1,r=0,u=q,t=this.De,w=this.xa,y=this.wa,v=this.h+this.u-2,D=0;l[n]=a;p[n]=b;n+=1;-1===this.h&&(v=this.Ya);if(c[b][a>>4]&1<<(~a&15)){c[b][a>>4]&=~(1<<(~a&15));D+=1;if(this.m)switch(d[b][a]){case 3:case 4:v=4;break;case 7:case 8:v=8;break;case 9:v=10;break;case 11:v=12;break;case 13:case 15:case 17:case 19:case 21:case 23:case 25:v=0;break;default:v=2}d[b][a]=v}for(;0<n;)for(--n,n<r&&(--k,r-=q,u-=q,l=this.Ib[k],p=this.Jb[k]),
a=l[n&m],b=p[n&m],e=b-t;e<=b+t;){for(f=a-t;f<=a+t;){if(f===(f&w)&&e===(e&y)&&0!==(c[e][f>>4]&1<<(~f&15))){c[e][f>>4]&=~(1<<(~f&15));D+=1;if(this.m)switch(d[e][f]){case 3:case 4:v=4;break;case 7:case 8:v=8;break;case 9:v=10;break;case 11:v=12;break;case 13:case 15:case 17:case 19:case 21:case 23:case 25:v=0;break;default:v=2}d[e][f]=v;n===u&&(k+=1,r+=q,u+=q,k>g&&(this.Ib[k]=this.N.h(pa.Hd,q,"Life.boundaryX"+k),this.Jb[k]=this.N.h(pa.Hd,q,"Life.boundaryY"+k),this.Bd=g+=1),l=this.Ib[k],p=this.Jb[k]);
l[n&m]=f;p[n&m]=e;n+=1}f+=1}e+=1}this.s-=D;this.fa+=D};ra.prototype.ik=function(a,b,c,d){for(var f=c[b][a],e=15;0<=e;)0!==(f&1<<e)&&this.Ei((a<<4)+(~e&15),b,c,d),--e};ra.prototype.kn=function(a,b,c){this.Ei(0,a,b,c)};ra.prototype.ln=function(a,b,c,d){this.Ei((a<<4)+15,b,c,d)};ra.prototype.rl=function(){var a=this.i,b;(this.l||this.o||this.m||this.B)&&0!==(this.counter&1)&&(a=this.X);var c=0!==(this.counter&1)?this.Qa:this.va;var d=c.length;var f=c[0].length;var e=c[0];var g=c[d-1];for(b=0;b<f;)e[b]&&
this.ik(b,0,c,a),g[b]&&this.ik(b,d-1,c,a),b+=1;for(b=0;b<d;)0!==(c[b][0]&32768)&&this.kn(b,c,a),0!==(c[b][f-1]&1)&&this.ln(f-1,b,c,a),b+=1};ra.prototype.Eg=function(a,b){var c,d=this.i,f,e=this.Bd,g=0,k=this.Ib[g],l=this.Jb[g],p=0,n=I.Sl,q=n-1,m=0,r=n,u=this.xa,t=this.wa,w=this.De,y=0;0!==(this.counter&1)&&(d=this.X);k[p]=a;l[p]=b;p+=1;0<d[b][a]&&(d[b][a]=0,y+=1);for(;0<p;)for(--p,p<m&&(--g,m-=n,r-=n,k=this.Ib[g],l=this.Jb[g]),a=k[p&q],b=l[p&q],c=b-w;c<=b+w;){var v=a-w;for(f=d[c];v<=a+w;)v===(v&u)&&
c===(c&t)&&0<f[v]&&(f[v]=0,y+=1,p===r&&(g+=1,m+=n,r+=n,g>e&&(this.Ib[g]=this.N.h(pa.Hd,n,"Life.boundaryX"+g),this.Jb[g]=this.N.h(pa.Hd,n,"Life.boundaryY"+g),this.Bd=e+=1),k=this.Ib[g],l=this.Jb[g]),k[p&q]=v,l[p&q]=c,p+=1),v+=1;c+=1}this.s-=y;this.fa+=y};ra.prototype.hh=function(a,b){var c,d=this.i,f,e=this.Bd,g=0,k=this.Ib[g],l=this.Jb[g],p=0,n=I.Sl,q=n-1,m=0,r=n,u=this.xa,t=this.wa,w=this.De,y=0;0!==(this.counter&1)&&(d=this.X);k[p]=a;l[p]=b;p+=1;1===d[b][a]&&(d[b][a]=0,y+=1);for(;0<p;)for(--p,p<
m&&(--g,m-=n,r-=n,k=this.Ib[g],l=this.Jb[g]),a=k[p&q],b=l[p&q],c=b-w;c<=b+w;){var v=a-w;for(f=d[c];v<=a+w;)v===(v&u)&&c===(c&t)&&1===f[v]&&(f[v]=0,y+=1,p===r&&(g+=1,m+=n,r+=n,g>e&&(this.Ib[g]=this.N.h(pa.Hd,n,"Life.boundaryX"+g),this.Jb[g]=this.N.h(pa.Hd,n,"Life.boundaryY"+g),this.Bd=e+=1),k=this.Ib[g],l=this.Jb[g]),k[p&q]=v,l[p&q]=c,p+=1),v+=1;c+=1}this.s-=y;this.fa+=y};ra.prototype.ih=function(a,b){var c,d=this.i,f,e=this.Bd,g=0,k=this.Ib[g],l=this.Jb[g],p=0,n=I.Sl,q=n-1,m=0,r=n,u=this.xa,t=this.wa,
w=I.Ya,y=I.me,v=this.De,D=0;k[p]=a;l[p]=b;p+=1;d[b][a]>=w&&(d[b][a]=y,D+=1);for(;0<p;)for(--p,p<m&&(--g,m-=n,r-=n,k=this.Ib[g],l=this.Jb[g]),a=k[p&q],b=l[p&q],c=b-v;c<=b+v;){var F=a-v;for(f=d[c];F<=a+v;)F===(F&u)&&c===(c&t)&&f[F]>=w&&(f[F]=y,D+=1,p===r&&(g+=1,m+=n,r+=n,g>e&&(this.Ib[g]=this.N.h(pa.Hd,n,"Life.boundaryX"+g),this.Jb[g]=this.N.h(pa.Hd,n,"Life.boundaryY"+g),this.Bd=e+=1),k=this.Ib[g],l=this.Jb[g]),k[p&q]=F,l[p&q]=c,p+=1),F+=1;c+=1}this.s-=D;this.fa+=D};ra.prototype.Dg=function(a,b){var c,
d=this.i,f,e=this.Bd,g=0,k=this.Ib[g],l=this.Jb[g],p=0,n=I.Sl,q=n-1,m=0,r=n,u=this.xa,t=this.wa,w=this.h+this.u,y=this.De,v=0;k[p]=a;l[p]=b;p+=1;d[b][a]===w&&(d[b][a]=0,v+=1);for(;0<p;)for(--p,p<m&&(--g,m-=n,r-=n,k=this.Ib[g],l=this.Jb[g]),a=k[p&q],b=l[p&q],c=b-y;c<=b+y;){var D=a-y;for(f=d[c];D<=a+y;)D===(D&u)&&c===(c&t)&&f[D]===w&&(f[D]=0,v+=1,p===r&&(g+=1,m+=n,r+=n,g>e&&(this.Ib[g]=this.N.h(pa.Hd,n,"Life.boundaryX"+g),this.Jb[g]=this.N.h(pa.Hd,n,"Life.boundaryY"+g),this.Bd=e+=1),k=this.Ib[g],l=
this.Jb[g]),k[p&q]=D,l[p&q]=c,p+=1),D+=1;c+=1}this.s-=v;this.fa+=v};ra.prototype.Gl=function(){var a=this.i,b=a.length,c=a[0].length,d=this.A,f=d.F,e=d.J,g=d.H,k=d.K,l,p;0!==(this.counter&1)&&(a=this.X);if(1>=b-k-1){for(p=b-1-1;p<=k;p+=1){var n=a[p];for(l=f;l<=e;l+=1)0<n[l]&&this.Eg(l,p)}d.K=b-1}if(1>=g){for(p=g;1>=p;p+=1)for(n=a[p],l=f;l<=e;l+=1)0<n[l]&&this.Eg(l,p);d.H=1}if(1>=f){for(p=g;p<=k;p+=1)for(n=a[p],l=f;1>=l;l+=1)0<n[l]&&this.Eg(l,p);d.F=1}if(1>=c-e-1){for(p=g;p<=k;p+=1)for(n=a[p],l=c-
1-1;l<=e;l+=1)0<n[l]&&this.Eg(l,p);d.J=c-1}};ra.prototype.pl=function(){var a=this.i,b=a.length,c=a[0].length,d=this.A,f=d.F,e=d.J,g=d.H,k=d.K,l,p;0!==(this.counter&1)&&(a=this.X);if(1>=b-k-1){for(p=b-1-1;p<=k;p+=1){var n=a[p];for(l=f;l<=e;l+=1)0<n[l]&&this.hh(l,p)}d.K=b-1}if(1>=g){for(p=g;1>=p;p+=1)for(n=a[p],l=f;l<=e;l+=1)0<n[l]&&this.hh(l,p);d.H=1}if(1>=f){for(p=g;p<=k;p+=1)for(n=a[p],l=f;1>=l;l+=1)0<n[l]&&this.hh(l,p);d.F=1}if(1>=c-e-1){for(p=g;p<=k;p+=1)for(n=a[p],l=c-1-1;l<=e;l+=1)0<n[l]&&this.hh(l,
p);d.J=c-1}};ra.prototype.wl=function(){var a=this.i,b=a.length,c=a[0].length,d=this.A,f=d.F,e=d.J,g=d.H,k=d.K,l=2*this.R.o+1,p=2*this.R.l+1,n=2<this.h?1:I.Ya,q,m;if(b-k-1<=p){for(m=b-p-1;m<=k;m+=1){var r=a[m];for(q=f;q<=e;q+=1)r[q]>=n&&(2===this.h?this.ih(q,m):this.Dg(q,m))}d.K=b-p}if(g<=p){for(m=g;m<=p;m+=1)for(r=a[m],q=f;q<=e;q+=1)r[q]>=n&&(2===this.h?this.ih(q,m):this.Dg(q,m));d.H=p}if(f<=l){for(m=g;m<=k;m+=1)for(r=a[m],q=f;q<=l;q+=1)r[q]>=n&&(2===this.h?this.ih(q,m):this.Dg(q,m));d.F=l}if(c-
e-1<=l){for(m=g;m<=k;m+=1)for(r=a[m],q=c-l-1;q<=e;q+=1)r[q]>=n&&(2===this.h?this.ih(q,m):this.Dg(q,m));d.J=c-l}};ra.prototype.Om=function(){var a=this.Qf,b,c,d,f,e,g=this.Ja,k,l=this.height,p=this.width,n=p>>4,q=this.A,m=l,r=-1,u=p,t=-1,w=this.ca,y=this.Y>>4,v=this.La;var D=0;var F=w,E=this.kc,O=0,Q=0,N=0;if(0!==(this.counter&1)){var U=this.Qa;var S=this.va;var G=this.V;var L=this.L;this.eb&&(a=this.eh)}else U=this.va,S=this.Qa,G=this.L,L=this.V;g.fill(0);0>D&&(D=0);F>w&&(F=w);var P=D<<4;var fa=P+
16;L.ba.fill(0);for(c=D;c<F;c+=1){var ha=0;var ja=G[c];var ca=L[c];var Z=0<c?L[c-1]:v;var la=c<w-1?L[c+1]:v;for(d=0;d<y;d+=1)if(f=ja[d]){var da=ca[d];var na=Z[d];var X=la[d];for(b=15;0<=b;--b){if(0!==(f&1<<b)){var ma=k=0;var aa=P;var Y=0===aa?this.dd:U[aa-1];var V=U[aa];D=U[aa+1];var oa=e=V[ha];Y=Y[ha-1]<<18|Y[ha]<<2|Y[ha+1]>>14;var R=V[ha-1]<<18|e<<2|V[ha+1]>>14;var C=D[ha-1]<<18|D[ha]<<2|D[ha+1]>>14;var z=a[Y>>7&7936|C>>11&224|R>>15&31]<<15;z|=a[C>>6&7936|Y>>10&224|R>>14&31]<<14;z|=a[Y>>5&7936|
C>>9&224|R>>13&31]<<13;z|=a[C>>4&7936|Y>>8&224|R>>12&31]<<12;z|=a[Y>>3&7936|C>>7&224|R>>11&31]<<11;z|=a[C>>2&7936|Y>>6&224|R>>10&31]<<10;z|=a[Y>>1&7936|C>>5&224|R>>9&31]<<9;z|=a[C>>0&7936|Y>>4&224|R>>8&31]<<8;z|=a[Y<<1&7936|C>>3&224|R>>7&31]<<7;z|=a[C<<2&7936|Y>>2&224|R>>6&31]<<6;z|=a[Y<<3&7936|C>>1&224|R>>5&31]<<5;z|=a[C<<4&7936|Y>>0&224|R>>4&31]<<4;z|=a[Y<<5&7936|C<<1&224|R>>3&31]<<3;z|=a[C<<6&7936|Y<<2&224|R>>2&31]<<2;z|=a[Y<<7&7936|C<<3&224|R>>1&31]<<1;z|=a[C<<8&7936|Y<<4&224|R>>0&31]<<0;S[aa][ha]=
z;O+=E[z];Q+=E[z&~e];N+=E[e&~z];z&&(k|=z,aa<m&&(m=aa),aa>r&&(r=aa),0!==(z&49152)&&(ma|=I.zb),0!==(z&3)&&(ma|=I.Ab),ma|=I.xb);for(aa+=1;aa<fa-1;){e=D[ha];oa|=e;D=U[aa+1];Y=R;R=C;C=D[ha-1]<<18|D[ha]<<2|D[ha+1]>>14;0!==(aa&1)&&(V=Y,Y=C,C=V);z=a[Y>>7&7936|C>>11&224|R>>15&31]<<15;z|=a[C>>6&7936|Y>>10&224|R>>14&31]<<14;z|=a[Y>>5&7936|C>>9&224|R>>13&31]<<13;z|=a[C>>4&7936|Y>>8&224|R>>12&31]<<12;z|=a[Y>>3&7936|C>>7&224|R>>11&31]<<11;z|=a[C>>2&7936|Y>>6&224|R>>10&31]<<10;z|=a[Y>>1&7936|C>>5&224|R>>9&31]<<
9;z|=a[C>>0&7936|Y>>4&224|R>>8&31]<<8;z|=a[Y<<1&7936|C>>3&224|R>>7&31]<<7;z|=a[C<<2&7936|Y>>2&224|R>>6&31]<<6;z|=a[Y<<3&7936|C>>1&224|R>>5&31]<<5;z|=a[C<<4&7936|Y>>0&224|R>>4&31]<<4;z|=a[Y<<5&7936|C<<1&224|R>>3&31]<<3;z|=a[C<<6&7936|Y<<2&224|R>>2&31]<<2;z|=a[Y<<7&7936|C<<3&224|R>>1&31]<<1;z|=a[C<<8&7936|Y<<4&224|R>>0&31]<<0;O+=E[z];Q+=E[z&~e];N+=E[e&~z];0!==(aa&1)&&(C=V=Y);if(S[aa][ha]=z)k|=z,aa<m&&(m=aa),aa>r&&(r=aa);aa+=1}e=D[ha];oa|=e;D=aa===this.height-1?this.dd:U[aa+1];Y=R;R=C;C=D[ha-1]<<18|
D[ha]<<2|D[ha+1]>>14;0!==(aa&1)&&(V=Y,Y=C,C=V);z=a[Y>>7&7936|C>>11&224|R>>15&31]<<15;z|=a[C>>6&7936|Y>>10&224|R>>14&31]<<14;z|=a[Y>>5&7936|C>>9&224|R>>13&31]<<13;z|=a[C>>4&7936|Y>>8&224|R>>12&31]<<12;z|=a[Y>>3&7936|C>>7&224|R>>11&31]<<11;z|=a[C>>2&7936|Y>>6&224|R>>10&31]<<10;z|=a[Y>>1&7936|C>>5&224|R>>9&31]<<9;z|=a[C>>0&7936|Y>>4&224|R>>8&31]<<8;z|=a[Y<<1&7936|C>>3&224|R>>7&31]<<7;z|=a[C<<2&7936|Y>>2&224|R>>6&31]<<6;z|=a[Y<<3&7936|C>>1&224|R>>5&31]<<5;z|=a[C<<4&7936|Y>>0&224|R>>4&31]<<4;z|=a[Y<<5&
7936|C<<1&224|R>>3&31]<<3;z|=a[C<<6&7936|Y<<2&224|R>>2&31]<<2;z|=a[Y<<7&7936|C<<3&224|R>>1&31]<<1;z|=a[C<<8&7936|Y<<4&224|R>>0&31]<<0;O+=E[z];Q+=E[z&~e];N+=E[e&~z];if(S[aa][ha]=z)k|=z,aa<m&&(m=aa),aa>r&&(r=aa),0!==(z&49152)&&(ma|=I.Db),0!==(z&3)&&(ma|=I.rb),ma|=I.sb;k&&(0!==(k&49152)&&(ma|=I.pb),0!==(k&3)&&(ma|=I.kb));g[ha]|=k;if(k||oa)da|=1<<b,ma&&(0!==(ma&I.pb)&&(15>b?da|=1<<b+1:0<d&&0<ha&&(ca[d-1]|=1)),0!==(ma&I.kb)&&(0<b?da|=1<<b-1:d<y-1&&ha<n-1&&(ca[d+1]|=32768)),0!==(ma&I.xb)&&(na|=1<<b),0!==
(ma&I.sb)&&(X|=1<<b),0!==(ma&I.zb)&&(15>b?na|=1<<b+1:0<d&&0<ha&&(Z[d-1]|=1)),0!==(ma&I.Ab)&&(0<b?na|=1<<b-1:d<y-1&&ha<n-1&&(Z[d+1]|=32768)),0!==(ma&I.Db)&&(15>b?X|=1<<b+1:0<d&&0<ha&&(la[d-1]|=1)),0!==(ma&I.rb)&&(0<b?X|=1<<b-1:d<y-1&&ha<n-1&&(la[d+1]|=32768)))}ha+=1}ca[d]|=da;0<c&&(Z[d]|=na);c<w-1&&(la[d]|=X)}else ha+=16;P+=16;fa+=16}for(d=0;d<n;d+=1)g[d]&&(d<u&&(u=d),d>t&&(t=d));u=(u<<4)+this.ub(g[u]);t=(t<<4)+this.Eb(g[t]);0>r&&(r=l-1);m>=l&&(m=0);u>=p&&(u=0);0>t&&(t=p-1);r>l-1&&(r=l-1);0>m&&(m=
0);0>u&&(u=0);t>p-1&&(t=p-1);q.K=r;q.H=m;q.F=u;q.J=t;v.fill(0);this.s=O;this.oa=Q;this.fa=N};ra.prototype.yo=function(){var a=this.Ud,b,c,d,f=this.Pa,e=this.Ja,g,k=this.height,l=this.width,p=l>>4,n=this.A,q=k,m=-1,r=l,u=-1,t=this.ca,w=this.Y>>4,y=this.La,v=this.kc,D=0,F=0,E=0,O=this.counter&1;this.wb&&(this.Za=!this.Za,this.wb=!1);if(0!==O){var Q=this.Qa;var N=this.va;var U=this.V;var S=this.L;this.Za&&(a=this.bb)}else Q=this.va,N=this.Qa,U=this.L,S=this.V,this.eb&&(a=this.Re),this.Za&&(a=this.eb?
this.Vd:this.bb);this.Za&&(O=1-O);e.fill(0);var G=1-O;var L=G+16;S.ba.fill(0);for(c=0;c<U.length;c+=1){var P=0;var fa=U[c];var ha=S[c];var ja=f[c];var ca=0<c?S[c-1]:y;var Z=c<t-1?S[c+1]:y;for(d=0;d<w;d+=1){var la=fa[d];var da=0;if(la){var na=ha[d];var X=ca[d];var ma=Z[d];for(b=15;0<=b;--b){var aa=0===b&&d===w-1?!0:!1;if(0!==(la&1<<b)){var Y=g=0;if(0!==O){var V=G;var oa=Q[V][P];var R=Q[V+1][P];var C=oa|R;var z=a[oa&65280|R>>8];var K=z&65280;var M=(z&255)<<8;z=a[(oa&255)<<8|R&255];K|=z>>8;M|=z&255;
N[V][P]=K;N[V+1][P]=M;D+=v[K];F+=v[K&~oa];E+=v[oa&~K];D+=v[M];F+=v[M&~R];E+=v[R&~M];if(z=K|M)g|=z,K&&(V<q&&(q=V),V>m&&(m=V)),M&&(V+1<q&&(q=V+1),V+1>m&&(m=V+1)),0!==(z&49152)&&(Y|=I.zb),0!==(z&3)&&(Y|=I.Ab),Y|=I.xb;for(V+=2;V<L-2;){oa=Q[V][P];R=Q[V+1][P];C|=oa|R;z=a[oa&65280|R>>8];K=z&65280;M=(z&255)<<8;z=a[(oa&255)<<8|R&255];K|=z>>8;M|=z&255;N[V][P]=K;N[V+1][P]=M;D+=v[K];F+=v[K&~oa];E+=v[oa&~K];D+=v[M];F+=v[M&~R];E+=v[R&~M];if(z=K|M)g|=z,K&&(V<q&&(q=V),V>m&&(m=V)),M&&(V+1<q&&(q=V+1),V+1>m&&(m=V+1));
V+=2}oa=Q[V][P];R=Q[V+1][P];C|=oa|R;z=a[oa&65280|R>>8];K=z&65280;M=(z&255)<<8;z=a[(oa&255)<<8|R&255];K|=z>>8;M|=z&255;N[V][P]=K;N[V+1][P]=M;D+=v[K];F+=v[K&~oa];E+=v[oa&~K];D+=v[M];F+=v[M&~R];E+=v[R&~M];if(z=K|M)g|=z,K&&(V<q&&(q=V),V>m&&(m=V)),M&&(V+1<q&&(q=V+1),V+1>m&&(m=V+1)),z&&(0!==(z&49152)&&(Y|=I.Db),0!==(z&3)&&(Y|=I.rb),Y|=I.sb);g&&(0!==(g&49152)&&(Y|=I.pb),0!==(g&3)&&(Y|=I.kb),e[P]|=g);if(g||C)Y|=I.rb,Y|=I.kb}else{V=G;aa?(oa=Q[V][P]<<1&65535,R=Q[V+1][P]<<1&65535):(oa=(Q[V][P]<<1|Q[V][P+1]>>
15)&65535,R=(Q[V+1][P]<<1|Q[V+1][P+1]>>15)&65535);C=oa|R;z=a[oa&65280|R>>8];K=z&65280;M=(z&255)<<8;z=a[(oa&255)<<8|R&255];K|=z>>8;M|=z&255;aa?(N[V][P]=N[V][P]&32768|K>>1,N[V+1][P]=N[V+1][P]&32768|M>>1):(N[V][P]=N[V][P]&32768|K>>1,N[V][P+1]=N[V][P+1]&32767|(K&1)<<15,N[V+1][P]=N[V+1][P]&32768|M>>1,N[V+1][P+1]=N[V+1][P+1]&32767|(M&1)<<15);D+=v[K];F+=v[K&~oa];E+=v[oa&~K];D+=v[M];F+=v[M&~R];E+=v[R&~M];if(z=K|M)g|=z,K&&(V<q&&(q=V),V>m&&(m=V)),M&&(V+1<q&&(q=V+1),V+1>m&&(m=V+1));for(V+=2;V<L-2;){aa?(oa=Q[V][P]<<
1&65535,R=Q[V+1][P]<<1&65535):(oa=(Q[V][P]<<1|Q[V][P+1]>>15)&65535,R=(Q[V+1][P]<<1|Q[V+1][P+1]>>15)&65535);C|=oa|R;z=a[oa&65280|R>>8];K=z&65280;M=(z&255)<<8;z=a[(oa&255)<<8|R&255];K|=z>>8;M|=z&255;aa?(N[V][P]=N[V][P]&32768|K>>1,N[V+1][P]=N[V+1][P]&32768|M>>1):(N[V][P]=N[V][P]&32768|K>>1,N[V][P+1]=N[V][P+1]&32767|(K&1)<<15,N[V+1][P]=N[V+1][P]&32768|M>>1,N[V+1][P+1]=N[V+1][P+1]&32767|(M&1)<<15);D+=v[K];F+=v[K&~oa];E+=v[oa&~K];D+=v[M];F+=v[M&~R];E+=v[R&~M];if(z=K|M)g|=z,K&&(V<q&&(q=V),V>m&&(m=V)),M&&
(V+1<q&&(q=V+1),V+1>m&&(m=V+1));V+=2}aa?(oa=Q[V][P]<<1&65535,R=Q[V+1][P]<<1&65535):(oa=(Q[V][P]<<1|Q[V][P+1]>>15)&65535,R=(Q[V+1][P]<<1|Q[V+1][P+1]>>15)&65535);C|=oa|R;z=a[oa&65280|R>>8];K=z&65280;M=(z&255)<<8;z=a[(oa&255)<<8|R&255];K|=z>>8;M|=z&255;aa?(N[V][P]=N[V][P]&32768|K>>1,N[V+1][P]=N[V+1][P]&32768|M>>1):(N[V][P]=N[V][P]&32768|K>>1,N[V][P+1]=N[V][P+1]&32767|(K&1)<<15,N[V+1][P]=N[V+1][P]&32768|M>>1,N[V+1][P+1]=N[V+1][P+1]&32767|(M&1)<<15);D+=v[K];F+=v[K&~oa];E+=v[oa&~K];D+=v[M];F+=v[M&~R];E+=
v[R&~M];if(z=K|M)g|=z,K&&(V<q&&(q=V),V>m&&(m=V)),M&&(V+1<q&&(q=V+1),V+1>m&&(m=V+1)),0!==(z&3)&&(Y|=I.rb),Y|=I.sb;oa|R&&(0!==((oa|R)&3)&&(Y|=I.rb),Y|=I.sb);g&&(0!==(g&3)&&(Y|=I.kb),e[P]|=g>>1,e[P+1]|=(g&1)<<15);0!==(C&3)&&(Y|=I.kb)}if(g||C)na|=1<<b,Y&&(0!==(Y&I.pb)&&(15>b?na|=1<<b+1:0<d&&0<P&&(ha[d-1]|=1)),0!==(Y&I.kb)&&(0<b?na|=1<<b-1:d<w-1&&P<p-1&&(ha[d+1]|=32768)),0!==(Y&I.xb)&&(X|=1<<b),0!==(Y&I.sb)&&(ma|=1<<b),0!==(Y&I.zb)&&(15>b?X|=1<<b+1:0<d&&0<P&&(ca[d-1]|=1)),0!==(Y&I.Ab)&&(0<b?X|=1<<b-1:
d<w-1&&P<p-1&&(ca[d+1]|=32768)),0!==(Y&I.Db)&&(15>b?ma|=1<<b+1:0<d&&0<P&&(Z[d-1]|=1)),0!==(Y&I.rb)&&(0<b?ma|=1<<b-1:d<w-1&&P<p-1&&(Z[d+1]|=32768)));0===g&&C&&(da|=1<<b)}P+=1}ha[d]|=na;0<c&&(ca[d]|=X);c<t-1&&(Z[d]|=ma)}else P+=16;ja[d]=da}G+=16;L+=16;L>=k&&(L=k-1)}for(d=0;d<p;d+=1)e[d]&&(d<r&&(r=d),d>u&&(u=d));r=(r<<4)+this.ub(e[r]);u=(u<<4)+this.Eb(e[u]);0>m&&(m=k-1);q>=k&&(q=0);r>=l&&(r=0);0>u&&(u=l-1);m>k-1&&(m=k-1);0>q&&(q=0);0>r&&(r=0);u>l-1&&(u=l-1);n.K=m;n.H=q;n.F=r;n.J=u;y.fill(0);this.Kl(Q);
this.s=D;this.oa=F;this.fa=E};ra.prototype.Mm=function(){var a=this.Pf,b,c,d,f,e,g,k=this.Ja,l,p=this.Va,n,q=this.kc,m=0,r=0,u=0,t=this.height,w=this.width,y=w>>4,v=this.A,D=t,F=-1,E=w,O=-1,Q=this.ca,N=this.Y>>4,U=this.La,S=this.O,G=this.M,L=Math.round((this.width-S)/2),P=Math.round((this.height-G)/2),fa=L+S-1,ha=P+G-1;if(0!==(this.counter&1)){var ja=this.Qa;var ca=this.va;var Z=this.V;var la=this.L;this.eb&&(a=this.Bf)}else ja=this.va,ca=this.Qa,Z=this.L,la=this.V;k.fill(0);p.fill(0);var da=0;var na=
da+16;la.ba.fill(0);for(d=0;d<Z.length;d+=1){var X=0;var ma=Z[d];var aa=la[d];var Y=0<d?la[d-1]:U;var V=d<Q-1?la[d+1]:U;for(f=0;f<N;f+=1)if(e=ma[f]){var oa=aa[f];var R=Y[f];var C=V[f];for(b=15;0<=b;--b){if(0!==(e&1<<b)){var z=n=l=0;var K=da;var M=32768;var J=0===K?this.dd:ja[K-1];var x=ja[K];var A=ja[K+1];var ka=g=x[X];if(X)if(X>=y-1){J=(J[X-1]&1)<<17|J[X]<<1;x=(x[X-1]&1)<<17|g<<1;var W=(A[X-1]&1)<<17|A[X]<<1;if(c=J|x|W)if(c=a[J>>12|x>>12<<6|W&258048]<<12,c|=a[J>>8&63|x>>2&4032|W<<4&258048]<<8,c|=
a[J>>4&63|x<<2&4032|W<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(W&63)<<12])l|=c,n|=M,m+=q[c],0!==(c&32768)&&(z|=I.zb),z|=I.xb;ca[K][X]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;for(M>>=1;K<na-1;){g=A[X];ka|=g;A=ja[K+1];J=x;x=W;W=(A[X-1]&1)<<17|A[X]<<1;if(c=J|x|W)if(c=a[J>>12|x>>12<<6|W&258048]<<12,c|=a[J>>8&63|x>>2&4032|W<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|W<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(W&63)<<12])l|=c,n|=M,m+=q[c];ca[K][X]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;M>>=1}g=A[X];ka|=g;A=K===this.height-1?this.dd:
ja[K+1];J=x;x=W;W=(A[X-1]&1)<<17|A[X]<<1;if(c=J|x|W)if(c=a[J>>12|x>>12<<6|W&258048]<<12,c|=a[J>>8&63|x>>2&4032|W<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|W<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(W&63)<<12])l|=c,n|=M,m+=q[c],0!==(c&32768)&&(z|=I.Db),z|=I.sb}else{J=(J[X-1]&1)<<17|J[X]<<1|J[X+1]>>15;x=(x[X-1]&1)<<17|g<<1|x[X+1]>>15;W=(A[X-1]&1)<<17|A[X]<<1|A[X+1]>>15;if(c=J|x|W)if(c=a[J>>12|x>>12<<6|W&258048]<<12,c|=a[J>>8&63|x>>2&4032|W<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|W<<8&258048]<<4,c|=a[J&63|(x&63)<<
6|(W&63)<<12])l|=c,n|=M,m+=q[c],0!==(c&32768)&&(z|=I.zb),0!==(c&1)&&(z|=I.Ab),z|=I.xb;ca[K][X]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;M>>=1;g=A[X];ka|=g;A=ja[K+1];J=x;x=W;W=(A[X-1]&1)<<17|A[X]<<1|A[X+1]>>15;if(c=J|x|W)if(c=a[J>>12|x>>12<<6|W&258048]<<12,c|=a[J>>8&63|x>>2&4032|W<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|W<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(W&63)<<12])l|=c,n|=M,m+=q[c];ca[K][X]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;M>>=1;g=A[X];ka|=g;A=ja[K+1];J=x;x=W;W=(A[X-1]&1)<<17|A[X]<<1|A[X+1]>>15;if(c=
J|x|W)if(c=a[J>>12|x>>12<<6|W&258048]<<12,c|=a[J>>8&63|x>>2&4032|W<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|W<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(W&63)<<12])l|=c,n|=M,m+=q[c];ca[K][X]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;M>>=1;g=A[X];ka|=g;A=ja[K+1];J=x;x=W;W=(A[X-1]&1)<<17|A[X]<<1|A[X+1]>>15;if(c=J|x|W)if(c=a[J>>12|x>>12<<6|W&258048]<<12,c|=a[J>>8&63|x>>2&4032|W<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|W<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(W&63)<<12])l|=c,n|=M,m+=q[c];ca[K][X]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);
K+=1;M>>=1;g=A[X];ka|=g;A=ja[K+1];J=x;x=W;W=(A[X-1]&1)<<17|A[X]<<1|A[X+1]>>15;if(c=J|x|W)if(c=a[J>>12|x>>12<<6|W&258048]<<12,c|=a[J>>8&63|x>>2&4032|W<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|W<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(W&63)<<12])l|=c,n|=M,m+=q[c];ca[K][X]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;M>>=1;g=A[X];ka|=g;A=ja[K+1];J=x;x=W;W=(A[X-1]&1)<<17|A[X]<<1|A[X+1]>>15;if(c=J|x|W)if(c=a[J>>12|x>>12<<6|W&258048]<<12,c|=a[J>>8&63|x>>2&4032|W<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|W<<8&258048]<<4,c|=a[J&
63|(x&63)<<6|(W&63)<<12])l|=c,n|=M,m+=q[c];ca[K][X]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;M>>=1;g=A[X];ka|=g;A=ja[K+1];J=x;x=W;W=(A[X-1]&1)<<17|A[X]<<1|A[X+1]>>15;if(c=J|x|W)if(c=a[J>>12|x>>12<<6|W&258048]<<12,c|=a[J>>8&63|x>>2&4032|W<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|W<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(W&63)<<12])l|=c,n|=M,m+=q[c];ca[K][X]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;M>>=1;g=A[X];ka|=g;A=ja[K+1];J=x;x=W;W=(A[X-1]&1)<<17|A[X]<<1|A[X+1]>>15;if(c=J|x|W)if(c=a[J>>12|x>>12<<6|W&258048]<<12,
c|=a[J>>8&63|x>>2&4032|W<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|W<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(W&63)<<12])l|=c,n|=M,m+=q[c];ca[K][X]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;M>>=1;g=A[X];ka|=g;A=ja[K+1];J=x;x=W;W=(A[X-1]&1)<<17|A[X]<<1|A[X+1]>>15;if(c=J|x|W)if(c=a[J>>12|x>>12<<6|W&258048]<<12,c|=a[J>>8&63|x>>2&4032|W<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|W<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(W&63)<<12])l|=c,n|=M,m+=q[c];ca[K][X]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;M>>=1;g=A[X];ka|=g;A=ja[K+1];J=x;x=
W;W=(A[X-1]&1)<<17|A[X]<<1|A[X+1]>>15;if(c=J|x|W)if(c=a[J>>12|x>>12<<6|W&258048]<<12,c|=a[J>>8&63|x>>2&4032|W<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|W<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(W&63)<<12])l|=c,n|=M,m+=q[c];ca[K][X]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;M>>=1;g=A[X];ka|=g;A=ja[K+1];J=x;x=W;W=(A[X-1]&1)<<17|A[X]<<1|A[X+1]>>15;if(c=J|x|W)if(c=a[J>>12|x>>12<<6|W&258048]<<12,c|=a[J>>8&63|x>>2&4032|W<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|W<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(W&63)<<12])l|=c,n|=M,m+=
q[c];ca[K][X]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;M>>=1;g=A[X];ka|=g;A=ja[K+1];J=x;x=W;W=(A[X-1]&1)<<17|A[X]<<1|A[X+1]>>15;if(c=J|x|W)if(c=a[J>>12|x>>12<<6|W&258048]<<12,c|=a[J>>8&63|x>>2&4032|W<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|W<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(W&63)<<12])l|=c,n|=M,m+=q[c];ca[K][X]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;M>>=1;g=A[X];ka|=g;A=ja[K+1];J=x;x=W;W=(A[X-1]&1)<<17|A[X]<<1|A[X+1]>>15;if(c=J|x|W)if(c=a[J>>12|x>>12<<6|W&258048]<<12,c|=a[J>>8&63|x>>2&4032|W<<4&258048]<<8,
c|=a[J>>4&63|x<<2&4032|W<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(W&63)<<12])l|=c,n|=M,m+=q[c];ca[K][X]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;M>>=1;g=A[X];ka|=g;A=ja[K+1];J=x;x=W;W=(A[X-1]&1)<<17|A[X]<<1|A[X+1]>>15;if(c=J|x|W)if(c=a[J>>12|x>>12<<6|W&258048]<<12,c|=a[J>>8&63|x>>2&4032|W<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|W<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(W&63)<<12])l|=c,n|=M,m+=q[c];ca[K][X]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;M>>=1;g=A[X];ka|=g;A=ja[K+1];J=x;x=W;W=(A[X-1]&1)<<17|A[X]<<1|A[X+1]>>15;if(c=
J|x|W)if(c=a[J>>12|x>>12<<6|W&258048]<<12,c|=a[J>>8&63|x>>2&4032|W<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|W<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(W&63)<<12])l|=c,n|=M,m+=q[c];ca[K][X]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;M>>=1;g=A[X];ka|=g;A=K===this.height-1?this.dd:ja[K+1];J=x;x=W;W=(A[X-1]&1)<<17|A[X]<<1|A[X+1]>>15;if(c=J|x|W)if(c=a[J>>12|x>>12<<6|W&258048]<<12,c|=a[J>>8&63|x>>2&4032|W<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|W<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(W&63)<<12])l|=c,n|=M,m+=q[c],0!==(c&32768)&&
(z|=I.Db),0!==(c&1)&&(z|=I.rb),z|=I.sb}else{J=J[X]<<1|J[X+1]>>15;x=g<<1|x[X+1]>>15;W=A[X]<<1|A[X+1]>>15;if(c=J|x|W)if(c=a[J>>12|x>>12<<6|W&258048]<<12,c|=a[J>>8&63|x>>2&4032|W<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|W<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(W&63)<<12])l|=c,n|=M,0!==(c&1)&&(z|=I.Ab),z|=I.xb,m+=q[c];ca[K][X]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;for(M>>=1;K<na-1;){g=A[X];ka|=g;A=ja[K+1];J=x;x=W;W=A[X]<<1|A[X+1]>>15;if(c=J|x|W)if(c=a[J>>12|x>>12<<6|W&258048]<<12,c|=a[J>>8&63|x>>2&4032|W<<4&258048]<<
8,c|=a[J>>4&63|x<<2&4032|W<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(W&63)<<12])l|=c,n|=M,m+=q[c];ca[K][X]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;M>>=1}g=A[X];ka|=g;A=K===this.height-1?this.dd:ja[K+1];J=x;x=W;W=A[X]<<1|A[X+1]>>15;if(c=J|x|W)if(c=a[J>>12|x>>12<<6|W&258048]<<12,c|=a[J>>8&63|x>>2&4032|W<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|W<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(W&63)<<12])l|=c,n|=M,m+=q[c],0!==(c&1)&&(z|=I.rb),z|=I.sb}ca[K][X]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);l&&(0!==(l&32768)&&(z|=I.pb),0!==(l&1)&&
(z|=I.kb));k[X]|=l;if(l||ka)oa|=1<<b,z&&(0!==(z&I.pb)&&(15>b?oa|=1<<b+1:0<f&&0<X&&(aa[f-1]|=1)),0!==(z&I.kb)&&(0<b?oa|=1<<b-1:f<N-1&&X<y-1&&(aa[f+1]|=32768)),0!==(z&I.xb)&&(R|=1<<b),0!==(z&I.sb)&&(C|=1<<b),0!==(z&I.zb)&&(15>b?R|=1<<b+1:0<f&&0<X&&(Y[f-1]|=1)),0!==(z&I.Ab)&&(0<b?R|=1<<b-1:f<N-1&&X<y-1&&(Y[f+1]|=32768)),0!==(z&I.Db)&&(15>b?C|=1<<b+1:0<f&&0<X&&(V[f-1]|=1)),0!==(z&I.rb)&&(0<b?C|=1<<b-1:f<N-1&&X<y-1&&(V[f+1]|=32768)));p[d]|=n}X+=1}aa[f]|=oa;0<d&&(Y[f]|=R);d<Q-1&&(V[f]|=C)}else X+=16;da+=
16;na+=16}-1!==this.D&&(0!==S&&(k[L-1>>4]&=~(1<<(~(L-1)&15)),k[fa+1>>4]&=~(1<<(~(fa+1)&15)),k[L-2>>4]&=~(1<<(~(L-2)&15)),k[fa+2>>4]&=~(1<<(~(fa+2)&15))),0!==G&&(p[P-1>>4]&=~(1<<(~(P-1)&15)),p[ha+1>>4]&=~(1<<(~(ha+1)&15)),p[P-2>>4]&=~(1<<(~(P-2)&15)),p[ha+2>>4]&=~(1<<(~(ha+2)&15))));for(f=0;f<y;f+=1)k[f]&&(f<E&&(E=f),f>O&&(O=f));for(d=0;d<p.length;d+=1)p[d]&&(d<D&&(D=d),d>F&&(F=d));E=(E<<4)+this.ub(k[E]);O=(O<<4)+this.Eb(k[O]);D=(D<<4)+this.ub(p[D]);F=(F<<4)+this.Eb(p[F]);0>F&&(F=t-1);D>=t&&(D=0);
E>=w&&(E=0);0>O&&(O=w-1);F>t-1&&(F=t-1);0>D&&(D=0);0>E&&(E=0);O>w-1&&(O=w-1);v.K=F;v.H=D;v.F=E;v.J=O;U.fill(0);this.s=m;this.oa=r;this.fa=u};ra.prototype.Xl=function(a,b){var c,d=this.v,f,e,g,k,l=this.ca,p=this.Y>>4;var n=0;var q=n+16;for(f=0;f<l;f+=1){var m=0;var r=d[f];for(e=0;e<p;e+=1)if(k=r[e])for(g=15;0<=g;--g){if(0!==(k&1<<g))for(c=n;c<q;c+=2){var u=b[c];var t=a[c];var w=a[c+1];var y=m<<3;var v=t[y];var D=v&255|(v&1)<<5;var F=D-(v>>8|v&32);D-=F&F>>255;v=w[y];F=D-(v&255|(v&1)<<5);D-=F&F>>255;
F=D-(v>>8|v&32);u[y+y]=D-(F&F>>255)&31;y+=1;v=t[y];D=v&255|(v&1)<<5;F=D-(v>>8|v&32);D-=F&F>>255;v=w[y];F=D-(v&255|(v&1)<<5);D-=F&F>>255;F=D-(v>>8|v&32);u[y+y]=D-(F&F>>255)&31;y+=1;v=t[y];D=v&255|(v&1)<<5;F=D-(v>>8|v&32);D-=F&F>>255;v=w[y];F=D-(v&255|(v&1)<<5);D-=F&F>>255;F=D-(v>>8|v&32);u[y+y]=D-(F&F>>255)&31;y+=1;v=t[y];D=v&255|(v&1)<<5;F=D-(v>>8|v&32);D-=F&F>>255;v=w[y];F=D-(v&255|(v&1)<<5);D-=F&F>>255;F=D-(v>>8|v&32);u[y+y]=D-(F&F>>255)&31;y+=1;v=t[y];D=v&255|(v&1)<<5;F=D-(v>>8|v&32);D-=F&F>>255;
v=w[y];F=D-(v&255|(v&1)<<5);D-=F&F>>255;F=D-(v>>8|v&32);u[y+y]=D-(F&F>>255)&31;y+=1;v=t[y];D=v&255|(v&1)<<5;F=D-(v>>8|v&32);D-=F&F>>255;v=w[y];F=D-(v&255|(v&1)<<5);D-=F&F>>255;F=D-(v>>8|v&32);u[y+y]=D-(F&F>>255)&31;y+=1;v=t[y];D=v&255|(v&1)<<5;F=D-(v>>8|v&32);D-=F&F>>255;v=w[y];F=D-(v&255|(v&1)<<5);D-=F&F>>255;F=D-(v>>8|v&32);u[y+y]=D-(F&F>>255)&31;y+=1;v=t[y];D=v&255|(v&1)<<5;F=D-(v>>8|v&32);D-=F&F>>255;v=w[y];F=D-(v&255|(v&1)<<5);D-=F&F>>255;F=D-(v>>8|v&32);u[y+y]=D-(F&F>>255)&31}m+=1}else m+=16;
n+=16;q+=16}};ra.prototype.Ti=function(a,b){var c,d=this.v,f,e,g,k,l=this.ca,p=this.Y>>4;var n=0;var q=n+16;for(f=0;f<l;f+=1){var m=0;var r=d[f];for(e=0;e<p;e+=1)if(k=r[e])for(g=15;0<=g;--g){if(0!==(k&1<<g))for(c=n;c<q;c+=2){var u=b[c];var t=a[c];var w=a[c+1];var y=m<<3;var v=t[y];var D=v&255;var F=D-(v>>8);D-=F&F>>255;v=w[y];F=D-(v&255);D-=F&F>>255;F=D-(v>>8);u[y+y]=D-(F&F>>255);y+=1;v=t[y];D=v&255;F=D-(v>>8);D-=F&F>>255;v=w[y];F=D-(v&255);D-=F&F>>255;F=D-(v>>8);u[y+y]=D-(F&F>>255);y+=1;v=t[y];D=
v&255;F=D-(v>>8);D-=F&F>>255;v=w[y];F=D-(v&255);D-=F&F>>255;F=D-(v>>8);u[y+y]=D-(F&F>>255);y+=1;v=t[y];D=v&255;F=D-(v>>8);D-=F&F>>255;v=w[y];F=D-(v&255);D-=F&F>>255;F=D-(v>>8);u[y+y]=D-(F&F>>255);y+=1;v=t[y];D=v&255;F=D-(v>>8);D-=F&F>>255;v=w[y];F=D-(v&255);D-=F&F>>255;F=D-(v>>8);u[y+y]=D-(F&F>>255);y+=1;v=t[y];D=v&255;F=D-(v>>8);D-=F&F>>255;v=w[y];F=D-(v&255);D-=F&F>>255;F=D-(v>>8);u[y+y]=D-(F&F>>255);y+=1;v=t[y];D=v&255;F=D-(v>>8);D-=F&F>>255;v=w[y];F=D-(v&255);D-=F&F>>255;F=D-(v>>8);u[y+y]=D-(F&
F>>255);y+=1;v=t[y];D=v&255;F=D-(v>>8);D-=F&F>>255;v=w[y];F=D-(v&255);D-=F&F>>255;F=D-(v>>8);u[y+y]=D-(F&F>>255)}m+=1}else m+=16;n+=16;q+=16}};ra.prototype.fm=function(a,b){var c,d,f=this.v,e,g,k,l,p,n=this.ca,q=this.Y>>4;var m=0;var r=m+16;for(g=0;g<n;g+=1){var u=0;var t=f[g];for(k=0;k<q;k+=1)if(p=t[k])for(l=15;0<=l;--l){if(0!==(p&1<<l))for(c=m;c<r;c+=4){var w=b[c];var y=a[c];var v=a[c+1];var D=a[c+2];var F=a[c+3];var E=u<<2;var O=u<<4;for(d=0;4>d;d+=1){var Q=0;if(e=y[E]){var N=Q-(e&255|(e&1)<<5);
Q-=N&N>>255;e>>=8;N=Q-(e&255|(e&1)<<5);Q-=N&N>>255;e>>=8;N=Q-(e&255|(e&1)<<5);Q-=N&N>>255;e>>=8;N=Q-(e&255|(e&1)<<5);Q-=N&N>>255}if(e=v[E])N=Q-(e&255|(e&1)<<5),Q-=N&N>>255,e>>=8,N=Q-(e&255|(e&1)<<5),Q-=N&N>>255,e>>=8,N=Q-(e&255|(e&1)<<5),Q-=N&N>>255,e>>=8,N=Q-(e&255|(e&1)<<5),Q-=N&N>>255;if(e=D[E])N=Q-(e&255|(e&1)<<5),Q-=N&N>>255,e>>=8,N=Q-(e&255|(e&1)<<5),Q-=N&N>>255,e>>=8,N=Q-(e&255|(e&1)<<5),Q-=N&N>>255,e>>=8,N=Q-(e&255|(e&1)<<5),Q-=N&N>>255;if(e=F[E])N=Q-(e&255|(e&1)<<5),Q-=N&N>>255,e>>=8,N=Q-
(e&255|(e&1)<<5),Q-=N&N>>255,e>>=8,N=Q-(e&255|(e&1)<<5),Q-=N&N>>255,e>>=8,N=Q-(e&255|(e&1)<<5),Q-=N&N>>255;w[O]=Q&31;E+=1;O+=4}}u+=1}else u+=16;m+=16;r+=16}};ra.prototype.Vi=function(a,b){var c,d,f=this.v,e,g,k,l,p,n=this.ca,q=this.Y>>4;var m=0;var r=m+16;for(g=0;g<n;g+=1){var u=0;var t=f[g];for(k=0;k<q;k+=1)if(p=t[k])for(l=15;0<=l;--l){if(0!==(p&1<<l))for(c=m;c<r;c+=4){var w=b[c];var y=a[c];var v=a[c+1];var D=a[c+2];var F=a[c+3];var E=u<<2;var O=u<<4;for(d=0;4>d;d+=1){var Q=0;if(e=y[E])Q-=Q-(e&255)&
Q-(e&255)>>255,e>>=8,Q-=Q-(e&255)&Q-(e&255)>>255,e>>=8,Q-=Q-(e&255)&Q-(e&255)>>255,e>>=8,Q-=Q-(e&255)&Q-(e&255)>>255;if(e=v[E])Q-=Q-(e&255)&Q-(e&255)>>255,e>>=8,Q-=Q-(e&255)&Q-(e&255)>>255,e>>=8,Q-=Q-(e&255)&Q-(e&255)>>255,e>>=8,Q-=Q-(e&255)&Q-(e&255)>>255;if(e=D[E])Q-=Q-(e&255)&Q-(e&255)>>255,e>>=8,Q-=Q-(e&255)&Q-(e&255)>>255,e>>=8,Q-=Q-(e&255)&Q-(e&255)>>255,e>>=8,Q-=Q-(e&255)&Q-(e&255)>>255;if(e=F[E])Q-=Q-(e&255)&Q-(e&255)>>255,e>>=8,Q-=Q-(e&255)&Q-(e&255)>>255,e>>=8,Q-=Q-(e&255)&Q-(e&255)>>255,
e>>=8,Q-=Q-(e&255)&Q-(e&255)>>255;w[O]=Q;E+=1;O+=4}}u+=1}else u+=16;m+=16;r+=16}};ra.prototype.hm=function(a,b){var c,d,f=this.v,e,g,k,l,p,n=this.ca,q=this.Y>>4;var m=0;var r=m+16;for(g=0;g<n;g+=1){var u=0;var t=f[g];for(k=0;k<q;k+=1)if(p=t[k])for(l=15;0<=l;--l){if(0!==(p&1<<l))for(c=m;c<r;c+=8){var w=b[c];var y=a[c];var v=a[c+1];var D=a[c+2];var F=a[c+3];var E=a[c+4];var O=a[c+5];var Q=a[c+6];var N=a[c+7];var U=u<<2;var S=u<<4;for(d=0;2>d;d+=1){var G=0;if(e=y[U]){var L=G-(e&255|(e&1)<<5);G-=L&L>>
255;e>>=8;L=G-(e&255|(e&1)<<5);G-=L&L>>255;e>>=8;L=G-(e&255|(e&1)<<5);G-=L&L>>255;e>>=8;L=G-(e&255|(e&1)<<5);G-=L&L>>255}if(e=y[U+1])L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255;if(e=v[U])L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255;if(e=v[U+1])L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&
255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255;if(e=D[U])L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255;if(e=D[U+1])L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255;if(e=F[U])L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&
L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255;if(e=F[U+1])L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255;if(e=E[U])L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255;if(e=E[U+1])L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-
(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255;if(e=O[U])L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255;if(e=O[U+1])L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255;if(e=Q[U])L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=
L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255;if(e=Q[U+1])L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255;if(e=N[U])L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255;if(e=N[U+1])L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=G-(e&255|(e&1)<<5),G-=L&L>>255,e>>=8,L=
G-(e&255|(e&1)<<5),G-=L&L>>255;w[S]=G&31;U+=2;S+=8}}u+=1}else u+=16;m+=16;r+=16}};ra.prototype.Wi=function(a,b){var c,d,f=this.v,e,g,k,l,p,n=this.ca,q=this.Y>>4;var m=0;var r=m+16;for(g=0;g<n;g+=1){var u=0;var t=f[g];for(k=0;k<q;k+=1)if(p=t[k])for(l=15;0<=l;--l){if(0!==(p&1<<l))for(c=m;c<r;c+=8){var w=b[c];var y=a[c];var v=a[c+1];var D=a[c+2];var F=a[c+3];var E=a[c+4];var O=a[c+5];var Q=a[c+6];var N=a[c+7];var U=u<<2;var S=u<<4;for(d=0;2>d;d+=1){var G=0;if(e=y[U])G-=G-(e&255)&G-(e&255)>>255,e>>=8,
G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255;if(e=y[U+1])G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255;if(e=v[U])G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255;if(e=v[U+1])G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&
G-(e&255)>>255;if(e=D[U])G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255;if(e=D[U+1])G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255;if(e=F[U])G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255;if(e=F[U+1])G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&
255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255;if(e=E[U])G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255;if(e=E[U+1])G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255;if(e=O[U])G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255;if(e=
O[U+1])G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255;if(e=Q[U])G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255;if(e=Q[U+1])G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255;if(e=N[U])G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-
(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255;if(e=N[U+1])G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255,e>>=8,G-=G-(e&255)&G-(e&255)>>255;w[S]=G;U+=2;S+=8}}u+=1}else u+=16;m+=16;r+=16}};ra.prototype.Ul=function(a,b){var c=this.v,d,f,e,g,k,l,p=this.ca,n=this.Y>>4;var q=0;var m=q+16;for(f=0;f<p;f+=1){var r=0;var u=c[f];for(e=0;e<n;e+=1)if(l=u[e])for(g=15;0<=g;--g){if(0!==(l&1<<g)){var t=0;for(k=q;k<m;k+=1){var w=a[k];var y=r<<2;if(d=w[y]){var v=
t-(d&255|(d&1)<<5);t-=v&v>>255;d>>=8;v=t-(d&255|(d&1)<<5);t-=v&v>>255;d>>=8;v=t-(d&255|(d&1)<<5);t-=v&v>>255;d>>=8;v=t-(d&255|(d&1)<<5);t-=v&v>>255}if(d=w[y+1])v=t-(d&255|(d&1)<<5),t-=v&v>>255,d>>=8,v=t-(d&255|(d&1)<<5),t-=v&v>>255,d>>=8,v=t-(d&255|(d&1)<<5),t-=v&v>>255,d>>=8,v=t-(d&255|(d&1)<<5),t-=v&v>>255;if(d=w[y+2])v=t-(d&255|(d&1)<<5),t-=v&v>>255,d>>=8,v=t-(d&255|(d&1)<<5),t-=v&v>>255,d>>=8,v=t-(d&255|(d&1)<<5),t-=v&v>>255,d>>=8,v=t-(d&255|(d&1)<<5),t-=v&v>>255;if(d=w[y+3])v=t-(d&255|(d&1)<<
5),t-=v&v>>255,d>>=8,v=t-(d&255|(d&1)<<5),t-=v&v>>255,d>>=8,v=t-(d&255|(d&1)<<5),t-=v&v>>255,d>>=8,v=t-(d&255|(d&1)<<5),t-=v&v>>255}w=b[q];y=r<<4;w[y]=t&31}r+=1}else r+=16;q+=16;m+=16}};ra.prototype.Si=function(a,b){var c=this.v,d,f,e,g,k,l,p=this.ca,n=this.Y>>4;var q=0;var m=q+16;for(f=0;f<p;f+=1){var r=0;var u=c[f];for(e=0;e<n;e+=1)if(l=u[e])for(g=15;0<=g;--g){if(0!==(l&1<<g)){var t=0;for(k=q;k<m;k+=1){var w=a[k];var y=r<<2;if(d=w[y])t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,
d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255;if(d=w[y+1])t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255;if(d=w[y+2])t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255;if(d=w[y+3])t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255}w=b[q];
y=r<<4;w[y]=t}r+=1}else r+=16;q+=16;m+=16}};ra.prototype.am=function(a,b){var c=this.v,d,f,e,g,k,l=this.ca,p=this.Y>>4;var n=0;var q=n+32;for(f=0;f<l;f+=2){var m=0;var r=c[f];var u=c[f+1];for(e=0;e<p;e+=1){var t=r[e]|u[e];if(0!==t)for(g=49152;0<g;g>>=2){if(0!==(t&g)){var w=0;for(k=n;k<q;k+=1){var y=a[k];var v=m<<2;if(d=y[v]){var D=w-(d&255|(d&1)<<5);w-=D&D>>255;d>>=8;D=w-(d&255|(d&1)<<5);w-=D&D>>255;d>>=8;D=w-(d&255|(d&1)<<5);w-=D&D>>255;d>>=8;D=w-(d&255|(d&1)<<5);w-=D&D>>255}if(d=y[v+1])D=w-(d&255|
(d&1)<<5),w-=D&D>>255,d>>=8,D=w-(d&255|(d&1)<<5),w-=D&D>>255,d>>=8,D=w-(d&255|(d&1)<<5),w-=D&D>>255,d>>=8,D=w-(d&255|(d&1)<<5),w-=D&D>>255;if(d=y[v+2])D=w-(d&255|(d&1)<<5),w-=D&D>>255,d>>=8,D=w-(d&255|(d&1)<<5),w-=D&D>>255,d>>=8,D=w-(d&255|(d&1)<<5),w-=D&D>>255,d>>=8,D=w-(d&255|(d&1)<<5),w-=D&D>>255;if(d=y[v+3])D=w-(d&255|(d&1)<<5),w-=D&D>>255,d>>=8,D=w-(d&255|(d&1)<<5),w-=D&D>>255,d>>=8,D=w-(d&255|(d&1)<<5),w-=D&D>>255,d>>=8,D=w-(d&255|(d&1)<<5),w-=D&D>>255;if(d=y[v+4])D=w-(d&255|(d&1)<<5),w-=D&
D>>255,d>>=8,D=w-(d&255|(d&1)<<5),w-=D&D>>255,d>>=8,D=w-(d&255|(d&1)<<5),w-=D&D>>255,d>>=8,D=w-(d&255|(d&1)<<5),w-=D&D>>255;if(d=y[v+5])D=w-(d&255|(d&1)<<5),w-=D&D>>255,d>>=8,D=w-(d&255|(d&1)<<5),w-=D&D>>255,d>>=8,D=w-(d&255|(d&1)<<5),w-=D&D>>255,d>>=8,D=w-(d&255|(d&1)<<5),w-=D&D>>255;if(d=y[v+6])D=w-(d&255|(d&1)<<5),w-=D&D>>255,d>>=8,D=w-(d&255|(d&1)<<5),w-=D&D>>255,d>>=8,D=w-(d&255|(d&1)<<5),w-=D&D>>255,d>>=8,D=w-(d&255|(d&1)<<5),w-=D&D>>255;if(d=y[v+7])D=w-(d&255|(d&1)<<5),w-=D&D>>255,d>>=8,D=
w-(d&255|(d&1)<<5),w-=D&D>>255,d>>=8,D=w-(d&255|(d&1)<<5),w-=D&D>>255,d>>=8,D=w-(d&255|(d&1)<<5),w-=D&D>>255}y=b[n];v=m<<4;y[v]=w&31}m+=2}else m+=16}n+=32;q+=32}};ra.prototype.Ui=function(a,b){var c=this.v,d,f,e,g,k,l=this.ca,p=this.Y>>4;var n=0;var q=n+32;for(f=0;f<l;f+=2){var m=0;var r=c[f];var u=c[f+1];for(e=0;e<p;e+=1){var t=r[e]|u[e];if(0!==t)for(g=49152;0<g;g>>=2){if(0!==(t&g)){var w=0;for(k=n;k<q;k+=1){var y=a[k];var v=m<<2;if(d=y[v])w-=w-(d&255)&w-(d&255)>>255,d>>=8,w-=w-(d&255)&w-(d&255)>>
255,d>>=8,w-=w-(d&255)&w-(d&255)>>255,d>>=8,w-=w-(d&255)&w-(d&255)>>255;if(d=y[v+1])w-=w-(d&255)&w-(d&255)>>255,d>>=8,w-=w-(d&255)&w-(d&255)>>255,d>>=8,w-=w-(d&255)&w-(d&255)>>255,d>>=8,w-=w-(d&255)&w-(d&255)>>255;if(d=y[v+2])w-=w-(d&255)&w-(d&255)>>255,d>>=8,w-=w-(d&255)&w-(d&255)>>255,d>>=8,w-=w-(d&255)&w-(d&255)>>255,d>>=8,w-=w-(d&255)&w-(d&255)>>255;if(d=y[v+3])w-=w-(d&255)&w-(d&255)>>255,d>>=8,w-=w-(d&255)&w-(d&255)>>255,d>>=8,w-=w-(d&255)&w-(d&255)>>255,d>>=8,w-=w-(d&255)&w-(d&255)>>255;if(d=
y[v+4])w-=w-(d&255)&w-(d&255)>>255,d>>=8,w-=w-(d&255)&w-(d&255)>>255,d>>=8,w-=w-(d&255)&w-(d&255)>>255,d>>=8,w-=w-(d&255)&w-(d&255)>>255;if(d=y[v+5])w-=w-(d&255)&w-(d&255)>>255,d>>=8,w-=w-(d&255)&w-(d&255)>>255,d>>=8,w-=w-(d&255)&w-(d&255)>>255,d>>=8,w-=w-(d&255)&w-(d&255)>>255;if(d=y[v+6])w-=w-(d&255)&w-(d&255)>>255,d>>=8,w-=w-(d&255)&w-(d&255)>>255,d>>=8,w-=w-(d&255)&w-(d&255)>>255,d>>=8,w-=w-(d&255)&w-(d&255)>>255;if(d=y[v+7])w-=w-(d&255)&w-(d&255)>>255,d>>=8,w-=w-(d&255)&w-(d&255)>>255,d>>=8,
w-=w-(d&255)&w-(d&255)>>255,d>>=8,w-=w-(d&255)&w-(d&255)>>255}y=b[n];v=m<<4;y[v]=w}m+=2}else m+=16}n+=32;q+=32}};ra.prototype.ie=function(a){this.nj&&a.ba.fill(0)};ra.prototype.tk=function(a,b){var c=this.$;.5<=c&&1>c?(this.ie(this.Fa),this.m?this.Xl(a,this.Fa):this.Ti(a,this.Fa)):.25<=c&&.5>c?(this.ie(this.Fa),this.m?this.fm(b,this.Fa):this.Vi(b,this.Fa)):.125<=c&&.25>c?(this.ie(this.Fa),this.m?this.hm(b,this.Fa):this.Wi(b,this.Fa)):.0625<=c&&.125>c?(this.ie(this.Fa),this.m?this.Ul(b,this.Fa):this.Si(b,
this.Fa)):this.m?this.am(b,this.Fa):this.Ui(b,this.Fa);this.tc&&(.5<=c&&1>c?(this.ie(this.Xa),this.Ti(this.Ue,this.Xa)):.25<=c&&.5>c?(this.ie(this.Xa),this.Vi(this.Fd,this.Xa)):.125<=c&&.25>c?(this.ie(this.Xa),this.Wi(this.Fd,this.Xa)):.0625<=c&&.125>c?(this.ie(this.Xa),this.Si(this.Fd,this.Xa)):this.Ui(this.Fd,this.Xa));this.nj=.0625>c?!0:!1};ra.prototype.Nb=function(a,b,c,d,f){var e=-1,g=-1,k,l=this.width,p=this.height;for(k=0;k<a.length;k+=1)a[k]&&(k<c&&(c=k),k>e&&(e=k));for(k=0;k<b.length;k+=
1)b[k]&&(k<d&&(d=k),k>g&&(g=k));c=(c<<4)+this.ub(a[c]);e=(e<<4)+this.Eb(a[e]);d=(d<<4)+this.ub(b[d]);g=(g<<4)+this.Eb(b[g]);0>g&&(g=p-1);d>=p&&(d=0);c>=l&&(c=0);0>e&&(e=l-1);g>p-1&&(g=p-1);0>d&&(d=0);0>c&&(c=0);e>l-1&&(e=l-1);f.K=g;f.H=d;f.F=c;f.J=e};ra.prototype.Kb=function(a){var b,c,d,f=this.Y>>4,e=this.Pa,g,k;var l=0;var p=l+16;for(b=0;b<e.length;b+=1){var n=0;var q=e[b];for(c=0;c<f;c+=1)if(g=q[c])for(k=15;0<=k;--k){if(g&1<<k){var m=n>>2;for(d=l;d<p;d+=1){var r=a[d];r[m]=0;r[m+1]=0;r[m+2]=0;r[m+
3]=0}}n+=16}else n+=256;l+=16;p+=16}};ra.prototype.Kl=function(a){var b,c,d,f=this.Y>>4,e=this.Pa,g,k;var l=0;var p=l+16;for(b=0;b<e.length;b+=1){var n=0;var q=e[b];for(c=0;c<f;c+=1)if(g=q[c])for(k=15;0<=k;--k){if(g&1<<k){var m=n;for(d=l;d<p;d+=1){var r=a[d];r[m]=0}}n+=1}else n+=16;l+=16;p+=16}};ra.prototype.uo=function(){var a=this.Pa,b,c,d,f=this.width,e=this.height,g=this.A,k=0,l=0,p=0,n,q,m=this.Ja,r,u=this.Va,t,w,y=this.ca,v=this.Y>>4,D=this.La,F=this.U.o,E=[0,1,2,3,4,5,7,6,8,9,11,10,13,12,14,
15,16,17,18,20,19];if(0===(this.counter&1)){var O=this.X;var Q=this.Ea;var N=this.i;var U=this.V;var S=this.L;this.eb&&(F=this.U.sa)}else O=this.i,Q=this.Da,N=this.X,U=this.L,S=this.V;m.fill(0);u.fill(0);var G=0;var L=G+16;S.ba.fill(0);for(b=0;b<U.length;b+=1){var P=0;var fa=P+16;var ha=U[b];var ja=S[b];var ca=a[b];var Z=0<b?S[b-1]:D;var la=b<y-1?S[b+1]:D;for(c=0;c<v;c+=1){var da=ha[c];var na=0;if(da){var X=ja[c];var ma=Z[c];var aa=la[c];for(d=15;0<=d;--d){if(0!==(da&1<<d)){var Y=t=r=n=0;var V=G;
for(w=32768;V<L;){var oa=0===V?this.na:O[V-1];var R=O[V];var C=V===this.height-1?this.na:O[V+1];var z=N[V];var K=32768;var M=P;var J=0===M?0:R[M-1];for(q=R[M];M<fa-1;){var x=oa[M];var A=J;J=q;q=R[M+1];var ka=C[M];if(2<=J)x=E[J];else{var W=1<<x|1<<A|1<<q|1<<ka;W&(J?82124:29440)?x=1-J:J||!(W&98304)||W&2?(W=J?1414486:759126,x=F[(W>>ka&1)<<7|(W>>A&1)<<5|J<<4|(W>>q&1)<<3|(W>>x&1)<<1]):x=0}z[M]=x;A=J?1:0;0<x?(p+=1,k+=1-A):l+=A;0<x&&(t|=w,r|=K);n|=J;K>>=1;M+=1}x=oa[M];A=J;J=q;q=M===f-1?0:R[M+1];ka=C[M];
2<=J?x=E[J]:(W=1<<x|1<<A|1<<q|1<<ka,W&(J?82124:29440)?x=1-J:J||!(W&98304)||W&2?(W=J?1414486:759126,x=F[(W>>ka&1)<<7|(W>>A&1)<<5|J<<4|(W>>q&1)<<3|(W>>x&1)<<1]):x=0);z[M]=x;A=J?1:0;0<x?(p+=1,k+=1-A):l+=A;0<x&&(t|=w,r|=K);n|=J;V+=1;w>>=1}m[P>>4]|=r;r?(X|=1<<d,t&1&&(Y|=I.sb,r&32768&&(Y|=I.Db),r&1&&(Y|=I.rb)),t&32768&&(Y|=I.xb,r&32768&&(Y|=I.zb),r&1&&(Y|=I.Ab)),r&32768&&(Y|=I.pb),r&1&&(Y|=I.kb),Y&&(0!==(Y&I.pb)&&(15>d?X|=1<<d+1:0<c&&0<P&&(ja[c-1]|=1)),0!==(Y&I.kb)&&(0<d?X|=1<<d-1:c<v-1&&P<f-1&&(ja[c+1]|=
32768)),0!==(Y&I.xb)&&(ma|=1<<d),0!==(Y&I.sb)&&(aa|=1<<d),0!==(Y&I.zb)&&(15>d?ma|=1<<d+1:0<c&&0<P&&(Z[c-1]|=1)),0!==(Y&I.Ab)&&(0<d?ma|=1<<d-1:c<v-1&&P<f-1&&(Z[c+1]|=32768)),0!==(Y&I.Db)&&(15>d?aa|=1<<d+1:0<c&&0<P&&(la[c-1]|=1)),0!==(Y&I.rb)&&(0<d?aa|=1<<d-1:c<v-1&&P<f-1&&(la[c+1]|=32768)))):n&&(na|=1<<d);u[b]|=t}P+=16;fa+=16}ja[c]|=X;0<b&&(Z[c]|=ma);b<y-1&&(la[c]|=aa)}else P+=256,fa+=256;ca[c]=na}G+=16;L+=16}this.Nb(m,u,f,e,g);D.fill(0);this.Kb(Q);for(V=0;V<this.v.ba.length;V+=1)this.v.ba[V]=this.v.ba[V]|
U.ba[V]|S.ba[V];this.s=p;this.oa=k;this.fa=l};ra.prototype.po=function(){var a=this.Pa,b,c,d,f=this.width,e=this.height,g=this.A,k=0,l=0,p=0,n,q,m,r,u=this.Ja,t,w=this.Va,y,v,D=this.ca,F=this.Y>>4,E=this.La,O=this.U.o,Q=[0,1,2,3,4,5,7,6,8,9,11,10,13,12,14,15,16,17,18,20,19];if(0===(this.counter&1)){var N=this.X;var U=this.Ea;var S=this.i;var G=this.V;var L=this.L;this.eb&&(O=this.U.o)}else N=this.i,U=this.Da,S=this.X,G=this.L,L=this.V,this.eb&&(O=this.U.sa);u.fill(0);w.fill(0);var P=0;var fa=P+16;
L.ba.fill(0);for(b=0;b<G.length;b+=1){var ha=0;var ja=ha+16;var ca=G[b];var Z=L[b];var la=a[b];var da=0<b?L[b-1]:E;var na=b<D-1?L[b+1]:E;for(c=0;c<F;c+=1){var X=ca[c];var ma=0;if(X){var aa=Z[c];var Y=da[c];var V=na[c];for(d=15;0<=d;--d){if(0!==(X&1<<d)){var oa=y=t=n=0;var R=P;for(v=32768;R<fa;){var C=0===R?this.na:N[R-1];var z=N[R];var K=R===this.height-1?this.na:N[R+1];var M=S[R];var J=32768;var x=ha;if(0===x)var A=m=q=0;else q=C[x-1],m=z[x-1],A=K[x-1];var ka=C[x];var W=z[x];for(r=K[x];x<ja-1;){var qa=
q;var sa=m;var ia=A;q=ka;m=W;A=r;ka=C[x+1];W=z[x+1];r=K[x+1];if(2<=m)qa=Q[m];else{var ta=1<<qa|1<<q|1<<sa|1<<W|1<<A|1<<r;ta&(m?82124:29440)?qa=1-m:m||!(ta&98304)||ta&2?(ta=m?1414486:759126,qa=O[(ta>>ia&1)<<8|(ta>>A&1)<<7|(ta>>r&1)<<6|(ta>>sa&1)<<5|m<<4|(ta>>W&1)<<3|(ta>>qa&1)<<2|(ta>>q&1)<<1|ta>>ka&1]):qa=0}M[x]=qa;sa=m?1:0;0<qa?(p+=1,k+=1-sa):l+=sa;0<qa&&(y|=v,t|=J);n|=m;J>>=1;x+=1}qa=q;sa=m;ia=A;q=ka;m=W;A=r;x===f-1?ka=r=W=0:(ka=C[x+1],W=z[x+1],r=K[x+1]);2<=m?qa=Q[m]:(ta=1<<qa|1<<q|1<<sa|1<<W|1<<
A|1<<r,ta&(m?82124:29440)?qa=1-m:m||!(ta&98304)||ta&2?(ta=m?1414486:759126,qa=O[(ta>>ia&1)<<8|(ta>>A&1)<<7|(ta>>r&1)<<6|(ta>>sa&1)<<5|m<<4|(ta>>W&1)<<3|(ta>>qa&1)<<2|(ta>>q&1)<<1|ta>>ka&1]):qa=0);M[x]=qa;sa=m?1:0;0<qa?(p+=1,k+=1-sa):l+=sa;0<qa&&(y|=v,t|=J);n|=m;R+=1;v>>=1}u[ha>>4]|=t;t?(aa|=1<<d,y&1&&(oa|=I.sb,t&32768&&(oa|=I.Db),t&1&&(oa|=I.rb)),y&32768&&(oa|=I.xb,t&32768&&(oa|=I.zb),t&1&&(oa|=I.Ab)),t&32768&&(oa|=I.pb),t&1&&(oa|=I.kb),oa&&(0!==(oa&I.pb)&&(15>d?aa|=1<<d+1:0<c&&0<ha&&(Z[c-1]|=1)),
0!==(oa&I.kb)&&(0<d?aa|=1<<d-1:c<F-1&&ha<f-1&&(Z[c+1]|=32768)),0!==(oa&I.xb)&&(Y|=1<<d),0!==(oa&I.sb)&&(V|=1<<d),0!==(oa&I.zb)&&(15>d?Y|=1<<d+1:0<c&&0<ha&&(da[c-1]|=1)),0!==(oa&I.Ab)&&(0<d?Y|=1<<d-1:c<F-1&&ha<f-1&&(da[c+1]|=32768)),0!==(oa&I.Db)&&(15>d?V|=1<<d+1:0<c&&0<ha&&(na[c-1]|=1)),0!==(oa&I.rb)&&(0<d?V|=1<<d-1:c<F-1&&ha<f-1&&(na[c+1]|=32768)))):n&&(ma|=1<<d);w[b]|=y}ha+=16;ja+=16}Z[c]|=aa;0<b&&(da[c]|=Y);b<D-1&&(na[c]|=V)}else ha+=256,ja+=256;la[c]=ma}P+=16;fa+=16}this.Nb(u,w,f,e,g);E.fill(0);
this.Kb(U);for(R=0;R<this.v.ba.length;R+=1)this.v.ba[R]=this.v.ba[R]|G.ba[R]|L.ba[R];this.s=p;this.oa=k;this.fa=l};ra.prototype.ro=function(){var a=this.Pa,b,c,d,f=this.width,e=this.height,g=this.A,k=0,l=0,p=0,n,q,m,r,u=this.Ja,t,w=this.Va,y,v,D=this.ca,F=this.Y>>4,E=this.La,O=this.U.o,Q=[0,1,2,3,4,5,7,6,8,9,11,10,13,12,14,15,16,17,18,20,19];if(0===(this.counter&1)){var N=this.X;var U=this.Ea;var S=this.i;var G=this.V;var L=this.L;this.eb&&(O=this.U.o)}else N=this.i,U=this.Da,S=this.X,G=this.L,L=
this.V,this.eb&&(O=this.U.sa);u.fill(0);w.fill(0);var P=0;var fa=P+16;L.ba.fill(0);for(b=0;b<G.length;b+=1){var ha=0;var ja=ha+16;var ca=G[b];var Z=L[b];var la=a[b];var da=0<b?L[b-1]:E;var na=b<D-1?L[b+1]:E;for(c=0;c<F;c+=1){var X=ca[c];var ma=0;if(X){var aa=Z[c];var Y=da[c];var V=na[c];for(d=15;0<=d;--d){if(0!==(X&1<<d)){var oa=y=t=n=0;var R=P;for(v=32768;R<fa;){var C=0===R?this.na:N[R-1];var z=N[R];var K=R===this.height-1?this.na:N[R+1];var M=S[R];var J=32768;var x=ha;if(0===x)var A=m=q=0;else q=
C[x-1],m=z[x-1],A=K[x-1];var ka=C[x];var W=z[x];for(r=K[x];x<ja-1;){var qa=q;var sa=m;var ia=A;q=ka;m=W;A=r;ka=C[x+1];W=z[x+1];r=K[x+1];if(2<=m)qa=Q[m];else{var ta=1<<qa|1<<q|1<<ka|1<<sa|1<<W|1<<ia|1<<A|1<<r;1===ta&&0===m?qa=0:ta&(m?82124:29440)?qa=1-m:m||!(ta&98304)||ta&2?(ta=m?1414486:759126,qa=O[(ta>>ia&1)<<8|(ta>>A&1)<<7|(ta>>r&1)<<6|(ta>>sa&1)<<5|m<<4|(ta>>W&1)<<3|(ta>>qa&1)<<2|(ta>>q&1)<<1|ta>>ka&1]):qa=0}M[x]=qa;sa=m?1:0;0<qa?(p+=1,k+=1-sa):l+=sa;0<qa&&(y|=v,t|=J);n|=m;J>>=1;x+=1}qa=q;sa=m;
ia=A;q=ka;m=W;A=r;x===f-1?r=W=ka=0:(ka=C[x+1],W=z[x+1],r=K[x+1]);2<=m?qa=Q[m]:(ta=1<<qa|1<<q|1<<ka|1<<sa|1<<W|1<<ia|1<<A|1<<r,1===ta&&0===m?qa=0:ta&(m?82124:29440)?qa=1-m:m||!(ta&98304)||ta&2?(ta=m?1414486:759126,qa=O[(ta>>ia&1)<<8|(ta>>A&1)<<7|(ta>>r&1)<<6|(ta>>sa&1)<<5|m<<4|(ta>>W&1)<<3|(ta>>qa&1)<<2|(ta>>q&1)<<1|ta>>ka&1]):qa=0);M[x]=qa;sa=m?1:0;0<qa?(p+=1,k+=1-sa):l+=sa;0<qa&&(y|=v,t|=J);n|=m;R+=1;v>>=1}u[ha>>4]|=t;t?(aa|=1<<d,y&1&&(oa|=I.sb,t&32768&&(oa|=I.Db),t&1&&(oa|=I.rb)),y&32768&&(oa|=
I.xb,t&32768&&(oa|=I.zb),t&1&&(oa|=I.Ab)),t&32768&&(oa|=I.pb),t&1&&(oa|=I.kb),oa&&(0!==(oa&I.pb)&&(15>d?aa|=1<<d+1:0<c&&0<ha&&(Z[c-1]|=1)),0!==(oa&I.kb)&&(0<d?aa|=1<<d-1:c<F-1&&ha<f-1&&(Z[c+1]|=32768)),0!==(oa&I.xb)&&(Y|=1<<d),0!==(oa&I.sb)&&(V|=1<<d),0!==(oa&I.zb)&&(15>d?Y|=1<<d+1:0<c&&0<ha&&(da[c-1]|=1)),0!==(oa&I.Ab)&&(0<d?Y|=1<<d-1:c<F-1&&ha<f-1&&(da[c+1]|=32768)),0!==(oa&I.Db)&&(15>d?V|=1<<d+1:0<c&&0<ha&&(na[c-1]|=1)),0!==(oa&I.rb)&&(0<d?V|=1<<d-1:c<F-1&&ha<f-1&&(na[c+1]|=32768)))):n&&(ma|=1<<
d);w[b]|=y}ha+=16;ja+=16}Z[c]|=aa;0<b&&(da[c]|=Y);b<D-1&&(na[c]|=V)}else ha+=256,ja+=256;la[c]=ma}P+=16;fa+=16}this.Nb(u,w,f,e,g);E.fill(0);this.Kb(U);for(R=0;R<this.v.ba.length;R+=1)this.v.ba[R]=this.v.ba[R]|G.ba[R]|L.ba[R];this.s=p;this.oa=k;this.fa=l};ra.prototype.Gm=function(){var a=this.v,b=this.ra,c=this.na,d,f,e,g,k=this.width,l=k>>4,p=this.height,n=k,q=-1,m=-1,r=p,u=this.A,t=k,w=-1,y=-1,v=p,D=this.pg,F,E=this.Ja,O=this.xf,Q,N,U,S=this.Va,G=this.mf,L;var P=this.ca;var fa=this.Y>>4;var ha=0;
var ja=P,ca=this.kc;if(0!==(this.counter&1)){var Z=this.Qa;var la=this.V;var da=this.i;var na=this.X}else Z=this.va,la=this.L,da=this.X,na=this.i;0>ha&&(ha=0);ja>P&&(ja=P);E.fill(0);O.fill(0);S.fill(0);G.fill(0);P=ha<<4;var X=P+16;for(d=ha;d<ja;d+=1){var ma=0;var aa=la[d];var Y=b[d];var V=a[d];for(f=0;f<fa;f+=1){if(g=aa[f]|Y[f])for(e=15;0<=e;--e){if(0!==(g&1<<e)){var oa=L=N=Q=0;var R=32768;for(ha=P;ha<X;ha+=1){var C=Z[ha];var z=da[ha];var K=0===ha?c:da[ha-1];var M=ha===this.height-1?c:da[ha+1];var J=
na[ha];var x=ma<<4;if(0===x)var A=F=0;else F=z[x-1],A=K[x-1];var ka=M[x];var W=z[x];var qa=C[ma];for(U=32768;0<U;){var sa=A;A=K[x];var ia=F;F=W;W=z[x+1];var ta=ka;ka=M[x+1];var ya=F;sa=1<<sa|1<<A|1<<W|1<<ia|1<<ta|1<<ka;ia=!0;if(0!==(sa&64)){ia=!1;if(7===F||8===F||13<=F)ya=0;else switch(F){case 1:ya=2;break;case 3:case 5:ya=4;break;case 9:ya=10;break;case 11:ya=12;break;default:ia=!0}ia||0===(F&1)||(C[ma]&=~U,this.fa+=1,--this.s)}if(ia)if(0!==(qa&U)){if(0===(F&1))switch(F){case 4:ya=3;break;case 6:C[ma]&
U&&(C[ma]&=~U,this.fa+=1,--this.s);break;case 8:ya=7;break;default:ya=1,ia=sa&44739072,0===(sa&170)&&1===ca[ia&65535]+ca[ia>>16]?(ya=0,65535<ia&&(ia>>=16,ya+=16),255<ia&&(ia>>=8,ya+=8),15<ia&&(ia>>=4,ya+=4),3<ia&&(ia>>=2,ya+=2),ya+=ia>>1):(ia=sa&44736512,0!==(sa&8)&&0===(sa&2722)&&1===ca[ia&65535]+ca[ia>>16]?(ya=0,65535<ia&&(ia>>=16,ya+=16),255<ia&&(ia>>=8,ya+=8),15<ia&&(ia>>=4,ya+=4),3<ia&&(ia>>=2,ya+=2),ya+=ia>>1):(ia=sa&2560,0!==(sa&128)&&0===(sa&44736554)&&1===ca[ia&65535]+ca[ia>>16]?(ya=0,65535<
ia&&(ia>>=16,ya+=16),255<ia&&(ia>>=8,ya+=8),15<ia&&(ia>>=4,ya+=4),3<ia&&(ia>>=2,ya+=2),ya+=ia>>1):(ia=sa&44736640)&&0===(sa&2602)&&(ya=13)))}}else if(0!==(F&1))ya=11>=F?5===F?4:F+1:0;else if(14===F)ya=0;else if(14<F)switch(F){case 16:0!==(sa&44755626)&&(ya=14);break;case 18:0!==(sa&4194304)&&(ya=22);break;case 20:0!==(sa&262144)&&(ya=18);break;case 22:0!==(sa&1048576)&&(ya=20);break;case 24:0!==(sa&45017770)&&(ya=18)}J[x]=ya;0<ya&&(Q|=U,L|=R,ya&1&&(N|=U,oa|=R));U>>=1;x+=1}R>>=1}E[ma]|=Q;S[d]|=L;O[ma]|=
N;G[d]|=oa}ma+=1}else ma+=16;Y[f]=g|0;V[f]=V[f]|g|0}P+=16;X+=16}for(f=0;f<l;f+=1)E[f]&&(f<n&&(n=f),f>q&&(q=f)),O[f]&&(f<t&&(t=f),f>w&&(w=f));for(d=0;d<S.length;d+=1)S[d]&&(d<r&&(r=d),d>m&&(m=d)),G[d]&&(d<v&&(v=d),d>y&&(y=d));n=(n<<4)+this.ub(E[n]);q=(q<<4)+this.Eb(E[q]);r=(r<<4)+this.ub(S[r]);m=(m<<4)+this.Eb(S[m]);0>m&&(m=p-1);r>=p&&(r=0);n>=k&&(n=0);0>q&&(q=k-1);m>p-1&&(m=p-1);0>r&&(r=0);0>n&&(n=0);q>k-1&&(q=k-1);u.K=m;u.H=r;u.F=n;u.J=q;t=(t<<4)+this.ub(O[t]);w=(w<<4)+this.Eb(O[w]);v=(v<<4)+this.ub(G[v]);
y=(y<<4)+this.Eb(G[y]);0>y&&(y=p-1);v>=p&&(v=0);t>=k&&(t=0);0>w&&(w=k-1);y>p-1&&(y=p-1);0>v&&(v=0);0>t&&(t=0);w>k-1&&(w=k-1);D.K=y;D.H=v;D.F=t;D.J=w};ra.prototype.Km=function(){var a=this.v,b=this.ra,c=this.na,d,f,e,g,k=this.width,l=k>>4,p=this.height,n=k,q=-1,m=-1,r=p,u=this.A,t=k,w=-1,y=-1,v=p,D=this.pg,F=this.Ja,E=this.xf,O,Q,N,U=this.Va,S=this.mf,G;var L=this.ca;var P=this.Y>>4;var fa=0;var ha=L,ja=this.kc;if(0!==(this.counter&1)){var ca=this.Qa;var Z=this.V;var la=this.i;var da=this.X}else ca=
this.va,Z=this.L,la=this.X,da=this.i;0>fa&&(fa=0);ha>L&&(ha=L);F.fill(0);E.fill(0);U.fill(0);S.fill(0);L=fa<<4;var na=L+16;for(d=fa;d<ha;d+=1){var X=0;var ma=Z[d];var aa=b[d];var Y=a[d];for(f=0;f<P;f+=1){if(g=ma[f]|aa[f])for(e=15;0<=e;--e){if(0!==(g&1<<e)){var V=G=Q=O=0;var oa=32768;for(fa=L;fa<na;fa+=1){var R=ca[fa];var C=la[fa];var z=0===fa?c:la[fa-1];var K=fa===this.height-1?c:la[fa+1];var M=da[fa];var J=X<<4;var x=0===J?0:C[J-1];var A=C[J];var ka=R[X];for(N=32768;0<N;){var W=z[J];var qa=x;x=A;
A=C[J+1];var sa=K[J];var ia=x;W=1<<W|1<<A|1<<qa|1<<sa;qa=!0;if(0!==(W&64)){qa=!1;if(7===x||8===x||13<=x)ia=0;else switch(x){case 1:ia=2;break;case 3:case 5:ia=4;break;case 9:ia=10;break;case 11:ia=12;break;default:qa=!0}qa||0===(x&1)||(R[X]&=~N,this.fa+=1,--this.s)}if(qa)if(0!==(ka&N)){if(0===(x&1))switch(x){case 4:ia=3;break;case 6:R[X]&N&&(R[X]&=~N,this.fa+=1,--this.s);break;case 8:ia=7;break;default:ia=1,qa=W&44739072,0===(W&170)&&1===ja[qa&65535]+ja[qa>>16]?(ia=0,65535<qa&&(qa>>=16,ia+=16),255<
qa&&(qa>>=8,ia+=8),15<qa&&(qa>>=4,ia+=4),3<qa&&(qa>>=2,ia+=2),ia+=qa>>1):(qa=W&44736512,0!==(W&8)&&0===(W&2722)&&1===ja[qa&65535]+ja[qa>>16]?(ia=0,65535<qa&&(qa>>=16,ia+=16),255<qa&&(qa>>=8,ia+=8),15<qa&&(qa>>=4,ia+=4),3<qa&&(qa>>=2,ia+=2),ia+=qa>>1):(qa=W&2560,0!==(W&128)&&0===(W&44736554)&&1===ja[qa&65535]+ja[qa>>16]?(ia=0,65535<qa&&(qa>>=16,ia+=16),255<qa&&(qa>>=8,ia+=8),15<qa&&(qa>>=4,ia+=4),3<qa&&(qa>>=2,ia+=2),ia+=qa>>1):(qa=W&44736640)&&0===(W&2602)&&(ia=13)))}}else if(0!==(x&1))ia=11>=x?5===
x?4:x+1:0;else if(14===x)ia=0;else if(14<x)switch(x){case 16:0!==(W&44755626)&&(ia=14);break;case 18:0!==(W&4194304)&&(ia=22);break;case 20:0!==(W&262144)&&(ia=18);break;case 22:0!==(W&1048576)&&(ia=20);break;case 24:0!==(W&45017770)&&(ia=18)}M[J]=ia;0<ia&&(O|=N,G|=oa,ia&1&&(Q|=N,V|=oa));N>>=1;J+=1}oa>>=1}F[X]|=O;U[d]|=G;E[X]|=Q;S[d]|=V}X+=1}else X+=16;aa[f]=g|0;Y[f]=Y[f]|g|0}L+=16;na+=16}for(f=0;f<l;f+=1)F[f]&&(f<n&&(n=f),f>q&&(q=f)),E[f]&&(f<t&&(t=f),f>w&&(w=f));for(d=0;d<U.length;d+=1)U[d]&&(d<
r&&(r=d),d>m&&(m=d)),S[d]&&(d<v&&(v=d),d>y&&(y=d));n=(n<<4)+this.ub(F[n]);q=(q<<4)+this.Eb(F[q]);r=(r<<4)+this.ub(U[r]);m=(m<<4)+this.Eb(U[m]);0>m&&(m=p-1);r>=p&&(r=0);n>=k&&(n=0);0>q&&(q=k-1);m>p-1&&(m=p-1);0>r&&(r=0);0>n&&(n=0);q>k-1&&(q=k-1);u.K=m;u.H=r;u.F=n;u.J=q;t=(t<<4)+this.ub(E[t]);w=(w<<4)+this.Eb(E[w]);v=(v<<4)+this.ub(S[v]);y=(y<<4)+this.Eb(S[y]);0>y&&(y=p-1);v>=p&&(v=0);t>=k&&(t=0);0>w&&(w=k-1);y>p-1&&(y=p-1);0>v&&(v=0);0>t&&(t=0);w>k-1&&(w=k-1);D.K=y;D.H=v;D.F=t;D.J=w};ra.prototype.Im=
function(){var a=this.v,b=this.ra,c=this.na,d,f,e,g,k=this.width,l=k>>4,p=this.height,n=k,q=-1,m=-1,r=p,u=this.A,t=k,w=-1,y=-1,v=p,D=this.pg,F=this.Ja,E=this.xf,O,Q,N,U=this.Va,S=this.mf,G;var L=this.ca;var P=this.Y>>4;var fa=0;var ha=L;if(0!==(this.counter&1)){var ja=this.Qa;var ca=this.V;var Z=this.i;var la=this.X}else ja=this.va,ca=this.L,Z=this.X,la=this.i;0>fa&&(fa=0);ha>L&&(ha=L);F.fill(0);E.fill(0);U.fill(0);S.fill(0);L=fa<<4;var da=L+16;for(d=fa;d<ha;d+=1){var na=0;var X=ca[d];var ma=b[d];
var aa=a[d];for(f=0;f<P;f+=1){if(g=X[f]|ma[f])for(e=15;0<=e;--e){if(0!==(g&1<<e)){var Y=G=Q=O=0;var V=32768;for(fa=L;fa<da;fa+=1){var oa=ja[fa];var R=Z[fa];var C=0===fa?c:Z[fa-1];var z=fa===this.height-1?c:Z[fa+1];var K=la[fa];var M=na<<4;if(0===M)var J=0;else{var x=R[M-1];J=1<<C[M-1]|1<<x|1<<z[M-1]}var A=R[M];var ka=1<<A|1<<z[M]|1<<C[M];var W=oa[na];for(N=32768;0<N;){M+=1;x=A;A=R[M];var qa=J;J=ka;ka=1<<A|1<<z[M]|1<<C[M];var sa=x;qa=qa|J|ka;var ia=!0;if(0!==(qa&64)){ia=!1;if(7===x||8===x||13<=x)sa=
0;else switch(x){case 1:sa=2;break;case 3:case 5:sa=4;break;case 9:sa=10;break;case 11:sa=12;break;default:ia=!0}!ia&&0!==(x&1)&&oa[na]&N&&(oa[na]&=~N,this.fa+=1,--this.s)}if(ia)if(0!==(W&N)){if(0===(x&1))switch(x){case 4:sa=3;break;case 6:oa[na]&N&&(oa[na]&=~N,--this.oa,--this.s);break;case 8:sa=7;break;default:sa=1,x=qa&44739072,0===(qa&170)&&x&&0===(x&x-1)?(sa=0,65535<x&&(x>>=16,sa+=16),sa+=31-Math.clz32(x)):(x=qa&44736512,0!==(qa&8)&&0===(qa&2722)&&x&&0===(x&x-1)?(sa=0,65535<x&&(x>>=16,sa+=16),
sa+=31-Math.clz32(x)):(x=qa&2560,0!==(qa&128)&&0===(qa&44736554)&&x&&0===(x&x-1)?(sa=0,65535<x&&(x>>=16,sa+=16),sa+=31-Math.clz32(x)):(x=qa&44736640)&&0===(qa&2602)&&(sa=13)))}}else if(0!==(x&1))sa=11>=x?5===x?4:x+1:0;else if(14<=x)switch(x){case 14:sa=0;break;case 16:0!==(qa&44755626)&&(sa=14);break;case 18:0!==(qa&4194304)&&(sa=22);break;case 20:0!==(qa&262144)&&(sa=18);break;case 22:0!==(qa&1048576)&&(sa=20);break;case 24:0!==(qa&45017770)&&(sa=18)}K[M-1]=sa;0<sa&&(O|=N,G|=V,sa&1&&(Q|=N,Y|=V));
N>>=1}V>>=1}F[na]|=O;U[d]|=G;E[na]|=Q;S[d]|=Y}na+=1}else na+=16;ma[f]=g|0;aa[f]=aa[f]|g|0}L+=16;da+=16}for(f=0;f<l;f+=1)F[f]&&(f<n&&(n=f),f>q&&(q=f)),E[f]&&(f<t&&(t=f),f>w&&(w=f));for(d=0;d<U.length;d+=1)U[d]&&(d<r&&(r=d),d>m&&(m=d)),S[d]&&(d<v&&(v=d),d>y&&(y=d));n=(n<<4)+this.ub(F[n]);q=(q<<4)+this.Eb(F[q]);r=(r<<4)+this.ub(U[r]);m=(m<<4)+this.Eb(U[m]);0>m&&(m=p-1);r>=p&&(r=0);n>=k&&(n=0);0>q&&(q=k-1);m>p-1&&(m=p-1);0>r&&(r=0);0>n&&(n=0);q>k-1&&(q=k-1);u.K=m;u.H=r;u.F=n;u.J=q;t=(t<<4)+this.ub(E[t]);
w=(w<<4)+this.Eb(E[w]);v=(v<<4)+this.ub(S[v]);y=(y<<4)+this.Eb(S[y]);0>y&&(y=p-1);v>=p&&(v=0);t>=k&&(t=0);0>w&&(w=k-1);y>p-1&&(y=p-1);0>v&&(v=0);0>t&&(t=0);w>k-1&&(w=k-1);D.K=y;D.H=v;D.F=t;D.J=w};ra.prototype.wo=function(){var a=this.i,b=this.v,c=this.ra,d,f,e,g,k,l=0,p=0,n=0,q=this.width,m=q>>4,r=this.height,u=q,t=-1,w=-1,y=r,v=this.A,D=this.Ja,F,E,O=this.Va;var Q=this.ca;var N=this.Y>>4;var U=0;var S=Q,G=this.h+this.u-1,L=this.u,P=0<this.u?1:0;if(0!==(this.counter&1)){var fa=this.Qa;var ha=this.V}else fa=
this.va,ha=this.L;0>U&&(U=0);S>Q&&(S=Q);D.fill(0);O.fill(0);Q=U<<4;var ja=Q+16;for(f=U;f<S;f+=1){var ca=0;var Z=ha[f];var la=c[f];var da=b[f];for(e=0;e<N;e+=1){var na=Z[e]|la[e];var X=0;if(na)for(g=15;0<=g;--g){if(0!==(na&1<<g)){var ma=F=0;var aa=32768;var Y=0;for(U=Q;U<ja;U+=1){var V=fa[U];var oa=a[U];var R=ca<<4;var C=V[ca];for(k=E=32768;0<k;){var z=d=oa[R];(d<=L||d===G)&&0!==(C&k)?d=G:(C&=~k,d>P&&--d);oa[R]=d;d>P&&(Y=1,d>L&&(F|=E,ma|=aa),d===G&&(l+=1,z!==G&&(p+=1)));z===G&&d!==G&&(n+=1);E>>=1;
R+=1;k>>=1;z=d=oa[R];(d<=L||d===G)&&0!==(C&k)?d=G:(C&=~k,d>P&&--d);oa[R]=d;d>P&&(Y=1,d>L&&(F|=E,ma|=aa),d===G&&(l+=1,z!==G&&(p+=1)));z===G&&d!==G&&(n+=1);E>>=1;R+=1;k>>=1;z=d=oa[R];(d<=L||d===G)&&0!==(C&k)?d=G:(C&=~k,d>P&&--d);oa[R]=d;d>P&&(Y=1,d>L&&(F|=E,ma|=aa),d===G&&(l+=1,z!==G&&(p+=1)));z===G&&d!==G&&(n+=1);E>>=1;R+=1;k>>=1;z=d=oa[R];(d<=L||d===G)&&0!==(C&k)?d=G:(C&=~k,d>P&&--d);oa[R]=d;d>P&&(Y=1,d>L&&(F|=E,ma|=aa),d===G&&(l+=1,z!==G&&(p+=1)));z===G&&d!==G&&(n+=1);E>>=1;R+=1;k>>=1}V[ca]=C;aa>>=
1}D[ca]|=F;O[f]|=ma;Y&&(X|=1<<g)}ca+=1}else ca+=16;la[e]=X;da[e]|=X}Q+=16;ja+=16}for(e=0;e<m;e+=1)D[e]&&(e<u&&(u=e),e>t&&(t=e));for(f=0;f<O.length;f+=1)O[f]&&(f<y&&(y=f),f>w&&(w=f));u=(u<<4)+this.ub(D[u]);t=(t<<4)+this.Eb(D[t]);y=(y<<4)+this.ub(O[y]);w=(w<<4)+this.Eb(O[w]);0>w&&(w=r-1);y>=r&&(y=0);u>=q&&(u=0);0>t&&(t=q-1);w>r-1&&(w=r-1);0>y&&(y=0);0>u&&(u=0);t>q-1&&(t=q-1);v.K=w;v.H=y;v.F=u;v.J=t;this.s=l;this.oa=p;this.fa=n};ra.prototype.ue=function(){this.ha||this.l||this.o||this.m||this.B||(-1===
this.h&&(this.Vb?this.Ol():this.Pl()),this.hd&&this.nl())};ra.prototype.yl=function(){var a,b=this.$d,c=this.v,d,f,e,g=0,k,l=this.ca,p=this.Y>>4;var n=16;for(d=0;d<l;d+=1){var q=0;var m=c[d];for(f=0;f<p;f+=1)if(k=m[f])for(e=15;0<=e;--e){if(0!==(k&1<<e))for(a=g;a<n;){var r=b[a];var u=q<<3;r[u]&=16448;u+=1;r[u]&=16448;u+=1;r[u]&=16448;u+=1;r[u]&=16448;u+=1;r[u]&=16448;u+=1;r[u]&=16448;u+=1;r[u]&=16448;u+=1;r[u]&=16448;a+=1}q+=1}else q+=16;g+=16;n+=16}};ra.prototype.no=function(){var a=this.O,b=this.M,
c=this.A;this.ia?this.po():this.bd?this.uo():this.ro();if(-1!==this.D){var d=Math.round((this.width-a)/2);var f=Math.round((this.height-b)/2);a=d+a-1;b=f+b-1;c.F<d&&(c.F=d);c.J>a&&(c.J=a);c.H<f&&(c.H=f);c.K>b&&(c.K=b)}};ra.prototype.Em=function(){var a=this.O,b=this.M,c=this.A;this.ia?this.Gm():this.bd?this.Km():this.Im();if(-1!==this.D){var d=Math.round((this.width-a)/2);var f=Math.round((this.height-b)/2);a=d+a-1;b=f+b-1;c.F<d&&(c.F=d);c.J>a&&(c.J=a);c.H<f&&(c.H=f);c.K>b&&(c.K=b)}};ra.prototype.um=
function(){switch(this.Pc){case Aa.Ai:if(null!==this.Ga&&this.Yb&&-1===this.hb)switch(this.Yd){case 1:this.rj();break;case 2:this.sj();break;case 3:this.uj();break;case 4:this.vj();break;case 5:this.wj();break;default:this.yi()}else this.ym();break;case Aa.wg:if(null!==this.Ga&&this.Yb&&-1===this.hb)switch(this.Yd){case 1:this.oj();break;case 2:this.pj();break;case 3:this.qj();break;default:this.zj()}else this.zj();break;case Aa.vg:if(null!==this.Ga&&this.Yb&&-1===this.hb)switch(this.Yd){case 1:this.om();
break;case 2:this.qm();break;case 3:this.sm();break;default:this.xj()}else this.xj();break;case Aa.yj:this.wm()}};ra.prototype.wm=function(){var a=this.xd;var b=a[0],c=a[1],d=a[2],f=this.Pb,e=this.wd,g,k,l,p,n,q=this.Pa,m,r=this.Ja,u,t=this.Va,w,y,v=0,D=0,F=0,E=this.width,O=this.A,Q=this.height,N=this.ca,U=this.Y>>4,S=this.La;if(0!==(this.counter&1)){var G=this.X;var L=this.Ea;var P=this.i;var fa=this.V;var ha=this.L}else G=this.i,L=this.Da,P=this.X,fa=this.L,ha=this.V;r.fill(0);t.fill(0);var ja=
0;var ca=ja+16;ha.ba.fill(0);for(p=0;p<fa.length;p+=1){var Z=0;var la=Z+16;var da=fa[p];var na=ha[p];var X=q[p];var ma=0<p?ha[p-1]:S;var aa=p<N-1?ha[p+1]:S;for(n=0;n<U;n+=1){var Y=da[n];var V=0;if(Y){var oa=na[n];var R=ma[n];var C=aa[n];for(l=15;0<=l;--l){if(0!==(Y&1<<l)){var z=w=u=m=0;var K=ja;for(y=32768;K<ca;){a=G[K];var M=P[K];var J=32768;var x=Z;var A=0===x?0:a[x-1];for(k=a[x];x<la-1;){var ka=A;A=k;k=a[x+1];var W=b[A];var qa=c[ka];var sa=d[k];var ia=A;for(g=0;g<e;g+=1)if(ka=W[g]&qa[g]&sa[g]){W=
0;for(sa=1;!(ka&sa);)W+=1,sa<<=1;ia=f[(g<<5)+W];break}M[x]=ia;0<ia?(v+=1,0===A&&(D+=1),w|=y,u|=J):0<A&&(F+=1);m|=A;J>>=1;x+=1}ka=A;A=k;k=x===E-1?0:a[x+1];W=b[A];qa=c[ka];sa=d[k];ia=A;for(g=0;g<e;g+=1)if(ka=W[g]&qa[g]&sa[g]){W=0;for(sa=1;!(ka&sa);)W+=1,sa<<=1;ia=f[(g<<5)+W];break}M[x]=ia;0<ia?(v+=1,0===A&&(D+=1),w|=y,u|=J):0<A&&(F+=1);m|=A;K+=1;y>>=1}r[Z>>4]|=u;u?(oa|=1<<l,w&1&&(z|=I.sb,u&32768&&(z|=I.Db),u&1&&(z|=I.rb)),w&32768&&(z|=I.xb,u&32768&&(z|=I.zb),u&1&&(z|=I.Ab)),u&32768&&(z|=I.pb),u&1&&
(z|=I.kb),z&&(0!==(z&I.pb)&&(15>l?oa|=1<<l+1:0<n&&0<Z&&(na[n-1]|=1)),0!==(z&I.kb)&&(0<l?oa|=1<<l-1:n<U-1&&Z<E-1&&(na[n+1]|=32768)),0!==(z&I.xb)&&(R|=1<<l),0!==(z&I.sb)&&(C|=1<<l),0!==(z&I.zb)&&(15>l?R|=1<<l+1:0<n&&0<Z&&(ma[n-1]|=1)),0!==(z&I.Ab)&&(0<l?R|=1<<l-1:n<U-1&&Z<E-1&&(ma[n+1]|=32768)),0!==(z&I.Db)&&(15>l?C|=1<<l+1:0<n&&0<Z&&(aa[n-1]|=1)),0!==(z&I.rb)&&(0<l?C|=1<<l-1:n<U-1&&Z<E-1&&(aa[n+1]|=32768)))):m&&(V|=1<<l);t[p]|=w}Z+=16;la+=16}na[n]|=oa;0<p&&(ma[n]|=R);p<N-1&&(aa[n]|=C)}else Z+=256,
la+=256;X[n]=V}ja+=16;ca+=16}this.Nb(r,t,E,Q,O);S.fill(0);this.Kb(L);for(K=0;K<this.v.ba.length;K+=1)this.v.ba[K]=this.v.ba[K]|fa.ba[K]|ha.ba[K];this.s=v;this.oa=D;this.fa=F};ra.prototype.ym=function(){var a=this.xd;var b=a[0],c=a[1],d=a[2],f=a[3],e=a[4],g=this.Pb,k=this.wd,l,p,n,q,m=this.Pa,r,u=this.Ja,t,w=this.Va,y,v,D=0,F=0,E=0,O=this.width,Q=this.A,N=this.height,U=this.ca,S=this.Y>>4,G=this.La;if(0!==(this.counter&1)){var L=this.X;var P=this.Ea;var fa=this.i;var ha=this.V;var ja=this.L}else L=
this.i,P=this.Da,fa=this.X,ha=this.L,ja=this.V;u.fill(0);w.fill(0);var ca=0;var Z=ca+16;ja.ba.fill(0);for(n=0;n<ha.length;n+=1){var la=0;var da=la+16;var na=ha[n];var X=ja[n];var ma=m[n];var aa=0<n?ja[n-1]:G;var Y=n<U-1?ja[n+1]:G;for(q=0;q<S;q+=1){var V=na[q];var oa=0;if(V){var R=X[q];var C=aa[q];var z=Y[q];for(p=15;0<=p;--p){if(0!==(V&1<<p)){var K=y=t=r=0;var M=ca;for(v=32768;M<Z;){a=0===M?this.na:L[M-1];var J=L[M];var x=M===this.height-1?this.na:L[M+1];var A=fa[M];var ka=32768;var W=la;var qa=0===
W?0:J[W-1];for(l=J[W];W<da-1;){var sa=qa;qa=l;var ia=a[W];l=J[W+1];var ta=x[W];var ya=b[qa];ia=c[ia];var Ha=d[l];var Da=f[ta];var Pa=e[sa];var Qa=qa;for(ta=0;ta<k;ta+=1)if(sa=ya[ta]&ia[ta])if(sa&=Ha[ta]&Da[ta]&Pa[ta]){ya=0;for(ia=1;!(sa&ia);)ya+=1,ia<<=1;Qa=g[(ta<<5)+ya];break}A[W]=Qa;0<Qa?(D+=1,0===qa&&(F+=1),y|=v,t|=ka):0<qa&&(E+=1);r|=qa;ka>>=1;W+=1}sa=qa;qa=l;ia=a[W];l=W===O-1?0:J[W+1];ta=x[W];ya=b[qa];ia=c[ia];Ha=d[l];Da=f[ta];Pa=e[sa];Qa=qa;for(ta=0;ta<k;ta+=1)if(sa=ya[ta]&ia[ta])if(sa&=Ha[ta]&
Da[ta]&Pa[ta]){ya=0;for(ia=1;!(sa&ia);)ya+=1,ia<<=1;Qa=g[(ta<<5)+ya];break}A[W]=Qa;0<Qa?(D+=1,0===qa&&(F+=1),y|=v,t|=ka):0<qa&&(E+=1);r|=qa;M+=1;v>>=1}u[la>>4]|=t;t?(R|=1<<p,y&1&&(K|=I.sb,t&32768&&(K|=I.Db),t&1&&(K|=I.rb)),y&32768&&(K|=I.xb,t&32768&&(K|=I.zb),t&1&&(K|=I.Ab)),t&32768&&(K|=I.pb),t&1&&(K|=I.kb),K&&(0!==(K&I.pb)&&(15>p?R|=1<<p+1:0<q&&0<la&&(X[q-1]|=1)),0!==(K&I.kb)&&(0<p?R|=1<<p-1:q<S-1&&la<O-1&&(X[q+1]|=32768)),0!==(K&I.xb)&&(C|=1<<p),0!==(K&I.sb)&&(z|=1<<p),0!==(K&I.zb)&&(15>p?C|=1<<
p+1:0<q&&0<la&&(aa[q-1]|=1)),0!==(K&I.Ab)&&(0<p?C|=1<<p-1:q<S-1&&la<O-1&&(aa[q+1]|=32768)),0!==(K&I.Db)&&(15>p?z|=1<<p+1:0<q&&0<la&&(Y[q-1]|=1)),0!==(K&I.rb)&&(0<p?z|=1<<p-1:q<S-1&&la<O-1&&(Y[q+1]|=32768)))):r&&(oa|=1<<p);w[n]|=y}la+=16;da+=16}X[q]|=R;0<n&&(aa[q]|=C);n<U-1&&(Y[q]|=z)}else la+=256,da+=256;ma[q]=oa}ca+=16;Z+=16}this.Nb(u,w,O,N,Q);G.fill(0);this.Kb(P);for(M=0;M<this.v.ba.length;M+=1)this.v.ba[M]=this.v.ba[M]|ha.ba[M]|ja.ba[M];this.s=D;this.oa=F;this.fa=E};ra.prototype.zj=function(){var a=
this.xd;var b=a[0],c=a[1],d=a[2],f=a[3],e=a[4],g=a[5],k=a[6],l=a[7],p=a[8],n=this.Pb,q=this.wd,m,r,u,t,w,y,v=this.Pa,D,F=this.Ja,E,O=this.Va,Q,N,U=0,S=0,G=0,L=this.width,P=this.A,fa=this.height,ha=this.ca,ja=this.Y>>4,ca=this.La;if(0!==(this.counter&1)){var Z=this.X;var la=this.Ea;var da=this.i;var na=this.V;var X=this.L}else Z=this.i,la=this.Da,da=this.X,na=this.L,X=this.V;F.fill(0);O.fill(0);var ma=0;var aa=ma+16;X.ba.fill(0);for(w=0;w<na.length;w+=1){var Y=0;var V=Y+16;var oa=na[w];var R=X[w];
var C=v[w];var z=0<w?X[w-1]:ca;var K=w<ha-1?X[w+1]:ca;for(y=0;y<ja;y+=1){var M=oa[y];var J=0;if(M){var x=R[y];var A=z[y];var ka=K[y];for(t=15;0<=t;--t){if(0!==(M&1<<t)){var W=Q=E=D=0;var qa=ma;for(N=32768;qa<aa;){a=0===qa?this.na:Z[qa-1];var sa=Z[qa];var ia=qa===this.height-1?this.na:Z[qa+1];var ta=da[qa];var ya=32768;var Ha=Y;if(0===Ha)var Da=u=m=0;else m=a[Ha-1],u=ia[Ha-1],Da=sa[Ha-1];var Pa=a[Ha];var Qa=ia[Ha];for(r=sa[Ha];Ha<V-1;){var Ka=m;m=Pa;Pa=a[Ha+1];var Ga=Da;Da=r;r=sa[Ha+1];var Za=u;u=
Qa;Qa=ia[Ha+1];var $a=Da;var hb=b[Da];var Ua=c[m];var cb=d[Pa];var ob=f[r];var pb=e[Qa];var mb=g[u];Za=k[Za];var ib=l[Ga];var Ra=p[Ka];for(Ga=0;Ga<q;Ga+=1)if(Ka=hb[Ga]&Ua[Ga])if(Ka&=cb[Ga]&ob[Ga])if(Ka&=pb[Ga]&mb[Ga])if(Ka&=Za[Ga]&ib[Ga]&Ra[Ga]){Ua=0;for(cb=1;!(Ka&cb);)Ua+=1,cb<<=1;$a=n[(Ga<<5)+Ua];break}ta[Ha]=$a;0<$a?(U+=1,0===Da&&(S+=1),Q|=N,E|=ya):0<Da&&(G+=1);D|=Da;ya>>=1;Ha+=1}Ka=m;m=Pa;Ga=Da;Da=r;Za=u;u=Qa;Ha===L-1?Qa=r=Pa=0:(Pa=a[Ha+1],r=sa[Ha+1],Qa=ia[Ha+1]);hb=b[Da];Ua=c[m];cb=d[Pa];ob=
f[r];pb=e[Qa];mb=g[u];Za=k[Za];ib=l[Ga];Ra=p[Ka];$a=Da;for(Ga=0;Ga<q;Ga+=1)if(Ka=hb[Ga]&Ua[Ga])if(Ka&=cb[Ga]&ob[Ga])if(Ka&=pb[Ga]&mb[Ga])if(Ka&=Za[Ga]&ib[Ga]&Ra[Ga]){Ua=0;for(cb=1;!(Ka&cb);)Ua+=1,cb<<=1;$a=n[(Ga<<5)+Ua];break}ta[Ha]=$a;0<$a?(U+=1,0===Da&&(S+=1),Q|=N,E|=ya):0<Da&&(G+=1);D|=Da;qa+=1;N>>=1}F[Y>>4]|=E;E?(x|=1<<t,Q&1&&(W|=I.sb,E&32768&&(W|=I.Db),E&1&&(W|=I.rb)),Q&32768&&(W|=I.xb,E&32768&&(W|=I.zb),E&1&&(W|=I.Ab)),E&32768&&(W|=I.pb),E&1&&(W|=I.kb),W&&(0!==(W&I.pb)&&(15>t?x|=1<<t+1:0<y&&
0<Y&&(R[y-1]|=1)),0!==(W&I.kb)&&(0<t?x|=1<<t-1:y<ja-1&&Y<L-1&&(R[y+1]|=32768)),0!==(W&I.xb)&&(A|=1<<t),0!==(W&I.sb)&&(ka|=1<<t),0!==(W&I.zb)&&(15>t?A|=1<<t+1:0<y&&0<Y&&(z[y-1]|=1)),0!==(W&I.Ab)&&(0<t?A|=1<<t-1:y<ja-1&&Y<L-1&&(z[y+1]|=32768)),0!==(W&I.Db)&&(15>t?ka|=1<<t+1:0<y&&0<Y&&(K[y-1]|=1)),0!==(W&I.rb)&&(0<t?ka|=1<<t-1:y<ja-1&&Y<L-1&&(K[y+1]|=32768)))):D&&(J|=1<<t);O[w]|=Q}Y+=16;V+=16}R[y]|=x;0<w&&(z[y]|=A);w<ha-1&&(K[y]|=ka)}else Y+=256,V+=256;C[y]=J}ma+=16;aa+=16}this.Nb(F,O,L,fa,P);ca.fill(0);
this.Kb(la);for(qa=0;qa<this.v.ba.length;qa+=1)this.v.ba[qa]=this.v.ba[qa]|na.ba[qa]|X.ba[qa];this.s=U;this.oa=S;this.fa=G};ra.prototype.xj=function(){var a=this.xd;var b=a[0],c=a[1],d=a[2],f=a[3],e=a[4],g=a[5],k=a[6],l=this.Pb,p=this.wd,n,q,m,r,u,t=this.Pa,w,y=this.Ja,v,D=this.Va,F,E,O=0,Q=0,N=0,U=this.width,S=this.A,G=this.height,L=this.ca,P=this.Y>>4,fa=this.La;if(0!==(this.counter&1)){var ha=this.X;var ja=this.Ea;var ca=this.i;var Z=this.V;var la=this.L}else ha=this.i,ja=this.Da,ca=this.X,Z=this.L,
la=this.V;y.fill(0);D.fill(0);var da=0;var na=da+16;la.ba.fill(0);for(r=0;r<Z.length;r+=1){var X=0;var ma=X+16;var aa=Z[r];var Y=la[r];var V=t[r];var oa=0<r?la[r-1]:fa;var R=r<L-1?la[r+1]:fa;for(u=0;u<P;u+=1){var C=aa[u];var z=0;if(C){var K=Y[u];var M=oa[u];var J=R[u];for(m=15;0<=m;--m){if(0!==(C&1<<m)){var x=F=v=w=0;var A=da;for(E=32768;A<na;){a=0===A?this.na:ha[A-1];var ka=ha[A];var W=A===this.height-1?this.na:ha[A+1];var qa=ca[A];var sa=32768;var ia=X;if(0===ia)var ta=n=0;else n=a[ia-1],ta=ka[ia-
1];var ya=W[ia];for(q=ka[ia];ia<ma-1;){var Ha=n;n=a[ia];var Da=ta;ta=q;q=ka[ia+1];var Pa=ya;ya=W[ia+1];var Qa=b[ta];var Ka=c[n];var Ga=d[q];var Za=f[ya];Pa=e[Pa];var $a=g[Da];var hb=k[Ha];var Ua=ta;for(Da=0;Da<p;Da+=1)if(Ha=Qa[Da]&Ka[Da])if(Ha&=Ga[Da]&Za[Da])if(Ha&=Pa[Da]&$a[Da]&hb[Da]){Ka=0;for(Ga=1;!(Ha&Ga);)Ka+=1,Ga<<=1;Ua=l[(Da<<5)+Ka];break}qa[ia]=Ua;0<Ua?(O+=1,0===ta&&(Q+=1),F|=E,v|=sa):0<ta&&(N+=1);w|=ta;sa>>=1;ia+=1}Ha=n;n=a[ia];Da=ta;ta=q;Pa=ya;ia===U-1?ya=q=0:(q=ka[ia+1],ya=W[ia+1]);Qa=
b[ta];Ka=c[n];Ga=d[q];Za=f[ya];Pa=e[Pa];$a=g[Da];hb=k[Ha];Ua=ta;for(Da=0;Da<p;Da+=1)if(Ha=Qa[Da]&Ka[Da])if(Ha&=Ga[Da]&Za[Da])if(Ha&=Pa[Da]&$a[Da]&hb[Da]){Ka=0;for(Ga=1;!(Ha&Ga);)Ka+=1,Ga<<=1;Ua=l[(Da<<5)+Ka];break}qa[ia]=Ua;0<Ua?(O+=1,0===ta&&(Q+=1),F|=E,v|=sa):0<ta&&(N+=1);w|=ta;A+=1;E>>=1}y[X>>4]|=v;v?(K|=1<<m,F&1&&(x|=I.sb,v&32768&&(x|=I.Db),v&1&&(x|=I.rb)),F&32768&&(x|=I.xb,v&32768&&(x|=I.zb),v&1&&(x|=I.Ab)),v&32768&&(x|=I.pb),v&1&&(x|=I.kb),x&&(0!==(x&I.pb)&&(15>m?K|=1<<m+1:0<u&&0<X&&(Y[u-1]|=
1)),0!==(x&I.kb)&&(0<m?K|=1<<m-1:u<P-1&&X<U-1&&(Y[u+1]|=32768)),0!==(x&I.xb)&&(M|=1<<m),0!==(x&I.sb)&&(J|=1<<m),0!==(x&I.zb)&&(15>m?M|=1<<m+1:0<u&&0<X&&(oa[u-1]|=1)),0!==(x&I.Ab)&&(0<m?M|=1<<m-1:u<P-1&&X<U-1&&(oa[u+1]|=32768)),0!==(x&I.Db)&&(15>m?J|=1<<m+1:0<u&&0<X&&(R[u-1]|=1)),0!==(x&I.rb)&&(0<m?J|=1<<m-1:u<P-1&&X<U-1&&(R[u+1]|=32768)))):w&&(z|=1<<m);D[r]|=F}X+=16;ma+=16}Y[u]|=K;0<r&&(oa[u]|=M);r<L-1&&(R[u]|=J)}else X+=256,ma+=256;V[u]=z}da+=16;na+=16}this.Nb(y,D,U,G,S);fa.fill(0);this.Kb(ja);for(A=
0;A<this.v.ba.length;A+=1)this.v.ba[A]=this.v.ba[A]|Z.ba[A]|la.ba[A];this.s=O;this.oa=Q;this.fa=N};ra.prototype.Am=function(){if(4===this.yd)if(null!==this.Ga&&this.Yb&&-1===this.hb)switch(this.Yd){case 1:this.rj();break;case 2:this.sj();break;case 3:this.uj();break;case 4:this.vj();break;case 5:this.wj();break;default:this.yi()}else this.yi();else if(null!==this.Ga&&this.Yb&&-1===this.hb)switch(this.Yd){case 1:this.oj();break;case 2:this.pj();break;case 3:this.qj();break;default:this.bk()}else null!==
this.Ee&&this.Yb?this.Cm():this.bk()};ra.prototype.yi=function(){var a=this.Le,b=this.Ne,c=this.Jf,d,f,e,g=this.Pa,k,l=this.Ja,p,n=this.Va,q,m,r=0,u=0,t=0,w=this.width,y=this.A,v=this.height,D=this.ca,F=this.Y>>4,E=this.La;if(0!==(this.counter&1)){var O=this.X;var Q=this.Ea;var N=this.Da;var U=this.V;var S=this.L}else O=this.i,Q=this.Da,N=this.Ea,U=this.L,S=this.V;l.fill(0);n.fill(0);var G=0;var L=G+16;S.ba.fill(0);for(f=0;f<U.length;f+=1){var P=0;var fa=U[f];var ha=S[f];var ja=g[f];var ca=0<f?S[f-
1]:E;var Z=f<D-1?S[f+1]:E;for(e=0;e<F;e+=1){var la=fa[e];var da=0;if(la){var na=ha[e];var X=ca[e];var ma=Z[e];for(d=15;0<=d;--d){if(0!==(la&1<<d)){var aa=q=p=k=0;var Y=G;for(m=32768;Y<L;){var V=0===Y?this.na:O[Y-1];var oa=O[Y];var R=Y===this.height-1?this.na:O[Y+1];var C=N[Y];var z=32768;var K=0;var M=P;var J=0===M?0:oa[M-1];var x=oa[M];var A=J;J=x;var ka=V[M];x=oa[M+1];var W=R[M];var qa=ka=b[a[a[a[a[c+ka]+A]+x]+W]+J];0<ka?(r+=1,0===J&&(u+=1),K|=z):0<J&&(t+=1);k|=J;z>>=1;M+=1;A=J;J=x;ka=V[M];x=oa[M+
1];W=R[M];ka=b[a[a[a[a[c+ka]+A]+x]+W]+J];qa|=ka<<8;0<ka?(r+=1,0===J&&(u+=1),K|=z):0<J&&(t+=1);k|=J;z>>=1;M+=1;A=J;J=x;ka=V[M];x=oa[M+1];W=R[M];ka=b[a[a[a[a[c+ka]+A]+x]+W]+J];qa|=ka<<16;0<ka?(r+=1,0===J&&(u+=1),K|=z):0<J&&(t+=1);k|=J;z>>=1;M+=1;A=J;J=x;ka=V[M];x=oa[M+1];W=R[M];ka=b[a[a[a[a[c+ka]+A]+x]+W]+J];qa|=ka<<24;C[M>>2]=qa;0<ka?(r+=1,0===J&&(u+=1),K|=z):0<J&&(t+=1);k|=J;z>>=1;M+=1;A=J;J=x;ka=V[M];x=oa[M+1];W=R[M];qa=ka=b[a[a[a[a[c+ka]+A]+x]+W]+J];0<ka?(r+=1,0===J&&(u+=1),K|=z):0<J&&(t+=1);k|=
J;z>>=1;M+=1;A=J;J=x;ka=V[M];x=oa[M+1];W=R[M];ka=b[a[a[a[a[c+ka]+A]+x]+W]+J];qa|=ka<<8;0<ka?(r+=1,0===J&&(u+=1),K|=z):0<J&&(t+=1);k|=J;z>>=1;M+=1;A=J;J=x;ka=V[M];x=oa[M+1];W=R[M];ka=b[a[a[a[a[c+ka]+A]+x]+W]+J];qa|=ka<<16;0<ka?(r+=1,0===J&&(u+=1),K|=z):0<J&&(t+=1);k|=J;z>>=1;M+=1;A=J;J=x;ka=V[M];x=oa[M+1];W=R[M];ka=b[a[a[a[a[c+ka]+A]+x]+W]+J];qa|=ka<<24;C[M>>2]=qa;0<ka?(r+=1,0===J&&(u+=1),K|=z):0<J&&(t+=1);k|=J;z>>=1;M+=1;A=J;J=x;ka=V[M];x=oa[M+1];W=R[M];qa=ka=b[a[a[a[a[c+ka]+A]+x]+W]+J];0<ka?(r+=
1,0===J&&(u+=1),K|=z):0<J&&(t+=1);k|=J;z>>=1;M+=1;A=J;J=x;ka=V[M];x=oa[M+1];W=R[M];ka=b[a[a[a[a[c+ka]+A]+x]+W]+J];qa|=ka<<8;0<ka?(r+=1,0===J&&(u+=1),K|=z):0<J&&(t+=1);k|=J;z>>=1;M+=1;A=J;J=x;ka=V[M];x=oa[M+1];W=R[M];ka=b[a[a[a[a[c+ka]+A]+x]+W]+J];qa|=ka<<16;0<ka?(r+=1,0===J&&(u+=1),K|=z):0<J&&(t+=1);k|=J;z>>=1;M+=1;A=J;J=x;ka=V[M];x=oa[M+1];W=R[M];ka=b[a[a[a[a[c+ka]+A]+x]+W]+J];qa|=ka<<24;C[M>>2]=qa;0<ka?(r+=1,0===J&&(u+=1),K|=z):0<J&&(t+=1);k|=J;z>>=1;M+=1;A=J;J=x;ka=V[M];x=oa[M+1];W=R[M];qa=ka=
b[a[a[a[a[c+ka]+A]+x]+W]+J];0<ka?(r+=1,0===J&&(u+=1),K|=z):0<J&&(t+=1);k|=J;z>>=1;M+=1;A=J;J=x;ka=V[M];x=oa[M+1];W=R[M];ka=b[a[a[a[a[c+ka]+A]+x]+W]+J];qa|=ka<<8;0<ka?(r+=1,0===J&&(u+=1),K|=z):0<J&&(t+=1);k|=J;z>>=1;M+=1;A=J;J=x;ka=V[M];x=oa[M+1];W=R[M];ka=b[a[a[a[a[c+ka]+A]+x]+W]+J];qa|=ka<<16;0<ka?(r+=1,0===J&&(u+=1),K|=z):0<J&&(t+=1);k|=J;z>>=1;M+=1;A=J;J=x;ka=V[M];x=M===w-1?0:oa[M+1];W=R[M];ka=b[a[a[a[a[c+ka]+A]+x]+W]+J];qa|=ka<<24;C[M>>2]=qa;0<ka?(r+=1,0===J&&(u+=1),K|=z):0<J&&(t+=1);k|=J;K&&
(p|=K,q|=m);Y+=1;m>>=1}l[P>>4]|=p;p?(na|=1<<d,q&1&&(aa|=I.sb,p&32768&&(aa|=I.Db),p&1&&(aa|=I.rb)),q&32768&&(aa|=I.xb,p&32768&&(aa|=I.zb),p&1&&(aa|=I.Ab)),p&32768&&(aa|=I.pb),p&1&&(aa|=I.kb),aa&&(0!==(aa&I.pb)&&(15>d?na|=1<<d+1:0<e&&0<P&&(ha[e-1]|=1)),0!==(aa&I.kb)&&(0<d?na|=1<<d-1:e<F-1&&P<w-1&&(ha[e+1]|=32768)),0!==(aa&I.xb)&&(X|=1<<d),0!==(aa&I.sb)&&(ma|=1<<d),0!==(aa&I.zb)&&(15>d?X|=1<<d+1:0<e&&0<P&&(ca[e-1]|=1)),0!==(aa&I.Ab)&&(0<d?X|=1<<d-1:e<F-1&&P<w-1&&(ca[e+1]|=32768)),0!==(aa&I.Db)&&(15>
d?ma|=1<<d+1:0<e&&0<P&&(Z[e-1]|=1)),0!==(aa&I.rb)&&(0<d?ma|=1<<d-1:e<F-1&&P<w-1&&(Z[e+1]|=32768)))):k&&(da|=1<<d);n[f]|=q}P+=16}ha[e]|=na;0<f&&(ca[e]|=X);f<D-1&&(Z[e]|=ma)}else P+=256;ja[e]=da}G+=16;L+=16}this.Nb(l,n,w,v,y);E.fill(0);this.Kb(Q);for(Y=0;Y<this.v.ba.length;Y+=1)this.v.ba[Y]=this.v.ba[Y]|U.ba[Y]|S.ba[Y];this.s=r;this.oa=u;this.fa=t};ra.prototype.oo=function(){var a="MAP",b=this.xd,c=this.Pb,d=this.wd,f,e=0;switch(this.Pc){case Aa.wg:var g=b[0];var k=b[1];var l=b[2];var p=b[3];var n=
b[4];var q=b[5];var m=b[6];var r=b[7];b=b[8];for(f=0;512>f;f+=1){var u=(f&256)>>8;var t=(f&128)>>7;var w=(f&64)>>6;var y=(f&32)>>5;var v=(f&16)>>4;var D=(f&8)>>3;var F=(f&4)>>2;var E=(f&2)>>1;var O=f&1;var Q=v;v=g[v];t=k[t];w=l[w];D=p[D];O=n[O];E=q[E];F=m[F];var N=r[y];var U=b[u];for(y=0;y<d;y+=1)if(u=v[y]&t[y])if(u&=w[y]&D[y])if(u&=O[y]&E[y])if(u&=F[y]&N[y]&U[y]){Q=0;for(v=1;!(u&v);)Q+=1,v<<=1;Q=c[(y<<5)+Q];break}e=e<<1|Q&1;5===f%6&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e],
e=0)}a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e];break;case Aa.Ai:g=b[0];k=b[1];l=b[2];p=b[3];n=b[4];for(f=0;32>f;f+=1){t=(f&16)>>4;y=(f&8)>>3;v=(f&4)>>2;D=(f&2)>>1;E=f&1;Q=v;v=g[v];t=k[t];D=l[D];E=p[E];N=n[y];for(y=0;y<d;y+=1)if(u=v[y]&t[y])if(u&=D[y]&E[y]&N[y]){Q=0;for(v=1;!(u&v);)Q+=1,v<<=1;Q=c[(y<<5)+Q];break}e=e<<1|Q&1;5===f%6&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e],e=0)}a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e];
break;case Aa.vg:g=b[0];k=b[1];l=b[2];p=b[3];n=b[4];q=b[5];m=b[6];for(f=0;128>f;f+=1){u=(f&64)>>6;t=(f&32)>>5;y=(f&16)>>4;v=(f&8)>>3;D=(f&4)>>2;E=(f&2)>>1;O=f&1;Q=v;v=g[v];t=k[t];D=l[D];O=p[O];E=n[E];N=q[y];U=m[u];for(y=0;y<d;y+=1)if(u=v[y]&t[y])if(u&=D[y]&O[y])if(u&=E[y]&N[y]&U[y]){Q=0;for(v=1;!(u&v);)Q+=1,v<<=1;Q=c[(y<<5)+Q];break}e=e<<1|Q&1;5===f%6&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e],e=0)}a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e]}return a};
ra.prototype.qo=function(){var a="MAP",b=this.Le,c=this.Ne,d=this.Jf,f,e=0;if(8===this.yd)for(f=0;512>f;f+=1){var g=(f&256)>>8;var k=(f&128)>>7;var l=(f&64)>>6;var p=(f&32)>>5;var n=(f&16)>>4;var q=(f&8)>>3;var m=(f&4)>>2;var r=(f&2)>>1;var u=f&1;k=c[b[b[b[b[b[b[b[b[d+g]+l]+m]+u]+k]+p]+q]+r]+n];e=e<<1|k&1;5===f%6&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e],e=0)}else for(f=0;32>f;f+=1)k=(f&16)>>4,p=(f&8)>>3,n=(f&4)>>2,q=(f&2)>>1,r=f&1,k=c[b[b[b[b[d+k]+p]+q]+r]+n],e=e<<
1|k&1,5===f%6&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e],e=0);return a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e]};ra.prototype.mo=function(){return null===this.Pb?this.qo():this.oo()};ra.prototype.Cm=function(){var a=this.Le,b=this.Ne,c=this.Ee,d,f,e,g,k,l=this.Pa,p,n=this.Ja,q,m=this.Va,r,u,t=0,w=0,y=0,v=this.width,D=this.A,F=this.height,E=this.ca,O=this.Y>>4,Q=this.La;if(0!==(this.counter&1)){var N=this.X;var U=this.Ea;var S=this.i;var G=
this.V;var L=this.L}else N=this.i,U=this.Da,S=this.X,G=this.L,L=this.V;n.fill(0);m.fill(0);var P=0;var fa=P+16;L.ba.fill(0);for(g=0;g<G.length;g+=1){var ha=0;var ja=G[g];var ca=L[g];var Z=l[g];var la=0<g?L[g-1]:Q;var da=g<E-1?L[g+1]:Q;for(k=0;k<O;k+=1){var na=ja[k];var X=0;if(na){var ma=ca[k];var aa=la[k];var Y=da[k];for(e=15;0<=e;--e){if(0!==(na&1<<e)){var V=r=q=p=0;var oa=P;for(u=32768;oa<fa;){var R=0===oa?this.na:N[oa-1];var C=N[oa];var z=oa===this.height-1?this.na:N[oa+1];var K=S[oa];var M=32768;
var J=0;var x=ha;if(0===x)var A=f=d=0;else d=R[x-1],f=z[x-1],A=C[x-1];var ka=R[x];var W=z[x];var qa=C[x];var sa=d;d=ka;ka=R[x+1];var ia=A;A=qa;qa=C[x+1];var ta=f;f=W;W=z[x+1];ia=ia|d<<4|W<<8|ta<<12|ka<<16|sa<<20;ia=b[a[a[c[ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;M>>=1;x+=1;sa=d;d=ka;ka=R[x+1];ia=A;A=qa;qa=C[x+1];ta=f;f=W;W=z[x+1];ia=ia|d<<4|W<<8|ta<<12|ka<<16|sa<<20;ia=b[a[a[c[ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;M>>=1;x+=1;sa=d;d=ka;
ka=R[x+1];ia=A;A=qa;qa=C[x+1];ta=f;f=W;W=z[x+1];ia=ia|d<<4|W<<8|ta<<12|ka<<16|sa<<20;ia=b[a[a[c[ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;M>>=1;x+=1;sa=d;d=ka;ka=R[x+1];ia=A;A=qa;qa=C[x+1];ta=f;f=W;W=z[x+1];ia=ia|d<<4|W<<8|ta<<12|ka<<16|sa<<20;ia=b[a[a[c[ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;M>>=1;x+=1;sa=d;d=ka;ka=R[x+1];ia=A;A=qa;qa=C[x+1];ta=f;f=W;W=z[x+1];ia=ia|d<<4|W<<8|ta<<12|ka<<16|sa<<20;ia=b[a[a[c[ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=
1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;M>>=1;x+=1;sa=d;d=ka;ka=R[x+1];ia=A;A=qa;qa=C[x+1];ta=f;f=W;W=z[x+1];ia=ia|d<<4|W<<8|ta<<12|ka<<16|sa<<20;ia=b[a[a[c[ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;M>>=1;x+=1;sa=d;d=ka;ka=R[x+1];ia=A;A=qa;qa=C[x+1];ta=f;f=W;W=z[x+1];ia=ia|d<<4|W<<8|ta<<12|ka<<16|sa<<20;ia=b[a[a[c[ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;M>>=1;x+=1;sa=d;d=ka;ka=R[x+1];ia=A;A=qa;qa=C[x+1];ta=f;f=W;W=z[x+1];ia=ia|d<<4|W<<8|ta<<
12|ka<<16|sa<<20;ia=b[a[a[c[ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;M>>=1;x+=1;sa=d;d=ka;ka=R[x+1];ia=A;A=qa;qa=C[x+1];ta=f;f=W;W=z[x+1];ia=ia|d<<4|W<<8|ta<<12|ka<<16|sa<<20;ia=b[a[a[c[ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;M>>=1;x+=1;sa=d;d=ka;ka=R[x+1];ia=A;A=qa;qa=C[x+1];ta=f;f=W;W=z[x+1];ia=ia|d<<4|W<<8|ta<<12|ka<<16|sa<<20;ia=b[a[a[c[ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;M>>=1;x+=1;sa=d;d=ka;ka=R[x+1];
ia=A;A=qa;qa=C[x+1];ta=f;f=W;W=z[x+1];ia=ia|d<<4|W<<8|ta<<12|ka<<16|sa<<20;ia=b[a[a[c[ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;M>>=1;x+=1;sa=d;d=ka;ka=R[x+1];ia=A;A=qa;qa=C[x+1];ta=f;f=W;W=z[x+1];ia=ia|d<<4|W<<8|ta<<12|ka<<16|sa<<20;ia=b[a[a[c[ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;M>>=1;x+=1;sa=d;d=ka;ka=R[x+1];ia=A;A=qa;qa=C[x+1];ta=f;f=W;W=z[x+1];ia=ia|d<<4|W<<8|ta<<12|ka<<16|sa<<20;ia=b[a[a[c[ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=
1),J|=M):0<A&&(y+=1);p|=A;M>>=1;x+=1;sa=d;d=ka;ka=R[x+1];ia=A;A=qa;qa=C[x+1];ta=f;f=W;W=z[x+1];ia=ia|d<<4|W<<8|ta<<12|ka<<16|sa<<20;ia=b[a[a[c[ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;M>>=1;x+=1;sa=d;d=ka;ka=R[x+1];ia=A;A=qa;qa=C[x+1];ta=f;f=W;W=z[x+1];ia=ia|d<<4|W<<8|ta<<12|ka<<16|sa<<20;ia=b[a[a[c[ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;M>>=1;x+=1;sa=d;d=ka;ia=A;A=qa;ta=f;f=W;x===v-1?W=qa=ka=0:(ka=R[x+1],qa=C[x+1],W=z[x+1]);ia=ia|d<<4|W<<
8|ta<<12|ka<<16|sa<<20;ia=b[a[a[c[ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;J&&(q|=J,r|=u);oa+=1;u>>=1}n[ha>>4]|=q;q?(ma|=1<<e,r&1&&(V|=I.sb,q&32768&&(V|=I.Db),q&1&&(V|=I.rb)),r&32768&&(V|=I.xb,q&32768&&(V|=I.zb),q&1&&(V|=I.Ab)),q&32768&&(V|=I.pb),q&1&&(V|=I.kb),V&&(0!==(V&I.pb)&&(15>e?ma|=1<<e+1:0<k&&0<ha&&(ca[k-1]|=1)),0!==(V&I.kb)&&(0<e?ma|=1<<e-1:k<O-1&&ha<v-1&&(ca[k+1]|=32768)),0!==(V&I.xb)&&(aa|=1<<e),0!==(V&I.sb)&&(Y|=1<<e),0!==(V&I.zb)&&(15>e?aa|=1<<e+1:0<k&&0<
ha&&(la[k-1]|=1)),0!==(V&I.Ab)&&(0<e?aa|=1<<e-1:k<O-1&&ha<v-1&&(la[k+1]|=32768)),0!==(V&I.Db)&&(15>e?Y|=1<<e+1:0<k&&0<ha&&(da[k-1]|=1)),0!==(V&I.rb)&&(0<e?Y|=1<<e-1:k<O-1&&ha<v-1&&(da[k+1]|=32768)))):p&&(X|=1<<e);m[g]|=r}ha+=16}ca[k]|=ma;0<g&&(la[k]|=aa);g<E-1&&(da[k]|=Y)}else ha+=256;Z[k]=X}P+=16;fa+=16}this.Nb(n,m,v,F,D);Q.fill(0);this.Kb(U);for(oa=0;oa<this.v.ba.length;oa+=1)this.v.ba[oa]=this.v.ba[oa]|G.ba[oa]|L.ba[oa];this.s=t;this.oa=w;this.fa=y};ra.prototype.bk=function(){var a=this.Le,b=this.Ne,
c=this.Jf,d,f,e,g,k,l=this.Pa,p,n=this.Ja,q,m=this.Va,r,u,t=0,w=0,y=0,v=this.width,D=this.A,F=this.height,E=this.ca,O=this.Y>>4,Q=this.La;if(0!==(this.counter&1)){var N=this.X;var U=this.Ea;var S=this.i;var G=this.V;var L=this.L}else N=this.i,U=this.Da,S=this.X,G=this.L,L=this.V;n.fill(0);m.fill(0);var P=0;var fa=P+16;L.ba.fill(0);for(g=0;g<G.length;g+=1){var ha=0;var ja=G[g];var ca=L[g];var Z=l[g];var la=0<g?L[g-1]:Q;var da=g<E-1?L[g+1]:Q;for(k=0;k<O;k+=1){var na=ja[k];var X=0;if(na){var ma=ca[k];
var aa=la[k];var Y=da[k];for(e=15;0<=e;--e){if(0!==(na&1<<e)){var V=r=q=p=0;var oa=P;for(u=32768;oa<fa;){var R=0===oa?this.na:N[oa-1];var C=N[oa];var z=oa===this.height-1?this.na:N[oa+1];var K=S[oa];var M=32768;var J=0;var x=ha;if(0===x)var A=f=d=0;else d=R[x-1],f=z[x-1],A=C[x-1];var ka=R[x];var W=z[x];var qa=C[x];var sa=d;d=ka;ka=R[x+1];var ia=A;A=qa;qa=C[x+1];var ta=f;f=W;W=z[x+1];ia=b[a[a[a[a[a[a[a[a[c+sa]+ka]+ta]+W]+d]+ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;M>>=
1;x+=1;sa=d;d=ka;ka=R[x+1];ia=A;A=qa;qa=C[x+1];ta=f;f=W;W=z[x+1];ia=b[a[a[a[a[a[a[a[a[c+sa]+ka]+ta]+W]+d]+ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;M>>=1;x+=1;sa=d;d=ka;ka=R[x+1];ia=A;A=qa;qa=C[x+1];ta=f;f=W;W=z[x+1];ia=b[a[a[a[a[a[a[a[a[c+sa]+ka]+ta]+W]+d]+ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;M>>=1;x+=1;sa=d;d=ka;ka=R[x+1];ia=A;A=qa;qa=C[x+1];ta=f;f=W;W=z[x+1];ia=b[a[a[a[a[a[a[a[a[c+sa]+ka]+ta]+W]+d]+ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===
A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;M>>=1;x+=1;sa=d;d=ka;ka=R[x+1];ia=A;A=qa;qa=C[x+1];ta=f;f=W;W=z[x+1];ia=b[a[a[a[a[a[a[a[a[c+sa]+ka]+ta]+W]+d]+ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;M>>=1;x+=1;sa=d;d=ka;ka=R[x+1];ia=A;A=qa;qa=C[x+1];ta=f;f=W;W=z[x+1];ia=b[a[a[a[a[a[a[a[a[c+sa]+ka]+ta]+W]+d]+ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;M>>=1;x+=1;sa=d;d=ka;ka=R[x+1];ia=A;A=qa;qa=C[x+1];ta=f;f=W;W=z[x+1];ia=b[a[a[a[a[a[a[a[a[c+sa]+ka]+ta]+W]+d]+
ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;M>>=1;x+=1;sa=d;d=ka;ka=R[x+1];ia=A;A=qa;qa=C[x+1];ta=f;f=W;W=z[x+1];ia=b[a[a[a[a[a[a[a[a[c+sa]+ka]+ta]+W]+d]+ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;M>>=1;x+=1;sa=d;d=ka;ka=R[x+1];ia=A;A=qa;qa=C[x+1];ta=f;f=W;W=z[x+1];ia=b[a[a[a[a[a[a[a[a[c+sa]+ka]+ta]+W]+d]+ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;M>>=1;x+=1;sa=d;d=ka;ka=R[x+1];ia=A;A=qa;qa=C[x+1];ta=f;f=W;W=z[x+1];ia=
b[a[a[a[a[a[a[a[a[c+sa]+ka]+ta]+W]+d]+ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;M>>=1;x+=1;sa=d;d=ka;ka=R[x+1];ia=A;A=qa;qa=C[x+1];ta=f;f=W;W=z[x+1];ia=b[a[a[a[a[a[a[a[a[c+sa]+ka]+ta]+W]+d]+ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;M>>=1;x+=1;sa=d;d=ka;ka=R[x+1];ia=A;A=qa;qa=C[x+1];ta=f;f=W;W=z[x+1];ia=b[a[a[a[a[a[a[a[a[c+sa]+ka]+ta]+W]+d]+ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;M>>=1;x+=1;sa=d;d=ka;ka=R[x+1];ia=
A;A=qa;qa=C[x+1];ta=f;f=W;W=z[x+1];ia=b[a[a[a[a[a[a[a[a[c+sa]+ka]+ta]+W]+d]+ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;M>>=1;x+=1;sa=d;d=ka;ka=R[x+1];ia=A;A=qa;qa=C[x+1];ta=f;f=W;W=z[x+1];ia=b[a[a[a[a[a[a[a[a[c+sa]+ka]+ta]+W]+d]+ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;M>>=1;x+=1;sa=d;d=ka;ka=R[x+1];ia=A;A=qa;qa=C[x+1];ta=f;f=W;W=z[x+1];ia=b[a[a[a[a[a[a[a[a[c+sa]+ka]+ta]+W]+d]+ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);
p|=A;M>>=1;x+=1;sa=d;d=ka;ia=A;A=qa;ta=f;f=W;x===v-1?W=qa=ka=0:(ka=R[x+1],qa=C[x+1],W=z[x+1]);ia=b[a[a[a[a[a[a[a[a[c+sa]+ka]+ta]+W]+d]+ia]+qa]+f]+A];K[x]=ia;0<ia?(t+=1,0===A&&(w+=1),J|=M):0<A&&(y+=1);p|=A;J&&(q|=J,r|=u);oa+=1;u>>=1}n[ha>>4]|=q;q?(ma|=1<<e,r&1&&(V|=I.sb,q&32768&&(V|=I.Db),q&1&&(V|=I.rb)),r&32768&&(V|=I.xb,q&32768&&(V|=I.zb),q&1&&(V|=I.Ab)),q&32768&&(V|=I.pb),q&1&&(V|=I.kb),V&&(0!==(V&I.pb)&&(15>e?ma|=1<<e+1:0<k&&0<ha&&(ca[k-1]|=1)),0!==(V&I.kb)&&(0<e?ma|=1<<e-1:k<O-1&&ha<v-1&&(ca[k+
1]|=32768)),0!==(V&I.xb)&&(aa|=1<<e),0!==(V&I.sb)&&(Y|=1<<e),0!==(V&I.zb)&&(15>e?aa|=1<<e+1:0<k&&0<ha&&(la[k-1]|=1)),0!==(V&I.Ab)&&(0<e?aa|=1<<e-1:k<O-1&&ha<v-1&&(la[k+1]|=32768)),0!==(V&I.Db)&&(15>e?Y|=1<<e+1:0<k&&0<ha&&(da[k-1]|=1)),0!==(V&I.rb)&&(0<e?Y|=1<<e-1:k<O-1&&ha<v-1&&(da[k+1]|=32768)))):p&&(X|=1<<e);m[g]|=r}ha+=16}ca[k]|=ma;0<g&&(la[k]|=aa);g<E-1&&(da[k]|=Y)}else ha+=256;Z[k]=X}P+=16;fa+=16}this.Nb(n,m,v,F,D);Q.fill(0);this.Kb(U);for(oa=0;oa<this.v.ba.length;oa+=1)this.v.ba[oa]=this.v.ba[oa]|
G.ba[oa]|L.ba[oa];this.s=t;this.oa=w;this.fa=y};ra.prototype.om=function(){var a=this.Ga,b,c,d,f=this.Pa,e,g=this.Ja,k,l=this.Va,p,n,q=0,m=0,r=0,u=this.width,t=this.A,w=this.height,y=this.ca,v=this.Y>>4,D=this.La;if(0!==(this.counter&1)){var F=this.X;var E=this.Ea;var O=this.Da;var Q=this.V;var N=this.L}else F=this.i,E=this.Da,O=this.Ea,Q=this.L,N=this.V;g.fill(0);l.fill(0);var U=0;var S=U+16;N.ba.fill(0);for(c=0;c<Q.length;c+=1){var G=0;var L=Q[c];var P=N[c];var fa=f[c];var ha=0<c?N[c-1]:D;var ja=
c<y-1?N[c+1]:D;for(d=0;d<v;d+=1){var ca=L[d];var Z=0;if(ca){var la=P[d];var da=ha[d];var na=ja[d];for(b=15;0<=b;--b){if(0!==(ca&1<<b)){var X=p=k=e=0;var ma=U;for(n=32768;ma<S;){var aa=0===ma?this.na:F[ma-1];var Y=F[ma];var V=ma===this.height-1?this.na:F[ma+1];var oa=O[ma];var R=32768;var C=G;var z=Y[C+1];var K=V[C+1];var M=aa[C];var J=Y[C];var x=V[C];var A=0===C?J|x<<1|z<<2|M<<4|K<<5:aa[C-1]<<6|Y[C-1]<<3|J|x<<1|z<<2|M<<4|K<<5;var ka=a[A];0<ka?(q+=1,0===(A&1)&&(m+=1),p|=n,k|=R):0!==(A&1)&&(r+=1);e|=
J;R>>=1;C+=1;A=M;M=aa[C];var W=J;J=z;z=Y[C+1];x=K;K=V[C+1];A=J|x<<1|z<<2|W<<3|M<<4|K<<5|A<<6;x=a[A];ka|=x<<8;0<x?(q+=1,0===(A&1)&&(m+=1),p|=n,k|=R):0!==(A&1)&&(r+=1);e|=J;R>>=1;C+=1;A=M;M=aa[C];W=J;J=z;z=Y[C+1];x=K;K=V[C+1];A=J|x<<1|z<<2|W<<3|M<<4|K<<5|A<<6;x=a[A];ka|=x<<16;0<x?(q+=1,0===(A&1)&&(m+=1),p|=n,k|=R):0!==(A&1)&&(r+=1);e|=J;R>>=1;C+=1;A=M;M=aa[C];W=J;J=z;z=Y[C+1];x=K;K=V[C+1];A=J|x<<1|z<<2|W<<3|M<<4|K<<5|A<<6;x=a[A];ka|=x<<24;oa[C>>2]=ka;0<x?(q+=1,0===(A&1)&&(m+=1),p|=n,k|=R):0!==(A&1)&&
(r+=1);e|=J;R>>=1;C+=1;A=M;M=aa[C];W=J;J=z;z=Y[C+1];x=K;K=V[C+1];A=J|x<<1|z<<2|W<<3|M<<4|K<<5|A<<6;ka=a[A];0<ka?(q+=1,0===(A&1)&&(m+=1),p|=n,k|=R):0!==(A&1)&&(r+=1);e|=J;R>>=1;C+=1;A=M;M=aa[C];W=J;J=z;z=Y[C+1];x=K;K=V[C+1];A=J|x<<1|z<<2|W<<3|M<<4|K<<5|A<<6;x=a[A];ka|=x<<8;0<x?(q+=1,0===(A&1)&&(m+=1),p|=n,k|=R):0!==(A&1)&&(r+=1);e|=J;R>>=1;C+=1;A=M;M=aa[C];W=J;J=z;z=Y[C+1];x=K;K=V[C+1];A=J|x<<1|z<<2|W<<3|M<<4|K<<5|A<<6;x=a[A];ka|=x<<16;0<x?(q+=1,0===(A&1)&&(m+=1),p|=n,k|=R):0!==(A&1)&&(r+=1);e|=J;
R>>=1;C+=1;A=M;M=aa[C];W=J;J=z;z=Y[C+1];x=K;K=V[C+1];A=J|x<<1|z<<2|W<<3|M<<4|K<<5|A<<6;x=a[A];ka|=x<<24;oa[C>>2]=ka;0<x?(q+=1,0===(A&1)&&(m+=1),p|=n,k|=R):0!==(A&1)&&(r+=1);e|=J;R>>=1;C+=1;A=M;M=aa[C];W=J;J=z;z=Y[C+1];x=K;K=V[C+1];A=J|x<<1|z<<2|W<<3|M<<4|K<<5|A<<6;ka=a[A];0<ka?(q+=1,0===(A&1)&&(m+=1),p|=n,k|=R):0!==(A&1)&&(r+=1);e|=J;R>>=1;C+=1;A=M;M=aa[C];W=J;J=z;z=Y[C+1];x=K;K=V[C+1];A=J|x<<1|z<<2|W<<3|M<<4|K<<5|A<<6;x=a[A];ka|=x<<8;0<x?(q+=1,0===(A&1)&&(m+=1),p|=n,k|=R):0!==(A&1)&&(r+=1);e|=J;
R>>=1;C+=1;A=M;M=aa[C];W=J;J=z;z=Y[C+1];x=K;K=V[C+1];A=J|x<<1|z<<2|W<<3|M<<4|K<<5|A<<6;x=a[A];ka|=x<<16;0<x?(q+=1,0===(A&1)&&(m+=1),p|=n,k|=R):0!==(A&1)&&(r+=1);e|=J;R>>=1;C+=1;A=M;M=aa[C];W=J;J=z;z=Y[C+1];x=K;K=V[C+1];A=J|x<<1|z<<2|W<<3|M<<4|K<<5|A<<6;x=a[A];ka|=x<<24;oa[C>>2]=ka;0<x?(q+=1,0===(A&1)&&(m+=1),p|=n,k|=R):0!==(A&1)&&(r+=1);e|=J;R>>=1;C+=1;A=M;M=aa[C];W=J;J=z;z=Y[C+1];x=K;K=V[C+1];A=J|x<<1|z<<2|W<<3|M<<4|K<<5|A<<6;ka=a[A];0<ka?(q+=1,0===(A&1)&&(m+=1),p|=n,k|=R):0!==(A&1)&&(r+=1);e|=J;
R>>=1;C+=1;A=M;M=aa[C];W=J;J=z;z=Y[C+1];x=K;K=V[C+1];A=J|x<<1|z<<2|W<<3|M<<4|K<<5|A<<6;x=a[A];ka|=x<<8;0<x?(q+=1,0===(A&1)&&(m+=1),p|=n,k|=R):0!==(A&1)&&(r+=1);e|=J;R>>=1;C+=1;A=M;M=aa[C];W=J;J=z;z=Y[C+1];x=K;K=V[C+1];A=J|x<<1|z<<2|W<<3|M<<4|K<<5|A<<6;x=a[A];ka|=x<<16;0<x?(q+=1,0===(A&1)&&(m+=1),p|=n,k|=R):0!==(A&1)&&(r+=1);e|=J;R>>=1;C+=1;A=M;M=aa[C];W=J;J=z;x=K;C===u-1?K=z=0:(z=Y[C+1],K=V[C+1]);A=J|x<<1|z<<2|W<<3|M<<4|K<<5|A<<6;x=a[A];ka|=x<<24;oa[C>>2]=ka;0<x?(q+=1,0===(A&1)&&(m+=1),p|=n,k|=R):
0!==(A&1)&&(r+=1);e|=J;ma+=1;n>>=1}g[G>>4]|=k;k?(la|=1<<b,p&1&&(X|=I.sb,k&32768&&(X|=I.Db),k&1&&(X|=I.rb)),p&32768&&(X|=I.xb,k&32768&&(X|=I.zb),k&1&&(X|=I.Ab)),k&32768&&(X|=I.pb),k&1&&(X|=I.kb),X&&(0!==(X&I.pb)&&(15>b?la|=1<<b+1:0<d&&0<G&&(P[d-1]|=1)),0!==(X&I.kb)&&(0<b?la|=1<<b-1:d<v-1&&G<u-1&&(P[d+1]|=32768)),0!==(X&I.xb)&&(da|=1<<b),0!==(X&I.sb)&&(na|=1<<b),0!==(X&I.zb)&&(15>b?da|=1<<b+1:0<d&&0<G&&(ha[d-1]|=1)),0!==(X&I.Ab)&&(0<b?da|=1<<b-1:d<v-1&&G<u-1&&(ha[d+1]|=32768)),0!==(X&I.Db)&&(15>b?na|=
1<<b+1:0<d&&0<G&&(ja[d-1]|=1)),0!==(X&I.rb)&&(0<b?na|=1<<b-1:d<v-1&&G<u-1&&(ja[d+1]|=32768)))):e&&(Z|=1<<b);l[c]|=p}G+=16}P[d]|=la;0<c&&(ha[d]|=da);c<y-1&&(ja[d]|=na)}else G+=256;fa[d]=Z}U+=16;S+=16}this.Nb(g,l,u,w,t);D.fill(0);this.Kb(E);for(ma=0;ma<this.v.ba.length;ma+=1)this.v.ba[ma]=this.v.ba[ma]|Q.ba[ma]|N.ba[ma];this.s=q;this.oa=m;this.fa=r};ra.prototype.qm=function(){var a=this.Ga,b,c,d,f=this.Pa,e,g=this.Ja,k,l=this.Va,p,n,q=0,m=0,r=0,u=this.width,t=this.A,w=this.height,y=this.ca,v=this.Y>>
4,D=this.La;if(0!==(this.counter&1)){var F=this.X;var E=this.Ea;var O=this.Da;var Q=this.V;var N=this.L}else F=this.i,E=this.Da,O=this.Ea,Q=this.L,N=this.V;g.fill(0);l.fill(0);var U=0;var S=U+16;N.ba.fill(0);for(c=0;c<Q.length;c+=1){var G=0;var L=Q[c];var P=N[c];var fa=f[c];var ha=0<c?N[c-1]:D;var ja=c<y-1?N[c+1]:D;for(d=0;d<v;d+=1){var ca=L[d];var Z=0;if(ca){var la=P[d];var da=ha[d];var na=ja[d];for(b=15;0<=b;--b){if(0!==(ca&1<<b)){var X=p=k=e=0;var ma=U;for(n=32768;ma<S;){var aa=0===ma?this.na:
F[ma-1];var Y=F[ma];var V=ma===this.height-1?this.na:F[ma+1];var oa=O[ma];var R=32768;var C=G;var z=Y[C+1];var K=V[C+1];var M=aa[C];var J=Y[C];var x=V[C];var A=0===C?J|x<<2|z<<4|M<<8|K<<10:aa[C-1]<<12|Y[C-1]<<6|J|x<<2|z<<4|M<<8|K<<10;var ka=a[A];0<ka?(q+=1,0===(A&3)&&(m+=1),p|=n,k|=R):0!==(A&3)&&(r+=1);e|=J;R>>=1;C+=1;A=M;M=aa[C];var W=J;J=z;z=Y[C+1];x=K;K=V[C+1];A=J|x<<2|z<<4|W<<6|M<<8|K<<10|A<<12;x=a[A];ka|=x<<8;0<x?(q+=1,0===(A&3)&&(m+=1),p|=n,k|=R):0!==(A&3)&&(r+=1);e|=J;R>>=1;C+=1;A=M;W=J;J=
z;x=K;M=aa[C];z=Y[C+1];K=V[C+1];A=J|x<<2|z<<4|W<<6|M<<8|K<<10|A<<12;x=a[A];ka|=x<<16;0<x?(q+=1,0===(A&3)&&(m+=1),p|=n,k|=R):0!==(A&3)&&(r+=1);e|=J;R>>=1;C+=1;A=M;W=J;J=z;x=K;M=aa[C];z=Y[C+1];K=V[C+1];A=J|x<<2|z<<4|W<<6|M<<8|K<<10|A<<12;x=a[A];ka|=x<<24;oa[C>>2]=ka;0<x?(q+=1,0===(A&3)&&(m+=1),p|=n,k|=R):0!==(A&3)&&(r+=1);e|=J;R>>=1;C+=1;A=M;W=J;J=z;x=K;M=aa[C];z=Y[C+1];K=V[C+1];A=J|x<<2|z<<4|W<<6|M<<8|K<<10|A<<12;ka=a[A];0<ka?(q+=1,0===(A&3)&&(m+=1),p|=n,k|=R):0!==(A&3)&&(r+=1);e|=J;R>>=1;C+=1;A=M;
W=J;J=z;x=K;M=aa[C];z=Y[C+1];K=V[C+1];A=J|x<<2|z<<4|W<<6|M<<8|K<<10|A<<12;x=a[A];ka|=x<<8;0<x?(q+=1,0===(A&3)&&(m+=1),p|=n,k|=R):0!==(A&3)&&(r+=1);e|=J;R>>=1;C+=1;A=M;W=J;J=z;x=K;M=aa[C];z=Y[C+1];K=V[C+1];A=J|x<<2|z<<4|W<<6|M<<8|K<<10|A<<12;x=a[A];ka|=x<<16;0<x?(q+=1,0===(A&3)&&(m+=1),p|=n,k|=R):0!==(A&3)&&(r+=1);e|=J;R>>=1;C+=1;A=M;W=J;J=z;x=K;M=aa[C];z=Y[C+1];K=V[C+1];A=J|x<<2|z<<4|W<<6|M<<8|K<<10|A<<12;x=a[A];ka|=x<<24;oa[C>>2]=ka;0<x?(q+=1,0===(A&3)&&(m+=1),p|=n,k|=R):0!==(A&3)&&(r+=1);e|=J;R>>=
1;C+=1;A=M;W=J;J=z;x=K;M=aa[C];z=Y[C+1];K=V[C+1];A=J|x<<2|z<<4|W<<6|M<<8|K<<10|A<<12;ka=a[A];0<ka?(q+=1,0===(A&3)&&(m+=1),p|=n,k|=R):0!==(A&3)&&(r+=1);e|=J;R>>=1;C+=1;A=M;W=J;J=z;x=K;M=aa[C];z=Y[C+1];K=V[C+1];A=J|x<<2|z<<4|W<<6|M<<8|K<<10|A<<12;x=a[A];ka|=x<<8;0<x?(q+=1,0===(A&3)&&(m+=1),p|=n,k|=R):0!==(A&3)&&(r+=1);e|=J;R>>=1;C+=1;A=M;W=J;J=z;x=K;M=aa[C];z=Y[C+1];K=V[C+1];A=J|x<<2|z<<4|W<<6|M<<8|K<<10|A<<12;x=a[A];ka|=x<<16;0<x?(q+=1,0===(A&3)&&(m+=1),p|=n,k|=R):0!==(A&3)&&(r+=1);e|=J;R>>=1;C+=1;
A=M;W=J;J=z;x=K;M=aa[C];z=Y[C+1];K=V[C+1];A=J|x<<2|z<<4|W<<6|M<<8|K<<10|A<<12;x=a[A];ka|=x<<24;oa[C>>2]=ka;0<x?(q+=1,0===(A&3)&&(m+=1),p|=n,k|=R):0!==(A&3)&&(r+=1);e|=J;R>>=1;C+=1;A=M;W=J;J=z;x=K;M=aa[C];z=Y[C+1];K=V[C+1];A=J|x<<2|z<<4|W<<6|M<<8|K<<10|A<<12;ka=a[A];0<ka?(q+=1,0===(A&3)&&(m+=1),p|=n,k|=R):0!==(A&3)&&(r+=1);e|=J;R>>=1;C+=1;A=M;W=J;J=z;x=K;M=aa[C];z=Y[C+1];K=V[C+1];A=J|x<<2|z<<4|W<<6|M<<8|K<<10|A<<12;x=a[A];ka|=x<<8;0<x?(q+=1,0===(A&3)&&(m+=1),p|=n,k|=R):0!==(A&3)&&(r+=1);e|=J;R>>=1;
C+=1;A=M;W=J;J=z;x=K;M=aa[C];z=Y[C+1];K=V[C+1];A=J|x<<2|z<<4|W<<6|M<<8|K<<10|A<<12;x=a[A];ka|=x<<16;0<x?(q+=1,0===(A&3)&&(m+=1),p|=n,k|=R):0!==(A&3)&&(r+=1);e|=J;R>>=1;C+=1;A=M;M=aa[C];W=J;J=z;x=K;C===u-1?K=z=0:(z=Y[C+1],K=V[C+1]);A=J|x<<2|z<<4|W<<6|M<<8|K<<10|A<<12;x=a[A];ka|=x<<24;oa[C>>2]=ka;0<x?(q+=1,0===(A&3)&&(m+=1),p|=n,k|=R):0!==(A&3)&&(r+=1);e|=J;ma+=1;n>>=1}g[G>>4]|=k;k?(la|=1<<b,p&1&&(X|=I.sb,k&32768&&(X|=I.Db),k&1&&(X|=I.rb)),p&32768&&(X|=I.xb,k&32768&&(X|=I.zb),k&1&&(X|=I.Ab)),k&32768&&
(X|=I.pb),k&1&&(X|=I.kb),X&&(0!==(X&I.pb)&&(15>b?la|=1<<b+1:0<d&&0<G&&(P[d-1]|=1)),0!==(X&I.kb)&&(0<b?la|=1<<b-1:d<v-1&&G<u-1&&(P[d+1]|=32768)),0!==(X&I.xb)&&(da|=1<<b),0!==(X&I.sb)&&(na|=1<<b),0!==(X&I.zb)&&(15>b?da|=1<<b+1:0<d&&0<G&&(ha[d-1]|=1)),0!==(X&I.Ab)&&(0<b?da|=1<<b-1:d<v-1&&G<u-1&&(ha[d+1]|=32768)),0!==(X&I.Db)&&(15>b?na|=1<<b+1:0<d&&0<G&&(ja[d-1]|=1)),0!==(X&I.rb)&&(0<b?na|=1<<b-1:d<v-1&&G<u-1&&(ja[d+1]|=32768)))):e&&(Z|=1<<b);l[c]|=p}G+=16}P[d]|=la;0<c&&(ha[d]|=da);c<y-1&&(ja[d]|=na)}else G+=
256;fa[d]=Z}U+=16;S+=16}this.Nb(g,l,u,w,t);D.fill(0);this.Kb(E);for(ma=0;ma<this.v.ba.length;ma+=1)this.v.ba[ma]=this.v.ba[ma]|Q.ba[ma]|N.ba[ma];this.s=q;this.oa=m;this.fa=r};ra.prototype.sm=function(){var a=this.Ga,b,c,d,f=this.Pa,e,g=this.Ja,k,l=this.Va,p,n,q=0,m=0,r=0,u=this.width,t=this.A,w=this.height,y=this.ca,v=this.Y>>4,D=this.La;if(0!==(this.counter&1)){var F=this.X;var E=this.Ea;var O=this.Da;var Q=this.V;var N=this.L}else F=this.i,E=this.Da,O=this.Ea,Q=this.L,N=this.V;g.fill(0);l.fill(0);
var U=0;var S=U+16;N.ba.fill(0);for(c=0;c<Q.length;c+=1){var G=0;var L=Q[c];var P=N[c];var fa=f[c];var ha=0<c?N[c-1]:D;var ja=c<y-1?N[c+1]:D;for(d=0;d<v;d+=1){var ca=L[d];var Z=0;if(ca){var la=P[d];var da=ha[d];var na=ja[d];for(b=15;0<=b;--b){if(0!==(ca&1<<b)){var X=p=k=e=0;var ma=U;for(n=32768;ma<S;){var aa=0===ma?this.na:F[ma-1];var Y=F[ma];var V=ma===this.height-1?this.na:F[ma+1];var oa=O[ma];var R=32768;var C=G;var z=Y[C+1];var K=V[C+1];var M=aa[C];var J=Y[C];var x=V[C];var A=0===C?J|x<<3|z<<
6|M<<12|K<<15:aa[C-1]<<18|Y[C-1]<<9|J|x<<3|z<<6|M<<12|K<<15;var ka=a[A];0<ka?(q+=1,0===(A&7)&&(m+=1),p|=n,k|=R):0!==(A&7)&&(r+=1);e|=J;R>>=1;C+=1;A=M;M=aa[C];var W=J;J=z;z=Y[C+1];x=K;K=V[C+1];A=J|x<<3|z<<6|W<<9|M<<12|K<<15|A<<18;x=a[A];ka|=x<<8;0<x?(q+=1,0===(A&7)&&(m+=1),p|=n,k|=R):0!==(A&7)&&(r+=1);e|=J;R>>=1;C+=1;A=M;W=J;J=z;x=K;M=aa[C];z=Y[C+1];K=V[C+1];A=J|x<<3|z<<6|W<<9|M<<12|K<<15|A<<18;x=a[A];ka|=x<<16;0<x?(q+=1,0===(A&7)&&(m+=1),p|=n,k|=R):0!==(A&7)&&(r+=1);e|=J;R>>=1;C+=1;A=M;W=J;J=z;x=
K;M=aa[C];z=Y[C+1];K=V[C+1];A=J|x<<3|z<<6|W<<9|M<<12|K<<15|A<<18;x=a[A];ka|=x<<24;oa[C>>2]=ka;0<x?(q+=1,0===(A&7)&&(m+=1),p|=n,k|=R):0!==(A&7)&&(r+=1);e|=J;R>>=1;C+=1;A=M;W=J;J=z;x=K;M=aa[C];z=Y[C+1];K=V[C+1];A=J|x<<3|z<<6|W<<9|M<<12|K<<15|A<<18;ka=a[A];0<ka?(q+=1,0===(A&7)&&(m+=1),p|=n,k|=R):0!==(A&7)&&(r+=1);e|=J;R>>=1;C+=1;A=M;W=J;J=z;x=K;M=aa[C];z=Y[C+1];K=V[C+1];A=J|x<<3|z<<6|W<<9|M<<12|K<<15|A<<18;x=a[A];ka|=x<<8;0<x?(q+=1,0===(A&7)&&(m+=1),p|=n,k|=R):0!==(A&7)&&(r+=1);e|=J;R>>=1;C+=1;A=M;W=
J;J=z;x=K;M=aa[C];z=Y[C+1];K=V[C+1];A=J|x<<3|z<<6|W<<9|M<<12|K<<15|A<<18;x=a[A];ka|=x<<16;0<x?(q+=1,0===(A&7)&&(m+=1),p|=n,k|=R):0!==(A&7)&&(r+=1);e|=J;R>>=1;C+=1;A=M;W=J;J=z;x=K;M=aa[C];z=Y[C+1];K=V[C+1];A=J|x<<3|z<<6|W<<9|M<<12|K<<15|A<<18;x=a[A];ka|=x<<24;oa[C>>2]=ka;0<x?(q+=1,0===(A&7)&&(m+=1),p|=n,k|=R):0!==(A&7)&&(r+=1);e|=J;R>>=1;C+=1;A=M;W=J;J=z;x=K;M=aa[C];z=Y[C+1];K=V[C+1];A=J|x<<3|z<<6|W<<9|M<<12|K<<15|A<<18;ka=a[A];0<ka?(q+=1,0===(A&7)&&(m+=1),p|=n,k|=R):0!==(A&7)&&(r+=1);e|=J;R>>=1;C+=
1;A=M;W=J;J=z;x=K;M=aa[C];z=Y[C+1];K=V[C+1];A=J|x<<3|z<<6|W<<9|M<<12|K<<15|A<<18;x=a[A];ka|=x<<8;0<x?(q+=1,0===(A&7)&&(m+=1),p|=n,k|=R):0!==(A&7)&&(r+=1);e|=J;R>>=1;C+=1;A=M;W=J;J=z;x=K;M=aa[C];z=Y[C+1];K=V[C+1];A=J|x<<3|z<<6|W<<9|M<<12|K<<15|A<<18;x=a[A];ka|=x<<16;0<x?(q+=1,0===(A&7)&&(m+=1),p|=n,k|=R):0!==(A&7)&&(r+=1);e|=J;R>>=1;C+=1;A=M;W=J;J=z;x=K;M=aa[C];z=Y[C+1];K=V[C+1];A=J|x<<3|z<<6|W<<9|M<<12|K<<15|A<<18;x=a[A];ka|=x<<24;oa[C>>2]=ka;0<x?(q+=1,0===(A&7)&&(m+=1),p|=n,k|=R):0!==(A&7)&&(r+=
1);e|=J;R>>=1;C+=1;A=M;W=J;J=z;x=K;M=aa[C];z=Y[C+1];K=V[C+1];A=J|x<<3|z<<6|W<<9|M<<12|K<<15|A<<18;ka=a[A];0<ka?(q+=1,0===(A&7)&&(m+=1),p|=n,k|=R):0!==(A&7)&&(r+=1);e|=J;R>>=1;C+=1;A=M;W=J;J=z;x=K;M=aa[C];z=Y[C+1];K=V[C+1];A=J|x<<3|z<<6|W<<9|M<<12|K<<15|A<<18;x=a[A];ka|=x<<8;0<x?(q+=1,0===(A&7)&&(m+=1),p|=n,k|=R):0!==(A&7)&&(r+=1);e|=J;R>>=1;C+=1;A=M;W=J;J=z;x=K;M=aa[C];z=Y[C+1];K=V[C+1];A=J|x<<3|z<<6|W<<9|M<<12|K<<15|A<<18;x=a[A];ka|=x<<16;0<x?(q+=1,0===(A&7)&&(m+=1),p|=n,k|=R):0!==(A&7)&&(r+=1);
e|=J;R>>=1;C+=1;A=M;M=aa[C];W=J;J=z;x=K;C===u-1?K=z=0:(z=Y[C+1],K=V[C+1]);A=J|x<<3|z<<6|W<<9|M<<12|K<<15|A<<18;x=a[A];ka|=x<<24;oa[C>>2]=ka;0<x?(q+=1,0===(A&7)&&(m+=1),p|=n,k|=R):0!==(A&7)&&(r+=1);e|=J;ma+=1;n>>=1}g[G>>4]|=k;k?(la|=1<<b,p&1&&(X|=I.sb,k&32768&&(X|=I.Db),k&1&&(X|=I.rb)),p&32768&&(X|=I.xb,k&32768&&(X|=I.zb),k&1&&(X|=I.Ab)),k&32768&&(X|=I.pb),k&1&&(X|=I.kb),X&&(0!==(X&I.pb)&&(15>b?la|=1<<b+1:0<d&&0<G&&(P[d-1]|=1)),0!==(X&I.kb)&&(0<b?la|=1<<b-1:d<v-1&&G<u-1&&(P[d+1]|=32768)),0!==(X&I.xb)&&
(da|=1<<b),0!==(X&I.sb)&&(na|=1<<b),0!==(X&I.zb)&&(15>b?da|=1<<b+1:0<d&&0<G&&(ha[d-1]|=1)),0!==(X&I.Ab)&&(0<b?da|=1<<b-1:d<v-1&&G<u-1&&(ha[d+1]|=32768)),0!==(X&I.Db)&&(15>b?na|=1<<b+1:0<d&&0<G&&(ja[d-1]|=1)),0!==(X&I.rb)&&(0<b?na|=1<<b-1:d<v-1&&G<u-1&&(ja[d+1]|=32768)))):e&&(Z|=1<<b);l[c]|=p}G+=16}P[d]|=la;0<c&&(ha[d]|=da);c<y-1&&(ja[d]|=na)}else G+=256;fa[d]=Z}U+=16;S+=16}this.Nb(g,l,u,w,t);D.fill(0);this.Kb(E);for(ma=0;ma<this.v.ba.length;ma+=1)this.v.ba[ma]=this.v.ba[ma]|Q.ba[ma]|N.ba[ma];this.s=
q;this.oa=m;this.fa=r};ra.prototype.oj=function(){var a=this.Ga,b,c,d,f=this.Pa,e,g=this.Ja,k,l=this.Va,p,n,q=0,m=0,r=0,u=this.width,t=this.A,w=this.height,y=this.ca,v=this.Y>>4,D=this.La;if(0!==(this.counter&1)){var F=this.X;var E=this.Ea;var O=this.Da;var Q=this.V;var N=this.L}else F=this.i,E=this.Da,O=this.Ea,Q=this.L,N=this.V;g.fill(0);l.fill(0);var U=0;var S=U+16;N.ba.fill(0);for(c=0;c<Q.length;c+=1){var G=0;var L=Q[c];var P=N[c];var fa=f[c];var ha=0<c?N[c-1]:D;var ja=c<y-1?N[c+1]:D;for(d=0;d<
v;d+=1){var ca=L[d];var Z=0;if(ca){var la=P[d];var da=ha[d];var na=ja[d];for(b=15;0<=b;--b){if(0!==(ca&1<<b)){var X=p=k=e=0;var ma=U;for(n=32768;ma<S;){var aa=0===ma?this.na:F[ma-1];var Y=F[ma];var V=ma===this.height-1?this.na:F[ma+1];var oa=O[ma];var R=32768;var C=G;var z=aa[C+1];var K=Y[C+1];var M=V[C+1];var J=aa[C];var x=Y[C];var A=V[C];A=0===C?J<<3|x<<4|A<<5|z<<6|K<<7|M<<8:aa[C-1]|Y[C-1]<<1|V[C-1]<<2|J<<3|x<<4|A<<5|z<<6|K<<7|M<<8;J=a[A];0<J?(q+=1,0===(A&16)&&(m+=1),p|=n,k|=R):0!==(A&16)&&(r+=
1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>3|z<<6|K<<7|M<<8;z=a[A];J|=z<<8;0<z?(q+=1,0===(A&16)&&(m+=1),p|=n,k|=R):0!==(A&16)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>3|z<<6|K<<7|M<<8;z=a[A];J|=z<<16;0<z?(q+=1,0===(A&16)&&(m+=1),p|=n,k|=R):0!==(A&16)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>3|z<<6|K<<7|M<<8;z=a[A];J|=z<<24;oa[C>>2]=J;0<z?(q+=1,0===(A&16)&&(m+=1),p|=n,k|=R):0!==(A&16)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>
3|z<<6|K<<7|M<<8;J=a[A];0<J?(q+=1,0===(A&16)&&(m+=1),p|=n,k|=R):0!==(A&16)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>3|z<<6|K<<7|M<<8;z=a[A];J|=z<<8;0<z?(q+=1,0===(A&16)&&(m+=1),p|=n,k|=R):0!==(A&16)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>3|z<<6|K<<7|M<<8;z=a[A];J|=z<<16;0<z?(q+=1,0===(A&16)&&(m+=1),p|=n,k|=R):0!==(A&16)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>3|z<<6|K<<7|M<<8;z=a[A];J|=z<<24;oa[C>>2]=J;0<z?(q+=1,0===(A&16)&&(m+=1),p|=
n,k|=R):0!==(A&16)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>3|z<<6|K<<7|M<<8;J=a[A];0<J?(q+=1,0===(A&16)&&(m+=1),p|=n,k|=R):0!==(A&16)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>3|z<<6|K<<7|M<<8;z=a[A];J|=z<<8;0<z?(q+=1,0===(A&16)&&(m+=1),p|=n,k|=R):0!==(A&16)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>3|z<<6|K<<7|M<<8;z=a[A];J|=z<<16;0<z?(q+=1,0===(A&16)&&(m+=1),p|=n,k|=R):0!==(A&16)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=
A>>3|z<<6|K<<7|M<<8;z=a[A];J|=z<<24;oa[C>>2]=J;0<z?(q+=1,0===(A&16)&&(m+=1),p|=n,k|=R):0!==(A&16)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>3|z<<6|K<<7|M<<8;J=a[A];0<J?(q+=1,0===(A&16)&&(m+=1),p|=n,k|=R):0!==(A&16)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>3|z<<6|K<<7|M<<8;z=a[A];J|=z<<8;0<z?(q+=1,0===(A&16)&&(m+=1),p|=n,k|=R):0!==(A&16)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>3|z<<6|K<<7|M<<8;z=a[A];J|=z<<16;0<z?(q+=1,0===(A&16)&&(m+=1),
p|=n,k|=R):0!==(A&16)&&(r+=1);e|=x;R>>=1;C+=1;x=K;C===u-1?M=K=z=0:(z=aa[C+1],K=Y[C+1],M=V[C+1]);A=A>>3|z<<6|K<<7|M<<8;z=a[A];J|=z<<24;oa[C>>2]=J;0<z?(q+=1,0===(A&16)&&(m+=1),p|=n,k|=R):0!==(A&16)&&(r+=1);e|=x;ma+=1;n>>=1}g[G>>4]|=k;k?(la|=1<<b,p&1&&(X|=I.sb,k&32768&&(X|=I.Db),k&1&&(X|=I.rb)),p&32768&&(X|=I.xb,k&32768&&(X|=I.zb),k&1&&(X|=I.Ab)),k&32768&&(X|=I.pb),k&1&&(X|=I.kb),X&&(0!==(X&I.pb)&&(15>b?la|=1<<b+1:0<d&&0<G&&(P[d-1]|=1)),0!==(X&I.kb)&&(0<b?la|=1<<b-1:d<v-1&&G<u-1&&(P[d+1]|=32768)),0!==
(X&I.xb)&&(da|=1<<b),0!==(X&I.sb)&&(na|=1<<b),0!==(X&I.zb)&&(15>b?da|=1<<b+1:0<d&&0<G&&(ha[d-1]|=1)),0!==(X&I.Ab)&&(0<b?da|=1<<b-1:d<v-1&&G<u-1&&(ha[d+1]|=32768)),0!==(X&I.Db)&&(15>b?na|=1<<b+1:0<d&&0<G&&(ja[d-1]|=1)),0!==(X&I.rb)&&(0<b?na|=1<<b-1:d<v-1&&G<u-1&&(ja[d+1]|=32768)))):e&&(Z|=1<<b);l[c]|=p}G+=16}P[d]|=la;0<c&&(ha[d]|=da);c<y-1&&(ja[d]|=na)}else G+=256;fa[d]=Z}U+=16;S+=16}this.Nb(g,l,u,w,t);D.fill(0);this.Kb(E);for(ma=0;ma<this.v.ba.length;ma+=1)this.v.ba[ma]=this.v.ba[ma]|Q.ba[ma]|N.ba[ma];
this.s=q;this.oa=m;this.fa=r};ra.prototype.pj=function(){var a=this.Ga,b,c,d,f=this.Pa,e,g=this.Ja,k,l=this.Va,p,n,q=0,m=0,r=0,u=this.width,t=this.A,w=this.height,y=this.ca,v=this.Y>>4,D=this.La;if(0!==(this.counter&1)){var F=this.X;var E=this.Ea;var O=this.Da;var Q=this.V;var N=this.L}else F=this.i,E=this.Da,O=this.Ea,Q=this.L,N=this.V;g.fill(0);l.fill(0);var U=0;var S=U+16;N.ba.fill(0);for(c=0;c<Q.length;c+=1){var G=0;var L=Q[c];var P=N[c];var fa=f[c];var ha=0<c?N[c-1]:D;var ja=c<y-1?N[c+1]:D;for(d=
0;d<v;d+=1){var ca=L[d];var Z=0;if(ca){var la=P[d];var da=ha[d];var na=ja[d];for(b=15;0<=b;--b){if(0!==(ca&1<<b)){var X=p=k=e=0;var ma=U;for(n=32768;ma<S;){var aa=0===ma?this.na:F[ma-1];var Y=F[ma];var V=ma===this.height-1?this.na:F[ma+1];var oa=O[ma];var R=32768;var C=G;var z=aa[C+1];var K=Y[C+1];var M=V[C+1];var J=aa[C];var x=Y[C];var A=V[C];A=0===C?J<<6|x<<8|A<<10|z<<12|K<<14|M<<16:aa[C-1]|Y[C-1]<<2|V[C-1]<<4|J<<6|x<<8|A<<10|z<<12|K<<14|M<<16;J=a[A];0<J?(q+=1,0===(A&768)&&(m+=1),p|=n,k|=R):0!==
(A&768)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>6|z<<12|K<<14|M<<16;z=a[A];J|=z<<8;0<z?(q+=1,0===(A&768)&&(m+=1),p|=n,k|=R):0!==(A&768)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>6|z<<12|K<<14|M<<16;z=a[A];J|=z<<16;0<z?(q+=1,0===(A&768)&&(m+=1),p|=n,k|=R):0!==(A&768)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>6|z<<12|K<<14|M<<16;z=a[A];J|=z<<24;oa[C>>2]=J;0<z?(q+=1,0===(A&768)&&(m+=1),p|=n,k|=R):0!==(A&768)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+
1];K=Y[C+1];M=V[C+1];A=A>>6|z<<12|K<<14|M<<16;J=a[A];0<J?(q+=1,0===(A&768)&&(m+=1),p|=n,k|=R):0!==(A&768)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>6|z<<12|K<<14|M<<16;z=a[A];J|=z<<8;0<z?(q+=1,0===(A&768)&&(m+=1),p|=n,k|=R):0!==(A&768)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>6|z<<12|K<<14|M<<16;z=a[A];J|=z<<16;0<z?(q+=1,0===(A&768)&&(m+=1),p|=n,k|=R):0!==(A&768)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>6|z<<12|K<<14|M<<16;z=a[A];J|=z<<24;
oa[C>>2]=J;0<z?(q+=1,0===(A&768)&&(m+=1),p|=n,k|=R):0!==(A&768)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>6|z<<12|K<<14|M<<16;J=a[A];0<J?(q+=1,0===(A&768)&&(m+=1),p|=n,k|=R):0!==(A&768)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>6|z<<12|K<<14|M<<16;z=a[A];J|=z<<8;0<z?(q+=1,0===(A&768)&&(m+=1),p|=n,k|=R):0!==(A&768)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>6|z<<12|K<<14|M<<16;z=a[A];J|=z<<16;0<z?(q+=1,0===(A&768)&&(m+=1),p|=n,k|=R):0!==(A&768)&&
(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>6|z<<12|K<<14|M<<16;z=a[A];J|=z<<24;oa[C>>2]=J;0<z?(q+=1,0===(A&768)&&(m+=1),p|=n,k|=R):0!==(A&768)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>6|z<<12|K<<14|M<<16;J=a[A];0<J?(q+=1,0===(A&768)&&(m+=1),p|=n,k|=R):0!==(A&768)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>6|z<<12|K<<14|M<<16;z=a[A];J|=z<<8;0<z?(q+=1,0===(A&768)&&(m+=1),p|=n,k|=R):0!==(A&768)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+
1];A=A>>6|z<<12|K<<14|M<<16;z=a[A];J|=z<<16;0<z?(q+=1,0===(A&768)&&(m+=1),p|=n,k|=R):0!==(A&768)&&(r+=1);e|=x;R>>=1;C+=1;x=K;C===u-1?M=K=z=0:(z=aa[C+1],K=Y[C+1],M=V[C+1]);A=A>>6|z<<12|K<<14|M<<16;z=a[A];J|=z<<24;oa[C>>2]=J;0<z?(q+=1,0===(A&768)&&(m+=1),p|=n,k|=R):0!==(A&768)&&(r+=1);e|=x;ma+=1;n>>=1}g[G>>4]|=k;k?(la|=1<<b,p&1&&(X|=I.sb,k&32768&&(X|=I.Db),k&1&&(X|=I.rb)),p&32768&&(X|=I.xb,k&32768&&(X|=I.zb),k&1&&(X|=I.Ab)),k&32768&&(X|=I.pb),k&1&&(X|=I.kb),X&&(0!==(X&I.pb)&&(15>b?la|=1<<b+1:0<d&&0<
G&&(P[d-1]|=1)),0!==(X&I.kb)&&(0<b?la|=1<<b-1:d<v-1&&G<u-1&&(P[d+1]|=32768)),0!==(X&I.xb)&&(da|=1<<b),0!==(X&I.sb)&&(na|=1<<b),0!==(X&I.zb)&&(15>b?da|=1<<b+1:0<d&&0<G&&(ha[d-1]|=1)),0!==(X&I.Ab)&&(0<b?da|=1<<b-1:d<v-1&&G<u-1&&(ha[d+1]|=32768)),0!==(X&I.Db)&&(15>b?na|=1<<b+1:0<d&&0<G&&(ja[d-1]|=1)),0!==(X&I.rb)&&(0<b?na|=1<<b-1:d<v-1&&G<u-1&&(ja[d+1]|=32768)))):e&&(Z|=1<<b);l[c]|=p}G+=16}P[d]|=la;0<c&&(ha[d]|=da);c<y-1&&(ja[d]|=na)}else G+=256;fa[d]=Z}U+=16;S+=16}this.Nb(g,l,u,w,t);D.fill(0);this.Kb(E);
for(ma=0;ma<this.v.ba.length;ma+=1)this.v.ba[ma]=this.v.ba[ma]|Q.ba[ma]|N.ba[ma];this.s=q;this.oa=m;this.fa=r};ra.prototype.qj=function(){var a=this.Ga,b,c,d,f=this.Pa,e,g=this.Ja,k,l=this.Va,p,n,q=0,m=0,r=0,u=this.width,t=this.A,w=this.height,y=this.ca,v=this.Y>>4,D=this.La;if(0!==(this.counter&1)){var F=this.X;var E=this.Ea;var O=this.Da;var Q=this.V;var N=this.L}else F=this.i,E=this.Da,O=this.Ea,Q=this.L,N=this.V;g.fill(0);l.fill(0);var U=0;var S=U+16;N.ba.fill(0);for(c=0;c<Q.length;c+=1){var G=
0;var L=Q[c];var P=N[c];var fa=f[c];var ha=0<c?N[c-1]:D;var ja=c<y-1?N[c+1]:D;for(d=0;d<v;d+=1){var ca=L[d];var Z=0;if(ca){var la=P[d];var da=ha[d];var na=ja[d];for(b=15;0<=b;--b){if(0!==(ca&1<<b)){var X=p=k=e=0;var ma=U;for(n=32768;ma<S;){var aa=0===ma?this.na:F[ma-1];var Y=F[ma];var V=ma===this.height-1?this.na:F[ma+1];var oa=O[ma];var R=32768;var C=G;var z=aa[C+1];var K=Y[C+1];var M=V[C+1];var J=aa[C];var x=Y[C];var A=V[C];A=0===C?J<<9|x<<12|A<<15|z<<18|K<<21|M<<24:aa[C-1]|Y[C-1]<<3|V[C-1]<<6|
J<<9|x<<12|A<<15|z<<18|K<<21|M<<24;J=a[A];0<J?(q+=1,0===(A&45056)&&(m+=1),p|=n,k|=R):0!==(A&45056)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>9|z<<18|K<<21|M<<24;z=a[A];J|=z<<8;0<z?(q+=1,0===(A&45056)&&(m+=1),p|=n,k|=R):0!==(A&45056)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>9|z<<18|K<<21|M<<24;z=a[A];J|=z<<16;0<z?(q+=1,0===(A&45056)&&(m+=1),p|=n,k|=R):0!==(A&45056)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>9|z<<18|K<<21|M<<24;z=a[A];J|=z<<24;
oa[C>>2]=J;0<z?(q+=1,0===(A&45056)&&(m+=1),p|=n,k|=R):0!==(A&45056)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>9|z<<18|K<<21|M<<24;J=a[A];0<J?(q+=1,0===(A&45056)&&(m+=1),p|=n,k|=R):0!==(A&45056)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>9|z<<18|K<<21|M<<24;z=a[A];J|=z<<8;0<z?(q+=1,0===(A&45056)&&(m+=1),p|=n,k|=R):0!==(A&45056)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>9|z<<18|K<<21|M<<24;z=a[A];J|=z<<16;0<z?(q+=1,0===(A&45056)&&(m+=1),p|=n,k|=
R):0!==(A&45056)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>9|z<<18|K<<21|M<<24;z=a[A];J|=z<<24;oa[C>>2]=J;0<z?(q+=1,0===(A&45056)&&(m+=1),p|=n,k|=R):0!==(A&45056)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>9|z<<18|K<<21|M<<24;J=a[A];0<J?(q+=1,0===(A&45056)&&(m+=1),p|=n,k|=R):0!==(A&45056)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>9|z<<18|K<<21|M<<24;z=a[A];J|=z<<8;0<z?(q+=1,0===(A&45056)&&(m+=1),p|=n,k|=R):0!==(A&45056)&&(r+=1);e|=x;R>>=1;C+=
1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>9|z<<18|K<<21|M<<24;z=a[A];J|=z<<16;0<z?(q+=1,0===(A&45056)&&(m+=1),p|=n,k|=R):0!==(A&45056)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>9|z<<18|K<<21|M<<24;z=a[A];J|=z<<24;oa[C>>2]=J;0<z?(q+=1,0===(A&45056)&&(m+=1),p|=n,k|=R):0!==(A&45056)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>9|z<<18|K<<21|M<<24;J=a[A];0<J?(q+=1,0===(A&45056)&&(m+=1),p|=n,k|=R):0!==(A&45056)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>
9|z<<18|K<<21|M<<24;z=a[A];J|=z<<8;0<z?(q+=1,0===(A&45056)&&(m+=1),p|=n,k|=R):0!==(A&45056)&&(r+=1);e|=x;R>>=1;C+=1;x=K;z=aa[C+1];K=Y[C+1];M=V[C+1];A=A>>9|z<<18|K<<21|M<<24;z=a[A];J|=z<<16;0<z?(q+=1,0===(A&45056)&&(m+=1),p|=n,k|=R):0!==(A&45056)&&(r+=1);e|=x;R>>=1;C+=1;x=K;C===u-1?M=K=z=0:(z=aa[C+1],K=Y[C+1],M=V[C+1]);A=A>>9|z<<18|K<<21|M<<24;z=a[A];J|=z<<24;oa[C>>2]=J;0<z?(q+=1,0===(A&45056)&&(m+=1),p|=n,k|=R):0!==(A&45056)&&(r+=1);e|=x;ma+=1;n>>=1}g[G>>4]|=k;k?(la|=1<<b,p&1&&(X|=I.sb,k&32768&&(X|=
I.Db),k&1&&(X|=I.rb)),p&32768&&(X|=I.xb,k&32768&&(X|=I.zb),k&1&&(X|=I.Ab)),k&32768&&(X|=I.pb),k&1&&(X|=I.kb),X&&(0!==(X&I.pb)&&(15>b?la|=1<<b+1:0<d&&0<G&&(P[d-1]|=1)),0!==(X&I.kb)&&(0<b?la|=1<<b-1:d<v-1&&G<u-1&&(P[d+1]|=32768)),0!==(X&I.xb)&&(da|=1<<b),0!==(X&I.sb)&&(na|=1<<b),0!==(X&I.zb)&&(15>b?da|=1<<b+1:0<d&&0<G&&(ha[d-1]|=1)),0!==(X&I.Ab)&&(0<b?da|=1<<b-1:d<v-1&&G<u-1&&(ha[d+1]|=32768)),0!==(X&I.Db)&&(15>b?na|=1<<b+1:0<d&&0<G&&(ja[d-1]|=1)),0!==(X&I.rb)&&(0<b?na|=1<<b-1:d<v-1&&G<u-1&&(ja[d+1]|=
32768)))):e&&(Z|=1<<b);l[c]|=p}G+=16}P[d]|=la;0<c&&(ha[d]|=da);c<y-1&&(ja[d]|=na)}else G+=256;fa[d]=Z}U+=16;S+=16}this.Nb(g,l,u,w,t);D.fill(0);this.Kb(E);for(ma=0;ma<this.v.ba.length;ma+=1)this.v.ba[ma]=this.v.ba[ma]|Q.ba[ma]|N.ba[ma];this.s=q;this.oa=m;this.fa=r};ra.prototype.rj=function(){var a=this.Ga,b,c,d,f=this.Pa,e,g=this.Ja,k,l=this.Va,p,n,q=0,m=0,r=0,u=this.width,t=this.A,w=this.height,y=this.ca,v=this.Y>>4,D=this.La;if(0!==(this.counter&1)){var F=this.X;var E=this.Ea;var O=this.Da;var Q=
this.V;var N=this.L}else F=this.i,E=this.Da,O=this.Ea,Q=this.L,N=this.V;g.fill(0);l.fill(0);var U=0;var S=U+16;N.ba.fill(0);for(c=0;c<Q.length;c+=1){var G=0;var L=Q[c];var P=N[c];var fa=f[c];var ha=0<c?N[c-1]:D;var ja=c<y-1?N[c+1]:D;for(d=0;d<v;d+=1){var ca=L[d];var Z=0;if(ca){var la=P[d];var da=ha[d];var na=ja[d];for(b=15;0<=b;--b){if(0!==(ca&1<<b)){var X=p=k=e=0;var ma=U;for(n=32768;ma<S;){var aa=0===ma?this.na:F[ma-1];var Y=F[ma];var V=ma===this.height-1?this.na:F[ma+1];var oa=O[ma];var R=32768;
var C=G;var z=aa[C];var K=Y[C+1];var M=V[C];var J=Y[C];var x=0===C?J<<3|K<<2|z<<1|M:Y[C-1]<<4|J<<3|K<<2|z<<1|M;var A=a[x];0<A?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=R):0!==(x&8)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<1&24|K<<2|z<<1|M;z=a[x];A|=z<<8;0<z?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=R):0!==(x&8)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<1&24|K<<2|z<<1|M;z=a[x];A|=z<<16;0<z?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=R):0!==(x&8)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=
x<<1&24|K<<2|z<<1|M;z=a[x];A|=z<<24;oa[C>>2]=A;0<z?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=R):0!==(x&8)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<1&24|K<<2|z<<1|M;A=a[x];0<A?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=R):0!==(x&8)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<1&24|K<<2|z<<1|M;z=a[x];A|=z<<8;0<z?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=R):0!==(x&8)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<1&24|K<<2|z<<1|M;z=a[x];A|=z<<16;0<z?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=R):0!==(x&8)&&
(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<1&24|K<<2|z<<1|M;z=a[x];A|=z<<24;oa[C>>2]=A;0<z?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=R):0!==(x&8)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<1&24|K<<2|z<<1|M;A=a[x];0<A?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=R):0!==(x&8)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<1&24|K<<2|z<<1|M;z=a[x];A|=z<<8;0<z?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=R):0!==(x&8)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<1&24|K<<2|z<<1|M;z=a[x];A|=
z<<16;0<z?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=R):0!==(x&8)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<1&24|K<<2|z<<1|M;z=a[x];A|=z<<24;oa[C>>2]=A;0<z?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=R):0!==(x&8)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<1&24|K<<2|z<<1|M;A=a[x];0<A?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=R):0!==(x&8)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<1&24|K<<2|z<<1|M;z=a[x];A|=z<<8;0<z?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=R):0!==(x&8)&&(r+=1);e|=J;R>>=1;C+=1;J=K;
z=aa[C];K=Y[C+1];M=V[C];x=x<<1&24|K<<2|z<<1|M;z=a[x];A|=z<<16;0<z?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=R):0!==(x&8)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=C===u-1?0:Y[C+1];M=V[C];x=x<<1&24|K<<2|z<<1|M;z=a[x];A|=z<<24;oa[C>>2]=A;0<z?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=R):0!==(x&8)&&(r+=1);e|=J;ma+=1;n>>=1}g[G>>4]|=k;k?(la|=1<<b,p&1&&(X|=I.sb,k&32768&&(X|=I.Db),k&1&&(X|=I.rb)),p&32768&&(X|=I.xb,k&32768&&(X|=I.zb),k&1&&(X|=I.Ab)),k&32768&&(X|=I.pb),k&1&&(X|=I.kb),X&&(0!==(X&I.pb)&&(15>b?la|=1<<b+1:0<d&&0<G&&(P[d-
1]|=1)),0!==(X&I.kb)&&(0<b?la|=1<<b-1:d<v-1&&G<u-1&&(P[d+1]|=32768)),0!==(X&I.xb)&&(da|=1<<b),0!==(X&I.sb)&&(na|=1<<b),0!==(X&I.zb)&&(15>b?da|=1<<b+1:0<d&&0<G&&(ha[d-1]|=1)),0!==(X&I.Ab)&&(0<b?da|=1<<b-1:d<v-1&&G<u-1&&(ha[d+1]|=32768)),0!==(X&I.Db)&&(15>b?na|=1<<b+1:0<d&&0<G&&(ja[d-1]|=1)),0!==(X&I.rb)&&(0<b?na|=1<<b-1:d<v-1&&G<u-1&&(ja[d+1]|=32768)))):e&&(Z|=1<<b);l[c]|=p}G+=16}P[d]|=la;0<c&&(ha[d]|=da);c<y-1&&(ja[d]|=na)}else G+=256;fa[d]=Z}U+=16;S+=16}this.Nb(g,l,u,w,t);D.fill(0);this.Kb(E);for(ma=
0;ma<this.v.ba.length;ma+=1)this.v.ba[ma]=this.v.ba[ma]|Q.ba[ma]|N.ba[ma];this.s=q;this.oa=m;this.fa=r};ra.prototype.sj=function(){var a=this.Ga,b,c,d,f=this.Pa,e,g=this.Ja,k,l=this.Va,p,n,q=0,m=0,r=0,u=this.width,t=this.A,w=this.height,y=this.ca,v=this.Y>>4,D=this.La;if(0!==(this.counter&1)){var F=this.X;var E=this.Ea;var O=this.Da;var Q=this.V;var N=this.L}else F=this.i,E=this.Da,O=this.Ea,Q=this.L,N=this.V;g.fill(0);l.fill(0);var U=0;var S=U+16;N.ba.fill(0);for(c=0;c<Q.length;c+=1){var G=0;var L=
Q[c];var P=N[c];var fa=f[c];var ha=0<c?N[c-1]:D;var ja=c<y-1?N[c+1]:D;for(d=0;d<v;d+=1){var ca=L[d];var Z=0;if(ca){var la=P[d];var da=ha[d];var na=ja[d];for(b=15;0<=b;--b){if(0!==(ca&1<<b)){var X=p=k=e=0;var ma=U;for(n=32768;ma<S;){var aa=0===ma?this.na:F[ma-1];var Y=F[ma];var V=ma===this.height-1?this.na:F[ma+1];var oa=O[ma];var R=32768;var C=G;var z=aa[C];var K=Y[C+1];var M=V[C];var J=Y[C];var x=0===C?J<<6|K<<4|z<<2|M:Y[C-1]<<8|J<<6|K<<4|z<<2|M;var A=a[x];0<A?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=R):
0!==(x&192)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<2&960|K<<4|z<<2|M;z=a[x];A|=z<<8;0<z?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=R):0!==(x&192)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<2&960|K<<4|z<<2|M;z=a[x];A|=z<<16;0<z?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=R):0!==(x&192)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<2&960|K<<4|z<<2|M;z=a[x];A|=z<<24;oa[C>>2]=A;0<z?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=R):0!==(x&192)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=
V[C];x=x<<2&960|K<<4|z<<2|M;A=a[x];0<A?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=R):0!==(x&192)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<2&960|K<<4|z<<2|M;z=a[x];A|=z<<8;0<z?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=R):0!==(x&192)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<2&960|K<<4|z<<2|M;z=a[x];A|=z<<16;0<z?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=R):0!==(x&192)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<2&960|K<<4|z<<2|M;z=a[x];A|=z<<24;oa[C>>2]=A;0<z?(q+=1,0===(x&192)&&(m+=
1),p|=n,k|=R):0!==(x&192)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<2&960|K<<4|z<<2|M;A=a[x];0<A?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=R):0!==(x&192)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<2&960|K<<4|z<<2|M;z=a[x];A|=z<<8;0<z?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=R):0!==(x&192)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<2&960|K<<4|z<<2|M;z=a[x];A|=z<<16;0<z?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=R):0!==(x&192)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=
x<<2&960|K<<4|z<<2|M;z=a[x];A|=z<<24;oa[C>>2]=A;0<z?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=R):0!==(x&192)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<2&960|K<<4|z<<2|M;A=a[x];0<A?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=R):0!==(x&192)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<2&960|K<<4|z<<2|M;z=a[x];A|=z<<8;0<z?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=R):0!==(x&192)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<2&960|K<<4|z<<2|M;z=a[x];A|=z<<16;0<z?(q+=1,0===(x&192)&&(m+=1),p|=
n,k|=R):0!==(x&192)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=C===u-1?0:Y[C+1];M=V[C];x=x<<2&960|K<<4|z<<2|M;z=a[x];A|=z<<24;oa[C>>2]=A;0<z?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=R):0!==(x&192)&&(r+=1);e|=J;ma+=1;n>>=1}g[G>>4]|=k;k?(la|=1<<b,p&1&&(X|=I.sb,k&32768&&(X|=I.Db),k&1&&(X|=I.rb)),p&32768&&(X|=I.xb,k&32768&&(X|=I.zb),k&1&&(X|=I.Ab)),k&32768&&(X|=I.pb),k&1&&(X|=I.kb),X&&(0!==(X&I.pb)&&(15>b?la|=1<<b+1:0<d&&0<G&&(P[d-1]|=1)),0!==(X&I.kb)&&(0<b?la|=1<<b-1:d<v-1&&G<u-1&&(P[d+1]|=32768)),0!==(X&I.xb)&&
(da|=1<<b),0!==(X&I.sb)&&(na|=1<<b),0!==(X&I.zb)&&(15>b?da|=1<<b+1:0<d&&0<G&&(ha[d-1]|=1)),0!==(X&I.Ab)&&(0<b?da|=1<<b-1:d<v-1&&G<u-1&&(ha[d+1]|=32768)),0!==(X&I.Db)&&(15>b?na|=1<<b+1:0<d&&0<G&&(ja[d-1]|=1)),0!==(X&I.rb)&&(0<b?na|=1<<b-1:d<v-1&&G<u-1&&(ja[d+1]|=32768)))):e&&(Z|=1<<b);l[c]|=p}G+=16}P[d]|=la;0<c&&(ha[d]|=da);c<y-1&&(ja[d]|=na)}else G+=256;fa[d]=Z}U+=16;S+=16}this.Nb(g,l,u,w,t);D.fill(0);this.Kb(E);for(ma=0;ma<this.v.ba.length;ma+=1)this.v.ba[ma]=this.v.ba[ma]|Q.ba[ma]|N.ba[ma];this.s=
q;this.oa=m;this.fa=r};ra.prototype.uj=function(){var a=this.Ga,b,c,d,f=this.Pa,e,g=this.Ja,k,l=this.Va,p,n,q=0,m=0,r=0,u=this.width,t=this.A,w=this.height,y=this.ca,v=this.Y>>4,D=this.La;if(0!==(this.counter&1)){var F=this.X;var E=this.Ea;var O=this.Da;var Q=this.V;var N=this.L}else F=this.i,E=this.Da,O=this.Ea,Q=this.L,N=this.V;g.fill(0);l.fill(0);var U=0;var S=U+16;N.ba.fill(0);for(c=0;c<Q.length;c+=1){var G=0;var L=Q[c];var P=N[c];var fa=f[c];var ha=0<c?N[c-1]:D;var ja=c<y-1?N[c+1]:D;for(d=0;d<
v;d+=1){var ca=L[d];var Z=0;if(ca){var la=P[d];var da=ha[d];var na=ja[d];for(b=15;0<=b;--b){if(0!==(ca&1<<b)){var X=p=k=e=0;var ma=U;for(n=32768;ma<S;){var aa=0===ma?this.na:F[ma-1];var Y=F[ma];var V=ma===this.height-1?this.na:F[ma+1];var oa=O[ma];var R=32768;var C=G;var z=aa[C];var K=Y[C+1];var M=V[C];var J=Y[C];var x=0===C?J<<9|K<<6|z<<3|M:Y[C-1]<<12|J<<9|K<<6|z<<3|M;var A=a[x];0<A?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=R):0!==(x&3584)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<3&32256|
K<<6|z<<3|M;z=a[x];A|=z<<8;0<z?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=R):0!==(x&3584)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<3&32256|K<<6|z<<3|M;z=a[x];A|=z<<16;0<z?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=R):0!==(x&3584)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<3&32256|K<<6|z<<3|M;z=a[x];A|=z<<24;oa[C>>2]=A;0<z?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=R):0!==(x&3584)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<3&32256|K<<6|z<<3|M;A=a[x];0<A?(q+=1,0===(x&3584)&&(m+=
1),p|=n,k|=R):0!==(x&3584)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<3&32256|K<<6|z<<3|M;z=a[x];A|=z<<8;0<z?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=R):0!==(x&3584)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<3&32256|K<<6|z<<3|M;z=a[x];A|=z<<16;0<z?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=R):0!==(x&3584)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<3&32256|K<<6|z<<3|M;z=a[x];A|=z<<24;oa[C>>2]=A;0<z?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=R):0!==(x&3584)&&(r+=1);e|=J;R>>=1;C+=
1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<3&32256|K<<6|z<<3|M;A=a[x];0<A?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=R):0!==(x&3584)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<3&32256|K<<6|z<<3|M;z=a[x];A|=z<<8;0<z?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=R):0!==(x&3584)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<3&32256|K<<6|z<<3|M;z=a[x];A|=z<<16;0<z?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=R):0!==(x&3584)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<3&32256|K<<6|z<<3|M;z=a[x];A|=z<<
24;oa[C>>2]=A;0<z?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=R):0!==(x&3584)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<3&32256|K<<6|z<<3|M;A=a[x];0<A?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=R):0!==(x&3584)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<3&32256|K<<6|z<<3|M;z=a[x];A|=z<<8;0<z?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=R):0!==(x&3584)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<3&32256|K<<6|z<<3|M;z=a[x];A|=z<<16;0<z?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=R):0!==(x&3584)&&
(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=C===u-1?0:Y[C+1];M=V[C];x=x<<3&32256|K<<6|z<<3|M;z=a[x];A|=z<<24;oa[C>>2]=A;0<z?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=R):0!==(x&3584)&&(r+=1);e|=J;ma+=1;n>>=1}g[G>>4]|=k;k?(la|=1<<b,p&1&&(X|=I.sb,k&32768&&(X|=I.Db),k&1&&(X|=I.rb)),p&32768&&(X|=I.xb,k&32768&&(X|=I.zb),k&1&&(X|=I.Ab)),k&32768&&(X|=I.pb),k&1&&(X|=I.kb),X&&(0!==(X&I.pb)&&(15>b?la|=1<<b+1:0<d&&0<G&&(P[d-1]|=1)),0!==(X&I.kb)&&(0<b?la|=1<<b-1:d<v-1&&G<u-1&&(P[d+1]|=32768)),0!==(X&I.xb)&&(da|=1<<b),0!==(X&
I.sb)&&(na|=1<<b),0!==(X&I.zb)&&(15>b?da|=1<<b+1:0<d&&0<G&&(ha[d-1]|=1)),0!==(X&I.Ab)&&(0<b?da|=1<<b-1:d<v-1&&G<u-1&&(ha[d+1]|=32768)),0!==(X&I.Db)&&(15>b?na|=1<<b+1:0<d&&0<G&&(ja[d-1]|=1)),0!==(X&I.rb)&&(0<b?na|=1<<b-1:d<v-1&&G<u-1&&(ja[d+1]|=32768)))):e&&(Z|=1<<b);l[c]|=p}G+=16}P[d]|=la;0<c&&(ha[d]|=da);c<y-1&&(ja[d]|=na)}else G+=256;fa[d]=Z}U+=16;S+=16}this.Nb(g,l,u,w,t);D.fill(0);this.Kb(E);for(ma=0;ma<this.v.ba.length;ma+=1)this.v.ba[ma]=this.v.ba[ma]|Q.ba[ma]|N.ba[ma];this.s=q;this.oa=m;this.fa=
r};ra.prototype.vj=function(){var a=this.Ga,b,c,d,f=this.Pa,e,g=this.Ja,k,l=this.Va,p,n,q=0,m=0,r=0,u=this.width,t=this.A,w=this.height,y=this.ca,v=this.Y>>4,D=this.La;if(0!==(this.counter&1)){var F=this.X;var E=this.Ea;var O=this.Da;var Q=this.V;var N=this.L}else F=this.i,E=this.Da,O=this.Ea,Q=this.L,N=this.V;g.fill(0);l.fill(0);var U=0;var S=U+16;N.ba.fill(0);for(c=0;c<Q.length;c+=1){var G=0;var L=Q[c];var P=N[c];var fa=f[c];var ha=0<c?N[c-1]:D;var ja=c<y-1?N[c+1]:D;for(d=0;d<v;d+=1){var ca=L[d];
var Z=0;if(ca){var la=P[d];var da=ha[d];var na=ja[d];for(b=15;0<=b;--b){if(0!==(ca&1<<b)){var X=p=k=e=0;var ma=U;for(n=32768;ma<S;){var aa=0===ma?this.na:F[ma-1];var Y=F[ma];var V=ma===this.height-1?this.na:F[ma+1];var oa=O[ma];var R=32768;var C=G;var z=aa[C];var K=Y[C+1];var M=V[C];var J=Y[C];var x=0===C?J<<12|K<<8|z<<4|M:Y[C-1]<<16|J<<12|K<<8|z<<4|M;var A=a[x];0<A?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=R):0!==(x&61440)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<4&1044480|K<<8|z<<4|M;
z=a[x];A|=z<<8;0<z?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=R):0!==(x&61440)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<4&1044480|K<<8|z<<4|M;z=a[x];A|=z<<16;0<z?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=R):0!==(x&61440)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<4&1044480|K<<8|z<<4|M;z=a[x];A|=z<<24;oa[C>>2]=A;0<z?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=R):0!==(x&61440)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<4&1044480|K<<8|z<<4|M;A=a[x];0<A?(q+=1,0===(x&61440)&&(m+=
1),p|=n,k|=R):0!==(x&61440)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<4&1044480|K<<8|z<<4|M;z=a[x];A|=z<<8;0<z?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=R):0!==(x&61440)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<4&1044480|K<<8|z<<4|M;z=a[x];A|=z<<16;0<z?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=R):0!==(x&61440)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<4&1044480|K<<8|z<<4|M;z=a[x];A|=z<<24;oa[C>>2]=A;0<z?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=R):0!==(x&61440)&&(r+=1);
e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<4&1044480|K<<8|z<<4|M;A=a[x];0<A?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=R):0!==(x&61440)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<4&1044480|K<<8|z<<4|M;z=a[x];A|=z<<8;0<z?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=R):0!==(x&61440)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<4&1044480|K<<8|z<<4|M;z=a[x];A|=z<<16;0<z?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=R):0!==(x&61440)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<4&1044480|
K<<8|z<<4|M;z=a[x];A|=z<<24;oa[C>>2]=A;0<z?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=R):0!==(x&61440)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<4&1044480|K<<8|z<<4|M;A=a[x];0<A?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=R):0!==(x&61440)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<4&1044480|K<<8|z<<4|M;z=a[x];A|=z<<8;0<z?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=R):0!==(x&61440)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<4&1044480|K<<8|z<<4|M;z=a[x];A|=z<<16;0<z?(q+=1,0===(x&
61440)&&(m+=1),p|=n,k|=R):0!==(x&61440)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=C===u-1?0:Y[C+1];M=V[C];x=x<<4&1044480|K<<8|z<<4|M;z=a[x];A|=z<<24;oa[C>>2]=A;0<z?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=R):0!==(x&61440)&&(r+=1);e|=J;ma+=1;n>>=1}g[G>>4]|=k;k?(la|=1<<b,p&1&&(X|=I.sb,k&32768&&(X|=I.Db),k&1&&(X|=I.rb)),p&32768&&(X|=I.xb,k&32768&&(X|=I.zb),k&1&&(X|=I.Ab)),k&32768&&(X|=I.pb),k&1&&(X|=I.kb),X&&(0!==(X&I.pb)&&(15>b?la|=1<<b+1:0<d&&0<G&&(P[d-1]|=1)),0!==(X&I.kb)&&(0<b?la|=1<<b-1:d<v-1&&G<u-1&&(P[d+
1]|=32768)),0!==(X&I.xb)&&(da|=1<<b),0!==(X&I.sb)&&(na|=1<<b),0!==(X&I.zb)&&(15>b?da|=1<<b+1:0<d&&0<G&&(ha[d-1]|=1)),0!==(X&I.Ab)&&(0<b?da|=1<<b-1:d<v-1&&G<u-1&&(ha[d+1]|=32768)),0!==(X&I.Db)&&(15>b?na|=1<<b+1:0<d&&0<G&&(ja[d-1]|=1)),0!==(X&I.rb)&&(0<b?na|=1<<b-1:d<v-1&&G<u-1&&(ja[d+1]|=32768)))):e&&(Z|=1<<b);l[c]|=p}G+=16}P[d]|=la;0<c&&(ha[d]|=da);c<y-1&&(ja[d]|=na)}else G+=256;fa[d]=Z}U+=16;S+=16}this.Nb(g,l,u,w,t);D.fill(0);this.Kb(E);for(ma=0;ma<this.v.ba.length;ma+=1)this.v.ba[ma]=this.v.ba[ma]|
Q.ba[ma]|N.ba[ma];this.s=q;this.oa=m;this.fa=r};ra.prototype.wj=function(){var a=this.Ga,b,c,d,f=this.Pa,e,g=this.Ja,k,l=this.Va,p,n,q=0,m=0,r=0,u=this.width,t=this.A,w=this.height,y=this.ca,v=this.Y>>4,D=this.La;if(0!==(this.counter&1)){var F=this.X;var E=this.Ea;var O=this.Da;var Q=this.V;var N=this.L}else F=this.i,E=this.Da,O=this.Ea,Q=this.L,N=this.V;g.fill(0);l.fill(0);var U=0;var S=U+16;N.ba.fill(0);for(c=0;c<Q.length;c+=1){var G=0;var L=Q[c];var P=N[c];var fa=f[c];var ha=0<c?N[c-1]:D;var ja=
c<y-1?N[c+1]:D;for(d=0;d<v;d+=1){var ca=L[d];var Z=0;if(ca){var la=P[d];var da=ha[d];var na=ja[d];for(b=15;0<=b;--b){if(0!==(ca&1<<b)){var X=p=k=e=0;var ma=U;for(n=32768;ma<S;){var aa=0===ma?this.na:F[ma-1];var Y=F[ma];var V=ma===this.height-1?this.na:F[ma+1];var oa=O[ma];var R=32768;var C=G;var z=aa[C];var K=Y[C+1];var M=V[C];var J=Y[C];var x=0===C?J<<15|K<<10|z<<5|M:Y[C-1]<<20|J<<15|K<<10|z<<5|M;var A=a[x];0<A?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=R):0!==(x&1015808)&&(r+=1);e|=J;R>>=1;C+=1;J=K;
z=aa[C];K=Y[C+1];M=V[C];x=x<<5&33521664|K<<10|z<<5|M;z=a[x];A|=z<<8;0<z?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=R):0!==(x&1015808)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<5&33521664|K<<10|z<<5|M;z=a[x];A|=z<<16;0<z?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=R):0!==(x&1015808)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<5&33521664|K<<10|z<<5|M;z=a[x];A|=z<<24;oa[C>>2]=A;0<z?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=R):0!==(x&1015808)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];
M=V[C];x=x<<5&33521664|K<<10|z<<5|M;A=a[x];0<A?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=R):0!==(x&1015808)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<5&33521664|K<<10|z<<5|M;z=a[x];A|=z<<8;0<z?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=R):0!==(x&1015808)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<5&33521664|K<<10|z<<5|M;z=a[x];A|=z<<16;0<z?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=R):0!==(x&1015808)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<5&33521664|K<<10|z<<5|M;z=
a[x];A|=z<<24;oa[C>>2]=A;0<z?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=R):0!==(x&1015808)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<5&33521664|K<<10|z<<5|M;A=a[x];0<A?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=R):0!==(x&1015808)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<5&33521664|K<<10|z<<5|M;z=a[x];A|=z<<8;0<z?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=R):0!==(x&1015808)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<5&33521664|K<<10|z<<5|M;z=a[x];A|=z<<16;0<z?(q+=1,0===
(x&1015808)&&(m+=1),p|=n,k|=R):0!==(x&1015808)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<5&33521664|K<<10|z<<5|M;z=a[x];A|=z<<24;oa[C>>2]=A;0<z?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=R):0!==(x&1015808)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<5&33521664|K<<10|z<<5|M;A=a[x];0<A?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=R):0!==(x&1015808)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<5&33521664|K<<10|z<<5|M;z=a[x];A|=z<<8;0<z?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=
R):0!==(x&1015808)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=Y[C+1];M=V[C];x=x<<5&33521664|K<<10|z<<5|M;z=a[x];A|=z<<16;0<z?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=R):0!==(x&1015808)&&(r+=1);e|=J;R>>=1;C+=1;J=K;z=aa[C];K=C===u-1?0:Y[C+1];M=V[C];x=x<<5&33521664|K<<10|z<<5|M;z=a[x];A|=z<<24;oa[C>>2]=A;0<z?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=R):0!==(x&1015808)&&(r+=1);e|=J;ma+=1;n>>=1}g[G>>4]|=k;k?(la|=1<<b,p&1&&(X|=I.sb,k&32768&&(X|=I.Db),k&1&&(X|=I.rb)),p&32768&&(X|=I.xb,k&32768&&(X|=I.zb),k&1&&(X|=I.Ab)),
k&32768&&(X|=I.pb),k&1&&(X|=I.kb),X&&(0!==(X&I.pb)&&(15>b?la|=1<<b+1:0<d&&0<G&&(P[d-1]|=1)),0!==(X&I.kb)&&(0<b?la|=1<<b-1:d<v-1&&G<u-1&&(P[d+1]|=32768)),0!==(X&I.xb)&&(da|=1<<b),0!==(X&I.sb)&&(na|=1<<b),0!==(X&I.zb)&&(15>b?da|=1<<b+1:0<d&&0<G&&(ha[d-1]|=1)),0!==(X&I.Ab)&&(0<b?da|=1<<b-1:d<v-1&&G<u-1&&(ha[d+1]|=32768)),0!==(X&I.Db)&&(15>b?na|=1<<b+1:0<d&&0<G&&(ja[d-1]|=1)),0!==(X&I.rb)&&(0<b?na|=1<<b-1:d<v-1&&G<u-1&&(ja[d+1]|=32768)))):e&&(Z|=1<<b);l[c]|=p}G+=16}P[d]|=la;0<c&&(ha[d]|=da);c<y-1&&(ja[d]|=
na)}else G+=256;fa[d]=Z}U+=16;S+=16}this.Nb(g,l,u,w,t);D.fill(0);this.Kb(E);for(ma=0;ma<this.v.ba.length;ma+=1)this.v.ba[ma]=this.v.ba[ma]|Q.ba[ma]|N.ba[ma];this.s=q;this.oa=m;this.fa=r};ra.prototype.mm=function(){var a=this.Ud,b=this.A,c=this.ib,d=c.F;var f=c.H;var e=c.J,g=c.K,k=0,l=0,p=0,n=this.width,q=this.height,m=0,r=0,u=this.width,t=this.height,w=0,y=0,v=this.v,D,F=this.kc,E=this.u,O=0<this.u?1:0;var Q=this.O;var N=this.M;var U=Math.round((this.width-Q)/2);var S=Math.round((this.height-N)/2);
Q=U+Q-1;N=S+N-1;-1!==this.D&&(0===this.O&&(U=0,Q=this.width-1),0===this.M&&(S=0,N=this.height-1),d=U+1,f=S+1,e=Q-1,g=N-1);this.wb&&(this.Za=!this.Za,this.wb=!1);0!==(this.counter&1)?(U=this.X,S=this.i,this.Za&&(a=this.eb?this.Vd:this.bb)):(U=this.i,S=this.X,this.eb&&(a=this.Re),this.Za&&(a=this.bb));2>f&&(f=2);g>this.height-3&&(g=this.height-3);1>d&&(d=1);e>this.width-3&&(e=this.width-3);for(--f;f<=g+1;f+=1){Q=U[f-1];var G=U[f];var L=U[f+1];var P=v[f>>4];var fa=S[f];var ha=D=!1;var ja=G[d-2];for(N=
d-1;N<=e+1;N+=1){var ca=L[N];var Z=G[N+1];var la=Q[N];0<E&&(ca=ca<=E?0:ca-E,Z=Z<=E?0:Z-E,la=la<=E?0:la-E,ja=ja<=E?0:ja-E);ja=ja|ca<<4|Z<<8|la<<12;ca=a[ja];ja=G[N];0<ca?(k+=F[ca],fa[N]=ca+E,D=!0,P[N>>8]=65535,N<n&&(n=N),N>m&&(m=N)):(ca=ja,ca>E?ca=E:ca>O&&--ca,fa[N]=ca,0<ca&&(D=!0,N<n&&(n=N),N>m&&(m=N)),ca=0);ja>E?(ja-=E,l+=F[ca&~ja],p+=F[ja&~ca],ja+=E):l+=F[ca];0<ca&&(N<u&&(u=N),N>w&&(w=N),ha=!0)}D&&(f<q&&(q=f),f>r&&(r=f));ha&&(f<t&&(t=f),f>y&&(y=f))}this.s=k;this.oa=l;this.fa=p;c.F=n;c.H=q;c.J=m;
c.K=r;b.F=u;b.H=t;b.J=w;b.K=y};ra.prototype.Pl=function(){var a=this.$d,b=this.v,c=this.ra,d=this.Pe,f,e,g;var k=this.ca;var l=this.Y>>4;var p=0;var n=k;if(0!==(this.counter&1)){var q=this.Qa;var m=this.V}else q=this.va,m=this.L;0>p&&(p=0);n>k&&(n=k);k=p<<4;var r=k+16;for(f=p;f<n;f+=1){var u=0;var t=m[f];var w=c[f];var y=b[f];for(e=0;e<l;e+=1){var v=t[e]|w[e]|y[e];var D=0;if(v)for(g=15;0<=g;--g){if(0!==(v&1<<g)){var F=0;for(p=k;p<r;){var E=q[p];var O=a[p];var Q=u<<3;E=E[u];var N=d[O[Q]|(E&32768)>>
8|(E&16384)<<1];F|=N;O[Q]=N;Q+=1;N=d[O[Q]|(E&8192)>>6|(E&4096)<<3];F|=N;O[Q]=N;Q+=1;N=d[O[Q]|(E&2048)>>4|(E&1024)<<5];F|=N;O[Q]=N;Q+=1;N=d[O[Q]|(E&512)>>2|(E&256)<<7];F|=N;O[Q]=N;Q+=1;N=d[O[Q]|E&128|(E&64)<<9];F|=N;O[Q]=N;Q+=1;N=d[O[Q]|(E&32)<<2|(E&16)<<11];F|=N;O[Q]=N;Q+=1;N=d[O[Q]|(E&8)<<4|(E&4)<<13];F|=N;O[Q]=N;Q+=1;N=d[O[Q]|(E&2)<<6|(E&1)<<15];F|=N;O[Q]=N;p+=1}0!==(F&65278)&&(D|=1<<g)}u+=1}else u+=16;w[e]=D;y[e]|=D}k+=16;r+=16}};ra.prototype.Ol=function(){var a=this.$d,b=this.v,c=this.ra,d=this.Pe,
f,e,g;var k=this.ca;var l=this.Y>>4;var p=0;var n=k;if(0!==(this.counter&1)){var q=this.Qa;var m=this.V}else q=this.va,m=this.L;0>p&&(p=0);n>k&&(n=k);k=p<<4;var r=k+16;for(f=p;f<n;f+=1){var u=0;var t=m[f];var w=c[f];var y=b[f];for(e=0;e<l;e+=1){var v=t[e]|w[e];var D=0;if(v)for(g=15;0<=g;--g){if(0!==(v&1<<g)){var F=0;for(p=k;p<r;){var E=q[p];var O=a[p];var Q=u<<3;E=E[u];var N=d[(E&49152)>>7|p+Q+Q&127];F|=N;O[Q]=N;Q+=1;N=d[(E&12288)>>5|p+Q+Q&127];F|=N;O[Q]=N;Q+=1;N=d[(E&3072)>>3|p+Q+Q&127];F|=N;O[Q]=
N;Q+=1;N=d[(E&768)>>1|p+Q+Q&127];F|=N;O[Q]=N;Q+=1;N=d[(E&192)<<1|p+Q+Q&127];F|=N;O[Q]=N;Q+=1;N=d[(E&48)<<3|p+Q+Q&127];F|=N;O[Q]=N;Q+=1;N=d[(E&12)<<5|p+Q+Q&127];F|=N;O[Q]=N;Q+=1;N=d[(E&3)<<7|p+Q+Q&127];F|=N;O[Q]=N;p+=1}if(1<(F&255)||1<F>>8)D|=1<<g}u+=1}else u+=16;w[e]=D;y[e]|=D}k+=16;r+=16}};ra.prototype.Pj=function(a,b,c,d,f,e,g,k,l,p){var n=this.mc;d=d*a+n.K;c=c*a+n.J;b=b*a+n.H;f=f*a+n.F;n=c-f+1;a=d-b+1;this.ia&&(n=c-b/2-(f-d/2)+1);0===n&&(n=1);0===a&&(a=1);e/=n;g/=a;p=Math.round(1E3*(e>g?g:e)/p)/
1E3;p<k?p=k:p>l&&(p=l);return p};ra.prototype.Wn=function(a){var b=a;1>a&&(b=1/a);var c=Math.round(b);(c<b?c/b:b/c)>=H.WD&&(a=1>a?1/c:c);return a};ra.prototype.Ni=function(a,b,c,d,f,e,g,k,l,p,n,q,m){var r=this.A,u=this.mc,t=this.ib,w=this.i,y,v=y=0,D=0;(this.l||this.o||this.m||this.B)&&0!==(this.counter&1)&&(w=this.X);var F=2>=this.h?I.Ya:this.u+1;n?r=t:this.Ia&&(r=this.ya);if(a===H.Io){n=b.F;t=b.J;var E=b.K;b=b.H}else n=r.F,t=r.J,E=r.K,b=r.H,this.I&&!q&&(u.F<n&&(n=u.F),u.J>t&&(t=u.J),u.K>E&&(E=u.K),
u.H<b&&(b=u.H)),-1!==this.D&&(y=this.O+2,v=this.M+2,2<y?(n=this.width/2-y/2+(y&1)/2,t=this.width/2+y/2):y=t-n+1,2<v?(b=this.height/2-v/2+(v&1)/2,E=this.height/2+v/2):v=E-b+1);p?(y=k,v=l,n=this.width/2-y/2,t=this.width/2+y/2,E=this.height/2+v/2,b=this.height/2-v/2):-1===this.D&&(y=t-n+1,v=E-b+1);if(this.ia){if(a===H.Io)n-=E/2,t-=b/2;else{p=2*(this.width+this.height);q=-p;b|=0;E|=0;n|=0;t|=0;-1!==this.D&&this.Mf(w,this.pc);for(l=b;l<=E;l+=1)for(y=w[l],k=n;k<=t;k+=1)u=y[k],u>=F&&(D+=1,u=k-l/2,u<p&&(p=
u),u>q&&(q=u));0===D?(n-=b/2,t=n+1):(n=p,t=q,n>t&&(w=n,n=t,t=w))}y=t-n+1}0===y&&(y=1);0===v&&(v=1);c/=y;d/=v;this.W&&(d/=H.em);this.ia&&(d/=H.vl);g=Math.round(1E3*(c>d?d:c)/g)/1E3;g/=this.Ha;g<f?g=f:g>e&&(g=e);f=b-this.qa+v/2;e=n-this.Aa+y/2;m||(g=this.Wn(g));a===H.Is&&(g=this.zoom);this.Z&&-1!==this.D&&(--e,--f);return[g,e,f]};ra.prototype.xh=function(a,b,c,d){var f=this.Nc,e=this.ea,g=this.aa;if(a>b){var k=b;b=a;a=k}0>a?a=0:a>=e&&(a=e-1);0>b?b=0:b>=e&&(b=e-1);0<=c&&c<g&&f.fill(d,c*e+a,c*e+b)};ra.prototype.zh=
function(a,b,c,d){var f=this.Nc,e=this.ea,g=this.aa;if(b>c){var k=c;c=b;b=k}0>b?b=0:b>=g&&(b=g-1);0>c?c=0:c>=g&&(c=g-1);b=b*e+a;c=c*e+a;g=c-15*e;if(0<=a&&a<e){for(;b<=g;)f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e;for(;b<=c;)f[b]=d,b+=e}};ra.prototype.xk=function(a,b,c,d,f){var e=Math.abs(c-a),g=Math.abs(d-b),k=a<c?1:-1,l=b<d?1:-1,p=e-g,n=this.ea,q=this.aa,
m=this.Nc;if(!(0>a&&0>c||a>=n&&c>=n||0>b&&0>d||b>=q&&d>=q))if(0<=a&&a<n&&0<=b&&b<q&&0<=c&&c<n&&0<=d&&d<q)for(m[b*n+a]=f;a!==c||b!==d;){var r=p+p;r>-g&&(p-=g,a+=k);r<e&&(p+=e,b+=l);m[b*n+a]=f}else for(0<=a&&a<n&&0<=b&&b<q&&(m[b*n+a]=f);a!==c||b!==d;)r=p+p,r>-g&&(p-=g,a+=k),r<e&&(p+=e,b+=l),0<=a&&a<n&&0<=b&&b<q&&(m[b*n+a]=f)};ra.prototype.Wg=function(a,b,c,d,f){var e=this.ea/2,g=this.aa/2;if(0!==this.sa){a-=e;b-=g;var k=Math.sqrt(a*a+b*b);var l=180/Math.PI*Math.atan2(b,a);l+=this.sa;a=Math.round(k*
Math.cos(Math.PI/180*l)+e);b=Math.round(k*Math.sin(Math.PI/180*l)+g);c-=e;d-=g;k=Math.sqrt(c*c+d*d);l=180/Math.PI*Math.atan2(d,c);l+=this.sa;c=Math.round(k*Math.cos(Math.PI/180*l)+e);d=Math.round(k*Math.sin(Math.PI/180*l)+g)}a===c?this.zh(a,b,d,f):b===d?this.xh(a,c,b,f):this.xk(a,b,c,d,f)};ra.prototype.yh=function(a,b,c,d,f){var e=a.Yb,g=a.Xb,k=0,l=0,p,n=this.ma;var q=this.zoom;var m=this.uc(this.zoom);var r=a.ca-a.R;var u=a.W-a.Y;var t=a.W-this.da,w=a.ca-this.ga-(this.ia?this.da/2:0),y=0!==this.angle?
1:0,v=[0,0];switch(d){case H.Az:b-=e>>1;break;case H.Bz:b-=e-1;break;case H.Fz:c-=g>>1;break;case H.zz:b-=e>>1;c-=g>>1;break;case H.yz:b-=e-1;c-=g>>1;break;case H.Ez:c-=g-1;break;case H.Cz:b-=e>>1;c-=g-1;break;case H.Dz:b-=e-1,c-=g-1}d=c;var D=c+g;a.kc&&(r+=2*a.Zb,u+=2*a.uc);var F=q*(d-u+t-this.qa+a.W)+a.aa/2;d=m*(d-u+t-this.qa+a.W)+a.aa/2;F=q*(b-r+w-this.Aa+a.ca)+a.ea/2+(this.ia?(a.aa/2-F)/2:0);var E=q*(D-u+t-this.qa+a.W)+a.aa/2;D=m*(D-u+t-this.qa+a.W)+a.aa/2;E=q*(b+e-r+w-this.Aa+a.ca)+a.ea/2+(this.ia?
(a.aa/2-E)/2:0);n.fillStyle=f;n.globalAlpha=.5;if(this.ia)if(!this.ua&&4<=this.zoom)a.kc&&(r-=2*a.Zb,u-=2*a.uc),this.bj(b,c,b+e-1,c+g-1,r,u);else{n.beginPath();for(p=0;p<g;p+=1)n.moveTo(F,d),n.lineTo(F+e*q+1,d),n.lineTo(F+e*q+1,d+m+1),n.lineTo(F,d+m+1),F-=q/2,d+=m;n.fill()}else!this.ua&&this.W&&4<=this.zoom?(a.kc&&(r-=2*a.Zb,u-=2*a.uc),this.dj(b,c,b+e-1,c+g-1,r,u)):(0!==this.angle?(n.beginPath(),this.Xd(F,d,v),n.moveTo(v[0],v[1]),this.Xd(E+y,d,v),n.lineTo(v[0],v[1]),this.Xd(E+y,D+y,v),n.lineTo(v[0],
v[1]),this.Xd(F,D+y,v),n.lineTo(v[0],v[1])):(n.beginPath(),n.moveTo(this.rc(F),this.rc(d)),n.lineTo(this.rc(E),this.rc(d)),n.lineTo(this.rc(E),this.rc(D)),n.lineTo(this.rc(F),this.rc(D))),n.fill());if(1<=this.zoom){if(0<this.sa){f=Math.cos(this.sa/180*Math.PI)*this.$;var O=Math.sin(this.sa/180*Math.PI)*this.$;y=Math.cos((this.sa+90)/180*Math.PI)*this.$;var Q=Math.sin((this.sa+90)/180*Math.PI)*this.$}else f=q,y=O=0,Q=m;F=q*(c+l-u+t-this.qa+a.W)+a.aa/2;d=m*(c+l-u+t-this.qa+a.W)+a.aa/2;F=q*(b+k-r+w-
this.Aa+a.ca)+a.ea/2+(this.ia?(a.aa/2-F)/2:0);0!==this.sa&&(this.Xd(F,d,v),F=v[0],d=v[1]);E=F;D=d;n.fillStyle=this.Ji;if(this.ia&&!this.ua&&4<=this.zoom)this.Fk(b,c,b+e-1,c+g-1,r,u,a.X);else if(!this.ua&&this.W&&4<=this.zoom)this.Jk(b,c,b+e-1,c+g-1,r,u,a.X);else{n.beginPath();for(l=p=0;l<g;l+=1){F=E;for(k=0;k<e;k+=1)b=a.X[p],p+=1,b&&(b=F+f,c=d+O,q=b+y,m=c+Q,r=q-f,u=m-O,0>F&&0>b&&0>q&&0>r||F>=a.ea&&b>=a.ea&&q>=a.ea&&r>=a.ea||0>d&&0>c&&0>m&&0>u||d>=a.aa&&c>=a.aa&&m>=a.aa&&u>=a.aa||(n.moveTo(F,d),n.lineTo(b,
c),n.lineTo(q,m),n.lineTo(r,u))),F+=f,d+=O;E+=y;d=D+=Q;this.ia&&(E-=f/2)}n.fill()}}};ra.prototype.Xd=function(a,b,c){var d=this.ea/2,f=this.aa/2;if(0!==this.sa){a-=d;b-=f;var e=Math.sqrt(a*a+b*b);b=180/Math.PI*Math.atan2(b,a);b+=this.sa;a=Math.round(e*Math.cos(Math.PI/180*b)+d);b=Math.round(e*Math.sin(Math.PI/180*b)+f)}c[0]=a;c[1]=b};ra.prototype.Hk=function(a){var b=a.tc+.5|0,c=a.ca-a.R,d=a.W-a.Y;(a.M||a.dd)&&this.wk(a,a.$,this.Ii);a.Qa&&(-1!==this.D&&a.kc?this.yh(a,a.Gi.F-a.ra,a.Gi.H-a.qa,H.Mn,
this.ng):this.yh(a,a.Gi.F,a.Gi.H,H.Mn,this.ng));if(a.ua){var f=a.C.D;var e=a.C.I;-1!==f&&(a.xj(f,e),this.yh(a,a.Bc-c,a.Ec-d,b,this.zi))}};ra.prototype.rc=function(a){var b=a,c=a|0;a!==c&&(b=c+1);return b};ra.prototype.wk=function(a,b,c){var d=this.ma,f=this.zoom,e=this.uc(this.zoom),g=b.F,k=b.H,l=b.J;b=b.K;var p=a.W-a.Y,n=a.ca-a.R,q=a.W-this.da,m=a.ca-this.ga-(this.ia?this.da/2:0),r=[0,0],u=0!==this.angle?1:0,t=a.$;if(g>l){var w=g;g=l;l=w}k>b&&(w=k,k=b,b=w);w=l-g+1;var y=b-k+1;a.kc&&-1!==a.g.D&&(n+=
Math.floor(a.ra/2),p+=Math.floor(a.qa/2));var v=f*(k-p+q-this.qa+a.W)+a.aa/2;k=e*(k-p+q-this.qa+a.W)+a.aa/2;g=f*(g-n+m-this.Aa+a.ca)+a.ea/2+(this.ia?(a.aa/2-v)/2:0);v=f*(b+1-p+q-this.qa+a.W)+a.aa/2;b=e*(b+1-p+q-this.qa+a.W)+a.aa/2;l=f*(l+1-n+m-this.Aa+a.ca)+a.ea/2+(this.ia?(a.aa/2-v)/2:0);d.fillStyle=c;d.globalAlpha=.5;if(this.ia)if(!this.ua&&4<=this.zoom)a.kc&&(n+=2*a.Zb,p+=2*a.uc),this.bj(t.F,t.H,t.J,t.K,n,p);else{d.beginPath();w*=f;for(a=0;a<y;a+=1)d.moveTo(g,k),d.lineTo(g+w+1,k),d.lineTo(g+w+
1,k+e+1),d.lineTo(g,k+e+1),g-=f/2,k+=e;d.fill()}else this.W&&!this.ua&&4<=this.zoom?(a.kc&&(n+=2*a.Zb,p+=2*a.uc),this.dj(t.F,t.H,t.J,t.K,n,p)):(0!==this.angle?(d.beginPath(),this.Xd(g,k,r),d.moveTo(r[0],r[1]),this.Xd(l+u,k,r),d.lineTo(r[0],r[1]),this.Xd(l+u,b+u,r),d.lineTo(r[0],r[1]),this.Xd(g,b+u,r),d.lineTo(r[0],r[1])):(d.beginPath(),d.moveTo(this.rc(g),this.rc(k)),d.lineTo(this.rc(l),this.rc(k)),d.lineTo(this.rc(l),this.rc(b)),d.lineTo(this.rc(g),this.rc(b))),d.fill());d.globalAlpha=1};ra.prototype.Dk=
function(){var a,b=this.ea,c=this.aa,d=this.Dd,f=this.Td,e=this.$,g=this.uc(this.$),k=d,l,p=0<this.Ua&&this.Tc,n=this.counter&1,q=((this.height/2-(this.da+this.qa))*g+c/2)%g,m=((this.width/2-(this.ga+this.Aa))*e+b/2)%e,r=this.view.v/2|0,u=this.view.A/2|0;if(this.Ka)var t=p?2:1;else t=1,p=!1,k=d=this.fb[0];var w=d;for(this.Z&&2===this.Ua&&this.cd||(n=0);t;){var y=-(b/2/e)-(this.width/2-this.ga-this.Aa)|0;y+=r-2;var v=22*-e;var D=b+e+22*e;var F=q-22*g;var E=c+22*g;var O=-b/1.5;var Q=b+b/1.5;var N=-c/
1.5;for(l=c+c/1.5;v<=D;v+=e)if(p&&(k=0===(y+n)%this.Ua?f:d),y+=1,k===w)if(this.ia){var U=-(c/2/g)-(this.height/2-this.da-this.qa)|0;for(a=F;a<E;a+=g)0===(U&1)?this.Wg(Math.round(v+m),Math.round(a),Math.round(v+m),Math.round(a+g-1),k):this.Wg(Math.round(v+m+e/2),Math.round(a),Math.round(v+m+e/2),Math.round(a+g-1),k),U+=1}else this.Wg(Math.round(v+m),N,Math.round(v+m),l-1,k);y=-(c/2/g)-(this.height/2-this.da-this.qa)|0;y+=u-2;for(a=F;a<E;a+=g)p&&(k=0===(y+n)%this.Ua?f:d),y+=1,k===w&&this.Wg(O,Math.round(a),
Q-1,Math.round(a),k);--t;w=f}};ra.prototype.ge=function(){return 4<=this.$};ra.prototype.Sc=function(a,b){var c=this.O,d=this.M,f=this.Z?-1:0,e=Math.round((this.width-c)/2-1)+f,g=e+c+1,k=Math.round((this.height-d)/2-1)+f;f=k+d+1;k&=~b;f&=~b;e&=~b;g&=~b;if(0===c)a[k].fill(0,0,this.width),a[f].fill(0,0,this.width);else if(0===d)for(b=0;b<this.height;b+=1)a[b][e]=0,a[b][g]=0;else for(a[k].fill(0,e,g+1),a[f].fill(0,e,g+1),b=k+1;b<=f-1;b+=1)a[b][e]=0,a[b][g]=0};ra.prototype.Mf=function(a,b){var c=this.O,
d=this.M,f=this.Z?-1:0,e=Math.round((this.width-c)/2-1)+f,g=e+c+1,k=Math.round((this.height-d)/2-1)+f;f=k+d+1;var l=a[k],p=a[f];if(0===c)l.fill(b,0,this.width),p.fill(b,0,this.width);else if(0===d)for(c=0;c<this.height;c+=1)a[c][e]=b,a[c][g]=b;else for(l.fill(b,e,g+1),p.fill(b,e,g+1),c=k+1;c<=f-1;c+=1)a[c][e]=b,a[c][g]=b};ra.prototype.$g=function(a,b){return 2<this.h?this.m||this.B||this.o?1:0===this.u?this.h/this.za*b|0:b<a/2?this.u/this.za*b*2|0:this.u+this.h/this.za*b|0:this.Vb||this.o?1:(this.$f+
1)/this.za*b|0};ra.prototype.mn=function(a,b){var c=this.fb[0],d=this.Nc,f=this.i,e=this.$d,g=this.Da;this.Vg=!0;(this.l||this.o||this.m||this.B)&&0!==(this.counter&1)&&(f=this.X,e=this.Df,g=this.Ea);this.re&&(this.sh(),c=this.fb[0],--this.re,this.re||(this.Kd.set(this.zd),this.Rc.set(this.Kc),this.Zd.set(this.Gd),this.bf.set(this.Oe),this.be.set(this.Cd),this.rf.set(this.Xe)));this.$=this.zoom*this.Ha;this.$<H.Mb?this.$=H.Mb:this.$>H.ac&&(this.$=H.ac);this.Qb=this.ga+this.Aa;this.Rb=this.da+this.qa;
this.ta=this.Ub/2+1;var k=this.$;this.sa=this.ia||this.W?0:this.angle;-1!==this.D&&this.Mf(f,this.pc);4<=k&&(!this.ua&&this.ia||!this.ua&&this.W)?(d.fill(c),this.mb(1)):(1>k&&this.tk(e,g),.0625>k?this.tc?this.jf(this.Xa,this.Fa,31,a,b):this.kf(this.Fa,this.Fa,31,a,b):.125>k?this.tc?this.jf(this.Xa,this.Fa,15,a,b):this.kf(this.Fa,this.Fa,15,a,b):.25>k?this.tc?this.jf(this.Xa,this.Fa,7,a,b):this.kf(this.Fa,this.Fa,7,a,b):.5>k?this.tc?this.jf(this.Xa,this.Fa,3,a,b):this.kf(this.Fa,this.Fa,3,a,b):1>k?
this.tc?this.jf(this.Xa,this.Fa,1,a,b):this.kf(this.Fa,this.Fa,1,a,b):this.tc?this.jf(this.Ba,f,0,a,b):this.kf(f,f,0,a,b))};ra.prototype.xe=function(a){a&&(this.ge()&&this.Wa&&!this.Ka||this.Xg());(this.Ka||this.Wa)&&this.ge()&&this.Dk();a&&this.ge()&&this.Wa&&!this.Ka&&this.Xg()};ra.prototype.un=function(a,b,c,d){var f=this.ea>>3,e=this.fb,g=this.Nc,k=0,l=0;var p=this.width;var n=this.height;var q=1,m=1,r=0,u=this.T,t=this.xa&~c,w=this.wa&~c,y=~c,v=~c,D=this.Ld,F,E=a,O=this.$;1<this.ta&&(q=this.za);
a=Math.sin(this.sa/180*Math.PI)/this.$;var Q=Math.cos(this.sa/180*Math.PI)/this.$;var N=-(this.ea/2*-a+this.aa/2*Q)+this.Rb;var U=-(this.ea/2*Q+this.aa/2*a)+this.Qb;1<this.za&&1<this.ta&&(r=.4/(this.za-1),m=.6);this.mb(m);for(F=this.fb[0];p<u;)k+=p>>1,p<<=1;for(;n<u;)l+=n>>1,n<<=1;var S=0;var G=N;for(p=0;p<this.aa;p+=1){var L=U;for(n=0;n<f;n+=1){if(0<=L&&(L&y)===(L&t)&&0<G&&(G&v)===(G&w)){var P=E[G&w][L&t]|0;g[S]=e[P]}else g[S]=0<=L+k&&L+k<u&&0<=G+l&&G+l<u?F:D;S+=1;L+=Q;G-=a;0<=L&&(L&y)===(L&t)&&
0<G&&(G&v)===(G&w)?(P=E[G&w][L&t]|0,g[S]=e[P]):g[S]=0<=L+k&&L+k<u&&0<=G+l&&G+l<u?F:D;S+=1;L+=Q;G-=a;0<=L&&(L&y)===(L&t)&&0<G&&(G&v)===(G&w)?(P=E[G&w][L&t]|0,g[S]=e[P]):g[S]=0<=L+k&&L+k<u&&0<=G+l&&G+l<u?F:D;S+=1;L+=Q;G-=a;0<=L&&(L&y)===(L&t)&&0<G&&(G&v)===(G&w)?(P=E[G&w][L&t]|0,g[S]=e[P]):g[S]=0<=L+k&&L+k<u&&0<=G+l&&G+l<u?F:D;S+=1;L+=Q;G-=a;0<=L&&(L&y)===(L&t)&&0<G&&(G&v)===(G&w)?(P=E[G&w][L&t]|0,g[S]=e[P]):g[S]=0<=L+k&&L+k<u&&0<=G+l&&G+l<u?F:D;S+=1;L+=Q;G-=a;0<=L&&(L&y)===(L&t)&&0<G&&(G&v)===(G&w)?
(P=E[G&w][L&t]|0,g[S]=e[P]):g[S]=0<=L+k&&L+k<u&&0<=G+l&&G+l<u?F:D;S+=1;L+=Q;G-=a;0<=L&&(L&y)===(L&t)&&0<G&&(G&v)===(G&w)?(P=E[G&w][L&t]|0,g[S]=e[P]):g[S]=0<=L+k&&L+k<u&&0<=G+l&&G+l<u?F:D;S+=1;L+=Q;G-=a;0<=L&&(L&y)===(L&t)&&0<G&&(G&v)===(G&w)?(P=E[G&w][L&t]|0,g[S]=e[P]):g[S]=0<=L+k&&L+k<u&&0<=G+l&&G+l<u?F:D;S+=1;L+=Q;G-=a}U+=a;G=N+=Q}this.xe(d);-1!==this.D&&(this.Sc(E,c),this.Sc(b,c));E=b;for(b=1;b<q;b+=1)for(d=this.$g(q,b),m+=r,this.mb(m),a/=this.ta,Q/=this.ta,O*=this.ta,t=c,c=.125>O?15:.25>O?7:.5>
O?3:1>O?1:0,c!==t&&(E=this.i,this.Sc(E,c)),t=this.xa&~c,w=this.wa&~c,y=~c,v=~c,N=-(this.ea/2*-a+this.aa/2*Q)+this.Rb,U=-(this.ea/2*Q+this.aa/2*a)+this.Qb,S=0,G=N,p=0;p<this.aa;p+=1){L=U;for(n=0;n<f;n+=1)0<=L&&(L&y)===(L&t)&&0<G&&(G&v)===(G&w)&&(P=E[G&w][L&t]|0,P>=d&&(g[S]=e[P])),S+=1,L+=Q,G-=a,0<=L&&(L&y)===(L&t)&&0<G&&(G&v)===(G&w)&&(P=E[G&w][L&t]|0,P>=d&&(g[S]=e[P])),S+=1,L+=Q,G-=a,0<=L&&(L&y)===(L&t)&&0<G&&(G&v)===(G&w)&&(P=E[G&w][L&t]|0,P>=d&&(g[S]=e[P])),S+=1,L+=Q,G-=a,0<=L&&(L&y)===(L&t)&&0<
G&&(G&v)===(G&w)&&(P=E[G&w][L&t]|0,P>=d&&(g[S]=e[P])),S+=1,L+=Q,G-=a,0<=L&&(L&y)===(L&t)&&0<G&&(G&v)===(G&w)&&(P=E[G&w][L&t]|0,P>=d&&(g[S]=e[P])),S+=1,L+=Q,G-=a,0<=L&&(L&y)===(L&t)&&0<G&&(G&v)===(G&w)&&(P=E[G&w][L&t]|0,P>=d&&(g[S]=e[P])),S+=1,L+=Q,G-=a,0<=L&&(L&y)===(L&t)&&0<G&&(G&v)===(G&w)&&(P=E[G&w][L&t]|0,P>=d&&(g[S]=e[P])),S+=1,L+=Q,G-=a,0<=L&&(L&y)===(L&t)&&0<G&&(G&v)===(G&w)&&(P=E[G&w][L&t]|0,P>=d&&(g[S]=e[P])),S+=1,L+=Q,G-=a;U+=a;G=N+=Q}};ra.prototype.An=function(a,b,c,d){var f=this.ea>>3,
e=this.fb,g=this.Nc,k=0,l=0;var p=this.width;var n=this.height;var q=1,m=1,r=0,u=this.T,t=this.xa&~c,w=this.wa&~c,y=~c,v=~c,D=this.Ld,F,E=a,O=this.$;1<this.ta&&(q=this.za);a=1/this.$;this.W&&(a/=H.em);this.ia&&(a/=H.vl);var Q=1/this.$;var N=-(this.aa/2*a)+this.Rb;var U=-(this.ea/2*Q)+this.Qb;1<this.za&&1<this.ta&&(r=.4/(this.za-1),m=.6);this.mb(m);for(F=this.fb[0];p<u;)k+=p>>1,p<<=1;for(;n<u;)l+=n>>1,n<<=1;var S=0;var G=N;for(p=0;p<this.aa;p+=1){if(0<=G&&(G&v)===(G&w)){var L=E[G&w];var P=U;this.ia&&
(P+=.5*(G|0));for(n=0;n<f;n+=1){if(0<=P&&(P&y)===(P&t)){var fa=L[P&t]|0;g[S]=e[fa]}else g[S]=0<=P+k&&P+k<u?F:D;S+=1;P+=Q;0<=P&&(P&y)===(P&t)?(fa=L[P&t]|0,g[S]=e[fa]):g[S]=0<=P+k&&P+k<u?F:D;S+=1;P+=Q;0<=P&&(P&y)===(P&t)?(fa=L[P&t]|0,g[S]=e[fa]):g[S]=0<=P+k&&P+k<u?F:D;S+=1;P+=Q;0<=P&&(P&y)===(P&t)?(fa=L[P&t]|0,g[S]=e[fa]):g[S]=0<=P+k&&P+k<u?F:D;S+=1;P+=Q;0<=P&&(P&y)===(P&t)?(fa=L[P&t]|0,g[S]=e[fa]):g[S]=0<=P+k&&P+k<u?F:D;S+=1;P+=Q;0<=P&&(P&y)===(P&t)?(fa=L[P&t]|0,g[S]=e[fa]):g[S]=0<=P+k&&P+k<u?F:D;
S+=1;P+=Q;0<=P&&(P&y)===(P&t)?(fa=L[P&t]|0,g[S]=e[fa]):g[S]=0<=P+k&&P+k<u?F:D;S+=1;P+=Q;0<=P&&(P&y)===(P&t)?(fa=L[P&t]|0,g[S]=e[fa]):g[S]=0<=P+k&&P+k<u?F:D;S+=1;P+=Q}}else if(0<=G+l&&G+l<u)for(P=U,this.ia&&(P+=.5*(G|0)),n=0;n<this.ea;n+=1)g[S]=0<=P+k&&P+k<u?F:D,S+=1,P+=Q;else g.fill(D,S,S+this.ea+1),S+=this.ea;G=N+=a}this.xe(d);-1!==this.D&&(this.Sc(E,c),this.Sc(b,c));E=b;for(b=1;b<q;b+=1)for(d=this.$g(q,b),m+=r,this.mb(m),a/=this.ta,Q/=this.ta,O*=this.ta,t=c,c=.125>O?15:.25>O?7:.5>O?3:1>O?1:0,c!==
t&&(E=this.i,this.Sc(E,c)),t=this.xa&~c,w=this.wa&~c,y=~c,v=~c,N=-(this.aa/2*a)+this.Rb,U=-(this.ea/2*Q)+this.Qb,S=0,G=N,p=0;p<this.aa;p+=1){if(0<=G&&(G&v)===(G&w))for(L=E[G&w],P=U,this.ia&&(P+=.5*(G|0)),n=0;n<f;n+=1)0<=P&&(P&y)===(P&t)&&(fa=L[P&t]|0,fa>=d&&(g[S]=e[fa])),S+=1,P+=Q,0<=P&&(P&y)===(P&t)&&(fa=E[G&w][P&t]|0,fa>=d&&(g[S]=e[fa])),S+=1,P+=Q,0<=P&&(P&y)===(P&t)&&(fa=E[G&w][P&t]|0,fa>=d&&(g[S]=e[fa])),S+=1,P+=Q,0<=P&&(P&y)===(P&t)&&(fa=E[G&w][P&t]|0,fa>=d&&(g[S]=e[fa])),S+=1,P+=Q,0<=P&&(P&
y)===(P&t)&&(fa=E[G&w][P&t]|0,fa>=d&&(g[S]=e[fa])),S+=1,P+=Q,0<=P&&(P&y)===(P&t)&&(fa=E[G&w][P&t]|0,fa>=d&&(g[S]=e[fa])),S+=1,P+=Q,0<=P&&(P&y)===(P&t)&&(fa=E[G&w][P&t]|0,fa>=d&&(g[S]=e[fa])),S+=1,P+=Q,0<=P&&(P&y)===(P&t)&&(fa=E[G&w][P&t]|0,fa>=d&&(g[S]=e[fa])),S+=1,P+=Q;else S+=f<<3;G=N+=a}};ra.prototype.Fn=function(a,b,c,d){var f=this.ea>>3,e=this.fb,g=this.Nc,k,l,p=1,n=1,q=0,m=this.xa&~c,r=this.wa&~c,u=a,t=this.$;1<this.ta&&(p=this.za);a=Math.sin(this.sa/180*Math.PI)/this.$;var w=Math.cos(this.sa/
180*Math.PI)/this.$;var y=-(this.ea/2*-a+this.aa/2*w)+this.Rb;var v=-(this.ea/2*w+this.aa/2*a)+this.Qb;1<this.za&&1<this.ta&&(q=.4/(this.za-1),n=.6);this.mb(n);var D=0;var F=y;for(k=0;k<this.aa;k+=1){var E=v;for(l=0;l<f;l+=1){var O=u[F&r][E&m]|0;g[D]=e[O];D+=1;E+=w;F-=a;O=u[F&r][E&m]|0;g[D]=e[O];D+=1;E+=w;F-=a;O=u[F&r][E&m]|0;g[D]=e[O];D+=1;E+=w;F-=a;O=u[F&r][E&m]|0;g[D]=e[O];D+=1;E+=w;F-=a;O=u[F&r][E&m]|0;g[D]=e[O];D+=1;E+=w;F-=a;O=u[F&r][E&m]|0;g[D]=e[O];D+=1;E+=w;F-=a;O=u[F&r][E&m]|0;g[D]=e[O];
D+=1;E+=w;F-=a;O=u[F&r][E&m]|0;g[D]=e[O];D+=1;E+=w;F-=a}v+=a;F=y+=w}this.xe(d);-1!==this.D&&(this.Sc(u,c),this.Sc(b,c));u=b;for(b=1;b<p;b+=1)for(d=this.$g(p,b),n+=q,this.mb(n),a/=this.ta,w/=this.ta,t*=this.ta,m=c,.125>t?c=15:.25>t?c=7:.5>t?c=3:1>t?c=1:(u=this.i,c=0),c!==m&&(u=this.i,this.Sc(u,c)),m=this.xa&~c,r=this.wa&~c,y=-(this.ea/2*-a+this.aa/2*w)+this.Rb,v=-(this.ea/2*w+this.aa/2*a)+this.Qb,D=0,F=y,k=0;k<this.aa;k+=1){E=v;for(l=0;l<f;l+=1)O=u[F&r][E&m]|0,O>=d&&(g[D]=e[O]),D+=1,E+=w,F-=a,O=u[F&
r][E&m]|0,O>=d&&(g[D]=e[O]),D+=1,E+=w,F-=a,O=u[F&r][E&m]|0,O>=d&&(g[D]=e[O]),D+=1,E+=w,F-=a,O=u[F&r][E&m]|0,O>=d&&(g[D]=e[O]),D+=1,E+=w,F-=a,O=u[F&r][E&m]|0,O>=d&&(g[D]=e[O]),D+=1,E+=w,F-=a,O=u[F&r][E&m]|0,O>=d&&(g[D]=e[O]),D+=1,E+=w,F-=a,O=u[F&r][E&m]|0,O>=d&&(g[D]=e[O]),D+=1,E+=w,F-=a,O=u[F&r][E&m]|0,O>=d&&(g[D]=e[O]),D+=1,E+=w,F-=a;v+=a;F=y+=w}};ra.prototype.In=function(a,b,c,d){var f=this.ea>>3,e=this.fb,g=this.Nc,k,l=1,p=1,n=0,q=this.xa&~c,m=this.wa&~c,r=a,u=this.$;1<this.ta&&(l=this.za);a=1/
this.$;this.W&&(a/=H.em);this.ia&&(a/=H.vl);var t=1/this.$;var w=-(this.aa/2*a)+this.Rb;var y=-(this.ea/2*t)+this.Qb;1<this.za&&1<this.ta&&(n=.4/(this.za-1),p=.6);this.mb(p);var v=0;var D=w;for(k=0;k<this.aa;k+=1){var F=r[D&m];var E=y;this.ia&&(E+=.5*(D|0));for(D=0;D<f;D+=1){var O=F[E&q];g[v]=e[O];v+=1;E+=t;O=F[E&q];g[v]=e[O];v+=1;E+=t;O=F[E&q];g[v]=e[O];v+=1;E+=t;O=F[E&q];g[v]=e[O];v+=1;E+=t;O=F[E&q];g[v]=e[O];v+=1;E+=t;O=F[E&q];g[v]=e[O];v+=1;E+=t;O=F[E&q];g[v]=e[O];v+=1;E+=t;O=F[E&q];g[v]=e[O];
v+=1;E+=t}D=w+=a}this.xe(d);-1!==this.D&&(this.Sc(r,c),this.Sc(b,c));r=b;for(b=1;b<l;b+=1)for(d=this.$g(l,b),p+=n,this.mb(p),a/=this.ta,t/=this.ta,u*=this.ta,q=c,c=.125>u?15:.25>u?7:.5>u?3:1>u?1:0,c!==q&&(r=this.i,this.Sc(r,c)),q=this.xa&~c,m=this.wa&~c,w=-(this.aa/2*a)+this.Rb,y=-(this.ea/2*t)+this.Qb,v=0,D=w,k=0;k<this.aa;k+=1){F=r[D&m];E=y;this.ia&&(E+=.5*(D|0));for(D=0;D<f;D+=1)O=F[E&q]|0,O>=d&&(g[v]=e[O]),v+=1,E+=t,O=F[E&q]|0,O>=d&&(g[v]=e[O]),v+=1,E+=t,O=F[E&q]|0,O>=d&&(g[v]=e[O]),v+=1,E+=t,
O=F[E&q]|0,O>=d&&(g[v]=e[O]),v+=1,E+=t,O=F[E&q]|0,O>=d&&(g[v]=e[O]),v+=1,E+=t,O=F[E&q]|0,O>=d&&(g[v]=e[O]),v+=1,E+=t,O=F[E&q]|0,O>=d&&(g[v]=e[O]),v+=1,E+=t,O=F[E&q]|0,O>=d&&(g[v]=e[O]),v+=1,E+=t;D=w+=a}};ra.prototype.kf=function(a,b,c,d,f){var e=Math.sin(this.sa/180*Math.PI)/this.$,g=Math.cos(this.sa/180*Math.PI)/this.$,k=this.hj(),l=this.ea,p=this.aa,n=-(this.ea/2*-e+this.aa/2*g/k)+this.Rb,q=-(this.ea/2*g+this.aa/2*e)+this.Qb,m=n+l*-e,r=q+l*g;k=n+p*g/k;p=q+p*e;e=k+l*-e;g=p+l*g;l=k;var u=p;g<u&&(u=
g);q<u&&(u=q);r<u&&(u=q);g>p&&(p=g);q>p&&(p=q);r>p&&(p=r);e>l&&(l=e);n>l&&(l=n);m>l&&(l=m);e<k&&(k=e);n<k&&(k=n);m<k&&(k=m);this.ia&&(u+=k/2,p+=l/2);0>(u|0)||(p|0)>=this.width||0>(k|0)||(l|0)>=this.height?0===this.sa?this.Hc&&!this.ia&&1<=this.$&&1===this.za?(this.mb(1),this.Fj(a,u,k,p,l,d,f)):this.An(a,b,c,d):this.un(a,b,c,d):0===this.sa?this.Hc&&!this.ia&&1<=this.$&&1===this.za?(this.mb(1),this.Fj(a,u,k,p,l,d,f)):this.In(a,b,c,d):this.Fn(a,b,c,d)};ra.prototype.Fj=function(a,b,c,d,f,e,g){var k=this.fb,
l=this.Hg,p=this.Zf,n=this.ag,q=(this.$|0)<<1,m=this.pd.width,r=m*q,u=null,t=d-b,w=f-c,y=this.uc(this.$),v=-(b-Math.floor(b))*this.$,D=-(c-Math.floor(c))*y,F,E=0,O,Q=this.T,N=this.width-1,U=this.height-1,S=this.Dd,G=this.Td,L=this.fb[0],P=this.Ld,fa=0<this.Ua&&this.Tc&&!this.Wa,ha=0,ja=0;var ca=this.counter&1;var Z=q>>1;d=this.width;f=this.height;var la=0,da=0,na=(this.Ka||this.Wa)&&this.ge(),X=[],ma=[];this.Wa&&!this.Ka&&this.ge()&&(S=L,fa=!1);for(;d<Q;)la+=d>>1,d<<=1;for(;f<Q;)da+=f>>1,f<<=1;c|=
0;b|=0;t=(t|0)+2;w=(w|0)+2;d=b+t;f=c+w;switch(Z){case 1:var aa=r;var Y=t<<1;for(ca=c;ca<f;ca+=1){(ca&U)===ca&&(u=a[ca]);var V=E;for(F=b;F<d;F+=1){var oa=0>F+la||F+la>=Q||0>ca+da||ca+da>=Q?P:(F&N)!==F||(ca&U)!==ca?L:k[u[F]];l[E]=oa;l[E+1]=oa;E+=2}E=V+m;l.copyWithin(E,V,V+Y);E=aa;aa+=r}break;case 2:aa=r;Y=t<<2;for(ca=c;ca<f;ca+=1){(ca&U)===ca&&(u=a[ca]);V=E;for(F=b;F<d;F+=1)oa=0>F+la||F+la>=Q||0>ca+da||ca+da>=Q?P:(F&N)!==F||(ca&U)!==ca?L:k[u[F]],l[E]=oa,l[E+1]=oa,l[E+2]=oa,l[E+3]=oa,E+=4;E=V+m;l.copyWithin(E,
V,V+Y);E+=m;V+=m;l.copyWithin(E,V,V+Y);E+=m;V+=m;l.copyWithin(E,V,V+Y);E=aa;aa+=r}break;default:for(aa=r,Y=t*q,fa&&(this.Z&&2===this.Ua&&this.cd||(ca=0),ja=-(this.ea/2/this.$)-(this.width/2-this.ga-this.Aa)+this.view.v/2+.05|0,ja+=ca,ha=-(this.aa/2/this.$)-(this.height/2-this.da-this.qa)+this.view.A/2+.05|0,ha+=ca),ca=c;ca<f;ca+=1){(ca&U)===ca&&(u=a[ca]);V=E;var R=ja;for(F=b;F<d;F+=1){oa=0>F+la||F+la>=Q||0>ca+da||ca+da>=Q?P:(F&N)!==F||(ca&U)!==ca?L:k[u[F]];for(O=0;O<Z;O+=1)l[E]=oa,l[E+1]=oa,E+=2;
na&&ca===c&&(X[X.length]=fa&&0===R%this.Ua?G:S);R+=1}E=V+m;for(F=1;F<q;F+=1)l.copyWithin(E,V,V+Y),V+=m,E+=m;na&&(ma[ma.length]=fa&&0===ha%this.Ua?G:S);E=aa;aa+=r;ha+=1}}p.putImageData(n,0,0,0,0,t*q,w*q);this.ma.imageSmoothingEnabled=!0;this.ma.drawImage(this.pd,0,0,t*q,w*q,v,D,t*this.$,w*y);this.ma.imageSmoothingEnabled=!1;if(e||g||na){this.Uc=this.ma.getImageData(0,0,this.ma.canvas.width,this.ma.canvas.height);this.Nc=new Uint32Array(this.Uc.data.buffer);E=0;F=-this.$+((this.width/2-(this.ga+this.Aa))*
this.$+this.ea/2)%this.$;for(aa=b;aa<=d;aa+=1)this.zh(F|0,0,this.aa-1,X[E]),F+=this.$,E+=1;E=0;ca=-this.$+((this.height/2-(this.da+this.qa))*this.$+this.aa/2)%this.$;for(aa=c;aa<=f;aa+=1)this.xh(0,this.ea-1,ca|0,ma[E]),ca+=this.$,E+=1;e&&this.Xg()}else this.Vg=!1};ra.prototype.jk=function(a,b,c,d,f,e,g,k){var l=this.fb,p=this.Hg,n=this.Zf,q=this.ag,m=(this.$|0)<<1,r=this.pd.width,u=r*m,t=null,w=null,y=f-c,v=e-d,D=this.uc(this.$),F=-(c-Math.floor(c))*this.$,E=-(d-Math.floor(d))*D,O,Q=0,N=this.T,U=
this.width-1,S=this.height-1,G=this.Dd,L=this.Td,P=this.fb[0],fa=this.Ld,ha=0<this.Ua&&this.Tc&&!this.Wa,ja=0,ca=0;var Z=this.counter&1;var la=m>>1;f=this.width;e=this.height;var da=0,na=0,X=H.Cb[3]+128,ma=H.Cb[4]+128,aa=H.Cb[5]+128,Y=H.Cb[6]+128,V=this.Ya,oa=(this.Ka||this.Wa)&&this.ge(),R=[],C=[];this.Wa&&!this.Ka&&this.ge()&&(G=P,ha=!1);for(;f<N;)da+=f>>1,f<<=1;for(;e<N;)na+=e>>1,e<<=1;d|=0;c|=0;y=(y|0)+2;v=(v|0)+2;f=c+y;e=d+v;switch(la){case 1:var z=u;var K=y<<1;for(Z=d;Z<e;Z+=1){(Z&S)===Z&&(t=
b[Z],w=a[Z]);var M=Q;for(O=c;O<f;O+=1){if(0>O+da||O+da>=N||0>Z+na||Z+na>=N)var J=fa;else if((O&U)!==O||(Z&S)!==Z)J=P;else{J=t[O];var x=w[O];x===ma||x===Y?(J>=V&&(x=X),J=l[x]):x===X||x===aa?(J<V&&(x=ma),J=l[x]):J=l[J]}p[Q]=J;p[Q+1]=J;Q+=2}Q=M+r;p.copyWithin(Q,M,M+K);Q=z;z+=u}break;case 2:z=u;K=y<<2;for(Z=d;Z<e;Z+=1){(Z&S)===Z&&(t=b[Z],w=a[Z]);M=Q;for(O=c;O<f;O+=1)0>O+da||O+da>=N||0>Z+na||Z+na>=N?J=fa:(O&U)!==O||(Z&S)!==Z?J=P:(J=t[O],x=w[O],x===ma||x===Y?(J>=V&&(x=X),J=l[x]):x===X||x===aa?(J<V&&(x=
ma),J=l[x]):J=l[J]),p[Q]=J,p[Q+1]=J,p[Q+2]=J,p[Q+3]=J,Q+=4;Q=M+r;p.copyWithin(Q,M,M+K);Q+=r;M+=r;p.copyWithin(Q,M,M+K);Q+=r;M+=r;p.copyWithin(Q,M,M+K);Q=z;z+=u}break;default:for(z=u,K=y*m,ha&&(this.Z&&2===this.Ua&&this.cd||(Z=0),ca=-(this.ea/2/this.$)-(this.width/2-this.ga-this.Aa)+this.view.v/2+.05|0,ca+=Z,ja=-(this.aa/2/this.$)-(this.height/2-this.da-this.qa)+this.view.A/2+.05|0,ja+=Z),Z=d;Z<e;Z+=1){(Z&S)===Z&&(t=b[Z],w=a[Z]);M=Q;var A=ca;for(O=c;O<f;O+=1){0>O+da||O+da>=N||0>Z+na||Z+na>=N?J=fa:
(O&U)!==O||(Z&S)!==Z?J=P:(J=t[O],x=w[O],x===ma||x===Y?(J>=V&&(x=X),J=l[x]):x===X||x===aa?(J<V&&(x=ma),J=l[x]):J=l[J]);for(x=0;x<la;x+=1)p[Q]=J,p[Q+1]=J,Q+=2;oa&&Z===d&&(R[R.length]=ha&&0===A%this.Ua?L:G);A+=1}Q=M+r;for(O=1;O<m;O+=1)p.copyWithin(Q,M,M+K),M+=r,Q+=r;oa&&(C[C.length]=ha&&0===ja%this.Ua?L:G);Q=z;z+=u;ja+=1}}n.putImageData(q,0,0,0,0,y*m,v*m);this.ma.imageSmoothingEnabled=!0;this.ma.drawImage(this.pd,0,0,y*m,v*m,F,E,y*this.$,v*D);this.ma.imageSmoothingEnabled=!1;if(g||k||oa){this.Uc=this.ma.getImageData(0,
0,this.ma.canvas.width,this.ma.canvas.height);this.Nc=new Uint32Array(this.Uc.data.buffer);Q=0;O=-this.$+((this.width/2-(this.ga+this.Aa))*this.$+this.ea/2)%this.$;for(z=c;z<=f;z+=1)this.zh(O|0,0,this.aa-1,R[Q]),O+=this.$,Q+=1;Q=0;Z=-this.$+((this.height/2-(this.da+this.qa))*this.$+this.aa/2)%this.$;for(z=d;z<=e;z+=1)this.xh(0,this.ea-1,Z|0,C[Q]),Z+=this.$,Q+=1;g&&this.Xg()}else this.Vg=!1};ra.prototype.pn=function(a,b,c,d){var f=this.ea>>3,e=this.fb,g=this.Nc,k=0,l=0;var p=this.width;var n=this.height;
var q=H.Cb[3]+128,m=H.Cb[4]+128,r=H.Cb[5]+128,u=H.Cb[6]+128,t=1,w=1,y=0,v=this.T,D=this.Ya,F=this.xa&~c,E=this.wa&~c,O=~c,Q=~c,N=this.Ld,U,S=b,G=this.$;1<this.ta&&(t=this.za);var L=Math.sin(this.sa/180*Math.PI)/this.$;var P=Math.cos(this.sa/180*Math.PI)/this.$;var fa=-(this.ea/2*-L+this.aa/2*P)+this.Rb;var ha=-(this.ea/2*P+this.aa/2*L)+this.Qb;1<this.za&&1<this.ta&&(y=.4/(this.za-1),w=.6);this.mb(w);for(U=this.fb[0];p<v;)k+=p>>1,p<<=1;for(;n<v;)l+=n>>1,n<<=1;var ja=0;var ca=fa;for(p=0;p<this.aa;p+=
1){var Z=ha;for(n=0;n<f;n+=1){if(0<=Z&&(Z&O)===(Z&F)&&0<=ca&&(ca&Q)===(ca&E)){var la=S[ca&E][Z&F];var da=a[ca&E][Z&F];da===m||da===u?(la>=D&&(da=q),la=e[da]|0):da===q||da===r?(la<D&&(da=m),la=e[da]|0):la=e[la]|0;g[ja]=la}else g[ja]=0<=Z+k&&Z+k<v&&0<=ca+l&&ca+l<v?U:N;ja+=1;Z+=P;ca-=L;0<=Z&&(Z&O)===(Z&F)&&0<=ca&&(ca&Q)===(ca&E)?(la=S[ca&E][Z&F],da=a[ca&E][Z&F],da===m||da===u?(la>=D&&(da=q),la=e[da]|0):da===q||da===r?(la<D&&(da=m),la=e[da]|0):la=e[la]|0,g[ja]=la):g[ja]=0<=Z+k&&Z+k<v&&0<=ca+l&&ca+l<v?
U:N;ja+=1;Z+=P;ca-=L;0<=Z&&(Z&O)===(Z&F)&&0<=ca&&(ca&Q)===(ca&E)?(la=S[ca&E][Z&F],da=a[ca&E][Z&F],da===m||da===u?(la>=D&&(da=q),la=e[da]|0):da===q||da===r?(la<D&&(da=m),la=e[da]|0):la=e[la]|0,g[ja]=la):g[ja]=0<=Z+k&&Z+k<v&&0<=ca+l&&ca+l<v?U:N;ja+=1;Z+=P;ca-=L;0<=Z&&(Z&O)===(Z&F)&&0<=ca&&(ca&Q)===(ca&E)?(la=S[ca&E][Z&F],da=a[ca&E][Z&F],da===m||da===u?(la>=D&&(da=q),la=e[da]|0):da===q||da===r?(la<D&&(da=m),la=e[da]|0):la=e[la]|0,g[ja]=la):g[ja]=0<=Z+k&&Z+k<v&&0<=ca+l&&ca+l<v?U:N;ja+=1;Z+=P;ca-=L;0<=
Z&&(Z&O)===(Z&F)&&0<=ca&&(ca&Q)===(ca&E)?(la=S[ca&E][Z&F],da=a[ca&E][Z&F],da===m||da===u?(la>=D&&(da=q),la=e[da]|0):da===q||da===r?(la<D&&(da=m),la=e[da]|0):la=e[la]|0,g[ja]=la):g[ja]=0<=Z+k&&Z+k<v&&0<=ca+l&&ca+l<v?U:N;ja+=1;Z+=P;ca-=L;0<=Z&&(Z&O)===(Z&F)&&0<=ca&&(ca&Q)===(ca&E)?(la=S[ca&E][Z&F],da=a[ca&E][Z&F],da===m||da===u?(la>=D&&(da=q),la=e[da]|0):da===q||da===r?(la<D&&(da=m),la=e[da]|0):la=e[la]|0,g[ja]=la):g[ja]=0<=Z+k&&Z+k<v&&0<=ca+l&&ca+l<v?U:N;ja+=1;Z+=P;ca-=L;0<=Z&&(Z&O)===(Z&F)&&0<=ca&&
(ca&Q)===(ca&E)?(la=S[ca&E][Z&F],da=a[ca&E][Z&F],da===m||da===u?(la>=D&&(da=q),la=e[da]|0):da===q||da===r?(la<D&&(da=m),la=e[da]|0):la=e[la]|0,g[ja]=la):g[ja]=0<=Z+k&&Z+k<v&&0<=ca+l&&ca+l<v?U:N;ja+=1;Z+=P;ca-=L;0<=Z&&(Z&O)===(Z&F)&&0<=ca&&(ca&Q)===(ca&E)?(la=S[ca&E][Z&F],da=a[ca&E][Z&F],da===m||da===u?(la>=D&&(da=q),la=e[da]|0):da===q||da===r?(la<D&&(da=m),la=e[da]|0):la=e[la]|0,g[ja]=la):g[ja]=0<=Z+k&&Z+k<v&&0<=ca+l&&ca+l<v?U:N;ja+=1;Z+=P;ca-=L}ha+=L;ca=fa+=P}this.xe(d);S=b;for(a=1;a<t;a+=1)for(b=
2<this.h?0===this.u?this.h/this.za*a|0:a<t/2?this.u/this.za*a*2|0:this.u+this.h/this.za*a|0:this.Vb?1:(this.$f+1)/this.za*a|0,w+=y,this.mb(w),L/=this.ta,P/=this.ta,G*=this.ta,fa=c,.125>G?c=15:.25>G?c=7:.5>G?c=3:1>G?c=1:(S=this.i,c=0),c!==fa&&(S=this.i),F=this.xa&~c,E=this.wa&~c,O=~c,Q=~c,fa=-(this.ea/2*-L+this.aa/2*P)+this.Rb,ha=-(this.ea/2*P+this.aa/2*L)+this.Qb,ja=0,ca=fa,p=0;p<this.aa;p+=1){Z=ha;for(n=0;n<f;n+=1)0<=Z&&(Z&O)===(Z&F)&&0<=ca&&(ca&Q)===(ca&E)&&(la=S[ca&E][Z&F]|0,la>=b&&(g[ja]=e[la])),
ja+=1,Z+=P,ca-=L,0<=Z&&(Z&O)===(Z&F)&&0<=ca&&(ca&Q)===(ca&E)&&(la=S[ca&E][Z&F]|0,la>=b&&(g[ja]=e[la])),ja+=1,Z+=P,ca-=L,0<=Z&&(Z&O)===(Z&F)&&0<=ca&&(ca&Q)===(ca&E)&&(la=S[ca&E][Z&F]|0,la>=b&&(g[ja]=e[la])),ja+=1,Z+=P,ca-=L,0<=Z&&(Z&O)===(Z&F)&&0<=ca&&(ca&Q)===(ca&E)&&(la=S[ca&E][Z&F]|0,la>=b&&(g[ja]=e[la])),ja+=1,Z+=P,ca-=L,0<=Z&&(Z&O)===(Z&F)&&0<=ca&&(ca&Q)===(ca&E)&&(la=S[ca&E][Z&F]|0,la>=b&&(g[ja]=e[la])),ja+=1,Z+=P,ca-=L,0<=Z&&(Z&O)===(Z&F)&&0<=ca&&(ca&Q)===(ca&E)&&(la=S[ca&E][Z&F]|0,la>=b&&(g[ja]=
e[la])),ja+=1,Z+=P,ca-=L,0<=Z&&(Z&O)===(Z&F)&&0<=ca&&(ca&Q)===(ca&E)&&(la=S[ca&E][Z&F]|0,la>=b&&(g[ja]=e[la])),ja+=1,Z+=P,ca-=L,0<=Z&&(Z&O)===(Z&F)&&0<=ca&&(ca&Q)===(ca&E)&&(la=S[ca&E][Z&F]|0,la>=b&&(g[ja]=e[la])),ja+=1,Z+=P,ca-=L;ha+=L;ca=fa+=P}};ra.prototype.sn=function(a,b,c,d){var f=this.ea>>3,e=this.fb,g=this.Nc,k,l,p=H.Cb[3]+128,n=H.Cb[4]+128,q=H.Cb[5]+128,m=H.Cb[6]+128,r=1,u=1,t=0,w=this.Ya,y=this.xa&~c,v=this.wa&~c,D=b,F=this.$;1<this.ta&&(r=this.za);var E=Math.sin(this.sa/180*Math.PI)/this.$;
var O=Math.cos(this.sa/180*Math.PI)/this.$;var Q=-(this.ea/2*-E+this.aa/2*O)+this.Rb;var N=-(this.ea/2*O+this.aa/2*E)+this.Qb;1<this.za&&1<this.ta&&(t=.4/(this.za-1),u=.6);this.mb(u);var U=0;var S=Q;for(k=0;k<this.aa;k+=1){var G=N;for(l=0;l<f;l+=1){var L=D[S&v][G&y];var P=a[S&v][G&y];P===n||P===m?(L>=w&&(P=p),L=e[P]|0):P===p||P===q?(L<w&&(P=n),L=e[P]|0):L=e[L]|0;g[U]=L;U+=1;G+=O;S-=E;L=D[S&v][G&y];P=a[S&v][G&y];P===n||P===m?(L>=w&&(P=p),L=e[P]|0):P===p||P===q?(L<w&&(P=n),L=e[P]|0):L=e[L]|0;g[U]=L;
U+=1;G+=O;S-=E;L=D[S&v][G&y];P=a[S&v][G&y];P===n||P===m?(L>=w&&(P=p),L=e[P]|0):P===p||P===q?(L<w&&(P=n),L=e[P]|0):L=e[L]|0;g[U]=L;U+=1;G+=O;S-=E;L=D[S&v][G&y];P=a[S&v][G&y];P===n||P===m?(L>=w&&(P=p),L=e[P]|0):P===p||P===q?(L<w&&(P=n),L=e[P]|0):L=e[L]|0;g[U]=L;U+=1;G+=O;S-=E;L=D[S&v][G&y];P=a[S&v][G&y];P===n||P===m?(L>=w&&(P=p),L=e[P]|0):P===p||P===q?(L<w&&(P=n),L=e[P]|0):L=e[L]|0;g[U]=L;U+=1;G+=O;S-=E;L=D[S&v][G&y];P=a[S&v][G&y];P===n||P===m?(L>=w&&(P=p),L=e[P]|0):P===p||P===q?(L<w&&(P=n),L=e[P]|
0):L=e[L]|0;g[U]=L;U+=1;G+=O;S-=E;L=D[S&v][G&y];P=a[S&v][G&y];P===n||P===m?(L>=w&&(P=p),L=e[P]|0):P===p||P===q?(L<w&&(P=n),L=e[P]|0):L=e[L]|0;g[U]=L;U+=1;G+=O;S-=E;L=D[S&v][G&y];P=a[S&v][G&y];P===n||P===m?(L>=w&&(P=p),L=e[P]|0):P===p||P===q?(L<w&&(P=n),L=e[P]|0):L=e[L]|0;g[U]=L;U+=1;G+=O;S-=E}N+=E;S=Q+=O}this.xe(d);D=b;for(a=1;a<r;a+=1)for(b=2<this.h?0===this.u?this.h/this.za*a|0:a<r/2?this.u/this.za*a*2|0:this.u+this.h/this.za*a|0:this.Vb?1:(this.$f+1)/this.za*a|0,u+=t,this.mb(u),E/=this.ta,O/=this.ta,
F*=this.ta,k=c,.125>F?c=15:.25>F?c=7:.5>F?c=3:1>F?c=1:(D=this.i,c=0),c!==k&&(D=this.i),y=this.xa&~c,v=this.wa&~c,Q=-(this.ea/2*-E+this.aa/2*O)+this.Rb,N=-(this.ea/2*O+this.aa/2*E)+this.Qb,U=0,S=Q,k=0;k<this.aa;k+=1){G=N;for(l=0;l<f;l+=1)L=D[S&v][G&y]|0,L>=b&&(g[U]=e[L]),U+=1,G+=O,S-=E,L=D[S&v][G&y]|0,L>=b&&(g[U]=e[L]),U+=1,G+=O,S-=E,L=D[S&v][G&y]|0,L>=b&&(g[U]=e[L]),U+=1,G+=O,S-=E,L=D[S&v][G&y]|0,L>=b&&(g[U]=e[L]),U+=1,G+=O,S-=E,L=D[S&v][G&y]|0,L>=b&&(g[U]=e[L]),U+=1,G+=O,S-=E,L=D[S&v][G&y]|0,L>=
b&&(g[U]=e[L]),U+=1,G+=O,S-=E,L=D[S&v][G&y]|0,L>=b&&(g[U]=e[L]),U+=1,G+=O,S-=E,L=D[S&v][G&y]|0,L>=b&&(g[U]=e[L]),U+=1,G+=O,S-=E;N+=E;S=Q+=O}};ra.prototype.tn=function(a,b,c,d){var f=this.ea>>3,e=this.fb,g=this.Nc,k,l=H.Cb[3]+128,p=H.Cb[4]+128,n=H.Cb[5]+128,q=H.Cb[6]+128,m=1,r=1,u=0,t=this.Ya,w=this.xa&~c,y=this.wa&~c,v=b,D=this.$;1<this.ta&&(m=this.za);var F=1/this.$;this.W&&(F/=H.em);this.ia&&(F/=H.vl);var E=1/this.$;var O=-(this.aa/2*F)+this.Rb;var Q=-(this.ea/2*E)+this.Qb;1<this.za&&1<this.ta&&
(u=.4/(this.za-1),r=.6);this.mb(r);var N=0;var U=O;for(k=0;k<this.aa;k+=1){var S=v[U&y];var G=a[U&y];var L=Q;this.ia&&(L+=.5*(U|0));for(U=0;U<f;U+=1){var P=S[L&w];var fa=G[L&w];fa===p||fa===q?(P>=t&&(fa=l),P=e[fa]|0):fa===l||fa===n?(P<t&&(fa=p),P=e[fa]|0):P=e[P]|0;g[N]=P;N+=1;L+=E;P=S[L&w];fa=G[L&w];fa===p||fa===q?(P>=t&&(fa=l),P=e[fa]|0):fa===l||fa===n?(P<t&&(fa=p),P=e[fa]|0):P=e[P]|0;g[N]=P;N+=1;L+=E;P=S[L&w];fa=G[L&w];fa===p||fa===q?(P>=t&&(fa=l),P=e[fa]|0):fa===l||fa===n?(P<t&&(fa=p),P=e[fa]|
0):P=e[P]|0;g[N]=P;N+=1;L+=E;P=S[L&w];fa=G[L&w];fa===p||fa===q?(P>=t&&(fa=l),P=e[fa]|0):fa===l||fa===n?(P<t&&(fa=p),P=e[fa]|0):P=e[P]|0;g[N]=P;N+=1;L+=E;P=S[L&w];fa=G[L&w];fa===p||fa===q?(P>=t&&(fa=l),P=e[fa]|0):fa===l||fa===n?(P<t&&(fa=p),P=e[fa]|0):P=e[P]|0;g[N]=P;N+=1;L+=E;P=S[L&w];fa=G[L&w];fa===p||fa===q?(P>=t&&(fa=l),P=e[fa]|0):fa===l||fa===n?(P<t&&(fa=p),P=e[fa]|0):P=e[P]|0;g[N]=P;N+=1;L+=E;P=S[L&w];fa=G[L&w];fa===p||fa===q?(P>=t&&(fa=l),P=e[fa]|0):fa===l||fa===n?(P<t&&(fa=p),P=e[fa]|0):P=
e[P]|0;g[N]=P;N+=1;L+=E;P=S[L&w];fa=G[L&w];fa===p||fa===q?(P>=t&&(fa=l),P=e[fa]|0):fa===l||fa===n?(P<t&&(fa=p),P=e[fa]|0):P=e[P]|0;g[N]=P;N+=1;L+=E}U=O+=F}this.xe(d);v=b;for(a=1;a<m;a+=1)for(b=2<this.h?0===this.u?this.h/this.za*a|0:a<m/2?this.u/this.za*a*2|0:this.u+this.h/this.za*a|0:this.Vb?1:(this.$f+1)/this.za*a|0,r+=u,this.mb(r),F/=this.ta,E/=this.ta,D*=this.ta,k=c,.125>D?c=15:.25>D?c=7:.5>D?c=3:1>D?c=1:(v=this.i,c=0),c!==k&&(v=this.i),w=this.xa&~c,y=this.wa&~c,O=-(this.aa/2*F)+this.Rb,Q=-(this.ea/
2*E)+this.Qb,N=0,U=O,k=0;k<this.aa;k+=1){S=v[U&y];L=Q;this.ia&&(L+=.5*(U|0));for(U=0;U<f;U+=1)P=S[L&w]|0,P>=b&&(g[N]=e[P]),N+=1,L+=E,P=S[L&w]|0,P>=b&&(g[N]=e[P]),N+=1,L+=E,P=S[L&w]|0,P>=b&&(g[N]=e[P]),N+=1,L+=E,P=S[L&w]|0,P>=b&&(g[N]=e[P]),N+=1,L+=E,P=S[L&w]|0,P>=b&&(g[N]=e[P]),N+=1,L+=E,P=S[L&w]|0,P>=b&&(g[N]=e[P]),N+=1,L+=E,P=S[L&w]|0,P>=b&&(g[N]=e[P]),N+=1,L+=E,P=S[L&w]|0,P>=b&&(g[N]=e[P]),N+=1,L+=E;U=O+=F}};ra.prototype.qn=function(a,b,c,d){var f=this.ea>>3,e=this.fb,g=this.Nc,k=0,l=0;var p=this.width;
var n=this.height;var q=H.Cb[3]+128,m=H.Cb[4]+128,r=H.Cb[5]+128,u=H.Cb[6]+128,t=1,w=1,y=0,v=this.T,D=this.Ld,F,E=this.Ya,O=this.xa&~c,Q=this.wa&~c,N=~c,U=~c,S=b,G=this.$;1<this.ta&&(t=this.za);var L=1/this.$;this.W&&(L/=H.em);this.ia&&(L/=H.vl);var P=1/this.$;var fa=-(this.aa/2*L)+this.Rb;var ha=-(this.ea/2*P)+this.Qb;1<this.za&&1<this.ta&&(y=.4/(this.za-1),w=.6);this.mb(w);for(F=this.fb[0];p<v;)k+=p>>1,p<<=1;for(;n<v;)l+=n>>1,n<<=1;var ja=0;var ca=fa;for(p=0;p<this.aa;p+=1){if(0<=ca&&(ca&U)===(ca&
Q)){var Z=S[ca&Q];var la=a[ca&Q];n=ha;this.ia&&(n+=.5*(ca|0));for(ca=0;ca<f;ca+=1){if(0<=n&&(n&N)===(n&O)){var da=Z[n&O];var na=la[n&O];na===m||na===u?(da>=E&&(na=q),da=e[na]|0):na===q||na===r?(da<E&&(na=m),da=e[na]|0):da=e[da]|0}else da=0<=n+k&&n+k<v?F:D;g[ja]=da;ja+=1;n+=P;0<=n&&(n&N)===(n&O)?(da=Z[n&O],na=la[n&O],na===m||na===u?(da>=E&&(na=q),da=e[na]|0):na===q||na===r?(da<E&&(na=m),da=e[na]|0):da=e[da]|0):da=0<=n+k&&n+k<v?F:D;g[ja]=da;ja+=1;n+=P;0<=n&&(n&N)===(n&O)?(da=Z[n&O],na=la[n&O],na===
m||na===u?(da>=E&&(na=q),da=e[na]|0):na===q||na===r?(da<E&&(na=m),da=e[na]|0):da=e[da]|0):da=0<=n+k&&n+k<v?F:D;g[ja]=da;ja+=1;n+=P;0<=n&&(n&N)===(n&O)?(da=Z[n&O],na=la[n&O],na===m||na===u?(da>=E&&(na=q),da=e[na]|0):na===q||na===r?(da<E&&(na=m),da=e[na]|0):da=e[da]|0):da=0<=n+k&&n+k<v?F:D;g[ja]=da;ja+=1;n+=P;0<=n&&(n&N)===(n&O)?(da=Z[n&O],na=la[n&O],na===m||na===u?(da>=E&&(na=q),da=e[na]|0):na===q||na===r?(da<E&&(na=m),da=e[na]|0):da=e[da]|0):da=0<=n+k&&n+k<v?F:D;g[ja]=da;ja+=1;n+=P;0<=n&&(n&N)===
(n&O)?(da=Z[n&O],na=la[n&O],na===m||na===u?(da>=E&&(na=q),da=e[na]|0):na===q||na===r?(da<E&&(na=m),da=e[na]|0):da=e[da]|0):da=0<=n+k&&n+k<v?F:D;g[ja]=da;ja+=1;n+=P;0<=n&&(n&N)===(n&O)?(da=Z[n&O],na=la[n&O],na===m||na===u?(da>=E&&(na=q),da=e[na]|0):na===q||na===r?(da<E&&(na=m),da=e[na]|0):da=e[da]|0):da=0<=n+k&&n+k<v?F:D;g[ja]=da;ja+=1;n+=P;0<=n&&(n&N)===(n&O)?(da=Z[n&O],na=la[n&O],na===m||na===u?(da>=E&&(na=q),da=e[na]|0):na===q||na===r?(da<E&&(na=m),da=e[na]|0):da=e[da]|0):da=0<=n+k&&n+k<v?F:D;g[ja]=
da;ja+=1;n+=P}}else if(0<=ca+l&&ca+l<v)for(n=ha,this.ia&&(n+=.5*(ca|0)),ca=0;ca<this.ea;ca+=1)g[ja]=0<=n+k&&n+k<v?F:D,ja+=1,n+=P;else g.fill(D,ja,ja+this.ea+1),ja+=this.ea;ca=fa+=L}this.xe(d);S=b;for(a=1;a<t;a+=1)for(b=2<this.h?0===this.u?this.h/this.za*a|0:a<t/2?this.u/this.za*a*2|0:this.u+this.h/this.za*a|0:this.Vb?1:(this.$f+1)/this.za*a|0,w+=y,this.mb(w),L/=this.ta,P/=this.ta,G*=this.ta,fa=c,.125>G?c=15:.25>G?c=7:.5>G?c=3:1>G?c=1:(S=this.i,c=0),c!==fa&&(S=this.i),O=this.xa&~c,Q=this.wa&~c,N=~c,
U=~c,fa=-(this.aa/2*L)+this.Rb,ha=-(this.ea/2*P)+this.Qb,ja=0,ca=fa,p=0;p<this.aa;p+=1){if(0<=ca&&(ca&U)===(ca&Q))for(Z=S[ca&Q],n=ha,this.ia&&(n+=.5*(ca|0)),ca=0;ca<f;ca+=1)0<=n&&(n&N)===(n&O)&&(da=Z[n&O]|0,da>=b&&(g[ja]=e[da])),ja+=1,n+=P,0<=n&&(n&N)===(n&O)&&(da=Z[n&O]|0,da>=b&&(g[ja]=e[da])),ja+=1,n+=P,0<=n&&(n&N)===(n&O)&&(da=Z[n&O]|0,da>=b&&(g[ja]=e[da])),ja+=1,n+=P,0<=n&&(n&N)===(n&O)&&(da=Z[n&O]|0,da>=b&&(g[ja]=e[da])),ja+=1,n+=P,0<=n&&(n&N)===(n&O)&&(da=Z[n&O]|0,da>=b&&(g[ja]=e[da])),ja+=
1,n+=P,0<=n&&(n&N)===(n&O)&&(da=Z[n&O]|0,da>=b&&(g[ja]=e[da])),ja+=1,n+=P,0<=n&&(n&N)===(n&O)&&(da=Z[n&O]|0,da>=b&&(g[ja]=e[da])),ja+=1,n+=P,0<=n&&(n&N)===(n&O)&&(da=Z[n&O]|0,da>=b&&(g[ja]=e[da])),ja+=1,n+=P;else ja+=f<<3;ca=fa+=L}};ra.prototype.jf=function(a,b,c,d,f){var e=Math.sin(this.sa/180*Math.PI)/this.$,g=Math.cos(this.sa/180*Math.PI)/this.$,k=this.ea,l=this.aa,p=-(this.ea/2*-e+this.aa/2*g)+this.Rb,n=-(this.ea/2*g+this.aa/2*e)+this.Qb,q=p+k*-e,m=n+k*g,r=p+l*g;l=n+l*e;e=r+k*-e;g=l+k*g;k=r;var u=
l;g<u&&(u=g);n<u&&(u=n);m<u&&(u=n);g>l&&(l=g);n>l&&(l=n);m>l&&(l=m);e>k&&(k=e);p>k&&(k=p);q>k&&(k=q);e<r&&(r=e);p<r&&(r=p);q<r&&(r=q);0>(u|0)||(l|0)>=this.width||0>(r|0)||(k|0)>=this.height?0===this.sa?this.Hc&&1<=this.$&&1===this.za?(this.mb(1),this.jk(a,b,u,r,l,k,d,f)):this.qn(a,b,c,d):this.pn(a,b,c,d):0===this.sa?this.Hc&&1<=this.$&&1===this.za?(this.mb(1),this.jk(a,b,u,r,l,k,d,f)):this.tn(a,b,c,d):this.sn(a,b,c,d)};ra.prototype.Yn=function(a,b){a.set(b)};ra.prototype.wh=function(a){var b;if(this.Vg){if(!this.Uc.data.buffer){var c=
this.Uc.data;var d=this.gn;var f=d.length;for(b=0;b<f;)c[b]=d[b],b+=1,c[b]=d[b],b+=1,c[b]=d[b],b+=1,c[b]=d[b],b+=1}if(0!==this.Gb&&a){var e;a=this.ma.canvas.width;b=this.ma.canvas.height;f=this.Nc;c=this.Vf;d=a>>1;var g=b>>1;var k=this.Gb-1;var l=this.Ld,p=(2*k+2)/b;null===this.Vf&&(c=this.Vf=this.N.h(pa.hc,a*b,"Life.tiltBuffer"));var n=-k;for(k=0;k<b;k+=1){var q=k-g;var m=0>=n?b:q/n+g|0;q=k*a;if(0>m||m>=b)for(e=0;e<a;e+=1)c[q+e]=l;else{var r=m*a;m=-d/n+d;e=d/n+d;var u=(e-m)/a;for(e=0;e<a;e+=1){var t=
m|0;c[q+e]=0>t||t>=a?l:f[r+t];m+=u}}n+=p}this.Yn(f,c)}this.ma.putImageData(this.Uc,0,0)}};ra.prototype.Dl=function(a){this.Nc.fill(a)};Sa.prototype.Y=function(a,b){return 0>a||a>=this.o.length||0>b||b>=this.o.length||a>b?"":this.source.substring(this.o[a],this.o[b]+this.A[b])};Sa.prototype.R=function(){0<this.current&&--this.current};Sa.prototype.s=function(){for(;this.current<this.o.length&&10!==this.source.charCodeAt(this.o[this.current]);)this.current+=1;this.current<this.o.length&&(this.current+=
1)};Sa.prototype.I=function(){for(;this.current<this.o.length&&10===this.source.charCodeAt(this.o[this.current]);)this.current+=1};Sa.prototype.Z=function(){var a=!1;this.current<this.o.length&&10!==this.source.charCodeAt(this.o[this.current])&&(a=!0);return a};Sa.prototype.B=function(){var a=!1;this.current<this.o.length&&10===this.source.charCodeAt(this.o[this.current])&&(a=!0);return a};Sa.prototype.l=function(){var a="";this.current<this.o.length&&(a=this.source.substring(this.o[this.current],
this.o[this.current]+this.A[this.current]),this.current+=1);return a};Sa.prototype.W=function(){var a;for(a=this.l();"\n"===a;)a=this.l();return a};Sa.prototype.m=function(){var a="";this.current<this.o.length&&(a=this.source.substring(this.o[this.current],this.o[this.current]+this.A[this.current]));return a};Sa.prototype.T=function(a){return this.V(a,-1,!1)};Sa.prototype.v=function(a,b){return this.V(a,b,!0)};Sa.prototype.V=function(a,b,c){var d=-1,f=this.current;for(-1!==b&&0<=b&&b<this.o.length&&
(f=b);f<this.o.length&&-1===d;){if(a.length===this.A[f]){var e=0;for(b=!0;b&&e<a.length;)a[e]!==this.source[this.o[f]+e]?b=!1:e+=1}else b=!1;b&&(c&&0!==f&&10!==this.source.charCodeAt(this.o[f-1])&&(b=!1),b&&(d=f));f+=1}-1!==d&&(this.current=f);return d};Sa.prototype.u=function(a){return!isNaN(parseFloat(a))&&isFinite(Number(a))};Sa.prototype.O=function(a){var b=!1,c=a.indexOf("/");-1!==c&&(b=a.substring(0,c),a=a.substring(c+1),b=this.u(b)&&this.u(a));return b};Sa.prototype.L=function(a){var b=0;if(this.O(a)){var c=
a.indexOf("/");var d=a.substring(0,c);a=a.substring(c+1);0!==Number(a)&&(b=Number(d)/Number(a))}else this.u(a)&&(b=parseFloat(a));return b};Sa.prototype.h=function(){var a=0;this.current<this.o.length&&(0!==this.D[this.current]?(a=this.D[this.current]>>1,this.current+=1):(a=this.l(),a=this.L(a)));return a};Sa.prototype.i=function(){var a=!1;this.current<this.o.length&&(this.D[this.current]?a=!0:(a=this.source.substring(this.o[this.current],this.o[this.current]+this.A[this.current]),a=this.O(a)?!0:
this.u(a)));return a};Sa.prototype.M=function(){var a=!1,b=this.current+1;b<this.o.length&&(this.D[b]?a=!0:(a=this.source.substring(this.o[b],this.o[b]+this.A[b]),a=this.O(a)?!0:this.u(a)));return a};Sa.prototype.X=function(){this.current=this.o.length};var Ta={cu:0,play:1,stop:2,$o:12,Mz:0,Lz:200};gb.prototype.set=function(a){this.rn=a.rn;this.rg=a.rg;this.l=a.l;this.h=a.h;this.i=a.i;this.fc=a.fc;this.Lb=a.Lb;this.x=a.x;this.y=a.y;this.Ag=a.Ag;this.Bg=a.Bg;this.Cg=a.Cg;this.Fe=a.Fe;this.angle=a.angle;
this.Gb=a.Gb;this.zoom=a.zoom;this.za=a.za;this.depth=a.depth;this.Dc=a.Dc;this.Oc=a.Oc;this.step=a.step;this.xc=a.xc;this.td=a.td;this.le=a.le;this.ak=a.ak;this.grid=a.grid};gb.prototype.o=function(){var a="";switch(this.h){case Ta.play:a=B.Qn;break;case Ta.stop:a=B.Rn}return a};gb.prototype.JF=function(a){this.rg?(this.h!==Ta.cu&&(a[a.length]=[B.Qn,"overwrites "+this.o()]),this.h=Ta.play):a[a.length]=[B.Qn,"only valid at POI"]};gb.prototype.LF=function(a){this.rg?(this.h!==Ta.cu&&(a[a.length]=[B.Rn,
"overwrites "+this.o()]),this.h=Ta.stop):a[a.length]=[B.Rn,"only valid at POI"]};gb.prototype.KF=function(a){this.rg?(this.l&&(a[a.length]=[B.ap,"already defined"]),this.l=!0):a[a.length]=[B.ap,"only valid at POI"]};gb.prototype.MF=function(a,b){this.rg?(this.i!==Ta.$o&&(b[b.length]=[B.bp+" "+a,"overwrites "+this.i]),this.i=a):b[b.length]=[B.bp,"only valid at POI"]};gb.prototype.s=function(a,b,c){var d=a.td,f=b.td,e=a.angle,g=b.angle,k=1,l=1;c>f&&(c=f);f-d===H.OF&&(d=f);f!==d&&(k=Math.round((c-d)/
(f-d)*1E6)/1E6,l=this.U.W(k));d=b.Ag||b.Fe?k:l;f=b.Bg||b.Fe?k:l;var p=b.Cg||b.Fe?k:l;this.x=a.x+d*(b.x-a.x);this.y=a.y+f*(b.y-a.y);this.zoom=a.zoom*Math.pow(b.zoom/a.zoom,p);180<g-e?e+=360:-180>g-e&&(g+=360);this.angle=(e+l*(g-e))%360;this.Gb=a.Gb+l*(b.Gb-a.Gb);this.za=a.za+k*(b.za-a.za)|0;this.depth=a.depth+k*(b.depth-a.depth);this.Dc=b.Dc;this.Oc=b.Oc;this.step=b.step;this.xc=a.xc+k*(b.xc-a.xc)|0;this.td=c;this.le=b.le;this.Fe=b.Fe;this.rn=b.rn};za.prototype.qa=function(a,b,c,d,f,e,g,k,l,p,n,q,
m,r,u,t,w,y){return new qc(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,w,y)};za.prototype.ma=function(){this.s=[]};za.prototype.da=function(a){this.s[this.s.length]=a};za.prototype.oa=function(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,w,y,v,D,F){return new rc(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,w,y,v,D,F)};za.prototype.ka=function(){this.o=[]};za.prototype.ca=function(a){this.o[this.o.length]=a};za.prototype.pa=function(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,w,y,v,D){return new sc(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,w,y,v,D)};za.prototype.la=
function(){this.m=[]};za.prototype.T=function(a){a.s=a.message.indexOf("#P");a.D=a.message.indexOf("#G");a.m=a.message.indexOf("#H");a.l=a.message.indexOf("#I");a.h=a.message.indexOf("#J");this.m[this.m.length]=a};za.prototype.A=function(){return this.m.length+this.o.length+this.s.length};za.prototype.ja=function(){this.la();this.ka();this.ma()};za.prototype.Na=function(a){var b="",c="";0<=a&&a<this.s.length&&(a=this.s[a],a.B&&(c="*"),b=a.s?"FILL\t":"LINE\t",b+="X1"+c+" "+a.coords[0]+"\tY1"+c+" "+
a.coords[1]);return b};za.prototype.Oa=function(a){var b="",c="";0<=a&&a<this.s.length&&(b=this.s[a],a=b.zoom,0<=a&&1>a&&(a=-1/a),b.u&&(c="*"),b="Z "+a.toFixed(1)+"\tA"+c+" "+b.angle.toFixed(1));return b};za.prototype.Pa=function(a){var b="";0<=a&&a<this.s.length&&(a=this.s[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.h&&(b+="\tT1 "+a.h+"\tT2 "+a.m,0<a.i&&(b+="\tFade "+a.i)));return b};za.prototype.Qa=function(a){var b="";0<=a&&a<this.s.length&&(b=this.s[a].o);return b};za.prototype.fa=function(a){var b=
"",c="";0<=a&&a<this.o.length&&(a=this.o[a],a.A&&(c="*"),b="X1"+c+" "+a.B+"\tY1"+c+" "+a.I,b+="\tX2"+c+" "+a.D+"\tY2"+c+" "+a.L);return b};za.prototype.ga=function(a){var b="",c="";0<=a&&a<this.o.length&&(b=this.o[a],a=b.zoom,0<=a&&1>a&&(a=-1/a),b.o&&(c="*"),b="Z "+a.toFixed(1)+"\tA"+c+" "+b.angle.toFixed(1));return b};za.prototype.ha=function(a){var b="";0<=a&&a<this.o.length&&(a=this.o[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.h&&(b+="\tT1 "+a.h+"\tT2 "+a.m,0<a.i&&(b+="\tFade "+a.i)));return b};za.prototype.Gp=
function(a){var b="";0<=a&&a<this.o.length&&(b=this.o[a].s);return b};za.prototype.ya=function(a){var b="",c="",d="";if(0<=a&&a<this.m.length){var f=this.m[a];a=f.zoom;0<=a&&1>a&&(a=-1/a);f.O&&(c="*");f.I&&(d="*");b="X"+c+" "+f.x+"\tY"+c+" "+f.y;b+="\tZ "+a.toFixed(1)+"\tA"+d+" "+f.angle.toFixed(1)}return b};za.prototype.Aa=function(a){var b="";0<=a&&a<this.m.length&&(a=this.m[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.i&&(b+="\tT1 "+a.i+"\tT2 "+a.B,0<a.o&&(b+="\tFade "+a.o)));return b};za.prototype.Ba=
function(a){var b="";0<=a&&a<this.m.length&&(a=this.m[a],b="Size "+a.size+'\t"'+a.message+'"');return b};za.prototype.Da=function(a){var b="";0<=a&&a<this.m.length&&(b=this.m[a].u);return b};za.prototype.Xa=function(){this.m.sort(function(a,b){return a.zoom-b.zoom})};za.prototype.Wa=function(){this.o.sort(function(a,b){return a.zoom-b.zoom})};za.prototype.Za=function(){this.s.sort(function(a,b){return a.zoom-b.zoom})};za.prototype.Va=function(){this.Xa();this.Wa();this.Za()};za.prototype.X=function(a,
b){var c,d=a.g,f=d.ma,e=d.width/2-d.ga-d.Aa,g=d.height/2-d.da-d.qa,k=d.zoom*d.Ha,l=d.uc(d.zoom),p=d.ea/2,n=d.aa/2,q=a.g.counter,m=d.ia?-(d.height>>2):0,r=0,u=d.Gb,t=u-1,w=1,y=0,v=0,D=0,F=0,E=a.ha/a.I;d.ia&&(e+=g/2);b&&(f.strokeStyle=H.JC);for(c=0;c<this.o.length;c+=1){var O=this.o[c];var Q=O.B;var N=O.I;var U=O.D;var S=O.L;-1!==a.g.D&&(Q+=a.v>>1,N+=a.A>>1,U+=a.v>>1,S+=a.A>>1);if(!b||O.O){var G=!0;-1!==O.h&&(q<O.h||q>O.m)&&(G=!1);if(G){var L=O.size*k/O.zoom;b&&(r=1,24<=L&&(r=2,48<=L&&(r=3)));if(k>=
O.Mb&&k<=O.ac){var P=Math.log(k/O.Mb)/Math.log(O.ac/O.Mb);P=.25>=P?4*P:.75<=P?4*(1-P):1;var fa=1;-1!==O.h&&0<O.i&&(q-O.h<O.i?fa=(q-O.h+1)/O.i:O.m-q<O.i&&(fa=(O.m-q+1)/O.i));G=!0;var ha=1;if(-1!==O.l){var ja=a.Pq(Q,N);ja>O.l?G=!1:0<O.l&&.75<ja/O.l&&(ha=4*(1-ja/O.l))}G&&(f.globalAlpha=P*O.alpha*fa*ha,P=N+g-(a.A>>1)+.5,fa=Q+e+m-(a.v>>1)+.5,O.A||(fa+=d.Aa,P+=d.qa),-1!==O.h?(fa+=O.u*(E-O.h),P+=O.v*(E-O.h)):(fa+=O.u*E,P+=O.v*E),0!==d.sa&&(ha=Math.sqrt(fa*fa+P*P),P=180/Math.PI*Math.atan2(P,fa),P+=d.sa,fa=
ha*Math.cos(Math.PI/180*P),P=ha*Math.sin(Math.PI/180*P)),d.ia&&(fa-=P/2),P=P*l+n,fa=fa*k+p,Q=(U-Q)*k,N=(S-N)*l,d.ia&&(Q-=N/2),S=0===O.M?0:Math.sqrt(Q*Q+N*N)*O.M,0!==u&&(w=-t+(2*t+2)/d.aa*(d.aa-P),P=(P-n)/w+n,fa=(fa-p)/w+p),0<=w&&(f.save(),f.translate(fa,P),f.scale(1/w,1/w),P=O.angle,O.o||(P+=d.sa),f.rotate(P/180*Math.PI),f.lineWidth=L,b||(f.strokeStyle=O.s),f.lineCap="round",f.lineJoin="round",0<S&&(O=Math.atan2(N,Q),y=Math.cos(.85*Math.PI+O),v=Math.sin(.85*Math.PI+O),D=Math.cos(.85*-Math.PI+O),F=
Math.sin(.85*-Math.PI+O)),0<r&&f.translate(r,r),f.beginPath(),f.moveTo(0,0),f.lineTo(Q,N),0<S&&(f.moveTo(Q,N),f.lineTo(Q+S*y,N+S*v),f.moveTo(Q,N),f.lineTo(Q+S*D,N+S*F)),f.stroke(),f.restore()))}}}}f.globalAlpha=1};za.prototype.ta=function(a){this.X(a,!0);this.X(a,!1)};za.prototype.Y=function(a,b){var c,d=a.g,f=d.ma,e=d.width/2-d.ga-d.Aa,g=d.height/2-d.da-d.qa,k=d.zoom*d.Ha,l=d.uc(d.zoom),p=d.ea/2,n=d.aa/2,q=a.g.counter,m=d.ia?-(d.height>>2):0,r=d.Gb,u=r-1,t=1,w=0,y=0,v=0,D=a.ha/a.I;b&&(f.strokeStyle=
H.Oz,f.fillStyle=H.Oz);d.ia&&(e+=g/2);-1!==a.g.D&&(y=a.v>>1,v=a.A>>1);for(c=0;c<this.s.length;c+=1){var F=this.s[c];var E=F.coords;var O=E.length;if(!b||F.D){var Q=!0;-1!==F.h&&(q<F.h||q>F.m)&&(Q=!1);if(Q){var N=F.size*k/F.zoom;b&&(w=1,24<=N&&(w=2,48<=N&&(w=3)));if(k>=F.Mb&&k<=F.ac){var U=Math.log(k/F.Mb)/Math.log(F.ac/F.Mb);U=.25>=U?4*U:.75<=U?4*(1-U):1;var S=1;-1!==F.h&&0<F.i&&(q-F.h<F.i?S=(q-F.h+1)/F.i:F.m-q<F.i&&(S=(F.m-q+1)/F.i));Q=!0;var G=1;if(-1!==F.l){var L=a.Pq(F.coords[0]+y,F.coords[1]+
v);L>F.l?Q=!1:0<F.l&&.75<L/F.l&&(G=4*(1-L/F.l))}if(Q&&(f.globalAlpha=U*F.alpha*S*G,U=0,G=E[U]+y+e+m-(a.v>>1)+.5,S=E[U+1]+v+g-(a.A>>1)+.5,U+=2,F.B||(G+=d.Aa,S+=d.qa),-1!==F.h?(G+=F.v*(D-F.h),S+=F.A*(D-F.h)):(G+=F.v*D,S+=F.A*D),0!==d.sa&&(Q=Math.sqrt(G*G+S*S),S=180/Math.PI*Math.atan2(S,G),S+=d.sa,G=Q*Math.cos(Math.PI/180*S),S=Q*Math.sin(Math.PI/180*S)),d.ia&&(G-=S/2),S=S*l+n,L=G*k+p,0!==r&&(t=-u+(2*u+2)/d.aa*(d.aa-S),S=(S-n)/t+n,L=(L-p)/t+p),0<=t)){G=(E[U]-E[0])*k/t;Q=(E[U+1]-E[1])*l/t;d.ia&&(G-=Q/
2);U+=2;f.save();f.translate(L,S);f.scale(1/t,1/t);S=F.angle;F.u||(S+=d.sa);f.rotate(S/180*Math.PI);f.lineWidth=N;b||(F.s?f.fillStyle=F.o:f.strokeStyle=F.o);f.lineCap="round";f.lineJoin="round";0<w&&f.translate(w,w);f.beginPath();f.moveTo(0,0);for(f.lineTo(G,Q);U<O;)G=(E[U]-E[0])*k/t,Q=(E[U+1]-E[1])*l/t,d.ia&&(G-=Q/2),U+=2,f.lineTo(G,Q);F.s?f.fill():f.stroke();f.restore()}}}}}f.globalAlpha=1};za.prototype.va=function(a){this.Y(a,!0);this.Y(a,!1)};za.prototype.ua=function(a){var b,c=a.g,d=c.ma,f=c.width/
2-c.ga-c.Aa,e=c.height/2-c.da-c.qa,g=c.zoom*c.Ha,k=c.uc(c.zoom),l=c.ea/2,p=c.aa/2,n=H.lE,q="px "+H.jE,m=a.g.counter,r=c.Gb,u=r-1,t=1,w=c.ia?-(c.height>>2):0,y=a.ha/a.I;c.ia&&(f+=e/2);for(b=0;b<this.m.length;b+=1){var v=this.m[b];var D=v.x;var F=v.y;var E=v.R;-1!==a.g.D&&(D+=a.v>>1,F+=a.A>>1);var O=!0;-1!==v.i&&(m<v.i||m>v.B)&&(O=!1);if(O){var Q=v.T?v.size:v.size*g/v.zoom;var N=1;24<=Q&&(N=2,48<=Q&&(N=3));if(g>=v.Mb&&g<=v.ac){var U=Math.log(g/v.Mb)/Math.log(v.ac/v.Mb);d.font=Q+q;U=.25>=U?4*U:.75<=
U?4*(1-U):1;var S=1;-1!==v.i&&0<v.o&&(m-v.i<v.o?S=(m-v.i+1)/v.o:v.B-m<v.o&&(S=(v.B-m+1)/v.o));O=!0;var G=1;if(-1!==v.v){var L=a.Pq(D,F);L>v.v?O=!1:0<v.v&&.75<L/v.v&&(G=4*(1-L/v.v))}if(O&&(d.globalAlpha=U*v.alpha*S*G,S=D+f+w-(a.v>>1)+.5,U=F+e-(a.A>>1)+.5,v.O||(S+=c.Aa,U+=c.qa),-1!==v.i?(S+=v.L*(y-v.i),U+=v.M*(y-v.i)):(S+=v.L*y,U+=v.M*y),0!==c.sa&&(F=Math.sqrt(S*S+U*U),U=180/Math.PI*Math.atan2(U,S),U+=c.sa,S=F*Math.cos(Math.PI/180*U),U=F*Math.sin(Math.PI/180*U)),c.ia&&(S-=U/2),D=v.message,-1!==v.D&&
(D=D.substring(0,v.D)+a.g.counter+D.substring(v.D+2),-1!==v.s&&(v.s=D.indexOf("#P")),-1!==v.m&&(v.m=D.indexOf("#H")),-1!==v.l&&(v.l=D.indexOf("#I")),-1!==v.h&&(v.h=D.indexOf("#J"))),-1!==v.s&&(D=D.substring(0,v.s)+a.g.s+D.substring(v.s+2),-1!==v.m&&(v.m=D.indexOf("#H")),-1!==v.l&&(v.l=D.indexOf("#I")),-1!==v.h&&(v.h=D.indexOf("#J"))),-1!==v.m&&(D=a.g.Z||a.g.l?D.substring(0,v.m)+a.g.Hb+D.substring(v.m+2):D.substring(0,v.m)+a.g.counter+D.substring(v.m+2),-1!==v.l&&(v.l=D.indexOf("#I")),-1!==v.h&&(v.h=
D.indexOf("#J"))),-1!==v.l&&(D=D.substring(0,v.l)+(a.g.counter+a.Ja)+D.substring(v.l+2),-1!==v.h&&(v.h=D.indexOf("#J"))),-1!==v.h&&(D=a.g.Z||a.g.l?D.substring(0,v.h)+(a.g.Hb+a.Ja)+D.substring(v.h+2):D.substring(0,v.h)+(a.g.counter+a.Ja)+D.substring(v.h+2)),F=D.indexOf("\\n"),U=U*k+p,S=S*g+l,0!==r&&(t=-u+(2*u+2)/c.aa*(c.aa-U),U=(U-p)/t+p,S=(S-l)/t+l),0<=t)){d.save();d.translate(S,U);d.scale(1/t,1/t);U=v.angle;v.I||(U+=c.sa);d.rotate(U/180*Math.PI);U=0;if(E===H.tt){for(;-1!==F;)O=D.substring(0,F),D=
D.substring(F+2),S=d.measureText(O).width>>1,v.A&&(d.fillStyle=n,d.fillText(O,-S+N,U+N)),d.fillStyle=v.u,d.fillText(O,-S,U),U+=Q,F=D.indexOf("\\n");S=d.measureText(D).width>>1;v.A&&(d.fillStyle=n,d.fillText(D,-S+N,U+N));d.fillStyle=v.u;d.fillText(D,-S,U)}else{for(G=0;-1!==F;)O=D.substring(0,F),D=D.substring(F+2),S=d.measureText(O).width>>1,S>G&&(G=S),F=D.indexOf("\\n");S=d.measureText(D).width>>1;S>G&&(G=S);D=v.message;for(F=D.indexOf("\\n");-1!==F;)O=D.substring(0,F),D=D.substring(F+2),E===H.ut&&
(S=d.measureText(O).width),v.A&&(d.fillStyle=n,E===H.Po?d.fillText(O,-G+N,U+N):d.fillText(O,G-S+N,U+N)),d.fillStyle=v.u,E===H.Po?d.fillText(O,-G,U):d.fillText(O,G-S,U),U+=Q,F=D.indexOf("\\n");E===H.ut&&(S=d.measureText(D).width);v.A&&(d.fillStyle=n,E===H.Po?d.fillText(D,-G+N,U+N):d.fillText(D,G-S+N,U+N));d.fillStyle=v.u;E===H.Po?d.fillText(D,-G,U):d.fillText(D,G-S,U)}d.restore()}}}}d.globalAlpha=1};za.prototype.sa=function(a){this.va(a);this.ta(a);this.ua(a)};za.prototype.bb=function(a){var b;for(b=
this.h.length-1;0<=b;--b){var c=this.h[b];c.td>a&&c.m&&(this.u=b,c.m=!1)}};za.prototype.Ua=function(){var a;for(a=0;a<this.h.length;a+=1)this.h[a].m=!1;this.u=0;this.R=!1};za.prototype.B=function(){return new gb(this)};za.prototype.W=function(a){return-2*Math.pow(a,3)+3*Math.pow(a,2)+0*a};za.prototype.reset=function(){this.h=[];this.i=[];this.M=!1;this.u=0};za.prototype.Ea=function(){return this.h[this.h.length-1]};za.prototype.wa=function(a){var b=this.Z(a),c=this.h[b];a>c.xc?a=c.td+1E3*(a-c.xc)/
(c.Oc*c.step):0<b?(b=this.h[b-1],a=b.td+1E3*(a-b.xc)/(c.Oc*c.step)):a=1E3*a/(c.Oc*c.step);return a};za.prototype.ra=function(a,b,c,d,f,e,g,k,l,p,n,q){var m=this.$;m.x=a;m.y=b;m.zoom=c;m.angle=d;m.Gb=f;m.Oc=l;m.step=p;m.za=e;m.depth=g;m.Dc=k;m.xc=n;this.M&&(q=this.I.td);m.td=q-1E3;this.O(null,q,n,!0);this.I.set(this.current);this.I.Fe=!1;this.I.td=q;this.M=!0;return m.td};za.prototype.D=function(){return this.h[0]};za.prototype.add=function(a,b){if(a.rg)this.i[this.i.length]=a;else{this.h[this.h.length]=
a;if(a.af||a.Je||a.ce||a.ig||a.zg||a.Fe)this.L=!0;if(a.We||a.te)a.We&&!a.te&&(a.step=H.ug),a.te&&(a.Oc=b.I)}};za.prototype.V=function(a){var b=!1;this.u>=this.h.length-1&&a>=this.h[this.u].td&&(b=!0);return b};za.prototype.v=function(a){return a===(a|0)?String(a|0):String(a.toFixed(1))};za.prototype.Ga=function(a){var b="";0<=a&&a<this.i.length&&(a=this.i[a],a.af&&(b+=" X "+-a.x),a.Je&&(b+=" Y "+-a.y),a.ce&&(b+=" ZOOM "+this.v(a.zoom)),a.ig&&(b+=" ANGLE "+a.angle),a.zg&&0!==a.Gb&&(b+=" TILT "+a.Gb));
return b.substring(1)};za.prototype.Ha=function(a){var b="";0<=a&&a<this.i.length&&(a=this.i[a],a.Kh&&(b+=" LOOP "+(-1===a.Lb?"OFF":a.Lb)),a.Rh&&(b+=" STOP "+(-1===a.fc?"OFF":a.fc)),a.We&&(b+=" GPS "+a.Oc),a.te&&(b+=" STEP "+a.step));return b.substring(1)};za.prototype.Fa=function(a){var b="";0<=a&&a<this.i.length&&(a=this.i[a],a.l&&(b+=" POIRESET"),a.h===Ta.play?b+=" POIPLAY":a.h===Ta.stop&&(b+=" POISTOP"),a.i!==Ta.$o&&(b+=" POITRANS "+a.i));return b.substring(1)};za.prototype.La=function(a){var b=
"";0<=a&&a<this.i.length&&(a=this.i[a],a.qe&&(b+=" THEME "+a.Dc),a.Kg&&(b+=" DEPTH "+this.v(a.depth)),a.Qg&&(b+=" LAYERS "+a.za));return b.substring(1)};za.prototype.Ka=function(a){var b="";0<=a&&a<this.i.length&&(a=this.i[a],a.jp&&(b+=" POIT "+a.xc));return b.substring(1)};za.prototype.Ja=function(a,b){var c="";0<=a&&a<this.i.length&&(a=this.i[a],""!==a.le&&(c+=" "+b+a.le+b));return c.substring(1)};za.prototype.cb=function(a,b){var c="";if(0<=a&&a<this.h.length){var d=this.h[a];0<a?(a=this.h[a-1],
c=d.xc===a.xc?"P "+this.v((d.td-a.td|0)/1E3):"T "+d.xc,d.Fe?c+=" F":(d.x!==a.x&&(c+=" X "+-d.x),d.y!==a.y&&(c+=" Y "+-d.y),d.zoom!==a.zoom&&(c+=" Z "+this.v(d.zoom))),d.angle!==a.angle&&(c+=" A "+d.angle),d.za!==a.za&&(c+=" L "+d.za),d.depth!==a.depth&&(c+=" D "+this.v(d.depth)),d.Dc!==a.Dc&&(c+=" C "+d.Dc),d.Oc!==a.Oc&&(c+=" G "+d.Oc),d.step!==a.step&&(c+=" S "+d.step),""!==d.le&&(c+=" "+b+d.le+b)):c="T "+d.xc+" X "+-d.x+" Y "+-d.y+" Z "+this.v(d.zoom)+" A "+d.angle+" L "+d.za+" D "+this.v(d.depth)+
" C "+d.Dc+" G "+d.Oc+" S "+d.step}return c};za.prototype.O=function(a,b,c,d){var f=this.h.length,e=!1,g=this.u,k=g,l=!1;if(this.M)this.current.s(this.$,this.I,b),b>=this.I.td&&(this.M=!1);else{for(;g<f&&!e;){var p=this.h[g];p.td>=b||!p.m?e=!0:g+=1}e?(this.h[g].m=!0,0<g?(this.h[g].Fe&&(this.h[g].x=this.current.x,this.h[g].y=this.current.y,this.h[g].zoom=this.current.zoom),d&&this.current.s(this.h[g-1],this.h[g],b)):(g=0,this.current.set(this.h[g]))):(g=f-1,this.current.set(this.h[g]),c>=this.current.xc&&
this.R&&(l=!0),this.R=!0);this.u=g}this.u!==k&&this.current.rn&&a&&a.C.Ib();return l};za.prototype.Z=function(a){for(var b=0,c=!1,d=this.h,f=this.h.length;b<f&&!c;)d[b].xc>=a?c=!0:b+=1;c||(b=f-1);return b};za.prototype.xa=function(a){var b=0;this.u=this.Z(a);if(0<this.u){var c=this.h[this.u];var d=this.h[this.u-1];b=c.td-d.td;c=c.xc-d.xc;b=b*(a-d.xc)/c+d.td}return b};za.prototype.l=function(a,b,c,d){if(0===this.h.length)c[c.length]=[a+" "+B.qc,"no initial waypoint defined"];else switch(a){case B.Ie:b.af&&
(c[c.length]=[a+" "+B.qc,d?"already defined":"overwrites "+-b.x]);b.x=this.h[0].x;b.af=!0;break;case B.Ke:b.Je&&(c[c.length]=[a+" "+B.qc,d?"already defined":"overwrites "+-b.y]);b.y=this.h[0].y;b.Je=!0;break;case B.de:b.ce&&(c[c.length]=[a+" "+B.qc,d?"already defined":"overwrites "+this.v(1>b.zoom?-(1/b.zoom):b.zoom)]);b.zoom=this.h[0].zoom;b.ce=!0;break;case B.Qj:b.ig&&(c[c.length]=[a+" "+B.qc,d?"already defined":"overwrites "+b.angle]);b.angle=this.h[0].angle;b.ig=!0;break;case B.ck:b.zg&&(c[c.length]=
[a+" "+B.qc,d?"already defined":"overwrites "+b.Gb]);b.Gb=this.h[0].Gb;b.zg=!0;break;case B.jl:b.Kg&&(c[c.length]=[a+" "+B.qc,d?"already defined":"overwrites "+this.v(b.depth)]);b.depth=this.h[0].depth;b.Kg=!0;break;case B.Fl:b.Qg&&(c[c.length]=[a+" "+B.qc,d?"already defined":"overwrites "+b.za]);b.za=this.h[0].za;b.Qg=!0;break;case B.Bj:b.qe&&(c[c.length]=[a+" "+B.qc,d?"already defined":"overwrites "+b.Dc]);b.Dc=this.h[0].Dc;b.qe=!0;break;case B.tl:b.We&&(c[c.length]=[a+" "+B.qc,d?"already defined":
"overwrites "+b.Oc]);b.Oc=this.h[0].Oc;b.We=!0;break;case B.Zl:b.te&&(c[c.length]=[a+" "+B.qc,d?"already defined":"overwrites "+b.step]);b.step=this.h[0].step;b.te=!0;break;case B.Sh:b.Rh&&(c[c.length]=[a+" "+B.qc,d?"already defined":"overwrites "+(-1===b.fc?"OFF":b.fc)]);b.fc=this.h[0].fc;b.Rh=!0;break;case B.Lh:b.Kh&&(c[c.length]=[a+" "+B.qc,d?"already defined":"overwrites "+(-1===b.Lb?"OFF":b.Lb)]);b.Lb=this.h[0].Lb;b.Kh=!0;break;default:c[c.length]=[a+" "+B.qc,"illegal command before "+B.qc]}};
za.prototype.na=function(a,b){this.l(B.Ie,a,b,!1);this.l(B.Ke,a,b,!1);this.l(B.de,a,b,!1);this.l(B.Qj,a,b,!1);this.l(B.ck,a,b,!1);this.l(B.Fl,a,b,!1);this.l(B.jl,a,b,!1);this.l(B.Bj,a,b,!1);this.l(B.tl,a,b,!1);this.l(B.Zl,a,b,!1);this.l(B.Lh,a,b,!1);this.l(B.Sh,a,b,!1)};za.prototype.Ta=function(a,b){var c,d=this.h,f=this.h.length;for(c=1;c<f;c+=1){var e=d[c-1];var g=d[c];g.af||(g.x=e.x);g.Je||(g.y=e.y);g.Cj||(g.Ag=e.Ag);g.Dj||(g.Bg=e.Bg);g.Ej||(g.Cg=e.Cg);g.ig||(g.angle=e.angle);g.zg||(g.Gb=e.Gb);
g.ce||(g.zoom=e.zoom);g.Qg||(g.za=e.za);g.Kg||(g.depth=e.depth);g.qe||(g.Dc=e.Dc);g.We||(g.Oc=e.Oc);g.te||(g.step=e.step);if(g.We||g.te)g.We&&!g.te&&(g.step=H.ug),g.te&&(g.Oc=b.I);g.jp?g.xc<=e.xc&&(a[a.length]=[B.ip+" "+g.xc,"target generation must be later than previous ("+e.xc+")"]):g.xc=e.xc;g.td=g.iA?1E3*g.td+e.td:e.td+1E3*(g.xc-e.xc)/(g.Oc*g.step);g.Eq||(g.ak=e.ak);g.Vj||(g.grid=e.grid)}};ab.prototype.D=function(a,b){for(var c=null,d=0;null===c&&d<a.length;)a[d].identifier===b?c=a[d]:d+=1;return c};
ab.prototype.reset=function(){this.i=!1;this.h=-1};ab.prototype.A=function(a,b){var c=b.changedTouches;this.s=!0;switch(b.type){case "touchstart":-1===a.h&&(c=c[0],a.h=c.identifier,a.I(a,c.pageX,c.pageY));break;case "touchend":c=a.D(c,a.h);null!==c&&(a.M(a,c.pageX,c.pageY),a.h=-1);break;case "touchmove":c=a.D(c,a.h),null!==c&&a.L(a,c.pageX,c.pageY)}b.stopPropagation&&b.stopPropagation();b.cancelable&&b.preventDefault()};ab.prototype.R=function(a){var b=this.view;b.ea=b.Jf;b.aa=b.If;b.zx();b.Eo.style.transform=
"scale("+b.ue+","+b.ue+")";b.Eo.style.transformOrigin="top left";b.Xn&&(this.C.Ge(!0),b.resize());a.T(a.left+a.B,a.top);a.B=0};ab.prototype.Y=function(a,b){this.T(this.left+a,this.top+b)};ab.prototype.T=function(a,b){var c=window.innerWidth-this.l.clientWidth*this.o,d=window.innerHeight-this.l.clientHeight*this.o;c-=(window.innerWidth-document.body.clientWidth)*this.o;a>c&&(a=c);b>d&&(b=d);0>a&&(a=0);0>b&&(b=0);this.l.style.left=a+"px";this.l.style.top=b+"px";this.l.style.position="fixed";this.left=
a;this.top=b};ab.prototype.I=function(a,b,c){a.O(a,b,c);a.i=!0;a.C.M=!0};ab.prototype.M=function(a,b,c){a.O(a,b,c);a.i=!1;a.C.M=!1};ab.prototype.L=function(a,b,c){a.i&&a.Y(b-a.u,c-a.v);a.u=b;a.v=c};ab.prototype.V=function(a,b){if(!a.s){if(b.pageX||b.pageY){var c=b.pageX;var d=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.I(a,c,d)}b.stopPropagation&&b.stopPropagation();b.preventDefault()};
ab.prototype.X=function(a,b){if(!a.s&&a.m&&a.i){if(b.pageX||b.pageY){var c=b.pageX;var d=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.M(a,c,d)}b.stopPropagation&&b.stopPropagation();b.preventDefault()};ab.prototype.W=function(a,b){if(!a.s&&a.m&&a.i){if(b.pageX||b.pageY){var c=b.pageX;b=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,b=b.clientY+document.body.scrollTop+
document.documentElement.scrollTop;a.L(a,c,b)}};ab.prototype.O=function(a,b,c){a.u=b|0;a.v=c|0};tb.prototype.oe=function(a){var b,c,d=this.key;for(b=0;256>b;b+=1)d[b]=b;for(b=c=0;256>b;b+=1){c=c+d[b]+a.charCodeAt(b%a.length)&255;var f=d[b];d[b]=d[c];d[c]=f}this.i=this.h=0};tb.prototype.random=function(){var a,b=0,c=1,d=this.key,f=this.h,e=this.i;for(a=0;8>a;a+=1){f=f+1&255;e=e+d[f]&255;var g=d[f];d[f]=d[e];d[e]=g;b+=d[d[f]+d[e]&255]*c;c*=256}this.h=f;this.i=e;return b/1.8446744073709552E19};Nb.prototype.oe=
function(a,b,c){var d,f=this.oq,e=a*a+b*b;this.x=this.N.h(pa.Zc,f,"Stars.x");this.y=this.N.h(pa.Zc,f,"Stars.y");this.z=this.N.h(pa.Zc,f,"Stars.z");for(d=0;d<f;d+=1){var g=d/f*(d/f)*(d/f)*(d/f)*c+1;do{var k=3*(this.i.random()*a-a/2);var l=3*(this.i.random()*b-b/2)}while(k*k+l*l>e);this.x[d]=k;this.y[d]=l;this.z[d]=g}this.sin=this.N.h(pa.Zc,2880,"Stars.sin");this.cos=this.N.h(pa.Zc,2880,"Stars.cos");for(d=0;2880>d;)this.sin[d]=Math.sin(d/8*this.l),this.cos[d]=Math.cos(d/8*this.l),d+=1};Nb.prototype.o=
function(a,b,c,d,f,e,g,k){var l=f>>1,p=e>>1,n=f-1,q=e-1;this.m||(this.oe(8192,8192,1024),this.m=!0);if(La.Ac){var m=k>>16&255;var r=k>>8&255;var u=k&255}else u=k>>24&255,r=k>>16&255,m=k>>8&255;var t=this.h.h-u;var w=this.h.l-r;var y=this.h.i-m;for(e=0;e<this.oq;e+=1){var v=this.x[e]+a;var D=this.y[e]+b;if(0!==d){var F=Math.sqrt(v*v+D*D);D=Math.atan2(D,v)*this.s;D+=d;0>D?D+=360:360<=D&&(D-=360);D*=8;D|=0;v=F*this.cos[D];D=F*this.sin[D]}F=this.z[e]/c*2;v=l+v/F|0;D=p+D/F|0;if(0<v&&v<n&&0<D&&D<q){v+=
D*f;F=1536/F|0;255<F&&(F=255);F/=255;if(g[v]===k){D=u+t*F;var E=r+w*F;var O=m+y*F;D=La.Ac?-16777216|O<<16|E<<8|D:D<<24|O<<16|E<<8|255;g[v]=D}F/=2;D=u+t*F;E=r+w*F;O=m+y*F;D=La.Ac?-16777216|O<<16|E<<8|D:D<<24|O<<16|E<<8|255;--v;g[v]===k&&(g[v]=D);v+=2;g[v]===k&&(g[v]=D);--v;v-=f;g[v]===k&&(g[v]=D);v+=f+f;g[v]===k&&(g[v]=D)}}};var Jb={Cw:"",Rq:0,Al:function(a){switch(a){case B.Gs:case B.Qu:case B.ct:case B.bu:case B.pv:case B.Hv:case B.Es:case B.Ts:case B.vv:case B.xv:case B.Hs:case B.wv:case B.au:case B.tg:case B.Fh:case B.fw:case B.Us:case B.Cq:case B.fs:case B.Zg:case B.nv:case B.mv:case B.jv:case B.lv:case B.gv:case B.fv:case B.hv:case B.kv:case B.wq:case B.vq:case B.xq:case B.ys:case B.tq:case B.lo:case B.Uu:case B.uq:case B.Su:case B.Wu:case B.Xu:case B.Tu:case B.$u:case B.Yu:case B.Zu:case B.Vu:case B.Co:case B.Tr:case B.Wr:case B.Xr:case B.Ur:case B.$r:case B.Yr:case B.Zr:case B.Vr:case B.Qo:case B.rt:case B.wt:case B.xt:case B.st:case B.At:case B.yt:case B.zt:case B.qt:case B.vt:case B.Yt:case B.$t:case B.Zt:case B.Xs:case B.pp:case B.Ss:case B.ap:case B.Rn:case B.Qn:case B.sq:case B.bp:case B.Ru:case B.qc:case B.tf:case B.Ob:case B.Bv:case B.dm:case B.op:case B.Xp:case B.nq:case B.Os:case B.Ps:case B.gp:case B.Ht:case B.Hp:case B.Zs:case B.on:case B.Bo:case B.ip:case B.Zl:case B.Nu:case B.Mo:case B.Lo:case B.qz:case B.dv:case B.Gv:case B.lb:case B.ns:case B.Ie:case B.Ke:case B.Jq:case B.Kq:case B.de:case B.Or:case B.Lh:case B.rp:case B.ck:case B.Xt:case B.Wt:case B.Nv:case B.Kv:case B.Jv:case B.Lv:case B.Mv:case B.Ip:case B.Fq:case B.$j:case B.Wl:case B.Qj:case B.Bj:case B.tl:case B.Sh:case B.Fl:case B.jl:case B.so:case B.nn:case B.ep:case B.cp:case B.kt:case B.oy:case B.Vn:case B.Vl:case B.wi:case B.Fo:case B.Zo:case B.gu:case B.Cu:case B.Lu:case B.pu:case B.iu:case B.Gu:case B.ku:case B.Ju:case B.Hu:case B.Bu:case B.uu:case B.Fu:case B.yu:case B.mu:case B.wu:case B.ou:case B.su:case B.Au:case B.qu:case B.Mu:case B.Gz:a=
!0;break;default:a=!1}return a},vs:function(a){var b=[],c=1,d=!0,f=0;if(7===a.length&&"#"===a.charAt(0)){for(a=a.toLowerCase();d&&6>=c;){var e=a.charAt(c);"0"<=e&&"9">=e?(f=16*f+(e.charCodeAt(0)-48),c+=1):"a"<=e&&"f">=e?(f=16*f+(e.charCodeAt(0)-97+10),c+=1):d=!1}d&&(b=[f>>16,f>>8&255,f&255])}return b},Nl:function(a,b,c,d,f){var e=a.m();""===e||this.Al(e)?b[b.length]=[c,d+" missing"]:(b[b.length]=[c+" "+e,d+" must be "+f],a.l())},nc:function(a,b,c,d,f){var e=!0,g=0,k=0,l=0,p=b.l();if(b.i()){g=b.h()|
0;if(0>g||255<g)c[c.length]=[f+" "+p+" "+g,"RED out of range"];if(b.i()){k=b.h();if(0>k||255<k)c[c.length]=[f+" "+p+" "+g+" "+k,"GREEN out of range"];b.i()?(l=b.h(),0>l||255<l?c[c.length]=[f+" "+p+" "+g+" "+k+" "+l,"BLUE out of range"]:e=!1):this.Nl(b,c,f+" "+p+" "+g+" "+k,"BLUE","numeric")}else this.Nl(b,c,f+" "+p+" "+g,"GREEN","numeric")}else{var n=b.m();var q=this.vs(n);3===q.length?(b.l(),g=q[0],k=q[1],l=q[2],e=!1):(q=eb.Qe[n.toLowerCase()],void 0!==q?(b.l(),g=q[1],k=q[2],l=q[3],e=!1):""===n||
this.Al(n)?c[c.length]=[f+" "+p,"name missing"]:(c[c.length]="#"===n.charAt(0)?[f+" "+p+" "+n,"bad hex definition"]:[f+" "+p+" "+n,"name not known"],b.l()))}if(!e)switch(-1!==a.oa[d]&&d!==H.ts&&d!==H.qs&&d!==H.us&&(c[c.length]=[f+" "+p+" "+g+" "+k+" "+l,"overwrites "+(a.oa[d]>>16)+" "+(a.oa[d]>>8&255)+" "+(a.oa[d]&255)]),a.oa[d]=g<<16|k<<8|l,d){case H.Lp:a.Cm=a.oa[d];break;case H.ss:a.Em=a.oa[d];break;case H.Zx:a.Md.h.h=g;a.Md.h.l=k;a.Md.h.i=l;break;case H.$x:a.Tc=[g,k,l];break;case H.Px:a.Sc=[g,
k,l];a.Ih="rgb("+g+","+k+","+l+")";break;case H.Vx:a.we=[g,k,l];a.Jh="rgb("+g+","+k+","+l+")";break;case H.ts:a.Bt="rgb("+g+","+k+","+l+")";break;case H.qs:a.lt="rgb("+g+","+k+","+l+")";break;case H.us:a.Nt="rgb("+g+","+k+","+l+")";break;case H.Lx:a.yd=[g,k,l];a.g.Ld=a.g.Ac?-16777216|l<<16|k<<8|g:g<<24|k<<16|l<<8|255;a.g.sg="rgb("+g+","+k+","+l+")";break;case H.Mx:a.zf=[g,k,l];a.g.fe=a.g.Ac?-16777216|l<<16|k<<8|g:g<<24|k<<16|l<<8|255;break;case H.Xx:a.Cf=[g,k,l];a.g.Ii="rgb("+g+","+k+","+l+")";break;
case H.Yx:a.Df=[g,k,l];a.g.Ji="rgb("+g+","+k+","+l+")";break;case H.Wx:a.Bf=[g,k,l];a.g.zi="rgb("+g+","+k+","+l+")";break;case H.Jx:a.yf=[g,k,l];a.g.ng="rgb("+g+","+k+","+l+")";break;case H.Sx:a.g.ld=[g,k,l];break;case H.Rx:a.g.kd=[g,k,l];break;case H.Qx:a.g.jd=[g,k,l];break;case H.Tx:a.g.md=[g,k,l];break;case H.Ux:a.g.nd=[g,k,l];break;case H.Op:case H.Mp:case H.Pp:case H.Rp:case H.Qp:case H.Np:break;default:a.sa=!0}},aE:function(a,b){a=a.replace(/"/g,"");return 0<=b.Uq(a)||b.Fw(a)||b.Hw(a)||b.Dw(a)},
KG:function(a){var b=a&255,c=a>>8&255;a>>=16;var d=255-b,f=255-c,e=255-a;64>Math.abs(b-d)&&(d=d+64&255);64>Math.abs(c-f)&&(f=f+64&255);64>Math.abs(a-e)&&(e=e+64&255);return e<<16|f<<8|d},NF:function(a,b){var c=a.g.pa[a.g.jb],d=a.oa;-1===b&&(b=2>=a.g.h?a.g.I?10:a.g.Z?17:1:a.g.l?18:11);c.set(a.g.pa[b]);a.Af&&(c.A=a.g.Ua);!a.L||a.g.o||a.g.m||a.g.B||a.g.ha||(0<a.L.length&&-1!==a.L[0]&&(d[H.gj]=a.L[0],a.L[0]=-1),1<a.L.length&&-1!==a.L[1]&&!a.g.l&&(d[H.en]=a.L[1],a.L[1]=-1),2<a.L.length&&-1!==a.L[2]&&!a.g.l&&
a.g.I&&(d[H.fn]=a.L[2],a.L[2]=-1));b=d[H.gj];-1!==b&&(a.g.m||a.g.B?(a.L||(a.L=a.g.N.h(pa.Hd,256,"View.customColours"),a.L.fill(-1)),-1===a.L[0]&&(a.L[0]=b)):(c.u.h=b>>16,c.u.l=b>>8&255,c.u.i=b&255));b=d[H.en];-1!==b&&(c.l.h.h=b>>16,c.l.h.l=b>>8&255,c.l.h.i=b&255);b=d[H.Kx];-1!==b&&(c.l.i.h=b>>16,c.l.i.l=b>>8&255,c.l.i.i=b&255);b=d[H.fn];-1!==b&&(c.h.i.h=b>>16,c.h.i.l=b>>8&255,c.h.i.i=b&255);b=d[H.rs];-1!==b&&(c.h.h.h=b>>16,c.h.h.l=b>>8&255,c.h.h.i=b&255);b=d[H.gj];-1!==b&&(c.D.h=b>>16,c.D.l=b>>8&
255,c.D.i=b&255);b=d[H.en];-1!==b&&(c.v.h=b>>16,c.v.l=b>>8&255,c.v.i=b&255);b=d[H.fn];-1!==b&&(c.i.i.h=b>>16,c.i.i.l=b>>8&255,c.i.i.i=b&255);b=d[H.rs];-1!==b&&(c.i.h.h=b>>16,c.i.h.l=b>>8&255,c.i.h.i=b&255);b=d[H.Nx];-1===b?c.I=!0:(c.I=!1,c.m.i.h=b>>16,c.m.i.l=b>>8&255,c.m.i.i=b&255);b=d[H.Ox];-1!==b&&(c.m.h.h=b>>16,c.m.h.l=b>>8&255,c.m.h.i=b&255);c.M(d[H.Lp],d[H.ss]);if(a.g.l)for(d=1;16>d;d+=1)a.L&&a.L.length>d&&(b=a.L[d],-1!==b&&(c.B[d-1].h=b>>16,c.B[d-1].l=b>>8&255,c.B[d-1].i=b&255,a.L[d]=-1))},
Aq:function(a,b){var c=a;a.length>b&&(c=a.substring(0,b-1)+"...");return c},vA:function(a,b,c,d){var f=a.indexOf("\\n");-1!==f&&(c?b[b.length]=[B.lo+" "+B.ud+this.Aq(a,23)+B.ud,"only one line allowed"]:(f=a.substring(f+2).indexOf("\\n"),-1===f||d||(b[b.length]=[B.ud+this.Aq(a,23),"only two lines allowed"])))},ev:function(a,b,c,d){var f=B.Bj+" ",e="overwrites ";f=c>=a.g.jb?f+B.ho:f+a.g.pa[c].name;e=d>=a.g.jb?e+B.ho:e+a.g.pa[d].name;b[b.length]=[f,e]},sf:function(a,b,c,d,f){b[b.length]=[c,d];f&&a.l();
a.i()?(a.h(),a.i()&&(a.h(),a.i()&&a.h())):(b=a.m(),3===this.vs(b).length?a.l():void 0!==eb.Qe[b.toLowerCase()]&&a.l())},hn:function(a,b,c,d,f,e,g){var k=0,l=0,p=0;if(b.i())if(k=b.h()|0,0>k||255<k)c[c.length]=[f+" "+g+" "+k,"RED out of range"],e=!0;else if(b.i())if(l=b.h()|0,0>l||255<l)c[c.length]=[f+" "+g+" "+k+" "+l,"GREEN out of range"],e=!0;else if(b.i()){if(p=b.h()|0,0>p||255<p)c[c.length]=[f+" "+g+" "+k+" "+l+" "+p,"BLUE out of range"],e=!0}else this.Nl(b,c,f+" "+g+" "+k+" "+l,"BLUE","numeric"),
e=!0;else this.Nl(b,c,f+" "+g+" "+k,"GREEN","numeric"),e=!0;else{var n=b.m();var q=this.vs(n);3===q.length?(b.l(),k=q[0],l=q[1],p=q[2]):(q=eb.Qe[n.toLowerCase()],void 0!==q?(b.l(),k=q[1],l=q[2],p=q[3]):(e=!0,""===n||this.Al(n)?c[c.length]=[f+" "+g,"name missing"]:(c[c.length]="#"===n.charAt(0)?[f+" "+g+" "+n,"bad hex definition"]:[f+" "+g+" "+n,"name not known"],b.l())))}e||(-1!==a.L[d]&&(c[c.length]=[f+" "+g+" "+k+" "+l+" "+p,"overwrites "+(a.L[d]>>16)+" "+(a.L[d]>>8&255)+" "+(a.L[d]&255)]),a.L[d]=
k<<16|l<<8|p)},Di:function(a,b){var c=B.Rd+String(b);a=a.C.Ub(b);-1!==a&&(c=a.toFixed(1));return c},$l:function(a,b){var c="",d=b.indexOf(B.Rd);if(-1===d)c=b;else{for(;-1!==d;)if(c+=b.substring(0,d),d+1<b.length){var f=b[d+1];b=b.substring(d+2);switch(f){case "B":c+=H.Iq;break;case "N":c+=a.Yi;break;case "R":c+=a.O;break;case "A":c=""===a.xa?c+a.O:c+a.xa;break;case "O":c+=a.vk;break;case "S":c+=a.dj;break;case "T":c+=H.Go;break;case "D":c+=a.Sq();break;case "0":c+=this.Di(a,0);break;case "1":c+=this.Di(a,
1);break;case "2":c+=this.Di(a,2);break;case "3":c+=this.Di(a,3);break;case "4":c+=this.Di(a,4);break;case "5":c+=this.Di(a,5);break;case "6":c+=this.Di(a,6);break;case "7":c+=this.Di(a,7);break;case "8":c+=this.Di(a,8);break;case "9":c+=this.Di(a,9);break;case B.Rd:c+=B.Rd;break;default:c+=B.Rd+f}d=b.indexOf(B.Rd)}else b=b.substring(d+1),d=-1;c+=b}return c},Ug:function(a,b,c,d){d[d.length]=a?b===B.tg?[b+" "+c,"already defined"]:[b+" "+c,"overwrites "+B.tg]:b===B.tg?[b+" "+c,"overwrites "+B.Fh]:[b+
" "+c,"already defined"]},Pd:function(a,b){return a===(a|0)?String(a):a.toFixed(b)},kG:function(a){var b=a.charAt(0);a=a.substring(1);var c=!1;if("B"===b||"S"===b){this.Cw=b;b=0;for(c=!0;c&&b<a.length;)"0"<=a[b]&&"9">=a[b]?b+=1:c=!1;c&&(this.Rq=Number(a))}return c},HF:function(a,b){if("B"===this.Cw){var c=a.Wc.length;a.Wc[c]=this.Rq;a.Wc[c+1]=b}else c=a.Kd.length,a.Kd[c]=this.Rq,a.Kd[c+1]=b},UE:function(a,b,c){var d=new Sa(b,!1),f=!1,e=!1,g="",k="",l="",p="",n=!1,q="",m=0,r=!1,u=!1,t=a.Tb,w=null,
y=0,v=0,D="",F=!1,E=a.m.B(),O=null,Q=!1,N=!1,U=null,S=!0,G=1,L=H.Ax,P=-1,fa=-1,ha=0,ja=0,ca=!1,Z=!1,la=-1,da=-1E3,na=-1E3,X=0,ma=0,aa=null,Y=!0,V=1,oa=H.Ax,R=H.IC,C=-1,z=-1,K=0,M=0,J=!1,x=!1,A=-1,ka=0,W=0,qa=-1E3,sa=-1E3,ia=null,ta=!0,ya=1,Ha=H.kE,Da=!1,Pa=-1,Qa=-1,Ka=0,Ga=0,Za=!1,$a=!1,hb=-1,Ua=0,cb=0,ob=-1E3,pb=-1E3,mb=H.tt,ib=!1,Ra=!1,Ab="numeric",Lb=-1,ub=-1,vb=-1,Sb=-1,wb=-1,xb=-1,Bb=0,Cb=0,Db=0,Eb=0,wa=0,xa=0,Fa=0,qb=0,yb=0,Mb=0,rb=[],Na=0,nb=0,Fb=!1,nc=new jb("decode",a.U),Tb=!1,Ub=!1,Vb=!1,
Wb=!1,Xb=!1,Yb=!1,Zb=!1,Gb=!1,$b=!1,ac=!1,Hb=!1,Ib=!1,bc=!1,cc=!1,dc=!1,ec=!1;a.m.L=!1;a.rh=0;a.Ir=0;a.Af=!1;a.sa=!1;a.oa.fill(-1);a.L=null;if(-1!==d.T(B.$j)){a.L=a.g.N.h(pa.Hd,256,"View.customColours");a.L.fill(-1);for(g=d.l();""!==g;){Ab="numeric";if(n)g[g.length-1]===B.ud?(q=q+" "+g.substring(0,g.length-1),n=!1,this.vA(q,t,e,ib),e?(""!==a.sd&&(t[t.length]=[B.lo+" "+B.ud+this.Aq(q,20)+B.ud,"overwrites "+B.ud+a.sd+B.ud]),a.sd=q,e=!1):ib?(ia.message=this.$l(a,q),ib=!1,a.m.T(ia)):(E.le=this.$l(a,q),
E.Gq=!0)):q=q+" "+g;else if(g[0]===B.ud)q=g.substring(1),n=!0,g[g.length-1]===B.ud&&(n=!1,q=q.substring(0,q.length-1),this.vA(q,t,e,ib),e?(""!==a.sd&&(t[t.length]=[B.lo+" "+B.ud+this.Aq(q,20)+B.ud,"overwrites "+B.ud+a.sd+B.ud]),a.sd=q,e=!1):ib?(ia.message=this.$l(a,q),ib=!1,a.m.T(ia)):(E.le=this.$l(a,q),E.Gq=!0));else{r=u=!1;a.rh+=1;switch(g){case B.lo:e=!0;k=d.m();k[0]!==B.ud&&(t[t.length]=[g,"argument must be a quoted string"],e=!1);r=!0;break;case B.Wu:d.i()&&(u=!0,m=d.h(),m>=H.jq&&m<=H.aq&&(L=
m,r=!0));break;case B.Yu:d.i()?(u=!0,m=d.h(),m>=H.eg&&m<=H.dg&&(wa=m,u=!1,d.i()&&(u=!0,m=d.h(),m>=H.eg&&m<=H.dg&&(X=wa,ma=m,r=!0)))):(k=d.m(),k===B.Id&&(k=d.l(),ma=X=0,r=!0));break;case B.Zu:d.i()?(u=!0,m=d.h(),0<=m&&m<=a.g.T/2&&(la=m,r=!0)):(k=d.m(),k===B.Ob&&(k=d.l(),la=-1,r=!0));break;case B.Tu:d.i()&&(u=!0,m=d.h(),0<=m&&360>m&&(ja=m,ca=!1,k=d.m(),k===B.Id&&(k=d.l(),ca=!0),r=!0));break;case B.Xu:d.i()?(u=!0,m=d.h()|0,0<=m&&(wa=m,d.i()?(m=d.h()|0,m>=wa?(xa=m,d.i()?(m=d.h()|0,0<=m&&m<=xa-wa>>1?(P=
wa,fa=xa,ha=m,r=!0):(r=!0,t[t.length]=[g+" "+wa+" "+xa+" "+m,"third argument must from 0 to "+(xa-wa>>1)])):u=!1):(r=!0,t[t.length]=[g+" "+wa+" "+m,"second argument must be >= first"])):u=!1)):(k=d.m(),k===B.tf?(k=d.l(),fa=P=-1,ha=0,r=!0):u=!1);break;case B.Su:d.i()&&(u=!0,m=d.h(),0<=m&&1>=m&&(G=m,r=!0));break;case B.Uu:case B.uq:rb=[];r=!0;for(Fa=-1E3;r&&d.i();)wa=d.h(),d.i()?(xa=d.h(),wa>=-a.g.T&&wa<2*a.g.T&&xa>=-a.g.T&&xa<2*a.g.T?(rb[rb.length]=wa,rb[rb.length]=xa):(t[t.length]=[g+" "+wa+" "+xa,
"coordinate out of range"],Fa=0,r=!1)):wa>=H.Mb&&wa<=H.ac?Fa=wa:wa>=H.Uo&&wa<=H.So?Fa=-(1/wa):(t[t.length]=[g+" "+wa,"zoom out of range"],Fa=0,r=!1);r&&4>rb.length&&(t[t.length]=[g,"requires at least 2 coordinate pairs"],r=!1);r&&-1E3===Fa&&(r=!1);r&&(k=d.m(),Z=!1,k===B.Id&&(k=d.l(),Z=!0,k=d.m()),U=a.m.qa(rb,g===B.uq,Fa,da,na,a.Nt,G,L,P,fa,ha,ja,ca,Z,la,X,ma,S),a.m.da(U));break;case B.Vu:k=d.m();k===B.Ob?(k=d.l(),S=!1):S=!0;r=!0;break;case B.Wr:d.i()&&(u=!0,m=d.h(),m>=H.jq&&m<=H.aq&&(wa=m,u=!1,d.i()&&
(u=!0,m=d.h(),0<=m&&1>=m&&(R=m,oa=wa,r=!0))));break;case B.Yr:d.i()?(u=!0,m=d.h(),m>=H.eg&&m<=H.dg&&(wa=m,u=!1,d.i()&&(u=!0,m=d.h(),m>=H.eg&&m<=H.dg&&(ka=wa,W=m,r=!0)))):(k=d.m(),k===B.Id&&(k=d.l(),W=ka=0,r=!0));break;case B.Zr:d.i()?(u=!0,m=d.h(),0<=m&&m<=a.g.T/2&&(A=m,r=!0)):(k=d.m(),k===B.Ob&&(k=d.l(),A=-1,r=!0));break;case B.Ur:d.i()&&(u=!0,m=d.h(),0<=m&&360>m&&(M=m,J=!1,k=d.m(),k===B.Id&&(k=d.l(),J=!0),r=!0));break;case B.Xr:d.i()?(u=!0,m=d.h()|0,0<=m&&(wa=m,d.i()?(m=d.h()|0,m>=wa?(xa=m,d.i()?
(m=d.h()|0,0<=m&&m<=xa-wa>>1?(C=wa,z=xa,K=m,r=!0):(r=!0,t[t.length]=[g+" "+wa+" "+xa+" "+m,"third argument must from 0 to "+(xa-wa>>1)])):u=!1):(r=!0,t[t.length]=[g+" "+wa+" "+m,"second argument must be >= first"])):u=!1)):(k=d.m(),k===B.tf?(k=d.l(),z=C=-1,K=0,r=!0):u=!1);break;case B.Tr:d.i()&&(u=!0,m=d.h(),0<=m&&1>=m&&(V=m,r=!0));break;case B.Vr:k=d.m();k===B.Ob?(k=d.l(),Y=!1):Y=!0;r=!0;break;case B.Co:d.i()&&(u=!0,m=d.h(),m>=-a.g.T&&m<2*a.g.T&&(u=!1,wa=m,d.i()&&(u=!0,m=d.h(),m>=-a.g.T&&m<2*a.g.T&&
(u=!1,xa=m,d.i()&&(u=!0,m=d.h(),m>=-a.g.T&&m<2*a.g.T&&(u=!1,qb=m,d.i()&&(u=!0,m=d.h(),m>=-a.g.T&&m<2*a.g.T&&(u=!1,yb=m,d.i()&&(u=!0,m=d.h(),Fa=-1E3,m>=H.Mb&&m<=H.ac?Fa=m:m>=H.Uo&&m<=H.So&&(Fa=-(1/m)),-1E3!==Fa&&(k=d.m(),x=!1,k===B.Id&&(k=d.l(),x=!0,k=d.m()),aa=a.m.oa(wa,xa,qb,yb,Fa,qa,sa,a.lt,V,oa,R,C,z,K,M,J,x,A,ka,W,Y),a.m.ca(aa),r=!0))))))))));break;case B.wt:d.i()&&(u=!0,m=d.h(),m>=H.dz&&m<=H.Yy&&(Ha=m,r=!0,k=d.m(),k===B.Id?(k=d.l(),Da=!0):Da=!1));break;case B.yt:d.i()?(u=!0,m=d.h(),m>=H.eg&&
m<=H.dg&&(wa=m,u=!1,d.i()&&(u=!0,m=d.h(),m>=H.eg&&m<=H.dg&&(Ua=wa,cb=m,r=!0)))):(k=d.m(),k===B.Id&&(k=d.l(),cb=Ua=0,r=!0));break;case B.zt:d.i()?(u=!0,m=d.h(),0<=m&&m<=a.g.T/2&&(hb=m,r=!0)):(k=d.m(),k===B.Ob&&(k=d.l(),hb=-1,r=!0));break;case B.st:d.i()&&(u=!0,m=d.h(),0<=m&&360>m&&(Ga=m,Za=!1,k=d.m(),k===B.Id&&(k=d.l(),Za=!0),r=!0));break;case B.qt:k=d.l();r=!0;switch(k){case B.nt:mb=H.tt;break;case B.ot:mb=H.Po;break;case B.pt:mb=H.ut;break;default:""!==k?t[t.length]=[g+" "+k,"argument must be "+
B.ot+", "+B.nt+" or "+B.pt]:r=!1}break;case B.xt:d.i()?(u=!0,m=d.h()|0,0<=m&&(wa=m,d.i()?(m=d.h()|0,m>=wa?(xa=m,d.i()?(m=d.h()|0,0<=m&&m<=xa-wa>>1?(Pa=wa,Qa=xa,Ka=m,r=!0):(r=!0,t[t.length]=[g+" "+wa+" "+xa+" "+m,"third argument must from 0 to "+(xa-wa>>1)])):u=!1):(r=!0,t[t.length]=[g+" "+wa+" "+m,"second argument must be >= first"])):u=!1)):(k=d.m(),k===B.tf?(k=d.l(),Qa=Pa=-1,Ka=0,r=!0):u=!1);break;case B.rt:d.i()&&(u=!0,m=d.h(),0<=m&&1>=m&&(ya=m,r=!0));break;case B.$u:d.i()?(u=!0,m=d.h(),wa=-1E3,
m>=H.zn&&m<=H.wn?wa=m:m>=H.yn&&m<=H.vn&&(wa=-(1/m)),-1E3!==wa&&d.i()&&(u=!0,m=d.h(),xa=-1E3,m>=H.zn&&m<=H.wn?xa=m:m>=H.yn&&m<=H.vn&&(xa=-(1/m)),-1E3!==xa&&xa<wa&&(xa=-1E3),-1E3!==xa&&(da=wa,na=xa,r=!0))):(k=d.m(),k===B.Ob&&(k=d.l(),na=da=-1E3,r=!0));break;case B.$r:d.i()?(u=!0,m=d.h(),wa=-1E3,m>=H.zn&&m<=H.wn?wa=m:m>=H.yn&&m<=H.vn&&(wa=-(1/m)),-1E3!==wa&&d.i()&&(u=!0,m=d.h(),xa=-1E3,m>=H.zn&&m<=H.wn?xa=m:m>=H.yn&&m<=H.vn&&(xa=-(1/m)),-1E3!==xa&&xa<wa&&(xa=-1E3),-1E3!==xa&&(qa=wa,sa=xa,r=!0))):(k=
d.m(),k===B.Ob&&(k=d.l(),sa=qa=-1E3,r=!0));break;case B.At:d.i()?(u=!0,m=d.h(),wa=-1E3,m>=H.zn&&m<=H.wn?wa=m:m>=H.yn&&m<=H.vn&&(wa=-(1/m)),-1E3!==wa&&d.i()&&(u=!0,m=d.h(),xa=-1E3,m>=H.zn&&m<=H.wn?xa=m:m>=H.yn&&m<=H.vn&&(xa=-(1/m)),-1E3!==xa&&xa<wa&&(xa=-1E3),-1E3!==xa&&(ob=wa,pb=xa,r=!0))):(k=d.m(),k===B.Ob&&(k=d.l(),pb=ob=-1E3,r=!0));break;case B.vt:k=d.m();k===B.Ob?(k=d.l(),ta=!1):ta=!0;r=!0;break;case B.Qo:d.i()&&(u=!0,m=d.h(),m>=-a.g.T&&m<2*a.g.T&&(u=!1,wa=m,d.i()&&(u=!0,m=d.h(),m>=-a.g.T&&m<
2*a.g.T&&(u=!1,xa=m,d.i()&&(u=!0,m=d.h(),Fa=-1E3,m>=H.Mb&&m<=H.ac?Fa=m:m>=H.Uo&&m<=H.So&&(Fa=-(1/m)),-1E3!==Fa&&(u=!1,k=d.m(),$a=!1,k===B.Id&&(k=d.l(),$a=!0,k=d.m()),k[0]===B.ud?(ia=a.m.pa(wa,xa,Fa,ob,pb,a.Bt,ya,Ha,Da,Pa,Qa,Ka,Ga,Za,$a,hb,Ua,cb,ta,mb),r=ib=!0):Ab="a string"))))));break;case B.qz:r=a.Pu=!0;break;case B.dv:r=a.g.Hc=!0;break;case B.kt:r=a.g.hd=!0;break;case B.oy:a.g.nf()&&(a.g.Yb=!0);r=!0;break;case B.Vn:r=!1;k=d.l();if(""!==k){for(a.hj=[];d.i();)m=d.h(),a.hj[a.hj.length]=m;a.FB(t,k,
a.hj);a.hj=[];r=!0}break;case B.Vl:r=!1;k=d.l();if(""!==k&&(l=d.m(),""!==l)){d.l();if(l===B.Zg)xa=wa=-1,d.i()&&(wa=d.h()),d.i()&&(xa=d.h()),wa<H.Vo||xa<H.Mt||wa>H.fq||xa>H.eq?(t[t.length]=[B.wi+" "+B.Zg,"invalid random box size"],wa=-1):l+=wa+","+xa;else for(p=d.m();""!==p&&!this.Al(p)&&!d.i()&&-1!==a.U.oa(nc,p,!1,a.g.N);)d.l(),l+=p,p=d.m();if(-1!==wa){xa=wa=0;d.i()&&(u=!0,wa=d.h());d.i()&&(u=!0,xa=d.h());Fa=-1;p=d.m();if(""!==p){switch(p){case B.aw:Fa=H.qp;break;case B.Yv:Fa=H.Rv;break;case B.Zv:Fa=
H.Sv;break;case B.$v:Fa=H.Tv;break;case B.dw:Fa=H.Wv;break;case B.ew:Fa=H.Xv;break;case B.cw:Fa=H.Vv;break;case B.bw:Fa=H.Uv}-1!==Fa&&d.l()}-1===Fa&&(Fa=H.qp);a.BB(t,k,l,wa,xa,Fa);r=!0}}break;case B.wi:l=d.m();if(""!==l){d.l();wa=-99999;if(l===B.Zg)xa=wa=-1,d.i()&&(wa=d.h()),d.i()&&(xa=d.h()),wa<H.Vo||xa<H.Vo||wa>H.fq||xa>H.eq?(t[t.length]=[B.wi+" "+B.Zg,"invalid random box size"],wa=-1):l+=wa+","+xa;else for(p=d.m();""!==p&&!this.Al(p)&&!d.i()&&-1!==a.U.oa(nc,p,!1,a.g.N);)d.l(),l+=p,p=d.m();if(-1!==
wa){xa=wa=0;d.i()&&(u=!0,wa=d.h());d.i()&&(u=!0,xa=d.h());Fa=-1;p=d.m();if(""!==p){switch(p){case B.aw:Fa=H.qp;break;case B.Yv:Fa=H.Rv;break;case B.Zv:Fa=H.Sv;break;case B.$v:Fa=H.Tv;break;case B.dw:Fa=H.Wv;break;case B.ew:Fa=H.Xv;break;case B.cw:Fa=H.Vv;break;case B.bw:Fa=H.Uv}-1!==Fa&&d.l()}-1===Fa&&(Fa=H.qp);if(a.mx(a.Le,a.sk,a.Xi,a.Ud,a.Fa,a.Oq,a.Mr,l,wa,xa,Fa)){if(k=d.m(),k===B.Mu||k===B.Gz)if(d.l(),qb=wa,yb=xa,Mb=Fa,Mb=0,d.i()&&d.M())for(qb=d.h(),yb=d.h();0===Mb;)k===B.Mu?wa+=qb:xa+=qb,a.Le+=
yb,a.mx(a.Le,-1,[],0,a.Fa,0,0,l,wa,xa,Fa),d.i()&&d.M()?(qb=d.h(),yb=d.h()):Mb=1;else t[t.length]=[B.wi+" "+k,"missing number pair"]}else t[t.length]=[B.wi+" "+l,"invalid name or rle"];r=!0}}break;case B.gu:d.i()&&(u=!0,m=d.h(),-4096<=m&&4096>=m&&(a.Oq=m,u=!1,d.i()&&(u=!0,m=d.h(),-4096<=m&&4096>=m&&(a.Mr=m,r=!0))));break;case B.Zo:if(d.i()){if(u=!0,m=d.h(),0<=m){a.Le=m;a.Ud=0;a.sk=-1;a.Xi=[];for(f=!0;f;)d.i()?(m=d.h(),a.Xi[a.Xi.length]=m):(k=d.m(),a.JB(k,a.Xi)?d.l():f=!1);r=!0}}else k=d.m(),k===B.Fo&&
(k=d.l(),d.i()&&(u=!0,m=d.h(),1<=m&&(a.Ud=m,a.Le=0,a.sk=-1,d.i()?(m=d.h(),0<=m&&(a.Le=m,d.i()?(m=d.h(),m>=a.Le+a.Ud&&(a.sk=m,r=!0)):r=!0)):r=!0)));break;case B.jA:r=E.rn=!0;break;case B.Qu:r=a.Jm=!0;break;case B.Cu:r=!0;u=!1;Ab="paste mode";k=d.m();switch(k){case B.Lu:a.Fa=H.Ku;break;case B.pu:a.Fa=H.pq;break;case B.iu:a.Fa=H.hu;break;case B.Gu:a.Fa=H.Du;break;case B.ku:a.Fa=H.ju;break;case B.Ju:a.Fa=H.Iu;break;case B.Hu:a.Fa=H.qq;break;case B.Bu:a.Fa=H.Ln;break;case B.uu:a.Fa=H.tu;break;case B.Fu:a.Fa=
H.Eu;break;case B.yu:a.Fa=H.xu;break;case B.mu:a.Fa=H.lu;break;case B.wu:a.Fa=H.vu;break;case B.ou:a.Fa=H.nu;break;case B.su:a.Fa=H.ru;break;case B.Au:a.Fa=H.zu;break;case B.qu:a.Fa=H.Kn;break;default:if(4===k.length){for(Na=m=0;4>Na&&r;){m<<=1;switch(k.substring(Na,Na+1)){case "1":m|=1;break;case "0":break;default:r=!1}Na+=1}r&&(a.Fa=m)}else d.i()?(u=!0,m=d.h()|0,0<=m&&15>=m?a.Fa=m:r=!1):r=!1}r&&!u&&d.l();break;case B.Xs:r=a.kd=!0;break;case B.Zt:a.Fd=!1;r=!0;break;case B.Yt:r=a.wb=!0;break;case B.$t:a.ed=
!1;r=!0;break;case B.Ht:d.i()&&(u=!0,m=d.h()|0,m>=H.cz&&m<=H.Xy&&(a.g.T=1<<m,r=!0));break;case B.gp:k=d.m();k===B.Ob?(k=d.l(),E.ak=!1):E.ak=!0;r=E.Eq=!0;break;case B.Hp:k=d.m();k===B.Ob?(k=d.l(),E.Fe=!1):E.Fe=!0;r=!0;break;case B.on:d.i()&&(u=!0,m=d.h()|0,0<=m&&m<=a.im&&(a.Da=m,r=!0));break;case B.Bo:d.i()&&(u=!0,m=d.h()|0,0<=m&&m<=a.im&&(a.Pg=m,r=!0));break;case B.Zs:k=d.m();k===B.Ob?(k=d.l(),a.ld=!1):a.ld=!0;r=!0;break;case B.Mo:k=d.m();k===B.Ob?(k=d.l(),E.grid=!1):E.grid=!0;r=E.Vj=!0;break;case B.Lo:d.i()&&
(u=!0,m=d.h()|0,m>=H.uE&&m<=H.rE&&(a.g.Ua=m,r=a.Af=!0));break;case B.lb:case B.ns:D=g;Ra=!1;if(d.i())v=d.h()|0,m=-1===a.g.h?2:a.g.h,a.g.I&&(m=7),0>v||v>=m?(this.sf(d,t,g+" "+v,"STATE out of range",!1),Ra=!0):(this.hn(a,d,t,v,g,Ra,v),a.sa=!0);else switch(k=d.m(),k){case B.du:a.g.I?this.nc(a,d,t,H.gj,D):(this.sf(d,t,g+" "+B.du,"not valid for this rule",!0),Ra=!0,a.sa=!1);break;case B.fu:a.g.I?this.nc(a,d,t,H.en,D):(this.sf(d,t,g+" "+B.fu,"not valid for this rule",!0),Ra=!0,a.sa=!1);break;case B.Ys:a.g.I?
this.nc(a,d,t,H.fn,D):(this.sf(d,t,g+" "+B.Ys,"not valid for this rule",!0),Ra=!0,a.sa=!1);break;case B.Dt:k=d.l();a.g.I?this.hn(a,d,t,H.Ry,g,!1,k):(this.sf(d,t,g+" "+B.Dt,"not valid for this rule",!1),Ra=!0,a.sa=!1);break;case B.Ft:k=d.l();a.g.I?this.hn(a,d,t,H.Ty,g,!1,k):(this.sf(d,t,g+" "+B.Ft,"not valid for this rule",!1),Ra=!0,a.sa=!1);break;case B.Et:k=d.l();a.g.I?this.hn(a,d,t,H.Sy,g,!1,k):(this.sf(d,t,g+" "+B.Et,"not valid for this rule",!1),Ra=!0,a.sa=!1);break;case B.jt:k=d.l();a.g.I?this.hn(a,
d,t,H.Ky,g,!1,k):(this.sf(d,t,g+" "+B.jt,"not valid for this rule",!1),Ra=!0,a.sa=!1);break;case B.fo:this.nc(a,d,t,H.gj,D);break;case B.eo:a.g.l||a.g.m||a.g.B||a.g.o||a.g.ha?(this.sf(d,t,g+" "+B.eo,"not valid for this rule",!0),Ra=!0,a.sa=!1):this.nc(a,d,t,H.en,D);break;case B.kp:2<a.g.h||a.g.ha?(this.sf(d,t,g+" "+B.kp,"not valid for this rule",!0),Ra=!0,a.sa=!1):this.nc(a,d,t,H.Kx,D);break;case B.jo:a.g.o||a.g.m||a.g.B||a.g.ha?(this.sf(d,t,g+" "+B.jo,"not valid for this rule",!0),Ra=!0,a.sa=!1):
this.nc(a,d,t,H.fn,D);break;case B.io:a.g.o||a.g.m||a.g.B||a.g.ha?(this.sf(d,t,g+" "+B.io,"not valid for this rule",!0),Ra=!0,a.sa=!1):this.nc(a,d,t,H.rs,D);break;case B.mp:2>=a.g.h||a.g.l||a.g.o||a.g.Z||a.g.m||a.g.B||a.g.I||a.g.ha?(this.sf(d,t,g+" "+B.mp,"not valid for this rule",!0),Ra=!0,a.sa=!1):this.nc(a,d,t,H.Nx,D);break;case B.lp:2>=a.g.h||a.g.l||a.g.o||a.g.Z||a.g.m||a.g.B||a.g.I||a.g.ha?(this.sf(d,t,g+" "+B.lp,"not valid for this rule",!0),Ra=!0,a.sa=!1):this.nc(a,d,t,H.Ox,D);break;case B.Mo:this.nc(a,
d,t,H.Lp,D);break;case B.Lo:this.nc(a,d,t,H.ss,D);break;case B.gp:this.nc(a,d,t,H.Zx,D);break;case B.Hv:this.nc(a,d,t,H.$x,D);break;case B.Es:this.nc(a,d,t,H.Px,D);break;case B.Ts:this.nc(a,d,t,H.Vx,D);break;case B.Qo:this.nc(a,d,t,H.ts,D);break;case B.Co:this.nc(a,d,t,H.qs,D);break;case B.Pz:this.nc(a,d,t,H.us,D);break;case B.Ex:this.nc(a,d,t,H.Lx,D);break;case B.gs:-1===a.g.D?(this.sf(d,t,g+" "+B.gs,"Bounded Grid not specified",!0),Ra=!0):this.nc(a,d,t,H.Mx,D);a.sa=!1;break;case B.$z:this.nc(a,
d,t,H.Xx,D);break;case B.wi:this.nc(a,d,t,H.Wx,D);break;case B.xx:this.nc(a,d,t,H.Jx,D);break;case B.aA:this.nc(a,d,t,H.Yx,D);break;case B.xy:this.nc(a,d,t,H.Sx,D);break;case B.wy:this.nc(a,d,t,H.Rx,D);break;case B.vy:this.nc(a,d,t,H.Qx,D);break;case B.yy:this.nc(a,d,t,H.Tx,D);break;case B.zy:this.nc(a,d,t,H.Ux,D);break;case B.oA:this.nc(a,d,t,H.Op,D);break;case B.mA:this.nc(a,d,t,H.Mp,D);break;case B.pA:this.nc(a,d,t,H.Pp,D);break;case B.rA:this.nc(a,d,t,H.Rp,D);break;case B.qA:this.nc(a,d,t,H.Qp,
D);break;case B.nA:this.nc(a,d,t,H.Np,D);break;default:if('"'===k.charAt(0)&&'"'!==k.charAt(k.length-1)){k=d.l();do l=d.l(),k+=" "+l;while(""!==l&&'"'!==l.charAt(l.length-1))}else k=d.l();"dead"!==k||a.g.ha||a.g.o?(v=-1,a.g.ha||(v=a.AA(k)),0<=v&&(this.hn(a,d,t,v,g,Ra,k),a.sa=!0),0>v&&(this.aE(k,a)?t[t.length]=[g+" "+k,"not valid for this rule"]:(t[t.length]=[g+" "+k,"illegal element"],k=d.l()),d.i()&&(d.h(),d.i()&&(d.h(),d.i()&&d.h())))):(d.R(),this.nc(a,d,t,H.fn,D))}r=!0;break;case B.Wl:-1===d.T(B.$j)&&
d.X();r=!0;--a.rh;break;case B.rp:r=a.D=!0;break;case B.au:r=a.Hr=!0;break;case B.pv:r=a.pm=!0;break;case B.bu:a.vf=!1;r=!0;break;case B.Gs:r=a.Km=!0;break;case B.ct:r=a.Oo=!0;break;case B.Xt:a.Ua=!0;r=a.Fn=!0;break;case B.Wt:r=a.bi=!0;break;case B.Gv:r=ec=dc=cc=bc=Ib=Hb=ac=$b=Gb=Zb=Yb=Xb=Wb=Vb=Ub=Tb=!0;break;case B.Ob:t[t.length]=[B.Ob,"must follow LOOP or STOP"];r=!0;break;case B.tf:k=d.m();k===B.qc?(k=d.l(),E.rg?(a.m.na(E,t),a.TE()):t[t.length]=[B.tf+" "+B.qc,"only valid at a POI"]):t[t.length]=
[B.tf,"must be followed by INITIAL"];r=!0;break;case B.qc:t[t.length]=[B.qc,"must follow POI, ALL or a POI setting"];r=!0;break;case B.Fq:d.i()&&(u=!0,m=d.h()|0,0<=m&&m<=H.$y&&(a.Ib=m,r=!0));break;case B.Ip:k=d.m();k===B.Ob?(k=d.l(),a.Pb=!1):a.ab&&(a.Pb=!0);r=!0;break;case B.sq:d.i()&&(u=!0,m=d.h()|0,0<=m&&(E.rg?(E.xc=m,E.jp=!0):t[t.length]=[B.sq+" "+m,"only valid at a POI"],r=!0));break;case B.Qn:E.JF(t);r=!0;break;case B.Rn:E.LF(t);r=!0;break;case B.ap:E.KF(t);r=!0;break;case B.bp:d.i()&&(u=!0,
m=d.h(),m>=Ta.Mz&&m<=Ta.Lz&&(E.MF(m,t),r=!0));break;case B.Ru:r=F=!0;break;case B.Ss:r=a.Rm=!0;break;case B.Bv:k=d.m();k===B.Ob?(k=d.l(),a.qd=!1):a.qd=!0;r=!0;break;case B.pp:d.i()&&(u=!0,m=d.h(),m>=H.eg&&m<=H.dg&&(wb=m,u=!1,g+=" "+m,d.i()&&(u=!0,m=d.h(),m>=H.eg&&m<=H.dg&&(xb=m,r=!0,a.ib&&(t[t.length]=[B.pp+" "+wb+" "+xb,"overwrites "+ub+" "+vb]),ub=wb,vb=xb,a.ib=!0))));break;case B.op:d.i()&&(u=!0,m=d.h()|0,0<m&&(Sb=m,u=!1,g+=" "+m,d.i()&&(u=!0,m=d.h(),m>=H.eg&&m<=H.dg&&(wb=m,u=!1,g+=" "+m,d.i()&&
(u=!0,m=d.h(),m>=H.eg&&m<=H.dg&&(xb=m,r=!0,a.Gh&&(t[t.length]=[B.op+" "+Sb+" "+wb+" "+xb,"overwrites "+Lb+" "+ub+" "+vb]),Lb=Sb,ub=wb,vb=xb,a.Gh=!0,a.ib=!0))))));break;case B.dm:d.i()&&(u=!0,m=d.h(),m>=H.eg&&m<=H.dg&&(Db=m,u=!1,g+=" "+m,d.i()&&(u=!0,m=d.h(),m>=H.eg&&m<=H.dg&&(Cb=m,u=!1,g+=" "+m,d.i()&&(u=!0,m=d.h(),m>=H.eg&&m<=H.dg&&(Eb=m,u=!1,g+=" "+m,d.i()&&(u=!0,m=d.h(),m>=H.eg&&m<=H.dg&&(Bb=m,r=!0,Eb>Db?t[t.length]=[B.dm+" W "+this.Pd(Eb,2)+" E "+this.Pd(Db,2),"W is greater than E"]:Bb>Cb?t[t.length]=
[B.dm+" N "+this.Pd(Bb,2)+" S "+this.Pd(Cb,2),"N is greater than S"]:(a.Dh&&(t[t.length]=[B.dm+" "+this.Pd(Db,2)+" "+this.Pd(Cb,2)+" "+this.Pd(Eb,2)+" "+this.Pd(Bb,2),"overwrites "+this.Pd(a.ng,2)+" "+this.Pd(a.pg,2)+" "+this.Pd(a.Eh,2)+" "+this.Pd(a.jh,2)]),a.Dh=!0,a.ib=!0,a.jh=Bb,a.ng=Db,a.pg=Cb,a.Eh=Eb)))))))));break;case B.Sh:O=E;!E.rg&&0<a.m.h.length&&(E=a.m.D());d.i()?(u=!0,m=d.h()|0,0<m&&(!E.Rh||a.lf||Ib||(t[t.length]=-1===E.fc?[B.Sh+" "+m,"overwrites "+B.Ob]:[B.Sh+" "+m,"overwrites "+E.fc]),
E.fc=m,E.Rh=!0,Ib=a.lf=!1,r=!0)):(k=d.m(),k===B.Ob?(k=d.l(),!E.Rh||a.lf||Ib||(t[t.length]=-1!==E.fc||a.lf?[B.Sh+" "+B.Ob,"overwrites "+E.fc]:[B.Sh+" "+B.Ob,"overwrites "+B.Ob]),E.fc=-1,E.Rh=!0,Ib=a.lf=!1,r=!0):k===B.qc&&(k=d.l(),a.m.l(B.Sh,E,t,a.lf),r=a.lf=!0));E=O;break;case B.Lh:O=E;!E.rg&&0<a.m.h.length&&(E=a.m.D());d.i()?(u=!0,m=d.h()|0,0<m&&(!E.Kh||a.Ig||Hb||(t[t.length]=-1===E.Lb?[B.Lh+" "+m,"overwrites "+B.Ob]:[B.Lh+" "+m,"overwrites "+E.Lb]),E.Lb=m,E.Kh=!0,Hb=a.Ig=!1,r=!0)):(k=d.m(),k===B.Ob?
(k=d.l(),!E.Kh||a.Ig||Hb||(t[t.length]=-1===E.Lb?[B.Lh+" "+B.Ob,"overwrites "+B.Ob]:[B.Lh+" "+B.Ob,"overwrites "+E.Lb]),E.Lb=-1,E.Kh=!0,Hb=a.Ig=!1,r=!0):k===B.qc&&(k=d.l(),a.m.l(B.Lh,E,t,a.Ig),r=a.Ig=!0));E=O;break;case B.ck:d.i()?(u=!0,m=d.h(),m>=H.Wo&&m<=H.It&&(!E.zg||a.Ol||Xb||(t[t.length]=[B.ck+" "+m,"overwrites "+E.Gb]),E.Gb=m,E.zg=!0,Xb=a.Ol=!1,r=!0)):(k=d.m(),k===B.qc&&(k=d.l(),a.m.l(B.ck,E,t,a.Ol),r=a.Ol=!0));break;case B.Qj:d.i()?(u=!0,m=d.h()|0,0<=m&&359>=m&&(!E.ig||a.Bl||Wb||(t[t.length]=
[B.Qj+" "+m,"overwrites "+E.angle]),E.angle=m,E.ig=!0,Wb=a.Bl=!1,r=!0)):(k=d.m(),k===B.qc&&(k=d.l(),a.m.l(B.Qj,E,t,a.Bl),r=a.Bl=!0));break;case B.Fl:d.i()?(u=!0,m=d.h()|0,m>=H.iq&&m<=H.$p&&(!E.Qg||a.Kl||Yb||(t[t.length]=[B.Fl+" "+m,"overwrites "+E.za]),E.za=m,E.Qg=!0,Yb=a.Kl=!1,r=!0)):(k=d.m(),k===B.qc&&(k=d.l(),a.m.l(B.Fl,E,t,a.Kl),r=a.Kl=!0));break;case B.jl:d.i()?(u=!0,m=d.h(),m>=H.hq&&m<=H.Wy&&(!E.Kg||a.Dl||Zb||(t[t.length]=[B.jl+" "+m,"overwrites "+E.depth]),E.depth=m,E.Kg=!0,Zb=a.Dl=!1,r=!0)):
(k=d.m(),k===B.qc&&(k=d.l(),a.m.l(B.jl,E,t,a.Dl),r=a.Dl=!0));break;case B.Jq:d.i()&&(u=!0,m=d.h(),m>=-a.g.T/2&&m<=a.g.T/2&&(a.R=m,r=!0));break;case B.Kq:d.i()&&(u=!0,m=d.h(),m>=-a.g.T/2&&m<=a.g.T/2&&(a.Y=m,r=!0));break;case B.Ie:d.i()?(u=!0,m=d.h(),m>=-a.g.T/2&&m<=a.g.T/2&&(!E.af||a.Pl||Tb||(t[t.length]=[B.Ie+" "+m,"overwrites "+-E.x]),E.x=-m,E.af=!0,Tb=a.Pl=!1,r=!0)):(k=d.m(),k===B.qc&&(k=d.l(),a.m.l(B.Ie,E,t,a.Pl),r=a.Pl=!0));break;case B.Ke:d.i()?(u=!0,m=d.h(),m>=-a.g.T/2&&m<=a.g.T/2&&(!E.Je||
a.Ql||Ub||(t[t.length]=[B.Ke+" "+m,"overwrites "+-E.y]),E.y=-m,E.Je=!0,Ub=a.Ql=!1,r=!0)):(k=d.m(),k===B.qc&&(k=d.l(),a.m.l(B.Ke,E,t,a.Ql),r=a.Ql=!0));break;case B.Mv:d.i()&&(u=!0,m=d.h(),m>=H.Mb&&m<=H.ac?(a.yp=!0,a.Qq=m,r=!0):m>=H.Uo&&m<=H.So&&(a.yp=!0,a.Qq=-(1/m),r=!0));break;case B.Or:case B.de:d.i()?(u=!0,m=d.h(),m>=H.Mb&&m<=H.ac?(!E.ce||a.kh||Vb||(t[t.length]=1>E.zoom?[B.de+" "+m,"overwrites "+-(1/E.zoom)]:[B.de+" "+m,"overwrites "+E.zoom]),E.zoom=m,E.ce=!0,Vb=a.kh=!1,r=!0):m>=H.Uo&&m<=H.So&&
(E.ce&&!a.kh&&(t[t.length]=1>E.zoom?[B.de+" "+m,"overwrites "+-(1/E.zoom)]:[B.de+" "+m,"overwrites "+E.zoom]),E.zoom=-(1/m),E.ce=!0,a.kh=!1,r=!0)):(k=d.m(),k===B.qc&&(k=d.l(),a.m.l(B.de,E,t,a.kh),r=a.kh=!0));break;case B.tl:d.i()?(u=!0,m=d.h()|0,m>=H.Tg&&(!E.We||a.Gl||$b||(t[t.length]=[B.tl+" "+m,"overwrites "+E.Oc]),m>a.I&&(m=a.I),E.Oc=m,E.We=!0,$b=a.Gl=!1,a.cv=!1,r=!0)):(k=d.m(),k===B.qc&&(k=d.l(),a.m.l(B.tl,E,t,a.Gl),r=a.Gl=!0));break;case B.Nv:k=d.m();k===B.Ob?(k=d.l(),a.Ad||(a.ga=!1,a.cf=!1)):
a.Ad||(a.ga=!0,a.cf=!0);r=!0;break;case B.Lv:r=a.xw=!0;break;case B.Jv:k=d.m();k===B.Ob?(k=d.l(),a.Ad||(a.ga=!1,a.cf=!1,a.ci=!1,a.C.ma=!1)):a.Ad||(a.ga=!0,a.cf=!0,a.ci=!0,a.C.ma=!0);r=!0;break;case B.Kv:d.i()&&(u=!0,m=d.h()|0,m>=H.fz&&m<=H.az&&(a.Ub=m,r=!0));break;case B.Bj:d.i()?(u=!0,m=d.h()|0,0<=m&&m<a.g.jb&&(!E.qe||a.Ce||Gb||this.ev(a,t,m,E.Dc),E.Dc=m,E.qe=!0,Gb=a.Ce=!1,r=!0)):(k=d.m(),k===B.ho?(k=d.l(),a.sa?(E.qe&&!a.Ce&&this.ev(a,t,a.g.jb,E.Dc),E.Dc=a.g.jb,E.qe=!0,a.Ce=!1):t[t.length]=[B.Bj+
" "+B.ho,"no custom THEME defined"],r=!0):(m=a.sG(k),-1!==m?(k=d.l(),!E.qe||a.Ce||Gb||this.ev(a,t,m,E.Dc),E.Dc=m,E.qe=!0,Gb=a.Ce=!1,r=!0):k===B.qc&&(k=d.l(),a.m.l(B.Bj,E,t,a.Ce),r=a.Ce=!0)),r||(r=!0,t[t.length]=[g,"invalid specification"]));break;case B.Tz:2<a.g.h||a.g.Ia||a.g.l||a.g.I||a.g.m||a.g.B||a.g.o||(a.g.Vb=!0,a.bv=!0);r=!0;break;case B.$j:t[t.length]=[g,"already in a script block"];r=!0;break;case B.wv:a.Ka=!a.Ka;r=!0;break;case B.xv:a.Hi.current=a.sg([!0],!0,a);r=!0;break;case B.Hs:a.zl.current=
a.Br([!0],!0,a);r=!0;break;case B.vv:r=a.As=!0;break;case B.ys:d.i()&&(u=!0,m=d.h()|0,m>=H.bz&&m<=H.Vy&&(r=!0,a.g.De=m));break;case B.nq:r=a.Wb=!0;break;case B.Xp:r=a.Oa=!0;break;case B.Os:d.i()&&(u=!0,m=d.h(),0<=m&&1>=m&&(r=!0,a.Wa=m));break;case B.Ps:a.od=!1;r=!0;break;case B.fw:a.g.W&&(a.g.ua=!1);r=!0;break;case B.Us:a.g.ia&&(a.g.ua=!1);r=!0;break;case B.Cq:r=a.g.ua=!0;break;case B.fs:r=a.g.Wa=!0;break;case B.lv:d.i()&&(u=!0,m=d.h()|0,m>=H.Vo&&m<=H.fq&&(a.vo=m,r=!0));break;case B.gv:d.i()&&(u=
!0,m=d.h()|0,m>=H.Mt&&m<=H.eq&&(a.oo=m,r=!0));break;case B.fv:d.i()&&(u=!0,m=d.h()|0,m>=H.kq&&m<=H.cq&&(a.Ki=m,r=!0));break;case B.hv:r=a.qo=!0;break;case B.kv:r=a.to=!0;break;case B.wq:u=!1;Ab="a valid item";k=d.m();switch(k){case B.Id:k=d.l();r=!0;a.Jk=!0;break;case B.tf:k=d.l();d.i()&&(u=!0,m=d.h()|0,0<=m&&100>=m&&(a.Oe=m,r=!0));break;case B.vq:k=d.l();d.i()&&(u=!0,m=d.h()|0,0<=m&&100>=m&&(a.Pe=m,r=!0));break;case B.xq:k=d.l();d.i()&&(u=!0,m=d.h()|0,0<=m&&100>=m&&(a.Sf=m,r=!0));break;default:this.kG(k)&&
(k=d.l(),d.i()&&(u=!0,m=d.h()|0,0<=m&&100>=m&&(this.HF(a,m),r=!0)))}break;case B.Zg:t[t.length]=[g,"only valid after "+B.wi];r=!0;break;case B.nv:a.Nk=!0;a.Lk=!1;r=!0;break;case B.mv:a.Nk=!0;r=a.Lk=!0;break;case B.jv:k=d.m();""!==k&&k!==B.Wl&&(a.dj=d.l(),r=a.Ks=!0);break;case B.tg:k=d.m();switch(k){case B.Ie:E.Cj&&this.Ug(E.Ag,B.tg,B.Ie,t);E.Ag=!0;E.Cj=!0;k=d.l();break;case B.Ke:E.Dj&&this.Ug(E.Bg,B.tg,B.Ke,t);E.Bg=!0;E.Dj=!0;k=d.l();break;case B.de:E.Ej&&this.Ug(E.Cg,B.tg,B.de,t);E.Cg=!0;E.Ej=!0;
k=d.l();break;case B.tf:E.Cj&&this.Ug(E.Ag,B.tg,B.Ie,t);E.Dj&&this.Ug(E.Bg,B.tg,B.Ke,t);E.Ej&&this.Ug(E.Cg,B.tg,B.de,t);E.Ag=!0;E.Cj=!0;E.Bg=!0;E.Dj=!0;E.Cg=!0;E.Ej=!0;k=d.l();break;default:this.Nl(d,t,B.tg,"argument",B.tf+", "+B.Ie+", "+B.Ke+" or "+B.de)}r=!0;break;case B.Fh:k=d.m();switch(k){case B.Ie:E.Cj&&this.Ug(E.Ag,B.Fh,B.Ie,t);E.Ag=!1;E.Cj=!0;k=d.l();break;case B.Ke:E.Dj&&this.Ug(E.Bg,B.Fh,B.Ke,t);E.Bg=!1;E.Dj=!0;k=d.l();break;case B.de:E.Ej&&this.Ug(E.Cg,B.Fh,B.de,t);E.Cg=!1;E.Ej=!0;k=d.l();
break;case B.tf:E.Cj&&this.Ug(E.Ag,B.Fh,B.Ie,t);E.Dj&&this.Ug(E.Bg,B.Fh,B.Ke,t);E.Ej&&this.Ug(E.Cg,B.Fh,B.de,t);E.Ag=!1;E.Cj=!0;E.Bg=!1;E.Dj=!0;E.Cg=!1;E.Ej=!0;k=d.l();break;default:this.Nl(d,t,B.Fh,"argument",B.tf+", "+B.Ie+", "+B.Ke+" or "+B.de)}r=!0;break;case B.tq:N=!0;a.m.add(E,a);E=a.m.B();E.rg=!0;k=d.m();k===B.qc&&(k=d.l(),-1!==a.Yg&&(t[t.length]=[B.tq+" "+B.qc,"overrides previous initial POI"]),a.Yg=a.m.i.length);a.wC();r=!0;break;case B.ip:d.i()&&(u=!0,m=d.h()|0,0<=m&&(Q=!0,0<m&&(a.m.add(E,
a),E=a.m.B()),E.xc=m,r=E.jp=!0));break;case B.Zl:d.i()?(u=!0,m=d.h()|0,m>=H.ug&&m<=H.ni&&(!E.te||a.Ml||ac||(t[t.length]=[B.Zl+" "+m,"overwrites "+E.step]),E.step=m,E.te=!0,ac=a.Ml=!1,a.rv=!1,r=!0)):(k=d.m(),k===B.qc&&(k=d.l(),a.m.l(B.Zl,E,t,a.Ml),r=a.Ml=!0));break;case B.Nu:d.i()&&(u=!0,m=d.h(),0<=m&&(Q=!0,a.m.add(E,a),E=a.m.B(),m<H.cA&&(m=H.cA),E.td=m,r=E.iA=!0));break;case B.so:d.i()&&(u=!0,m=d.h()|0,a.Ad||(-1===a.gb||bc||(t[t.length]=[B.so+" "+m,"overwrites "+a.gb]),a.gb=m),bc=!1,r=!0);break;case B.nn:d.i()&&
(u=!0,m=d.h()|0,a.Ad||(-1===a.pc||cc||(t[t.length]=[B.nn+" "+m,"overwrites "+a.pc]),a.pc=m),cc=!1,r=!0);break;case B.ep:d.i()&&(u=!0,m=d.h()|0,-1===a.cc||dc||(t[t.length]=[B.ep+" "+m,"overwrites "+a.cc]),a.cc=m,dc=!1,r=!0);break;case B.cp:d.i()&&(u=!0,m=d.h()|0,-1===a.ad||ec||(t[t.length]=[B.cp+" "+m,"overwrites "+a.ad]),a.ad=m,ec=!1,r=!0);break;default:t[t.length]=[g,"unknown or misspelt command"],r=!0}r||(u?t[t.length]=[g+" "+m,"argument out of range"]:this.Nl(d,t,g,"argument",Ab))}""!==g&&(g=d.l())}n&&
(t[t.length]=[B.ud+q,"unterminated string"]);E.qe&&(a.g.m||a.g.B||a.g.o||a.g.ha)&&(E.qe=!1);Q&&a.ib&&(w=a.Dh?B.dm:a.Gh?B.op:B.pp,t[t.length]=[w,"can not be used with Waypoints"],a.ib=!1,a.Dh=!1,a.Gh=!1);a.Dh||!a.ib&&!a.Gh||(a.Gh&&(0<a.g.Ua&&(Lb*=a.g.Ua),E.Lb=Lb),a.jh=vb,a.ng=ub,a.pg=vb,a.Eh=ub);if(Q||N){a.m.add(E,a);E=a.m.D();Q?a.Ba=!0:-1!==a.Yg&&(a.Fc=a.Yg,O=a.m.i[a.Yg],O.af&&(E.af=O.af,E.x=O.x),O.Je&&(E.Je=O.Je,E.y=O.y),O.ce&&(E.ce=O.ce,E.zoom=O.zoom),O.ig&&(E.ig=O.ig,E.angle=O.angle),O.zg&&(E.zg=
O.zg,E.Gb=O.Gb),O.Kg&&(E.Kg=O.Kg,E.depth=O.depth),O.Qg&&(E.Qg=O.Qg,E.za=O.za),O.qe&&(E.qe=O.qe,E.Dc=O.Dc),O.We&&(E.We=O.We,E.Oc=O.Oc),O.te&&(E.te=O.te,E.step=O.step),O.Rh&&(E.Rh=O.Rh,E.fc=O.fc),O.Kh&&(E.Kh=O.Kh,E.Lb=O.Lb));if(Q){for(Na=0;Na<a.m.h.length;Na+=1)E=a.m.h[Na],E.Fe&&(E.af||E.Je||E.ce)&&(q="",E.af?(q="X "+E.x,E.Je?q=E.ce?q+(", Y "+E.y+" and ZOOM "+E.zoom):q+(" and Y "+E.y):E.ce&&(q+=" and ZOOM "+E.zoom)):E.Je?(q="Y "+E.y,E.ce&&(q+=" and ZOOM "+E.zoom)):E.ce&&(q="ZOOM "+E.zoom),t[t.length]=
[B.Hp,"overwrites "+q]);E=a.m.D()}N&&E.h===Ta.play&&a.ab&&(a.Pb=!0)}E.Fe&&(a.da=!0);E.Je&&(a.g.da=a.g.height/2-E.y);E.af&&(a.g.ga=a.g.width/2-E.x,a.g.ia&&(a.g.ga-=a.g.da/2));E.ce&&(a.g.zoom=E.zoom);a.g.W||a.g.ia||a.g.ha||(E.ig&&(a.g.angle=E.angle),E.zg&&(a.g.Gb=E.Gb),E.Kg&&(a.g.Ub=E.depth/H.il+H.hq),E.Qg&&(a.g.za=E.za));E.qe&&(a.wp=E.Dc);E.We&&(a.fa=E.Oc,a.V=H.ug);E.te&&(a.V=E.step,1<a.V&&(a.fa=a.I));E.Gq&&(a.C.notification.notify(E.le,15,1E3,15,!1),a.Ee=E.le);a.fc=E.fc;a.Lb=E.Lb;E.ce&&(a.Pv=!0);
E.af&&(a.qv=!0);E.Je&&(a.yv=!0);E.Vj&&(a.g.Ka=E.grid);E.Eq&&(a.pd=E.ak);for(Na=0;Na<c;Na+=1)-1!==a.L[Na]&&(y+=1,a.sa=!0);if(0<y){a.ds=!0;for(Na=0;Na<c;Na+=1)a.U.Z[Na]?-1===a.L[Na]?(a.ds=!1,a.Am[Na]=H.gA):a.Am[Na]=H.XF:a.Am[Na]=H.fA;a.no=a.ds?"(custom)":a.no+" (custom*)"}else a.L=null;if(a.sa||a.Af||-1!==a.Cm||-1!==a.Em)Na=-1,E.qe&&(Na=E.Dc),this.NF(a,Na),E.qe=!0,E.Dc=a.g.jb,a.wp=E.Dc;a.D&&(w="not possible due to "+B.rp,a.Pb&&(t[t.length]=[B.Ip,w],a.Pb=!1),-1!==a.Ib&&(t[t.length]=[B.Fq+" "+a.Ib,w],
a.Ib=-1),-1!==a.fc&&(t[t.length]=[B.Sh+" "+a.fc,w]),-1!==a.Lb&&(t[t.length]=[B.Lh+" "+a.Lb,w]));0!==a.R&&a.v+H.ni+2*Math.abs(a.R)>=a.g.T&&(t[t.length]=[B.Jq+" "+a.R,"pattern does not fit on grid at view offset"],a.R=0);0!==a.Y&&a.A+H.ni+2*Math.abs(a.Y)>=a.g.T&&(t[t.length]=[B.Kq+" "+a.Y,"pattern does not fit on grid at view offset"],a.Y=0);a.Ir=t.length}""!==a.sd&&(a.sd=this.$l(a,a.sd));a.da&&(a.xn=!0);a.Oa&&a.Wb&&(t[t.length]=[B.Xp,"not valid with "+B.nq],a.Oa=!1);-1!==a.gb&&(nb=H.Yc,a.gb>=H.ez&&
a.gb<nb&&(a.gb=nb),a.Ua&&(nb=H.wE),a.gb<nb||a.gb>a.md)&&(t[t.length]=[B.so+" "+a.gb,"argument out of range"],Fb=!0);-1!==a.pc&&(nb=H.Mh,a.Ua&&(nb=H.vE),a.pc<nb||a.pc>H.To)&&(t[t.length]=[B.nn+" "+a.pc,"argument out of range"],Fb=!0);a.Ad&&(-1!==a.cc&&(a.cc>=H.ez&&a.cc<H.Yc&&(a.cc=H.Yc),a.cc<H.Yc||a.cc>a.md)&&(t[t.length]=[B.ep+" "+a.cc,"argument out of range"],a.cc=-1,Fb=!0),-1!==a.ad&&(a.ad<H.Mh||a.ad>H.To)&&(t[t.length]=[B.cp+" "+a.ad,"argument out of range"],a.ad=-1,Fb=!0));if(Fb||t.length)-1!==
a.gb&&(a.gb<H.Yc?a.gb=H.Yc:a.gb>a.md&&(a.gb=a.md)),-1!==a.pc&&(a.pc<H.Xj?a.pc=H.Xj:a.pc>H.To&&(a.pc=-1)),a.Ua=!1;a.h.G=a.Ua;a.C.V=a.Ua;a.C.Qa=a.bi;a.Ua&&(a.Pb=!1,a.ga=!1,a.ci=!1,a.Oa=!1,a.sg([!1],!0,a),a.Br([!1],!0,a),a.Dp([!1],!0,a),a.Ka=!1,a.kd=!1);a.Hr&&(a.element.style="display:none",a.element.parentNode&&a.element.parentNode.parentNode&&a.element.parentNode.parentNode.className===Ca.Up&&(a.element.parentNode.parentNode.style="display:none;"));F&&a.dB();a.m.Va()}},Ca={tagName:"LifeViewer",nD:"fullscreen",
ND:"hide",HE:"multi",mE:"limit",Tp:"rle",Nn:"code",rq:37,Ws:!0,fullScreen:!1,Ro:!1,yb:!1,Up:"codebox",ov:"",Zz:"",ke:[]},H={CC:"0123456789rtyopasghjklxcbn",tt:0,Po:1,ut:2,tj:10,ky:"workaround",Kt:18,Jt:10,$y:4194304,cg:0,Io:1,Is:2,Un:64,Vo:1,fq:4096,Mt:1,eq:4096,kq:1,cq:100,aG:[0,0,0,0,0,1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,3],np:[1,10,11,17,18,2,3,4,5,7,12,13,14,15,16,0,6,8,9,19,20],Mn:0,Az:1,Bz:2,yz:3,Dz:4,Cz:5,Ez:6,Fz:7,zz:8,uz:9,VE:"Top Left;Top;Top Right;Right;Bottom Right;Bottom;Bottom Left;Left;Middle".split(";"),
Wp:15,OE:5,$h:1E8,qp:0,Rv:1,Sv:2,Tv:3,Wv:4,Xv:5,Vv:6,Uv:7,Ku:0,pq:1,hu:2,Du:3,ju:4,Iu:5,qq:6,Ln:7,tu:8,Eu:9,xu:10,lu:11,vu:12,nu:13,ru:14,zu:15,Kn:3,hw:[1,3,7,6],UF:[0,1],VF:[0,1],PD:[0,1,0,1,0,1,0],QD:[0,1,2,3,4,5,6],$F:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1],ZF:[0,1,2,3,4,5,6,3,4,1,0,1,0,1,2,1,2,1,2,1,2,1,2,1,2,1],ao:Math.sqrt(3),em:Math.sqrt(3),vl:1/Math.sqrt(3)*1.5,SC:65536,TC:500,UC:17,JD:13750737,KD:15066597,Qs:7368816,Rs:5263440,cA:.016,OF:16,sz:16384,ey:.7,oq:16384,IF:"Script errors",
eg:-8,dg:8,fz:2,az:4,gy:4,uA:16.7,cz:9,Xy:14,YC:13,No:null,bz:1,Vy:16,by:3,gj:0,en:1,Kx:2,fn:3,rs:4,Lp:5,ss:6,Zx:7,$x:8,Lx:9,Sx:10,Rx:11,Qx:12,Tx:13,Ux:14,Px:15,ts:16,Nx:17,Ox:18,Op:19,Mp:20,Pp:21,Rp:22,Qp:23,Np:24,qs:25,us:26,Mx:27,Xx:28,Wx:29,Jx:30,Yx:31,Vx:32,PE:0,QE:1,OD:2,Ry:3,Ty:4,Sy:5,Ky:6,Cb:[0,6,2,5,3,4,1],He:"dead alive history mark1 markoff mark2 kill".split(" "),PG:"OFF ON HISTORY MARK1 MARKOFF MARK2 KILL".split(" "),Iz:0,Hz:16,IG:!1,Fs:1800,Go:"LifeViewer",Iq:1091,TF:"Standard",av:"Pro",
wA:"Chris Rowett",iq:1,$p:10,Tt:0,Bn:1,je:2,ui:3,Yj:0,Zj:1,ti:2,Lq:1.25,WD:.99,hq:0,Wy:10,il:10,Uy:32,Mb:.03125,ac:64,Wo:-5,It:5,Uo:-32,So:-1,yn:-2048,vn:-1,zn:1/2048,wn:2048,Tg:1,ug:1,ni:64,ay:.1,Rj:.05,py:"Courier",lw:"Arial",gg:"18px Arial",fg:"14px Arial",Bq:"9px Arial",Gp:"rgb(240,255,255)",JC:"rgb(0,0,0)",Nz:"rgb(240,255,255)",Oz:"rgb(0,0,0)",Ax:2,jq:1,aq:64,IC:.2,Ny:"rgb(240,255,255)",lE:"rgb(0,0,0)",kE:18,dz:4,Yy:128,jE:"Arial",Jh:"rgb(32,255,255)",Ih:"rgb(255,48,48)",wE:64,vE:64,ez:480,Yc:600,
tE:4096,LD:80,Mh:240,To:4096,Xj:480,Qz:560,sp:172,Mq:292,fA:0,XF:1,gA:2,uE:0,rE:32,hg:0,it:1,tv:2,Zp:3,Iv:4,os:5,Nr:6,Lt:7,Qr:8},Ba={N:new fb,Sd:[],Av:-1,Sn:null,ke:[],Dq:function(){var a=null;-1!==this.Av&&(a=this.Sd[this.Av]);return a},pD:function(a){var b=null;0<=a&&a<this.Sd.length&&(b=this.Sd[a][1]);return b},NG:function(){return this.Sd.length},lG:function(){var a=0,b;for(b=0;b<this.Sd.length;b+=1){var c=this.Sd[b][1];c.Fb&&(a+=1)}return a},Wz:function(){var a,b=0;for(a=0;a<this.Sd.length;a+=
1){var c=this.Sd[a][1];c.$b.current=c.vd(H.Tt,!0,c);c.C.Ge(!0);b+=1}return b},hA:function(){var a,b=0;for(a=0;a<this.Sd.length;a+=1){var c=this.Sd[a][1];c.Fb&&!c.Oo&&(c.$b.current=c.vd(H.je,!0,c),b+=1)}return b},Fv:function(a){var b,c=0;for(b=0;b<this.Sd.length;b+=1){var d=this.Sd[b][1];d!==a&&d.Fb&&!d.Oo&&(d.$b.current=d.vd(H.je,!0,d),c+=1)}return c}};ea.prototype.rG=function(a){var b=!1;switch(a){case B.jo:case B.io:case B.eo:case B.kp:case B.mp:case B.lp:case B.fo:b=!0}return b};ea.prototype.Fw=
function(a){for(var b=!1,c=0;c<H.He.length&&!b;)a===H.He[c]?b=!0:c+=1;return b};ea.prototype.Hw=function(a){for(var b=!1,c=0;c<I.Dn.length&&!b;)a===I.Dn[c]?b=!0:c+=1;return b};ea.prototype.Dw=function(a){for(var b=!1,c=0;c<I.Cn.length&&!b;)a===I.Cn[c]?b=!0:c+=1;return b};ea.prototype.qm=function(){var a,b=this.fb,c=this.Gc,d=[];for(a=0;a<H.tj;a+=1){var f=a===c?"current ":"activate ";f+="clipboard";null!==b[a]?(f+=" ("+b[a].width+" x "+b[a].height+", "+b[a].count+" cell",1!==b[a].count&&(f+="s"),f+=
")"):f+=" (empty)";d[a]=f+" [Alt "+a+"]"}this.Nj.S=d};ea.prototype.Ow=function(a){window.confirm("Open last saved pattern?")&&Qb(a.element)};ea.prototype.ei=function(){var a=1<<H.Wp,b=this.La>>H.Wp;b===this.Xg.length&&(this.Xg[b]=this.g.N.h(pa.Hd,a,"View.currentEdit"+b));return this.Xg[b]};ea.prototype.Ij=function(a,b){var c=[!0,a,b],d=this.g.xa,f=this.g.wa,e=this.g.T,g;if(a!==(a&d)||b!==(b&f)){c[0]=!1;var k=this.g.width<this.g.T&&a!==(a&d);for(g=this.g.height<this.g.T&&b!==(b&f);k||g;)(k||g)&&this.g.Af(k,
g),k&&(a+=this.g.width>>2),g&&(b+=this.g.height>>2),k=this.g.width<e&&a!==(a&d),g=this.g.height<e&&b!==(b&f);a===(a&d)&&b===(b&f)&&(c[0]=!0,c[1]=a,c[2]=b)}if(this.g.Ia&&(d=this.Ii(),d=d+1>>1,0>a-d||a+d>=this.g.width||0>b-d||b+d>=this.g.height)){c[0]=!1;k=this.g.width<e&&(0>a-d||a+d>=this.g.width);for(g=this.g.height<e&&(0>b-d||b+d>=this.g.height);k||g;)(k||g)&&this.g.Af(k,g),k&&(a+=this.g.width>>2),g&&(b+=this.g.height>>2),k=this.g.width<e&&(0>a-d||a+d>=this.g.width),g=this.g.height<e&&(0>b-d||b+
d>=this.g.height);0>a-d||a+d>=this.g.width||0>b-d||b+d>=this.g.height||(c[0]=!0,c[1]=a,c[2]=b)}return c};ea.prototype.pa=function(a,b,c,d){var f=this.La,e=H.Wp;var g=f>>e;var k=1<<e,l=k-1,p=this.Xg;var n=this.g.h;var q=2<n&&!(this.g.ha||this.g.l||this.g.o||this.g.m||this.g.B),m=!1;var r=0;var u=this.g.Z?-1:0;var t=Math.round((this.g.width-this.g.O)/2)+u;var w=Math.round((this.g.height-this.g.M)/2)+u,y=t+this.g.O-1,v=w+this.g.M-1;u=this.g.s;var D=this.g.i;b=this.Ij(a,b);if(b[0]){a=b[1];b=b[2];var F=
(this.g.width>>1)-(this.v>>1);var E=(this.g.height>>1)-(this.A>>1)}else return 0;if(-1!==this.g.D&&(0===this.g.O&&(t=0,y=this.g.width-1),0===this.g.M&&(w=0,v=this.g.height-1),!(a>=t&&a<=y&&b>=w&&b<=v)))if(d)a<t&&(a=t),a>y&&(a=y),b<w&&(b=w),b>v&&(b=v);else return 0;(this.g.l||this.g.o||this.g.m||this.g.B)&&0!==(this.g.counter&1)&&(D=this.g.X);t=D[b][a];d=this.g.Ta(a,b,!1);0<d&&q&&(d=n-d);-1===n&&(n=this.g.I?7:2);0>c?c=0:c>=n&&(c=n-1);c!==d&&(this.wb||(g>=p.length&&this.ei(),n=p[g],f&=l,q=c<<16|d<<
8|t,0<f&&(4<=f?(r=n[f-1],4194304<=r?n[f-3]===q&&n[f-2]===b-E&&n[f-4]===a-F-(r-4194304)-2&&(n[f-1]+=1,m=!0):n[f-2]===q&&n[f-1]===b-E&&n[f-3]===a-F-1&&(n[f]=4194304,f+=1,this.La+=1,f===k&&this.ei(),m=!0)):(g=this.La,r=p[g-1>>e][g-1&l],4194304<=r?n[g-3>>e][g-3&l]===q&&n[g-2>>e][g-2&l]===b-E&&n[g-4>>e][g-4&l]===a-F-(r-4194304)-2&&(n[g-1>>e][g-1&l]+=1,m=!0):p[g-2>>e][g-2&l]===q&&p[g-1>>e][g-1&l]===b-E&&p[g-3>>e][g-3&l]===a-F-1&&(n[f]=4194304,f+=1,this.La+=1,f===k&&(n=this.ei()),m=!0))),m||(n[f]=a-F,f+=
1,this.La+=1,f===k&&(n=this.ei(),f=0),n[f]=c<<16|d<<8|t,f+=1,this.La+=1,f===k&&(n=this.ei(),f=0),n[f]=b-E,this.La+=1,f+1===k&&this.ei())),this.Wb||0!==this.g.counter||this.g.Gg(),r=this.g.qd(a,b,c,!0),this.g.s!==u&&(this.vb=-1));return r};ea.prototype.es=function(a,b){var c=0,d=(this.g.width>>1)-(this.v>>1),f=(this.g.height>>1)-(this.A>>1),e=0,g=this.g.i;(this.g.l||this.g.o||this.g.m||this.g.B)&&0!==(this.g.counter&1)&&(g=this.g.X);if(a)if(b)for(c=a.length;0<c;){var k=a[c-1];4194304<=k&&--c;c-=3;
b=a[c]+d;var l=a[c+1]>>8&255;var p=a[c+1]&255;var n=a[c+2]+f;e|=this.g.qd(b,n,l,!0);g[n][b]=p;if(4194304<=k)for(k-=4194304;0<=k;)b+=1,e|=this.g.qd(b,n,l,!0),g[n][b]=p,--k}else for(;c<a.length;)if(b=a[c]+d,l=(a[c+1]&16711680)>>16,n=a[c+2]+f,e|=this.g.qd(b,n,l,!0),c+=3,k=a[c],4194304<=k)for(c+=1,k-=4194304;0<=k;)b+=1,e|=this.g.qd(b,n,l,!0),--k;(this.g.I||this.g.m)&&e&&this.g.gb();this.Wb||0!==this.g.counter||this.g.Gg()};ea.prototype.Hm=function(a){for(var b=this.ka-1,c=this.$,d=!1;0<=b&&!d;)this.lc[b].og<=
a?("advance outside"===this.lc[b].action&&--b,d=!0):--b;d&&(this.ka=b+1,a=this.ka>=this.qh?this.lc[this.ka-1]:this.lc[this.ka],a.selection?(c.F=a.selection.F,c.H=a.selection.H,c.J=a.selection.J,c.K=a.selection.K,this.M=!0):this.M=!1,this.Mc=!1,this.Bp())};ea.prototype.Bp=function(){var a=this.ka,b=this.qh,c=this.lc;if(1<a){var d="undo ";var f=c[a-1];if(null===f.ml){var e=f.og;1<a&&(e=c[a-2].og);this.g.counter===e?d+=f.action:(d=1<this.g.counter-e?d+"play":d+"step",d+=" from "+e)}else d=""===f.action?
d+"edit":d+f.action;"undo "===d&&(d="undo");this.Qd.S=d+" [Ctrl Z]"}a<b&&(d="redo ",f=c[a],null===f.ml?(e=f.og,e===this.g.counter?d+=f.action:(d=1<e-this.g.counter?d+"play":d+"step",d+=" to "+e)):d=""===f.action?d+"edit":d+f.action,"redo "===d&&(d="redo"),this.wh.S=d+" [Ctrl Y]")};ea.prototype.nE=function(a){var b=this.M?this.$:null;return null===a&&null===b?!0:null===a&&null!==b||null!==a&&null===b?!1:a.F===b.F&&a.H===b.H&&a.J===b.J&&a.K===b.K?!0:!1};ea.prototype.kx=function(a,b,c,d){var f=!1;if(0<
this.ka){var e=this.lc[this.ka-1];e.og===a&&null===b&&""===c&&this.nE(e.selection)&&(f=!0)}f||(this.lc[this.ka]={og:a,ml:b,action:c,selection:d},this.ka+=1)};ea.prototype.T=function(a){var b=this.g.counter,c=null,d=null,f=this.$,e=null,g=H.Wp,k=1<<g,l=k-1;g=this.La>>g;if(!this.wb){this.Fb&&(0<this.ka&&(e=this.lc[this.ka-1]),e&&e.selection&&(d=new Oa(e.selection.F,e.selection.H,e.selection.J,e.selection.K)),this.kx(b,c,"",d),d=null);this.M&&(d=new Oa(f.F,f.H,f.J,f.K));if(0<this.La){c=this.g.N.h(pa.Hd,
this.La,"View.editCells"+this.ka);for(e=f=0;f<g;)c.set(this.Xg[f].slice(),e),f+=1,e+=k;this.La&l&&c.set(this.Xg[f].slice(0,this.La&l),e);this.La=0}this.kx(b,c,a,d);this.qh=this.ka;this.Bp();this.da&&(this.g.Wb=!0,this.g.ec(),this.Nb(!0,!0,H.cg))}};ea.prototype.cr=function(a){var b=a.g.counter,c=a.ka,d=a.$,f=1,e=!1;if(!a.wb){a.vb=-1;a.Fb&&(a.$b.current=a.vd(H.je,!0,a),c=a.ka);if(0<c)for(;0<f;){var g=a.lc[c-1];var k=g.og;var l=g.selection;e||"advance outside"!==g.action||(e=!0,f=3);null===g.ml&&1<c&&
(k=a.lc[c-2].og);1<c&&(l=a.lc[c-2].selection);if(k<b){var p=a.g.Za;0===k?a.reset(a):a.Nq(k);b=a.g.counter;a.g.Za=p;a.yh(a.Fb)}else a.es(g.ml,!0);l?(d.F=l.F,d.H=l.H,d.J=l.J,d.K=l.K,a.M=!0):a.M=!1;a.Mc=!1;"reverse playback"===g.action&&(a.g.Za=!a.g.Za,a.g.wb=!1,a.yh(a.Fb));--c;a.ka=c;--f}else 0<b&&a.reset(a);a.Bp();a.g.ec();this.da&&this.Nb(!0,!0,H.cg)}};ea.prototype.Ms=function(a){var b=a.g.counter,c=a.$,d=1,f=!1;if(!a.wb){for(;0<d&&a.ka<a.qh;){var e=a.lc[a.ka];f||"advance outside"!==e.action||(f=
!0,d=3);e.og===b&&null===e.ml&&""===e.action&&(a.ka+=1);e.og>b?(a.TD(e.og),b=a.g.counter):a.es(e.ml,!1);e.selection?(c.F=e.selection.F,c.H=e.selection.H,c.J=e.selection.J,c.K=e.selection.K,a.M=!0):a.M=!1;a.Mc=!1;"reverse playback"===e.action&&(a.g.Za=!a.g.Za,a.yh(a.Fb));a.ka+=1;--d}a.Bp();a.g.ec();(a.g.I||a.g.m)&&a.g.gb();this.da&&this.Nb(!0,!0,H.cg)}};ea.prototype.Sq=function(){var a="";if(this.g.Z)a="Margolus";else if(-1!==this.g.Jd)a="1D";else if(this.g.gh){a="Hexagonal";if(this.g.kg===this.U.qa||
this.g.Ia&&this.g.R.type===this.U.B)a="Tripod";this.g.Ia&&this.g.R.type===this.U.u&&(a="Asterisk");1<this.g.R.l&&(a+=" range "+this.g.R.l)}else if(this.g.Ia){switch(this.g.R.type){case this.U.s:a="Corner/Edge";break;case this.U.i:a="Moore";break;case this.U.m:a="von Neumann";break;case this.U.X:a="Circular";break;case this.U.R:a="Cross";break;case this.U.V:a="Saltire";break;case this.U.W:a="Star";break;case this.U.Y:a="L2";break;case this.U.I:a="Hexagonal";break;case this.U.O:a="Checkerboard";break;
case this.U.M:a="Aligned Checkerboard";break;case this.U.T:a="Hash";break;case 10:a="Custom";break;case this.U.B:a="Tripod";break;case this.U.u:a="Asterisk";break;case this.U.L:a="Triangular";break;case this.U.v:a="Gaussian";break;case 15:a="Weighted"}this.g.R.type===this.U.s?a+=" range "+this.g.R.Y+"/"+this.g.R.Z:1<this.g.R.l&&(a+=" range "+this.g.R.l);this.g.R.V&&(a+=" (non-deterministic)")}else if(this.g.W)switch(a="Triangular",this.g.mg){case this.U.ja:a+=" Edges";break;case this.U.ka:a+=" Vertices";
break;case this.U.ua:a+=" Inner";break;case this.U.va:a+=" Outer";break;case this.U.ta:a+=" Biohazard";break;case this.U.wa:a+=" Radiation"}else if(this.g.o)if(null===this.g.Pb)a=4===this.g.yd?"von Neumann":"Moore";else switch(this.g.Pc){case Aa.Ai:a="von Neumann";break;case Aa.wg:a="Moore";break;case Aa.vg:a="Hexagonal";break;case Aa.yj:a="1D";break;default:a="unknown"}else a=this.g.bd||this.g.l?"von Neumann":"Moore";this.g.ha&&(a="none");return a};ea.prototype.hx=function(a,b,c,d){var f=[];d=this.ie[d];
var e=d[0],g=d[1],k=d[2],l=d[3],p=new jb("rleToCellList",this.U),n=B.Zg.length;d=2>=this.g.h?2:this.g.h;var q=2<d&&!(this.g.ha||this.g.l||this.g.o||this.g.m||this.g.B);var m=this.Ki/100;var r=!1;if(a.substring(0,n)===B.Zg){a=a.substring(n);b=parseInt(a.substring(0,a.indexOf(",")),10);c=parseInt(a.substring(a.indexOf(",")+1),10);for(g=a=0;g<c;g+=1)for(e=0;e<b;e+=1)this.g.l?(n=0,this.B.random()<=m&&(n|=1),this.B.random()<=m&&(n|=2),this.B.random()<=m&&(n|=4),this.B.random()<=m&&(n|=8),f[a]=e,f[a+1]=
g,f[a+2]=n,a+=3):2===d?this.B.random()<=m&&(f[a]=e,f[a+1]=g,f[a+2]=1,a+=3):this.B.random()<=m&&(f[a]=e,f[a+1]=g,n=(this.B.random()*(d-1)|0)+1,q&&(n=d-n),f[a+2]=n,a+=3);r=!0}else if(a+=" ",-1!==this.U.oa(p,a,!1,this.g.N)&&-1!==this.U.oa(p,a,!0,this.g.N)){for(m=0;m<p.height;m+=1)for(r=p.la[m],a=0;a<p.width;a+=1)n=r[a],q&&0<n&&(n=d-n),f[f.length]=b+a*e+m*g,f[f.length]=c+a*k+m*l,f[f.length]=n;r=!0}r||(f[0]="error");return f};ea.prototype.YD=function(a){var b=0,c=a.indexOf("["),d=a.indexOf("]");if(-1!==
c&&-1!==d&&c<d&&d===a.length-1){for(c+=1;c<d&&0<=b;){var f=a.charCodeAt(c)-48;0>f||9<f?b=-1:(b=10*b+f,c+=1)}0<b&&(this.mn=!0)}return b};ea.prototype.RE=function(a){var b=0>this.Lf?-this.Lf:this.Lf,c=0>this.Pf?-this.Pf:this.Pf;b=2*(b<c?c:b);a<b&&(a=b);return a};ea.prototype.JE=function(a){var b=0>this.Kf?-this.Kf:this.Kf,c=0>this.Qf?-this.Qf:this.Qf;b=2*(b<c?c:b);a<b&&(a=b);return a};ea.prototype.JB=function(a,b){var c,d=!1;for(c=0;!d&&c<this.Xd.length;)a===this.Xd[c].name?d=!0:c+=1;if(d)for(a=this.Xd[c].ZC,
c=0;c<a.length;c+=1)b[b.length]=a[c];return d};ea.prototype.FB=function(a,b,c){var d,f=!1;if(Jb.Al(b))a[a.length]=[B.Vn+" "+b,"name is reserved word"];else{for(d=0;!f&&d<this.Xd.length;)b===this.Xd[d].name?f=!0:d+=1;if(f)a[a.length]=[B.Vn+" "+b,"name already defined"];else{f=!1;for(d=0;!f&&d<c.length;)1>c[d]?f=!0:d+=1;f?a[a.length]=[B.Vn+" "+b+" "+c[d],"invalid delta"]:(a=c.slice(),this.Xd[this.Xd.length]={name:b,ZC:a})}}};ea.prototype.BB=function(a,b,c,d,f,e){var g,k=!1;if(Jb.Al(b))a[a.length]=[B.Vl+
" "+b,"name is reserved word"];else if(-1!==b.indexOf("["))a[a.length]=[B.Vl+" "+b,"name can not contain ["];else{for(g=0;!k&&g<this.Ld.length;)b===this.Ld[g].name?k=!0:g+=1;k?a[a.length]=[B.Vl+" "+b,"name already defined"]:(c=this.hx(c,d,f,e),"error"!==c[0]?this.Ld[this.Ld.length]={name:b,cells:c}:a[a.length]=[B.Vl+" "+b,"invalid RLE"])}};ea.prototype.mx=function(a,b,c,d,f,e,g,k,l,p,n){var q=0,m=!1,r=[],u=this.ie[n],t=u[0],w=u[1],y=u[2],v=u[3];u=H.$h;var D=-H.$h,F=H.$h,E=-H.$h,O=k.indexOf("["),Q=
k,N=0,U=[],S=B.Zg.length,G=2>=this.g.h?2:this.g.h,L=2<G&&!(this.g.ha||this.g.l||this.g.o||this.g.m||this.g.B),P=this.Ki/100;-1!==O&&(Q=k.substring(0,O),N=this.YD(k));if(Q.substring(0,S)===B.Zg){Q=Q.substring(S);m=parseInt(Q.substring(0,Q.indexOf(",")),10);Q=parseInt(Q.substring(Q.indexOf(",")+1),10);for(S=q=0;S<Q;S+=1)for(O=0;O<m;O+=1)if(2===G)this.B.random()<=P&&(r[q]=O,r[q+1]=S,r[q+2]=1,q+=3);else if(this.B.random()<=P){r[q]=O;r[q+1]=S;var fa=(this.B.random()*(G-1)|0)+1;L&&(fa=G-fa);r[q+2]=fa;q+=
3}m=!0}else for(;q<this.Ld.length&&!m;)this.Ld[q].name===Q?(m=!0,r=this.Ld[q].cells.slice()):q+=1;if(m)for(q=0;q<r.length;)k=r[q],n=r[q+1],r[q]=l+k*t+n*w,r[q+1]=p+k*y+n*v,q+=3;else r=this.hx(k,l,p,n),"error"!==r[0]&&(m=!0);-1===N&&(m=!1);if(m&&0<r.length){for(q=0;q<r.length;)l=r[q],p=r[q+1],l<u&&(u=l),l>D&&(D=l),p<F&&(F=p),p>E&&(E=p),q+=3;l<this.Lf&&(this.Lf=l);l>this.Pf&&(this.Pf=l);p<this.Kf&&(this.Kf=p);p>this.Qf&&(this.Qf=p);t=Array.matrix(pa.Ma,E-F+1,D-u+1,0,this.g.N,"View.rle"+this.Uc.length);
for(q=0;q<r.length;)l=r[q],p=r[q+1],t[p-F][l-u]=r[q+2],q+=3;U[0]=a;for(q=0;q<c.length;q+=1)U[U.length]=U[U.length-1]+c[q];this.Uc[this.Uc.length]={fi:U,end:b,every:d,mode:f,cells:r,map:t,F:u,H:F,width:D-u+1,height:E-F+1,hD:N,deltaX:e,deltaY:g};0<d&&(this.Ul=!0);U[U.length-1]>this.Td&&(this.Td=U[U.length-1])}return m};ea.prototype.PB=function(){var a,b,c=this.g.width,d,f=this.g.A;for(a=0;a<this.Uc.length;a+=1){var e=this.Uc[a];var g=e.hD;if(0<g){var k=e.cells;var l=(c>>1)-(e.width>>1);var p=(c>>1)-
(e.height>>1);var n=0;f.F=l;f.J=l+e.width-1;f.H=p;f.K=p+e.height-1;for(this.g.counter=0;n<k.length;)this.g.qd(l+k[n]-e.F,p+k[n+1]-e.H,k[n+2],!0),n+=3;for(;0<g;)this.g.Ef(!0),this.g.ue(),this.g.pf(this),--g;k=[];n=0;var q=d=H.$h;for(b=f.H;b<=f.K;b+=1)for(g=f.F;g<=f.J;g+=1){var m=this.g.Ta(g,b,!1);0!==m&&(k[n]=g-l+e.F,k[n+1]=b-p+e.H,k[n+2]=m,k[n]<d&&(d=k[n]),k[n+1]<q&&(q=k[n+1]),n+=3)}e.cells=k.slice();e.width=f.J-f.F+1;e.height=f.K-f.H+1;e.H=q;e.F=d;e.map=Array.matrix(pa.Ma,e.height,e.width,0,this.g.N,
"View.rle"+a);for(n=0;n<k.length;)g=k[n],b=k[n+1],e.map[b-e.H][g-e.F]=k[n+2],n+=3;this.g.qh()}}this.mn&&this.g.qh()};ea.prototype.qB=function(a){var b=!1,c=this.g.counter;var d=!1;if(this.g.Z||this.g.l)c=this.g.Hb;0!==a.every&&(this.g.Z||this.g.l)&&null!==this.g.bb&&c<this.g.ee&&(b=!1,d=!0);if(!d)if(0!==a.every&&c>=a.fi[0]&&0===(c-a.fi[0])%a.every)-1!==a.end&&c>a.end||(b=!0);else for(d=0;d<a.fi.length&&!b;)c===a.fi[d]?b=!0:d+=1;return b};ea.prototype.Fm=function(a,b,c,d){var f=0;b=this.Ij(a,b);b[0]&&
(a=b[1],b=b[2],f=this.g.qd(a,b,c,d));return f};ea.prototype.Pm=function(a,b){var c=0;b=this.Ij(a,b);b[0]&&(a=b[1],b=b[2],c=this.g.Ta(a,b,!1));return c};ea.prototype.tk=function(){var a,b=this.g.counter,c=this.g.width,d=this.g.height,f,e=0,g=this.g.width,k=this.g.height,l=this.g.h-1,p=0;if(!this.g.ha){-2===l&&(l=this.g.I?6:1);for(a=0;a<this.Uc.length;a+=1){var n=this.Uc[a];if(this.qB(n)){var q=n.mode;var m=(g>>1)-(this.v>>1);var r=(k>>1)-(this.A>>1);var u=n.map;if(0!==n.every&&(0!==n.deltaX||0!==n.deltaY)){var t=
(b-n.fi[0])/n.every;m+=n.deltaX*t;r+=n.deltaY*t}m+=n.F;r+=n.H;for(n=0;n<u.length;n+=1){var w=u[n];if(2<=l&&!(this.g.I||this.g.ha||this.g.l||this.g.o||this.g.m||this.g.B))for(t=0;t<w.length;t+=1){var y=w[t];for(f=this.Pm(m+t,r+n);c!==this.g.width||d!==this.g.height;)c!==this.g.width&&(c<<=1,m+=c>>2,this.ta+=c>>2,this.ya+=c>>2,this.ca+=c>>2),d!==this.g.height&&(d<<=1,r+=d>>2,this.ub+=d>>2,this.Hb+=d>>2,this.W+=d>>2);switch(q){case H.Ku:e=0;break;case H.pq:e=y&f;break;case H.hu:e=y&l-f;break;case H.Du:e=
y;break;case H.ju:e=l-y&f;break;case H.Iu:e=f;break;case H.qq:e=y^f;break;case H.Ln:e=y|f;break;case H.tu:e=l-(y|f);break;case H.Eu:e=l-(y^f);break;case H.xu:e=l-f;break;case H.lu:e=y|l-f;break;case H.vu:e=l-y;break;case H.nu:e=l-y|f;break;case H.ru:e=l-(y&f);break;case H.zu:e=1}0>e?e=0:e>l&&(e=l);y===f&&q!==H.Kn||this.Fm(m+t,r+n,e,!0)}else if(this.g.l||this.g.o)for(t=0;t<w.length;t+=1){y=w[t];for(f=this.Pm(m+t,r+n);c!==this.g.width||d!==this.g.height;)c!==this.g.width&&(c<<=1,m+=c>>2,this.ta+=c>>
2,this.ya+=c>>2,this.ca+=c>>2),d!==this.g.height&&(d<<=1,r+=d>>2,this.ub+=d>>2,this.Hb+=d>>2,this.W+=d>>2);switch(q){case H.Ku:e=0;break;case H.pq:e=y&f;break;case H.hu:e=y&l-f;break;case H.Du:e=y;break;case H.ju:e=l-y&f;break;case H.Iu:e=f;break;case H.qq:e=y^f;break;case H.Ln:e=y|f;break;case H.tu:e=l-(y|f);break;case H.Eu:e=l-(y^f);break;case H.xu:e=l-f;break;case H.lu:e=y|l-f;break;case H.vu:e=l-y;break;case H.nu:e=l-y|f;break;case H.ru:e=l-(y&f);break;case H.zu:e=1}0>e?e=0:e>l&&(e=l);this.Fm(m+
t,r+n,e,!0)}else if(this.g.I||this.g.m||this.g.B)for(t=0;t<w.length;t+=1){y=w[t];for(f=this.Pm(m+t,r+n);c!==this.g.width||d!==this.g.height;)c!==this.g.width&&(c<<=1,m+=c>>2,this.ta+=c>>2,this.ya+=c>>2,this.ca+=c>>2),d!==this.g.height&&(d<<=1,r+=d>>2,this.ub+=d>>2,this.Hb+=d>>2,this.W+=d>>2);if(q===H.Kn){e=y;var v=1;var D=0;y===f&&(D=1)}else v=y&1,D=f&1,e=0===(q&8>>(v+v|D))?0:1;v!==D&&(p|=this.Fm(m+t,r+n,e,!1))}else for(t=0;t<w.length;t+=1){y=w[t];v=0===y?0:1;f=this.Pm(m+t,r+n);for(D=0===f?0:1;c!==
this.g.width||d!==this.g.height;)c!==this.g.width&&(c<<=1,m+=c>>2,this.ta+=c>>2,this.ya+=c>>2,this.ca+=c>>2),d!==this.g.height&&(d<<=1,r+=d>>2,this.ub+=d>>2,this.Hb+=d>>2,this.W+=d>>2);e=0===(q&8>>(v+v|D))?0:1;e===f&&q!==H.Kn||0===y&&0===f||this.Fm(m+t,r+n,e,!1)}}}}(this.g.I||this.g.m)&&p&&this.g.gb();this.Yw()}};ea.prototype.Yw=function(){var a,b=this.g.counter;for(a=0;a<this.ka;a+=1)this.lc[a].og===b&&this.es(this.lc[a].ml,!1);this.g.ec()};ea.prototype.sy=function(a){this.Ig=this.lf=this.Gl=this.Ml=
this.Ce=this.Kl=this.Dl=this.Ol=this.Bl=this.kh=this.Ql=this.Pl=a};ea.prototype.wC=function(){this.sy(!1)};ea.prototype.TE=function(){this.sy(!0)};ea.prototype.yx=function(){this.Sm=[];this.Tm=[]};ea.prototype.kC=function(a){var b=document.createElement("a");a.Yk(b);b.href=a.Za.toDataURL("image/png");b.download="screenshot.png";b.click();b.remove();a.C.notification.notify("Image saved",15,300,15,!0)};ea.prototype.Xz=function(a){if("Oscillator"!==a.ob)a.C.notification.notify("No Cell Map",15,300,15,
!0);else{var b=document.createElement("a");a.Yk(b);b.href=a.g.fd.toDataURL("image/png");b.download="cellmap.png";b.click();b.remove();a.C.notification.notify("Cell Map saved",15,300,15,!0)}};ea.prototype.vG=function(a){var b=this.g.va,c=this.g.i,d=this.g.X,f=this.g.Ba,e=a.width,g=a.height,k=this.ca,l=this.W,p=null;var n=Math.round(-this.g.O/2);var q=Math.floor((this.g.O-1)/2);var m=Math.round(-this.g.M/2);var r=Math.floor((this.g.M-1)/2);var u=k-(this.g.width>>1),t=u+e-1,w=l-(this.g.height>>1),y=
w+g-1,v=this.g.h,D=2===v&&this.g.Ia;if(-1!==this.g.D){if(0!==this.g.O){if(u<n||t>q)this.Ep=!0}else n=-this.g.width>>1,q=(this.g.width>>1)-1;if(0!==this.g.M){if(y>r||w<m)this.Ep=!0}else m=-this.g.height>>1,r=(this.g.height>>1)-1}a.o&&(0!==(k&1)&&(k+=1),0!==(l&1)&&(l+=1),u=k-(this.g.width>>1),t=u+e-1,w=l-(this.g.height>>1),y=w+g-1);a.fa&&(0===(k&1)&&--k,0===(l&1)&&--l,u=k-(this.g.width>>1),t=u+e-1,w=l-(this.g.height>>1),y=w+g-1);-1!==this.g.D&&(u=n,t=q,w=m,y=r);u+=this.g.width>>1;t+=this.g.width>>1;
w+=this.g.height>>1;y+=this.g.height>>1;for(q=0;q<g;q+=1){var F=a.R[q];if(q+l>=w&&q+l<=y&&0<=q+l&&q+l<this.g.height){var E=b[q+l];if(this.Na||this.g.l||this.g.o||this.g.m||this.g.B||!this.ab)for(m=a.la[q],p=c[q+l],n=0;n<e;n+=1)n+k>=u&&n+k<=t&&0<=n+k&&n+k<this.g.width&&(r=m[n],0<r&&(r+=this.Da),p[n+k]=r);else if(2<v)for(m=a.la[q],p=c[q+l],n=0;n<e;n+=1)n+k>=u&&n+k<=t&&0<=n+k&&n+k<this.g.width&&(r=m[n],0<r&&!this.g.ha&&(r=v+this.Da-r),p[n+k]=r);D&&(p=c[q+l]);for(n=0;n<e;n+=1)n+k>=u&&n+k<=t&&0<=n+k&&
n+k<this.g.width&&0!==(F[n>>4]&1<<(~n&15))&&(E[n+k>>4]|=1<<(~(n+k)&15),D&&(p[n+k]=I.Ya))}}if(f)for(q=0;q<g;q+=1)if(q+l>=w&&q+l<=y&&0<=q+l&&q+l<this.g.height)for(m=a.la[q],b=f[q+l],n=0;n<e;n+=1)n+k>=u&&n+k<=t&&0<=n+k&&n+k<this.g.width&&(r=m[n])&&(b[n+k]=H.Cb[r]+128);(this.g.l||this.g.o||this.g.m||this.g.B)&&d.ba.set(c.ba)};ea.prototype.Mm=function(){var a=!1;-1!==this.g.D&&0!==this.g.O&&0!==this.g.M&&(a=!0);return a};ea.prototype.fF=function(){var a=!1;-1===this.g.D||0!==this.g.O&&0!==this.g.M||(a=
!0);return a};ea.prototype.Cp=function(a,b,c){a=a[0];b&&(c.Wa=a);return[a,100*a]};ea.prototype.tr=function(a,b,c){b&&(c.tc=a[0]);return[c.tc,H.VE[c.tc+.5|0]]};ea.prototype.gB=function(a){a.D||(a.tc=(a.tc+.5|0)+1,a.tc>=H.uz&&(a.tc=0),a.sh.current=a.tr([a.tc,a.tc],!0,a))};ea.prototype.Tw=function(a,b,c){b&&(c.Eb=a[0],c.Eb<H.kq&&(c.Eb=H.kq),c.Eb>H.cq&&(c.Eb=H.cq));return[c.Eb,c.Eb]};ea.prototype.zr=function(a,b,c){b&&(c.ec=(c.g.h-c.sc)*a[0]|0);a[1]="";0<c.ec&&(a[1]="<");a[1]+=c.ec+"-"+(c.ec+c.sc-1);
c.ec+c.sc<c.g.h&&(a[1]+=">");return a};ea.prototype.se=function(a,b,c){var d=a[0];b?(c.mc=!0,c.g.zoom=H.Mb*Math.pow(H.ac/H.Mb,a[0])/c.g.Ha):(d=Math.log(c.g.zoom*c.g.Ha/H.Mb)/Math.log(H.ac/H.Mb),0>d?d=0:1<d&&(d=1));a=this.ib&&!this.Kb?c.g.zoom*c.g.Ha:c.g.zoom;a<H.Mb?a=H.Mb:a>H.ac&&(a=H.ac);1>a&&(a=-1/a);return[d,a]};ea.prototype.VB=function(a){var b=a/6E4|0;a=a%6E4/1E3;var c="";0<b&&(c=b+":",10>a&&(c+="0"));return c+=a.toFixed(2)};ea.prototype.Nb=function(a,b,c){var d=this.g.zoom,f=this.g.ga,e=this.g.da,
g=6,k=H.LD,l=this.Qb,p=this.$;var n=(this.g.width>>1)-(this.v>>1)+(this.R<<1);var q=(this.g.height>>1)-(this.A>>1)+(this.Y<<1);c===H.Io&&(l.F=p.F+n,l.J=p.J+n,l.F>l.J&&(n=l.J,l.J=l.F,l.F=n),l.H=p.H+q,l.K=p.K+q,l.H>l.K&&(n=l.K,l.K=l.H,l.H=n));this.ga?(c=this.g.Ni(c,l,this.ea*this.Ub,this.aa*this.Ub,H.Mb,H.ac,H.Lq,this.v,this.A,this.D&&this.Na,this.ld,this.qd,this.da),c[0]/=this.Ub):(this.Ua&&(k=0),c=this.g.Ni(c,l,this.ea,this.aa-k,H.Mb,H.ac,H.Lq,this.v,this.A,this.D&&this.Na,this.ld,this.qd,this.da));
this.da&&!a?(16<=this.g.zoom&&(g=2),1<this.V&&this.Fb&&(g=1),this.g.zoom=(this.g.zoom*(g-1)+c[0])/g,this.g.ga=(this.g.ga*(g-1)+c[1])/g,this.g.da=(this.g.da*(g-1)+c[2])/g,a=this.g.zoom>d?this.g.zoom/d-1:d/this.g.zoom-1,f=this.g.ga>f?this.g.ga-f:f-this.g.ga,e=this.g.da>e?this.g.da-e:e-this.g.da,this.Rg=a,f>this.Rg&&(this.Rg=f),e>this.Rg&&(this.Rg=e),.001>=this.Rg&&(this.g.zoom=c[0],this.g.ga=c[1],this.g.da=c[2])):(this.Zf=this.g.width/2-this.g.ga,this.ag=this.g.height/2-this.g.da,this.Ah=this.g.zoom,
this.Xf=this.g.angle,this.Hf=this.g.Gb,this.Ff=this.g.width/2-c[1],this.Ei=this.g.height/2-c[2],this.Fi=c[0],this.Ik=this.Xf,this.Ci=this.Hf,this.sl=Ta.$o,b?this.Jc=0:(this.Jc=Ta.$o,this.er()));this.bc&&(this.bc.current=this.se([this.g.zoom,this.g.zoom],!1,this));this.na&&(this.na.current=this.qg([this.g.angle,this.g.angle],!1,this));this.Xa&&(this.Xa.current=this.zj([this.Oj(this.g.Gb),this.g.Gb],!1,this))};ea.prototype.WE=function(a,b,c,d){-1!==this.g.D?this.kc?(this.ca=Math.round(this.g.width/
2)+this.R,this.W=Math.round(this.g.height/2)+this.Y):(this.ca=Math.round((this.g.width-c)/2),this.W=Math.round((this.g.height-d)/2)):(this.ca=Math.round((this.g.width-a)/2)+this.R,this.W=Math.round((this.g.height-b)/2)+this.Y);!this.D&&this.g.I||!this.U.jj||-1===this.g.h||(this.D=this.Na=!0)};ea.prototype.al=function(a){var b=a;0>a&&(a=-a);var c=a+String();1E9<=a?c="1B+":1E8<=a?c=(a/1E6|0)+"M":1E7<=a?c=(Math.floor(Number(a/1E5))/10).toFixed(1)+"M":1E6<=a?c=(Math.floor(Number(a/1E4))/100).toFixed(2)+
"M":1E5<=a&&(c=(a/1E3|0)+"K");0>b&&(c="-"+c);return c};ea.prototype.gk=function(a,b){var c=this.C.D,d=this.C.I;b=a+b;var f=-this.g.angle,e=Math.sin(f/180*Math.PI);f=Math.cos(f/180*Math.PI);0>b?b=0:1<b&&(b=1);a=H.Mb*Math.pow(H.ac/H.Mb,a);b=H.Mb*Math.pow(H.ac/H.Mb,b);b<H.Mb?b=H.Mb:b>H.ac&&(b=H.ac);c-=this.ea/2;d-=this.aa/2;c=(c-b/a*c)/b;a=(d-b/a*d)/b;this.g.ga-=c*f+a*-e;this.g.da-=c*e+a*f;b=Math.log(b/H.Mb)/Math.log(H.ac/H.Mb);this.bc.current=this.se([b,b],!0,this)};ea.prototype.Ii=function(){var a=
32;this.g.Ia&&(a=4*this.g.R.o+1,-1!==this.g.D&&(a+=2*this.g.R.o),this.g.R.type===this.U.m&&(a=-1!==this.g.D?a+this.g.M/2:a+this.g.R.m/2));return a};ea.prototype.Jj=function(a,b){a.g.Wk(a,b,a.Ii())};ea.prototype.yw=function(a){var b=!1,c=a.$;var d=a.Qb;var f=(a.g.width>>1)-(a.v>>1)+(a.R<<1);var e=(a.g.height>>1)-(a.A>>1)+(a.Y<<1);d.F=c.F+f;d.H=c.H+e;d.J=c.J+f;d.K=c.K+e;d.F>d.J&&(f=d.J,d.J=d.F,d.F=f);d.H>d.K&&(f=d.K,d.K=d.H,d.H=f);a.Jj(a,d);d=0;var g=a.g.width-1;var k=0;var l=a.g.height-1;a.g.Ia&&(d+=
2*a.g.R.o+1,g-=2*a.g.R.o+1,k+=2*a.g.R.l+1,l-=2*a.g.R.l+1);f=(a.g.width>>1)-(a.v>>1)+(a.R<<1);e=(a.g.height>>1)-(a.A>>1)+(a.Y<<1);c.F+f<d&&(c.F=-f,b=!0);c.F+f>g&&(c.F=a.g.width-1-f,b=!0);c.J+f<d&&(c.J=-f,b=!0);c.J+f>g&&(c.J=a.g.width-1-f,b=!0);c.H+e<k&&(c.H=-e,b=!0);c.H+e>l&&(c.H=a.g.height-1-e,b=!0);c.K+e<k&&(c.K=-e,b=!0);c.K+e>l&&(c.K=a.g.height-1-e,b=!0);return b};ea.prototype.mD=function(a){a.$e.current=100*(1-(a.Ib-a.g.counter)/a.gl);a.$e.G=!1;a.cb.v=0};ea.prototype.$C=function(a){a.$e.current=
a.Od/a.Ch*100;a.$e.G=!1;a.cb.v=0};ea.prototype.gD=function(a,b){a.$e.current=a.g.counter/b*100;a.$e.G=!1;a.cb.v=0};ea.prototype.XC=function(a){var b=!1,c=!1,d=0;a.va||-1===a.Lb||(b=!0);!a.jb&&a.Ba&&(c=!0);if(b||c){var f=!1;if(c&&b)d=a.la/a.m.wa(a.Lb);else if(c){if(b=a.m.Ea().td)d=a.la/b,1<d&&(f=!0)}else 0<a.Lb&&(d=a.g.counter/a.Lb);1<d&&(d=1);a.$e.current=100*d}else f=!0;a.$e.G=f;a.cb.v=f?a.h.$:0};ea.prototype.tC=function(){this.Md.o(this.g.width/2-this.g.Qb,this.g.height/2-this.g.Rb,this.g.$,this.g.sa,
this.g.ea,this.g.aa,this.g.Nc,this.g.fb[0])};ea.prototype.bx=function(){var a=this.h.v-this.ea/2,b=this.h.B-this.aa/2,c=this.W-this.g.da,d=this.ca-this.g.ga-(this.g.ia?this.g.da/2:0),f=this.g.Aa,e=this.g.qa,g=this.g.zoom;var k=this.g.uc(this.g.zoom);var l=-1;-1!==this.h.v&&(0!==this.g.sa&&(l=Math.sqrt(a*a+b*b),b=180/Math.PI*Math.atan2(b,a),b-=this.g.sa,a=l*Math.cos(Math.PI/180*b),b=l*Math.sin(Math.PI/180*b)),e=b/k-c+e,k=e-Math.floor(e),e-=k,a=a/g+(this.g.ia?c/2+e/2:0)-d+f,this.g.W&&(a-=.5),c=a-Math.floor(a),
a-=c,this.g.W&&(0===(a+this.ca+e+this.W&1)?1<c+k&&(a+=1):1>1-c+k&&(a+=1)),l=this.g.Ta(a+this.ca,e+this.W,this.Na&&this.D));return l};ea.prototype.xj=function(a,b){var c=a-this.ea/2,d=b-this.aa/2;b=this.W-this.g.da;var f=this.ca-this.g.ga-(this.g.ia?this.g.da/2:0),e=this.g.Aa,g=this.g.qa,k=0,l=0,p=0,n=0,q=this.g.zoom,m=this.g.uc(this.g.zoom);-1!==a&&(0!==this.g.sa&&(a=Math.sqrt(c*c+d*d),d=180/Math.PI*Math.atan2(d,c),d-=this.g.sa,c=a*Math.cos(Math.PI/180*d),d=a*Math.sin(Math.PI/180*d)),k=d/m-b+g,p=
k-Math.floor(k),k-=p,l=c/q+(this.g.ia?b/2+k/2:0)-f+e,this.g.W&&!this.g.ua&&(l-=.5),n=l-Math.floor(l),l-=n,this.g.ia&&(.25>n?.1>p?(--k,--l):.9<=p&&(k+=1):.75<=n&&(.1>p?--k:.9<=p&&(k+=1,l+=1))));this.g.W&&!this.g.ua&&(0===(l+this.ca+k+this.W&1)?1<n+p&&(l+=1):1>1-n+p&&(l+=1));this.Bc=l+this.ca;this.Ec=k+this.W};ea.prototype.lC=function(a,b,c,d,f){var e=Math.abs(c-a),g=Math.abs(d-b),k=a<c?1:-1,l=b<d?1:-1,p=e-g,n=this.g.width,q=this.g.height,m;for(m=this.pa(a,b,f,!0);n!==this.g.width||q!==this.g.height;)n!==
this.g.width&&(n<<=1,a+=n>>2,c+=n>>2,this.ta+=n>>2,this.ya+=n>>2,this.g.ia&&(this.ta-=q>>3,this.ya-=q>>3),this.ca+=n>>2),q!==this.g.height&&(q<<=1,b+=q>>2,d+=q>>2,this.ub+=q>>2,this.Hb+=q>>2,this.W+=q>>2);for(;a!==c||b!==d;){var r=p+p;r>-g&&(p-=g,a+=k);r<e&&(p+=e,b+=l);for(m|=this.pa(a,b,f,!0);n!==this.g.width||q!==this.g.height;)n!==this.g.width&&(n<<=1,a+=n>>2,c+=n>>2,this.ta+=n>>2,this.ya+=n>>2,this.g.ia&&(this.ta-=q>>3,this.ya-=q>>3),this.ca+=n>>2),q!==this.g.height&&(q<<=1,b+=q>>2,d+=q>>2,this.ub+=
q>>2,this.Hb+=q>>2,this.W+=q>>2)}return m};ea.prototype.Jy=function(){var a=170,b=this.kk.oa,c=this.kk.ka,d=this.Yh.ka;this.Be.setPosition(ba.Sa,0,a-48);this.Vm.s(a-48);this.Cd.s(a-48+45);this.dl.s(a-48+170);this.Ni.s(a-48+215);this.Mi.s(a-48+260);this.kk.setPosition(ba.Sa,c,a);this.Yh.setPosition(ba.Sa,d,a);a+=b;"Oscillator"===this.ob&&(this.Yq.setPosition(ba.Sa,c,a),this.$k.setPosition(ba.Sa,d,a),a+=b);this.g.ia||this.g.W||(this.$q.setPosition(ba.Sa,c,a),this.Um.setPosition(ba.Sa,d,a),a+=b);"Spaceship"!==
this.ob||this.g.ia||this.g.W||(this.dr.setPosition(ba.Sa,c,a),this.Wm.setPosition(ba.Sa,d,a),a+=b);"Still Life"!==this.ob&&(this.hr.setPosition(ba.Sa,c,a),this.Xm.setPosition(ba.Sa,d,a),a+=b,this.g.ia||this.g.W||(this.Zh.setPosition(ba.Sa,c,a),this.Li.setPosition(ba.Sa,d,a),a+=b));"Spaceship"===this.ob&&(this.g.ia||this.g.W||(this.jr.setPosition(ba.Sa,c,a),this.Zm.setPosition(ba.Sa,d,a),a+=b),this.lr.setPosition(ba.Sa,c,a),this.kl.setPosition(ba.Sa,d,a),a+=b);"Still Life"===this.ob||this.g.o&&2<this.g.h&&
!this.g.I||this.g.eb||-1!==this.g.D||(this.fr.setPosition(ba.Sa,c,a),this.bl.setPosition(ba.Sa,d,a),a+=b);"Oscillator"===this.ob&&(-1!==this.g.D||this.g.o&&2<this.g.h||(this.nr.setPosition(ba.Sa,c,a),this.nl.setPosition(ba.Sa,d,a),a+=b),this.qr.setPosition(ba.Sa,c,a),this.lm.setPosition(ba.Sa,d,a),a+=b);"Still Life"===this.ob&&(this.Zh.setPosition(ba.Sa,c,a),this.Li.setPosition(ba.Sa,d,a))};ea.prototype.UD=function(a){var b=0;this.sj[this.qj]=a;this.qj+=1;this.qj>=H.OE&&(this.qj=0);for(a=0;a<this.sj.length;a+=
1)b+=this.sj[a];b/=this.sj.length;this.rj.tb=String(Math.round(b));this.rj.G=!1};ea.prototype.Hx=function(){var a;for(a=0;a<this.sj.length;a+=1)this.sj[a]=0;this.qj=0;this.rj.G=!0};ea.prototype.Pq=function(a,b){var c=0,d=0,f=this.W-this.g.da,e=this.ca-this.g.ga-(this.g.ia?this.g.da/2:0),g=this.g.Aa,k=this.g.qa,l=this.g.zoom,p=this.g.uc(this.g.zoom),n=0,q=0;if(0!==this.g.sa){var m=Math.sqrt(c*c+d*d);d=180/Math.PI*Math.atan2(d,c);d-=this.g.sa;c=m*Math.cos(Math.PI/180*d);d=m*Math.sin(Math.PI/180*d)}k=
d/p-f+k;if(this.g.W&&!this.g.ua||this.g.ia)n=k-Math.floor(k),k-=n;c=c/l+(this.g.ia?f/2+k/2:0)-e+g;this.g.W&&!this.g.ua&&(c-=this.g.zoom/32*.2);if(this.g.W&&!this.g.ua||this.g.ia)q=c-Math.floor(c),c-=q;this.g.ia&&(.25>q?.1>n?(--k,--c):.9<=n&&(k+=1):.75<=q&&(.1>n?--k:.9<=n&&(k+=1,c+=1)));this.g.W&&!this.g.ua&&(0===(c+this.ca+k+this.W&1)?1<q+n&&(c+=1):1>1-q+n&&(c+=1));return Math.sqrt((c-a)*(c-a)+(k-b)*(k-b))};ea.prototype.gF=function(){var a=9999<this.g.T?99999:9999;var b=this.g.Z?-1:0;var c=Math.round(-this.g.O/
2)+b,d=Math.round(-this.g.M/2)+b,f=c+this.g.O-1,e=d+this.g.M-1;if(-1===this.h.v)this.mb.tb="",this.mb.G=!this.jg;else{this.xj(this.h.v,this.h.B);var g=this.g.Ta(this.Bc,this.Ec,this.Na&&this.D);var k=this.g.Ta(this.Bc,this.Ec,!0);var l=this.Bc-this.ca+this.R;b=this.Ec-this.W+this.Y;-1===this.g.D||this.kc||(l-=Math.floor(this.v/2+(this.ra-this.v)/2),b-=Math.floor(this.A/2+(this.qa-this.A)/2));var p=l<-a||l>a?Number(l/1E3).toFixed(1)+"K":String(l);a=b<-a||b>a?Number(b/1E3).toFixed(1)+"K":String(b);
-1!==this.g.D?(0===this.g.O&&(c=-this.g.T,f=this.g.T),0===this.g.M&&(d=-this.g.T,e=this.g.T),l<c||l>f||b<d||b>e?(l===c-1||l===f+1)&&b>=d-1&&b<=e+1||(b===d-1||b===e+1)&&l>=c-1&&l<=f+1?(this.mb.tb=p+","+a+"=[bounded]",this.oj&&(this.mb.tb+=" "+String(k))):this.mb.tb=p+","+a+"=[boundary]":(this.mb.tb=p+","+a+"="+g+" ("+this.bh(g)+")",this.oj&&(this.mb.tb+=" "+String(k)))):(c=-(this.g.T-this.v)>>1,f=c+this.g.T-1,d=-(this.g.T-this.A)>>1,e=d+this.g.T-1,this.mb.tb=l<c||l>f||b<d||b>e?p+","+a+"=[boundary]":
p+","+a+"="+g+" ("+this.bh(g)+")",this.oj&&(this.mb.tb+=" "+String(k)));this.mb.G=!1}this.mb.B=this.jg||!this.Fb&&-1!==this.h.v?this.s||this.Z||0===this.v?!1:!0:!1;!this.M&&!this.dd||this.s&&!this.Z?this.Zd.B=!1:(this.Zd.B=!0,this.Zd.G=!1,l=this.$.J>this.$.F?this.$.J-this.$.F+1:this.$.F-this.$.J+1,b=this.$.K>this.$.H?this.$.K-this.$.H+1:this.$.H-this.$.K+1,this.Zd.tb=l+" x "+b)};ea.prototype.TB=function(a){if(!this.Ua&&!this.ga)if(0<this.s)0<a?this.Bm(this,a/125*3):this.zm(this,-a/125*3);else if(0<
this.Z)0<a?this.xm(this,a/125*3):this.vm(this,-a/125*3);else if(!this.Va&&!this.bc.locked){var b=this.bc.current[0];this.gk(b,a/125*.05)}};ea.prototype.LA=function(a){var b=a.g.counter,c=" ";if(a.g.Z||a.g.l)b=a.g.Hb;a.Ae?(0>b&&(c=""),a.cb.i[0]="+"+c+a.al(b),a.cb.S=["toggle generation statistics [G]\ngeneration +"+b]):(0>b+a.Ja&&(c=""),a.cb.i[0]="T"+c+a.al(b+a.Ja),a.cb.S=["toggle generation statistics [G]\ngeneration "+(b+a.Ja)]);if(a.Ae){if(a.g.Z||a.g.l)b=a.g.counter;a.fd.tb=1E9<=b?"1B+":String(b);
a.fd.tb=String(b);a.fd.S="generation "+b}else b+=a.Ja,a.fd.tb=1E9<=b?"1B+":String(b),a.fd.S="absolute generation "+b;a.hf.S=a.fd.S};ea.prototype.pf=function(){return this.Xl&&!(this.Ud||this.g.counter<=this.Td)};ea.prototype.yF=function(a,b){var c=b.m.current;var d=!1,f=!1,e=!1,g=!1,k=!1,l=b.g.counter;var p=0;var n=1E3/b.I;var q;b.Va=!1;b.wr&&(b.wr=!1,a=0);b.D||b.XC(b);b.As&&(b.cb.current=b.Dp([!0],!0,b),b.As=!1,b.C.i=!0);b.Ey(b.dc.current[0]);b.Fb?(a>n&&(a-.3>n&&(f=!0),a=n),!b.Fb||b.Ba&&!b.jb||(b.ha+=
b.fa*b.V,p=b.ha/b.I|0,p>l?b.nd=!0:b.la+=a)):b.nd&&(k=!0,b.ha=b.eu?b.ha+b.I:b.ha+b.V*b.I,p=b.ha/b.I|0);b.Cl();b.Ba&&!b.jb&&b.Fb?(b.m.L&&(b.mc&&!b.m.V(b.la+a)&&(b.mc=!1,b.la=b.m.ra(b.g.width/2-b.g.ga,b.g.height/2-b.g.da,b.g.zoom,b.g.angle,b.g.Gb,b.g.za,b.g.Ub*H.il,b.g.Xb,b.fa,b.V,b.g.counter,b.la)),c.Fe&&(b.Nb(!0,!1,H.cg),b.mc=!1,c.x=b.g.width/2-b.g.ga,c.y=b.g.height/2-b.g.da,b.ga&&(b.g.zoom*=b.Ub),c.zoom=b.g.zoom)),(e=b.m.O(b,b.la+a,b.g.counter,!0))?(c.Fe&&(c.Fe=!1,b.ga&&(b.g.zoom=c.zoom/b.Ub),b.bc&&
(b.bc.current=b.se([b.g.zoom,b.g.zoom],!1,b))),b.ha+=b.fa*b.V,p=b.ha/b.I|0,p>l&&(b.nd=!0)):(b.m.L&&(b.Fb&&(b.Va=!0),b.g.da=b.g.height/2-c.y,b.g.ga=b.g.width/2-c.x,b.g.ia&&(b.g.ga-=b.g.da/2),b.g.zoom=c.zoom,b.ga&&(b.g.zoom/=b.Ub),b.bc&&(b.bc.current=b.se([b.g.zoom,b.g.zoom],!1,b)),b.g.ia||b.g.W||b.g.ha||(b.g.angle=c.angle,b.na&&(b.na.current=[b.g.angle,b.g.angle]),b.g.Gb=c.Gb,b.Xa&&(b.Xa.current=[b.Oj(b.g.Gb),b.g.Gb]),b.g.za=c.za,b.eb&&(b.eb.current=[b.g.za,b.g.za]),b.g.Ub=c.depth/H.il+H.hq,b.Ha&&
(b.Ha.current=[Math.sqrt(b.g.Ub),b.g.Ub*H.il]))),b.fa=c.Oc,b.V=c.step,b.dc.current=b.Kc([b.Wf(),1],!0,b),c.xc>b.g.counter?(b.nd=!0,b.ha=c.xc*b.I,p=b.ha/b.I|0):b.nd=!1,c.le!==b.Ee&&(""===c.le?b.C.notification.clear(!1,!1):b.C.notification.notify(Jb.$l(b,c.le),15,21600,15,!1),b.Ee=c.le),c.Dc!==b.Er&&(b.Tf(c.Dc,b.g.se,b),b.Er=c.Dc)),b.nd||(b.la+=a)):b.da&&b.Fb&&(b.Va=!0);b.Va&&(b.Jc=-1);c=0;if(b.nd){n=performance.now();var m=p-l;var r=0;for(q=b.pf();!g&&b.g.counter<p;){c=performance.now()-n;if(b.g.counter===
b.fc-1&&!b.Jb||c>H.uA&&!k)g=b.g.counter!==b.fc-1||b.Jb?b.vf:!0;b.g.wb&&b.T("reverse playback");b.oi();r+=1;if(-1!==b.Lb&&b.g.counter>=b.Lb&&!b.va){for(p=1;p<=r;p+=1)b.rm(l+p,a,r);b.la=0;b.reset(b);p=l=0;b.Pb&&b.rc&&(b.$b.current=b.vd(H.je,!0,b),b.C.notification.notify("LOOP reached - Play to continue ",15,180,15,!0));e&&(b.Va=!0)}b.pf()&&!q&&(g=!0)}for(p=1;p<=r;p+=1)b.rm(l+p,a,m);b.pf()&&-1===b.vb&&(b.vb=b.g.counter,b.ed&&(-1===b.Lb||b.va)&&(b.g.l||b.g.Z?b.C.notification.notify("Life ended at generation "+
(b.g.Hb+b.Ja),15,600,15,!1):b.C.notification.notify("Life ended at generation "+(b.g.counter+b.Ja),15,600,15,!1)),q||-1!==b.Lb&&!b.va||(b.$b.current=b.vd(H.je,!0,b)));b.ha-=(m-r)*b.I;0>b.ha&&(b.ha=0);r<m&&(b.g.counter!==b.fc||b.Jb)&&b.Fd?b.UD(r):b.Hx();b.g.counter!==b.fc||b.Jb||(b.$b.current=b.vd(H.je,!0,b),this.da&&b.Nb(!0,!1,H.cg),b.ed&&b.C.notification.notify("STOP reached - Play to continue ",15,180,15,!0))}else b.Hx();b.nd&&!b.Fb&&b.T("");b.na.locked=b.Va&&b.Ba||b.g.ia||b.g.W||b.g.ha;b.Xa.locked=
b.Va&&b.Ba||b.g.ia||b.g.W||b.g.ha;b.ae.locked=b.Va&&b.Ba;b.Gf.locked=b.Va||b.da&&b.Fb;b.dc.locked=b.Va&&b.Ba;b.el.locked=b.Va&&b.Ba;b.rd.locked=b.Va&&b.Ba;b.bc.locked=b.Va||b.da;b.eb.locked=b.Va&&b.Ba||b.g.ia||b.g.W||b.g.ha;b.Ha.locked=b.Va&&b.Ba||b.g.ia||b.g.W||b.g.ha;b.cl.locked=b.g.ia||b.g.W||b.g.ha;b.di&&(b.TB(b.di),b.di=0);b.Rk(b,f,c,k);b.nd=!1;b.eu=!1;if(b.Fb||b.da&&.001<b.Rg||-1!==b.Jc)d=!0;b.C.Ge(d)};ea.prototype.Rk=function(a,b,c,d){a.da&&a.Fb&&a.Nb(!1,!1,H.cg);a.g.mn(a.Gk,a.pd);a.pd&&a.tC();
a.Gk&&a.C.Ge(!0);a.g.wh(!(this.M||this.dd||this.ua||a.wa.current!==H.ti));!a.g.ua&&a.g.ia&&4<=a.g.zoom?a.g.cj():!a.g.ua&&a.g.W&&4<=a.g.zoom&&a.g.ej();a.xh&&(2===a.xh&&a.g.Ki(a.od,1,!0,a.ga,a),a.kC(a),2===a.xh&&(a.g.wh(!(this.M||this.dd||this.ua||a.wa.current!==H.ti)),!a.g.ua&&a.g.ia&&4<=a.g.zoom?a.g.cj():!a.g.ua&&a.g.W&&4<=a.g.zoom&&a.g.ej()),a.xh=0);a.g.Hk(a);a.g.counter&&0<a.g.s&&(a.Qb.F=a.g.A.F,a.Qb.H=a.g.A.H,a.Qb.J=a.g.A.J,a.Qb.K=a.g.A.K,a.Jj(a,a.Qb));a.ee&&a.m.sa(a);!a.Oa||a.bb||a.yc||a.g.Ki(a.od,
a.Wa,!1,a.ga,a);a.Rb&&0<a.Gd&&null!==a.g.he&&0===a.s&&0===a.Z&&!1===a.ja.current[0]&&(1===a.Gd?a.g.Bk(a.Be):a.g.zk(a.Be));a.s?Xa.ly(a):a.Z&&Xa.aD(a);a.LA(a);a.Ef.tb=a.VB(a.la);a.Jd.tb=a.al(a.g.s);a.Mm()?a.cd.tb=a.g.l?(25*a.g.s/(a.g.M*a.g.O)|0)+"%":(100*a.g.s/(a.g.M*a.g.O)|0)+"%":(a.cd.tb=a.al(a.g.oa),a.ye.tb=a.al(a.g.fa));a.Jd.S="alive "+a.g.s;a.Mm()?a.cd.S=a.g.l?"density "+(25*a.g.s/(a.g.M*a.g.O)|0)+"%":"density "+(100*a.g.s/(a.g.M*a.g.O)|0)+"%":(a.cd.S="births "+a.g.oa,a.ye.S="deaths "+a.g.fa);
a.Fd?a.zC(c,b,d,a):a.dc.jc=a.Gf.jc;a.gF();-1!==a.Jc&&a.er();a.GC();a.$D();a.PC();a.yA(0!==a.s||0!==a.Z);!a.ja.current[0]||a.kd&&a.Fb||(a.Pa.globalAlpha=.7,a.Pa.fillStyle=a.C.jc,a.Pa.fillRect(0,0,a.Za.width,a.Za.height),a.Pa.globalAlpha=1)};ea.prototype.zC=function(a,b,c,d){var f=255,e=48,g=48;(b||a>H.uA)&&!c?d.bj<H.Hz&&(d.bj+=1):d.bj>H.Iz&&--d.bj;var k=d.bj/(H.Hz-H.Iz);a=d.Ap>>16;b=d.Ap>>8&255;c=d.Ap&255;d.Sc&&(f=d.Sc[0],e=d.Sc[1],g=d.Sc[2]);d.dc.jc="rgb("+(f*k+a*(1-k)|0)+","+(e*k+b*(1-k)|0)+","+
(g*k+c*(1-k)|0)+")"};ea.prototype.YE=function(){var a=this.hf.R,b=this.Ef.R,c=this.mb.R;this.Pc.G&&this.xe.G?(this.Ne.s(c),this.Jd.s(c)):this.xe.G?(this.Ne.s(b),this.Jd.s(b),this.Pc.s(c),this.cd.s(c)):(this.Ne.s(a),this.Jd.s(a),this.Pc.s(b),this.cd.s(b),this.xe.s(c),this.ye.s(c))};ea.prototype.Cl=function(){var a=this.ha/this.I;if(this.ib&&!this.Kb){this.g.Aa=a*(this.ng+this.Eh)/2;this.g.qa=a*(this.jh+this.pg)/2;var b=this.g.Pj(0,this.jh,this.ng,this.pg,this.Eh,this.ea,this.aa-80,H.Mb,H.ac,H.Lq);
a=this.g.Pj(a,this.jh,this.ng,this.pg,this.Eh,this.ea,this.aa-80,H.Mb,H.ac,H.Lq);this.g.Ha=a/b}else this.g.Aa=0,this.g.qa=0,this.g.Ha=1;this.bc.current=this.se([this.g.zoom,this.g.zoom],!1,this)};ea.prototype.yA=function(a){var b=!(this.s&&this.zd===H.hg),c,d=[],f=[],e=this.ja.current[0];this.$b.o[1]=this.wb||0===this.g.counter&&(!this.g.Z&&!this.g.l||null===this.g.bb)?!0:!1;var g=a||!this.ge;for(c=0;c<=this.g.jb;c+=1)this.Aa[c].G=g;this.wz.G=g;this.hz.G=g;this.Kz.G=g;this.pz.G=g;for(c=0;c<H.np.length;c+=
1)H.np[c]===this.g.jb&&(this.Aa[c].locked=!(this.sa||this.Af||-1!==this.Cm||-1!==this.Em));g=a||!this.Rb||"Empty"===this.ob||"none"===this.ob||e;this.Vm.G=a||!this.Rb||e;this.Cd.G=a||!this.Rb||null===this.g.he||e;this.dl.G=a||!this.Rb||null===this.g.he||e;g=g||2===this.Gd;g=(this.Be.G=g)||0<this.Gd;this.kk.G=g;this.$q.G=g||this.g.ia||this.g.W;this.dr.G=g||"Spaceship"!==this.ob||this.g.ia||this.g.W;this.hr.G=g||"Still Life"===this.ob;this.Zh.G=g||this.g.ia||this.g.W;this.Yq.G=g||"Oscillator"!==this.ob;
this.jr.G=g||"Spaceship"!==this.ob||this.g.ia||this.g.W;this.lr.G=g||"Spaceship"!==this.ob;this.fr.G=g||"Still Life"===this.ob||this.g.eb||this.g.o&&2<this.g.h||-1!==this.g.D;this.nr.G=g||"Oscillator"!==this.ob||-1!==this.g.D||this.g.o&&2<this.g.h;this.qr.G=g||"Oscillator"!==this.ob;this.Yh.G=g;this.Um.G=g||this.g.ia||this.g.W;this.Wm.G=g||"Spaceship"!==this.ob||this.g.ia||this.g.W;this.Xm.G=g||"Still Life"===this.ob;this.Li.G=g||this.g.ia||this.g.W;this.$k.G=g||"Oscillator"!==this.ob;this.Zm.G=g||
"Spaceship"!==this.ob||this.g.ia||this.g.W;this.kl.G=g||"Spaceship"!==this.ob;this.bl.G=g||"Still Life"===this.ob||this.g.eb||-1!==this.g.D||this.g.o&&2<this.g.h;this.nl.G=g||"Oscillator"!==this.ob||-1!==this.g.D||this.g.o&&2<this.g.h;this.lm.G=g||"Oscillator"!==this.ob;g=a||!this.Rb||1!==this.Gd||0===this.g.Wc||e;this.Ni.G=g;this.Mi.G=g;this.Ni.locked=0===this.g.cb;this.Mi.locked=this.g.cb===this.g.Wc;this.wh.locked=this.ka===this.qh;this.Qd.locked=1>=this.ka||"undo [Ctrl Z]"===this.Qd.S;this.ae.G=
a;this.bc.G=a;this.Gf.G=a;this.gd.G=a;this.Vg.G=a;this.kg.G=a;this.Lc.G=a;this.qf.G=a;this.wa.G=a;g=(this.vi.G=a)||!this.Oa||this.bb||this.yc||e;this.Wi.G=g;this.Wq.G=g;this.Ui.G=g;this.Vb.G=g||-1!==this.g.D;this.Gj.G=!(this.nb||-1!==this.Ib);this.Gj.locked=!1;this.hf.G=a;this.fd.G=a;this.vj.G=a;this.Ef.G=a;this.Ne.G=a;g=(this.Jd.G=a)||this.fF();this.Pc.G=g;g=(this.cd.G=g)||this.Mm();this.xe.G=g;this.ye.G=g;this.Yd.G=a;this.YE();this.Gf.G=a;this.lk.G=a||!this.cf;this.$g.G=!this.Ad;this.Ue||this.Te||
this.Ve||this.fe||this.Xe||this.ge||this.Re?(this.xd.tb="Back",this.xd.S="back to previous menu [Backspace]"):(this.xd.tb="Close",this.xd.S="close menu [Backspace]");this.$d.locked=!(this.g.Z&&2===this.g.Ua);this.$d.current=this.$d.locked?[!1]:[this.g.cd];g=(this.xd.G=a)||this.ge;this.Ha.G=g;this.na.G=g;this.Xa.G=g;this.eb.G=g;g=a||this.ge||this.Te||this.fe||this.Ue||this.Ve||this.Xe||this.fe||this.Re;this.uk.G=g;this.ko.G=g;this.rd.G=g;this.yl.G=g;this.Ek.G=g;this.Lr.G=g;this.Tn.G=g;this.jf.G=g;
g=a||!this.Te;this.Kr.G=g;this.$s.G=g;this.yo.G=g;this.Pj.G=g;this.uo.G=g;this.In.G=g;this.om.G=g;this.dt.G=g;this.gt.G=g;g=a||!this.fe;this.bt.G=g;this.Xk.G=g;this.Gr.G=g;this.Fr.G=g;this.ej.G=g;this.xo.G=g;this.Xh.G=g;this.gm.G=g;this.mt.G=g;this.ht.G=g;g=a||!this.Ve;this.Hi.G=g;this.zl.G=g;this.ij.G=g;this.ij.locked=!this.ek;this.Lm.G=g;this.Nm.G=g;this.zo.G=g;this.Oi.G=g;this.ah.G=g;this.ah.locked=!this.g.o||this.g.o&&!this.g.nf();this.Py.G=g;g=a||!this.Ue;this.Bd.G=g;this.li.G=g;this.Dd.G=g;
this.nj.G=g;this.nf.G=g;this.ji.G=g;this.$d.G=g;this.uh.G=g;this.Fk.G=g;this.kn.G=g;g=a||!this.Re;this.Hn.G=g;this.Yn.G=g;this.cl.G=g;this.tm.G=g;this.nm.G=g;this.Om.G=g;g=a||!this.Xe;this.Qm.G=g;this.Wh.G=g;this.lg.G=g;this.Uf.G=g;this.De.G=g;this.ki.G=g;g=this.g.ha||!this.ab;this.ej.locked=g;this.xo.locked=g;this.Xh.locked=g||this.D||this.g.R.V||-1!==this.g.D&&(0===this.g.O||0===this.g.M)||this.g.eb;this.gm.locked=g||this.D||"Empty"===this.ob||"none"===this.ob||""===this.ob;this.yo.locked=g;this.Pj.locked=
g||!(this.g.o&&2===this.g.h&&!this.g.Me&&(!this.g.Pb||this.g.Pc!==Aa.yj));this.uo.locked=g;this.om.locked=g;this.In.locked=g||null===this.fb[this.Gc];this.Qm.locked=!this.ab||this.D;this.uh.locked=2<this.g.h||this.g.Ia||this.g.l||this.g.I||this.g.m||this.g.B||this.g.o;this.Xk.locked=g;this.Om.locked=g;this.xp.G=a||!(this.Ue||this.Te||this.Ve||this.Xe||this.fe||this.Re);this.xp.tb=this.Ue?"Display":this.Ve?"Advanced":this.Xe?"Playback":this.fe?"Pattern":this.Te?"Clipboard":this.Re?"General":"";this.De.locked=
-1!==this.g.Jd||this.g.gh||this.g.Ia&&1<this.g.R.o||this.g.W||this.g.bd||this.g.ia||-1!==this.g.D||this.g.Z||2<this.g.h||this.g.o;this.De.locked&&(this.De.current=[!1]);this.rd.locked=this.Na||this.g.ha||this.g.o||this.g.m||this.g.B;this.Dd.locked=this.g.ia&&!this.g.ua||this.g.W&&!this.g.ua||0===this.g.Ua;this.Bd.locked=!(this.g.ia||this.g.W);g=a||0===this.m.i.length||e;this.jm.G=g;this.zk.G=g;g=a||!this.Ka||this.bb||this.yc||this.Oa;this.rl.G=g;this.Gg.G=g;this.wl.G=g;this.Hg.G=g;this.pl.G=g;this.hh.G=
g;this.sr.G=g;this.an.G=g;this.dn.G=g;this.jn.G=g;this.bn.G=g;this.ih.G=g;this.Eg.G=g;this.Fg.G=g;this.Dg.G=g;this.ks.G=0===this.Z||0!==this.s;this.qw.G=!(this.On&&this.s&&this.zd===H.hg);this.zp.G=!(this.s&&this.zd!==H.hg);this.hd.G=!(this.s&&this.zd!==H.hg)||!this.lj;this.Sk.G=b;this.Uk.G=b;this.Qk.G=b;this.Wk.G=b||this.g.ha||this.g.m||this.g.B||this.g.o;this.Uh.G=b;this.Ji.G=b;this.gh.G=b;this.Th.G=b||0===this.m.A();this.Dm.G=!(this.s&&this.zd!==H.hg)||this.lj;if(this.gr){this.gr=!1;b=this.hd.y;
for(c=0;c<this.u.length&&b<this.aa-66*this.h.D;)d[c]=this.u[c][1],f[c]="Top"===d[c]?"go to top of topic [Home]":"",b+=26*this.h.D,c+=1;this.hd.i=d;this.hd.S=f;this.hd.ya(26*d.length);this.hd.current=0}g=a||!this.yc||e;this.Zk.G=g;this.Sg.G=g;this.hk.G=g;this.Me.G=g;this.Nj.G=g;this.sh.G=g;this.Nf.G=g;this.yk.G=g;this.Ck.G=g;this.rk.G=g;g=a||!this.yc||e;this.Hj.G=g;this.nk.G=g;this.pk.G=g;this.qk.G=g;this.mk.G=g;this.Kk.G=g;this.Mk.G=g;this.Vk.G=g;this.Tk.G=g;this.mf.G=g;this.Lj.G=g;this.Kj.G=g;this.xf.G=
g||!(this.g.I||this.g.m||this.g.B);this.wf.G=g;this.vc.G=g;this.Wd.G=g;g=a||!this.yc||e||2>=this.g.h||this.g.ha;this.vh.G=g||this.g.l;g=this.D;this.sh.locked=g;this.Nf.locked=g;g=!this.M;this.yk.locked=g;this.hk.locked=g;g=!(this.M||this.ua)||this.D;this.Hj.m(g);this.vc.m(g);this.vh.m(g);this.Wd.m(g);this.nk.m(g);this.pk.m(g);this.qk.m(g);this.mk.m(g);this.Kk.m(g);this.Mk.m(g);this.Vk.m(g);this.Tk.m(g);this.mf.m(g);this.Lj.m(g);this.Kj.m(g);this.xf.m(g);this.wf.m(g);g=!this.M||this.D;this.Ck.locked=
g;g=!this.Fj||this.ua||null===this.fb[this.Gc]||this.D;this.rk.locked=g;g=a||!this.bb||!this.Vf||e;this.Ta.G=g;this.ma.G=g;if(2>=this.g.h&&!this.g.o)for(c=0;c<this.ma.i.length;c+=1)b=2>=c?0===c?c:1===c?I.Ya:I.Hh:128+H.Cb[c],this.ma.M[c]="rgb("+this.g.la[b]+","+this.g.ka[b]+","+this.g.ja[b]+")";else for(c=0;c<this.ma.i.length;c+=1)b=0===c+this.ec?0:this.g.ha||this.g.l||this.g.o||this.g.m||this.g.B?c+this.ec+this.Da:this.Da+this.g.h-(c+this.ec),this.ma.M[c]="rgb("+this.g.la[b]+","+this.g.ka[b]+","+
this.g.ja[b]+")";g=a||!this.bb||e;this.Vc.G=g;this.wk.G=g;this.mj.G=g;this.pj.G=g;this.ll.G=a||!this.bb||!this.Vf||this.g.h<=this.sc||e;this.ol.G=a||!this.bb||!this.Vf||this.g.h<=this.sc||e;this.g.h>this.sc&&this.kw();if(0<this.s){c=0;for(b=-1;c<this.u.length&&-1===b;)this.u[c][0]>this.s?b=this.u[c][0]:c+=1;c===this.u.length&&(b=c);-1!==b&&(this.hd.current=c-1)}this.kd&&(this.h.G=this.Fb?!0:!1);g=this.aa<H.Xj;this.ja.locked=g};ea.prototype.PC=function(){var a=-(this.g.width/2-this.g.ga-this.g.Aa|
0),b=-(this.g.height/2-this.g.da-this.g.qa|0),c=String(a),d=String(b);this.rl.G=!this.Ka;this.Gg.G=!this.Ka;this.wl.G=!this.Ka;this.Hg.G=!this.Ka;this.pl.G=!this.Ka;this.hh.G=!this.Ka;this.sr.G=!this.Ka;this.an.G=!this.Ka;this.dn.G=!this.Ka;this.jn.G=!this.Ka;this.bn.G=!this.Ka;this.ih.G=!this.Ka;this.Eg.G=!this.Ka;this.Dg.G=!this.Ka;this.Fg.G=!this.Ka;if(-99999>a||99999<a)c=(a/1E3|0)+"K";if(-99999>b||99999<b)d=(b/1E3|0)+"K";this.Gg.tb=c;this.Hg.tb=d;this.hh.tb=this.g.angle.toFixed(0)+"\u00b0";this.ih.tb=
this.sm.toFixed(3);this.Eg.tb=this.wm.toFixed(3);this.Fg.tb=this.ym.toFixed(3);this.Dg.tb=this.um.toFixed(3)};ea.prototype.$D=function(){0===this.g.counter?this.ym=this.sm=this.wm=this.um=0:(this.wm=(this.g.A.K-this.g.mc.K)/this.g.counter,this.um=(this.g.A.H-this.g.mc.H)/this.g.counter,this.sm=(this.g.A.J-this.g.mc.J)/this.g.counter,this.ym=(this.g.A.F-this.g.mc.F)/this.g.counter)};ea.prototype.GC=function(){this.ae.current=[this.da];this.Vg.current=[!this.rc&&this.Pb];this.Vg.locked=!this.Pb;this.ib?
(this.Lc.i[0]="TRACK",this.Lc.current=[!this.Kb&&this.ib],this.Lc.locked=!this.ib,this.Lc.S=["toggle track mode [W]"]):(this.Lc.i[0]="WAYPT",this.Lc.current=[!this.jb&&this.Ba],this.Lc.locked=!this.Ba,this.Lc.S=["toggle waypoint mode [W]"]);this.qf.current=[!this.va&&-1!==this.Lb];this.qf.locked=-1===this.Lb;this.qf.S=["loop at "+this.Lb+" [Shift P]"];this.kg.current=[!this.Jb&&-1!==this.fc];this.kg.locked=-1===this.fc;this.kg.S=["stop at "+this.fc+" [Alt P]"]};ea.prototype.rm=function(a,b,c){if(a>=
this.ze.length){var d=this.g.N.h(pa.Zc,this.ze.length+H.sz,"View.elapsedTimes");d.set(this.ze);this.ze=d}this.la+=b/c;this.ze[a]=this.la};ea.prototype.oi=function(){var a=this.g.A,b=this.g.ib,c=this.g.s;this.g.Ij.set(a);this.g.Jj.set(b);this.g.Ef(this.wb);this.g.ue();this.g.pf(this);this.tk();this.g.Hi();0===this.g.s&&(a.set(this.g.Ij),b.set(this.g.Jj));this.Xl=0===this.g.s&&0!==c?!0:!1;this.g.counter&&0<this.g.s&&(this.Qb.F=this.g.A.F,this.Qb.H=this.g.A.H,this.Qb.J=this.g.A.J,this.Qb.K=this.g.A.K,
this.Jj(this,this.Qb))};ea.prototype.tB=function(){null!==this.g.Pb&&this.g.Pc===Aa.wg&&4<this.g.h?this.g.hb=0:this.g.yk()};ea.prototype.ZE=function(a,b){0===a.g.hb&&(a.g.Ve=performance.now());do{this.g.rk();var c=performance.now()-b}while(14>c&&-1!==a.g.hb);-1===a.g.hb&&(a.g.Ve=performance.now()-a.g.Ve,a.C.A=10);a.C.Ge(!0)};ea.prototype.qE=function(a){var b=32768,c=a.Ch-a.Od;if(a.Od<a.Ch)if(0<a.Ls)--a.Ls;else if(a.ln)a.bf.innerHTML=a.xl,a.Od=a.Ch;else{c<b&&(b=c);var d=document.createElement("textarea");
a.Yk(d);if(b!==c)for(;"\n"!==a.xl[a.Od+b];)--b;d.innerHTML=a.xl.substring(a.Od,a.Od+b);a.Od+=b;a.bf.appendChild(d)}else a.po||(a.C.notification.notify("Press Enter to complete copy",15,1E4,15,!0),a.po=!0);a.$C(a);a.Rk(a,!1,0,!1);a.C.Ge(!0)};ea.prototype.ql=function(a,b,c){a.h.locked=!1;b?c&&a.C.notification.notify("Cancelled",15,80,15,!0):a.ed&&(c||-1!==a.Yf)&&(a.C.notification.notify("Arrived at generation "+a.g.counter,15,150,15,!0),-1!==a.Yf&&(c=(performance.now()-a.Yf)/1E3,b=a.gl/c|0,a.C.notification.notify("Calculated "+
a.gl+" gens in "+c.toFixed(1)+"s = "+b+"gps",15,1200,15,!1),a.pn=c,a.yr=a.gl));-1===a.Yf&&(0!==a.g.s||a.Ud||a.g.counter<=a.Td)&&a.C.notification.clear(!1,!1);a.T("");a.Ib=-1;a.Yf=-1};ea.prototype.SF=function(a){var b=performance.now();for(a.h.locked=!0;!a.pf()&&a.g.counter<a.Ib&&(-1!==a.Yf||13>performance.now()-b);)a.oi(),a.pf()&&-1===a.vb&&(a.vb=a.g.counter,a.ed&&(-1===a.Lb||a.va)&&(a.g.l||a.g.Z?a.C.notification.notify("Life ended at generation "+(a.g.Hb+a.Ja),15,600,15,!1):a.C.notification.notify("Life ended at generation "+
(a.g.counter+a.Ja),15,600,15,!1))),a.rm(a.g.counter,0,1);a.Rk(a,!1,0,!1);a.mD(a);a.ha=a.g.counter*a.I;a.C.Ge(!0);(a.g.counter>=a.Ib||a.pf())&&a.ql(a,0===a.g.s&&!(a.Ud||a.g.counter<=a.Td),!1)};ea.prototype.NE=function(a){var b=performance.now();a.h.locked=!0;a.ha=a.g.counter*a.I;for(a.Cl();a.nb&&13>performance.now()-b&&(0<a.g.s||a.Ud||a.g.counter<=a.Td);)if(a.oi(),0===a.g.s&&-1===a.vb&&(a.vb=a.g.counter,a.ed&&(a.Ul||a.g.counter<=a.Td||(a.g.l||a.g.Z?a.C.notification.notify("Life ended at generation "+
(a.g.Hb+a.Ja),15,600,15,!1):a.C.notification.notify("Life ended at generation "+(a.g.counter+a.Ja),15,600,15,!1)))),a.rm(a.g.counter,0,1),0<a.g.s||a.Ud||a.g.counter<=a.Td){var c=a.g.Pm(a);0<c.length&&(c[0]===I.Fx?(c[0]="Nothing Identified",a.Ar="none",a.ob="none",a.fm="",a.Ti="",a.am="",a.tn="",a.Pi="",a.hm="",a.Si="",a.Qi="",a.nh="",a.mh="",a.Ri="",a.qn="",a.un="",a.sn=""):(a.Ar=c[0],a.ob=c[1],"Empty"!==a.ob&&(a.fm=c[2],a.Ti=c[3],a.am=c[4],a.tn=c[5],a.Pi=c[6],a.hm=c[7],a.Si=c[8],a.Qi=c[9],a.nh=c[10],
a.mh=c[11],a.Ri=c[12],a.qn=c[13],a.un=c[14],a.sn=c[15],a.Yh.tb=a.Pi,a.Yh.S=-1===a.Pi.indexOf("|")?"":"min | max | average",a.Um.tb=a.am,a.Wm.tb=a.fm,a.Xm.tb=a.Si,a.Zm.tb=a.hm,a.kl.tb=a.Ti,a.kl.S=-1===a.Ti.indexOf("|")?"":"simplified | unsimplified",a.bl.tb=a.Qi,a.bl.S=-1===a.Qi.indexOf("|")?"":"min | max | average",a.lm.tb=""===a.mh?a.nh+" | N/A":a.nh+" | "+a.mh,a.lm.S="normal | strict",a.Li.tb=a.Ri,a.$k.tb=a.qn,a.$k.S="rotor | stator | total",a.nl.tb=a.un,a.nl.S="active | rotor","Still Life"===a.ob?
(a.Li.tb=a.sn,a.Zh.tb="Density"):a.Zh.tb="Mod"),a.Rb=!0,a.Jy()),a.nb=!1,a.Fb&&(a.$b.current=a.vd(H.je,!0,a)),a.T(""),a.Be.tb=c[0],"Empty"===a.ob||"none"===a.ob||""===a.ob?(a.C.notification.notify(c[0],15,240,15,!1),a.Rb=!1):(a.C.notification.clear(!0,!1),a.C.notification.clear(!1,!1),a.ha=a.g.counter*a.I,a.Cl(),a.Nb(!0,!1,H.cg)),a.g.Rf(a.nb),a.h.locked=!1)}else a.nb=!1,a.Fb&&(a.$b.current=a.vd(H.je,!0,a)),a.T(""),a.Rb=!1,a.g.Rf(a.nb),a.h.locked=!1;a.Rk(a,!1,0,!1);a.ha=a.g.counter*a.I;a.C.Ge(!0)};
ea.prototype.GE=function(a){for(var b=a.Cs,c=performance.now(),d=this.wb,f=51*I.fp;a.g.counter<b&&13>performance.now()-c;)this.wb=b-1-a.g.counter<=f?!1:d,a.oi();a.g.counter===b?(a.Wg=!1,a.zs&&a.C.notification.clear(!0,!1),a.ha=a.g.counter*a.I,a.h.locked=!1):a.h.locked=!0;a.gD(a,b);a.Rk(a,!1,0,!1);a.wb=d;a.C.Ge(!0)};ea.prototype.hF=function(a){var b=a.g.Ac?4278190080:255;this.$e.G=!0;a.ph===H.Kt&&(a.h.locked=!0,a.mb.B=!1,a.Zd.B=!1,a.yA(!1),a.C.Ge(!0),a.g.Nc&&a.g.Nc.fill(b));a.ph===H.Jt&&(a.ww=performance.now());
--a.ph;0===a.ph&&(a.Jr=performance.now(),a.I=Math.round(1E3/((a.Jr-a.ww)/(H.Jt-1))),62>=a.I&&(a.I=60),a.C.la=a.I,a.rv&&(a.V=1),a.cv&&(a.fa=a.I),a.dc.current=1===a.V&&60===a.fa?a.Kc([1,1],!0,a):a.Kc([a.Wf(),1],!0,a),a.h.locked=!1);a.g.wh(!1)};ea.prototype.iE=function(a,b){var c=performance.now();0<b.ph?b.hF(b):b.Wg?b.GE(b):b.nb?b.NE(b):b.Mj?b.qE(b):-1!==b.Ib?b.SF(b):(b.yF(a,b),b.g.o&&-1!==b.g.hb&&b.ZE(b,c))};ea.prototype.mw=function(a){a.g.counter=0;a.g.Hb=0;a.g.ee=0;a.ha=0;a.la=0;a.g.ga=a.g.width>>
1;a.g.da=a.g.height>>1;a.g.ga&=a.g.width-1;a.g.da&=a.g.height-1;a.wr=!0;a.vb=-1;a.ph=H.Kt};ea.prototype.Xw=function(a,b,c){b&&(c.pd=a[0]);return[c.pd]};ea.prototype.Iw=function(a,b,c){b&&(c.ld=a[0]);return[c.ld]};ea.prototype.Pw=function(a,b,c){b&&(c.g.Tc=a[0]);return[c.g.Tc]};ea.prototype.Kw=function(a,b,c){b&&(c.Ka=a[0]);return[c.Ka]};ea.prototype.Gw=function(a,b,c){b&&(c.g.Yb=a[0]);return[c.g.Yb]};ea.prototype.yG=function(a,b,c){b&&(c.oj=a[0]);return[c.oj]};ea.prototype.El=function(a,b,c){b&&(c.fh=
a[0],c.dh=a[1],c.eh=a[2]);return[c.fh,c.dh,c.eh]};ea.prototype.mr=function(a,b,c){b&&(c.Oa=a[0],c.Oa&&c.wa.current!==H.ti&&(c.wa.current=c.re(H.ti,!0,c)),c.ja.current[0]&&(c.ja.current=c.ef([!1],!0,c)));return[c.Oa]};ea.prototype.pG=function(a,b,c){b&&(c.g.hd=a[0]);return[c.g.hd]};ea.prototype.Nw=function(a,b,c){b&&(c.ee=a[0]);return[c.ee]};ea.prototype.HA=function(a,b,c){b&&(c.g.Wa=a[0]);return[c.g.Wa]};ea.prototype.DA=function(a,b,c){b&&(c.bd=a[0],c.bd&&!c.g.Ka&&(c.bb||c.yc)&&(c.gd.current=c.wj([!0],
!0,c)));return[c.bd]};ea.prototype.vr=function(a,b,c){b&&(c.g.Vb=a[0],c.g.yl(),c.g.rh(),0===(c.g.counter&1)?c.g.lf(c.g.va):c.g.lf(c.g.Qa));return[c.g.Vb]};ea.prototype.BA=function(a,b,c){b&&(c.g.cd=a[0]);return[c.g.cd]};ea.prototype.FA=function(a,b,c){b&&(c.kd=a[0]);return[c.kd]};ea.prototype.pr=function(a,b,c){b&&(c.g.ua=a[0],c.lA());return[c.g.ua]};ea.prototype.Br=function(a,b,c){b&&(c.C.B=a[0]);c.C.Ge(!0);return[c.C.B]};ea.prototype.sg=function(a,b,c){b&&(c.C.v=a[0]);c.C.Ge(!0);return[c.C.v]};
ea.prototype.Tf=function(a,b,c){if(c.g.Xb!==a){c.g.nm(a,b,c);1<c.g.se&&(c.C.A=c.g.se);for(b=0;b<=this.g.jb;b+=1)this.Aa[b].current=a!==H.np[b]?[!1]:[!0];c.l.o=!0;c.l.I=c.g.Dd;c.Dd.current=[c.g.Tc&&0<c.g.Ua]}};ea.prototype.Wf=function(){var a=H.ay;this.fa>this.I&&(this.fa=this.I);var b=Math.sqrt((this.fa-H.Tg)/(this.I-H.Tg));var c=(this.V-H.ug)/(H.ni-H.ug);return 0===c?b*(1-a):c*(1-a)+1+a};ea.prototype.Ey=function(a){var b=H.ay;this.fa>this.I&&(this.fa=this.I);a<=1-b?(a/=1-b,this.fa=Math.round(H.Tg+
a*a*(this.I-H.Tg)),this.V=1):(a<1+b?a=0:(a-=1+b,a/=1-b),this.fa=this.I,this.V=Math.round(H.ug+a*(H.ni-H.ug)))};ea.prototype.Kc=function(a,b,c){var d=c.Wf();b&&(d=a[0],c.Ey(d));c.fa>c.I&&(c.fa=c.I);return[d,Math.round(c.fa)<c.I?String(Math.round(c.fa))+"/s":String(Math.round(c.V))+"x"]};ea.prototype.et=function(a){a.kj=a.g.zoom;a.ga&&(a.kj*=a.Ub);a.Ct=a.g.angle;a.zw=a.g.Gb;a.ya=a.g.ga;a.Hb=a.g.da};ea.prototype.gx=function(a){a.Zf=a.g.width/2-a.g.ga;a.ag=a.g.height/2-a.g.da;a.Ah=a.g.zoom;a.Xf=a.g.angle;
a.Hf=a.g.Gb;a.Ff=a.g.width/2-a.ya;a.Ei=a.g.height/2-a.Hb;a.Ik=a.Ct;a.Ci=a.zw;a.Fi=a.ga?a.kj/a.Ub:a.kj;a.Jc=0};ea.prototype.OC=function(a,b){a.g.zoom=a.Jz;a.ga&&(a.g.zoom/=a.Ub);a.bc&&(a.bc.current=a.se([a.g.zoom,a.g.zoom],!1,a));a.g.angle=a.xi;a.na&&(a.na.current=[a.xi,a.xi]);a.g.Gb=a.zi;a.Xa&&(a.Xa.current=[a.Oj(a.zi),a.zi]);a.g.ga=a.ta;a.g.da=a.ub;b&&(a.Tf(a.Gm,1,a),a.Na&&(a.g.re=0),a.fa=a.oz,a.V=a.vz,a.dc.current=1===a.V?a.Kc([1,1],!0,a):a.Kc([a.Wf(),1],!0,a),a.g.za=a.yi,a.eb.current=[a.yi,a.yi],
b=Math.sqrt(a.Ou),a.Ha.current=a.ff([b,b],!0,a),a.uh.current=this.vr([this.bv],!0,a))};ea.prototype.ox=function(a){a?(this.g.ga+=this.g.Aa,this.g.da+=this.g.qa,this.g.zoom*=this.g.Ha):(this.Cl(),this.g.ga-=this.g.Aa,this.g.da-=this.g.qa,this.g.zoom/=this.g.Ha,this.Cl());this.g.zoom<H.Mb?this.g.zoom=H.Mb:this.g.zoom>H.ac&&(this.g.zoom=H.ac)};ea.prototype.ex=function(a){a.la=0;a.Na||(a.g.Hf(a,a.wb),a.g.Fg())};ea.prototype.reset=function(a){var b=!1,c=!1,d=a.m.D();this.Xl=!1;this.Gk&&this.g.mj();0===
a.g.counter&&a.C.hb();if(0===a.la||a.Rm)b=!0;a.va||-1===a.Lb||a.g.counter>=a.Lb&&(c=!0);a.g.Hb=0;a.g.ee=0;c||b||(a.Ba&&(a.jb=!0),a.ib&&(a.Kb=!0),-1!==a.Lb&&(a.va=!0),-1!==a.fc&&(a.Jb=!0),a.xn&&(a.da=!1));a.la=0;a.g.Aa=0;a.g.qa=0;a.g.Ha=1;if(b){(this.g.Z||this.g.l)&&null!==this.g.bb&&a.pm&&(a.g.wb=!0);a.Ba&&(a.jb=!1);a.ib&&(a.Kb=!1);a.xn&&(a.da=!0);if(!c||a.Ba&&a.m.L||a.da)a.OC(a,b),a.da&&a.Nb(!0,!1,H.cg);a.va=!1;c||(a.Jb=!1)}a.Na||(a.g.Hf(a,a.wb),Array.uf(a.g.L,a.g.ra),Array.uf(a.g.L,a.g.v),a.g.I||
(-1===a.g.h?a.g.lf(a.g.va):a.g.ue()));a.Wb||a.g.Gg();a.g.Fg();a.Er=-1;a.mc=!1;a.m.Ua();a.nb&&(a.nb=!1,a.C.notification.clear(!0,!1));a.g.Rf(a.nb);b?d&&d.Gq?d.le!==a.Ee&&(a.C.notification.notify(Jb.$l(a,d.le),15,21600,15,!1),a.Ee=d.le):(a.C.notification.clear(!1,!1),a.Ee=""):(a.C.notification.clear(!1,!1),a.Ee="");a.vb=-1;a.g.Wf=0;a.Hm(a.g.counter);a.Rb=!1;a.Yw()};ea.prototype.yh=function(a){var b=this.g.Za;if(a){var c="pause";a="pause [Enter]"}else a="play [Enter]",this.g.Z||this.g.l?(this.g.wb&&
(b=!b),c=b?"reverse":"play"):c="play";if(this.g.Z||this.g.l)if(b=this.g.Za,this.g.wb&&(b=!b),b){var d="stepback";b="stepforward";var f="step back [Shift Tab]";var e="step forward [Tab]"}else d="stepforward",b="stepback",f="step forward [Tab]",e="step back [Shift Tab]";else d="stepforward",b="stepback",f="step forward [Tab]",e="step back [Shift Tab]";this.$b.h[H.je]=this.l.h(d);d=this.$b.S;d[H.je]=f;this.$b.S=d;this.$b.h[H.Bn]=this.l.h(b);d=this.$b.S;d[H.Bn]=e;this.$b.S=d;this.$b.h[H.ui]=this.l.h(c);
this.$b.S[H.ui]=a};ea.prototype.yB=function(a){localStorage.setItem(H.ky,"y");a.vx()};ea.prototype.Cc=function(a,b){b.zd=a;b.s=1;b.lj=!0;b.Sm=[];b.Tm=[];this.gr=!0};ea.prototype.wG=function(a){a.Cc(H.it,a)};ea.prototype.pE=function(a){a.Cc(H.tv,a)};ea.prototype.QF=function(a){a.Cc(H.Zp,a)};ea.prototype.CG=function(a){a.Cc(H.Iv,a)};ea.prototype.fE=function(a){a.Cc(H.os,a)};ea.prototype.NB=function(a){a.Cc(H.Nr,a)};ea.prototype.QA=function(a){a.Cc(H.Lt,a)};ea.prototype.RB=function(a){a.Cc(H.Qr,a)};
ea.prototype.jG=function(a,b,c){b&&(c.s=c.u[a][0],c.lj=!1);return a};ea.prototype.ir=function(a,b,c){b&&(c.be=a[0],c.be&&c.ik(c));return[c.be]};ea.prototype.RF=function(a){a.ik(a)};ea.prototype.kr=function(a,b,c){b&&(c.Rc=a[0],c.Rc&&(c.up=!0));return[c.Rc]};ea.prototype.re=function(a,b,c){var d=a;if(b){switch(a){case H.Yj:c.cj=!1;c.D||c.g.ha?d=c.wa.current:(c.bb=!0,c.Vc.current=c.he([!1],!0,c),c.yc=!1);c.En(c);c.bd&&(c.gd.current=c.wj([!0],!0,c));break;case H.Zj:c.bb=!1;c.Vc.current=c.he([!1],!0,
c);c.yc=!0;c.bd&&(c.gd.current=c.wj([!0],!0,c));break;case H.ti:c.bb=!1,c.yc=!1,c.Vc.current=c.he([!1],!0,c),c.En(c),c.bd&&(c.gd.current=c.wj([!1],!0,c))}c.Sm=[];c.Tm=[];c.ja.current[0]&&(c.ja.current=c.ef([!1],!0,c),c.C.i=!0)}c.Vt(d);return d};ea.prototype.Vt=function(a){if(this.s||this.Z)this.h.Z("grab");else switch(a){case H.Yj:this.h.Z("auto");break;case H.ti:this.h.Z("grab");break;case H.Zj:this.h.Z("crosshair")}};ea.prototype.Bw=function(a,b,c){b&&(c.Gc=a,c.qm(),c.Me.current=[!1],c.C.i=!0,c.ua?
c.ls(c,a):c.C.notification.notify("Clipboard "+a+" active",15,80,15,!0));return c.Gc};ea.prototype.cE=function(){return H.hw[this.Nf.current]};ea.prototype.rr=function(a,b,c){b&&(c.Mf=a,c.Fa=H.hw[a]);return c.Mf};ea.prototype.jB=function(a){a.D||(a.Mf+=1,3<a.Mf&&(a.Mf=0),a.Nf.current=a.rr(a.Mf,!0,a))};ea.prototype.Uq=function(a){var b=-1,c,d=0,f=0,e=0,g=0;for(c=0;c<a.length&&-1===b;){switch(a.charAt(c)){case "N":d+=1;break;case "S":f+=1;break;case "E":e+=1;break;case "W":g+=1;break;default:b=-2}c+=
1}if(1<d||1<f||1<e||1<g)b=-2;-2!==b&&(b=d|e<<1|f<<2|g<<3);return b};ea.prototype.AA=function(a){var b=-1,c;'"'===a.charAt(0)&&(a=a.substring(1,a.length-1));if(this.g.o)for(c=0;c<this.He.length&&-1===b;)void 0!==this.He[c]&&this.He[c]===a&&(b=c),c+=1;else if(2>=this.g.h)if(this.g.I)for(c=0;c<H.He.length&&-1===b;)H.He[c]===a&&(b=c),c+=1;else"alive"===a?b=1:"dead"===a&&(b=0);else if("dead"===a)b=0;else if(this.g.l)b=this.Uq(a);else if(this.g.m)for(c=0;c<I.Dn.length&&-1===b;)I.Dn[c]===a&&(b=c),c+=1;else if(this.g.B)for(c=
0;c<I.Cn.length&&-1===b;)I.Cn[c]===a&&(b=c),c+=1;else"alive"===a?b=1:"dying "===a.substring(0,6)&&(b=Number(a.substring(6))+1,b>=this.g.h&&(b=-1));return b};ea.prototype.bh=function(a){var b="";if(this.g.o)b=void 0===this.He[a]?"state "+String(a):this.He[a];else if(2>=this.g.h)if(this.g.I)b=H.He[a];else switch(a){case 0:b="dead";break;case 1:b="alive";break;default:b="state "+String(a)}else 0===a?b=this.g.ha?"state 0":"dead":this.g.l?(0!==(a&1)&&(b+="N"),0!==(a&2)&&(b+="E"),0!==(a&4)&&(b+="S"),0!==
(a&8)&&(b+="W")):b=this.g.m?I.Dn[a]:this.g.B?I.Cn[a]:this.g.ha?"state "+String(a):1===a?"alive":"dying "+String(a-1);return b};ea.prototype.xr=function(a,b,c){var d=a;b&&(2>=c.g.h?c.Se=a:(a+=c.ec,c.Se=0===a?0:c.g.ha||c.g.l||c.g.o||c.g.m||c.g.B?a:c.g.h-a),c.th?c.C.notification.notify("Replace: Now click on a cell",15,180,15,!0):(c.Vc.current=c.he([!1],!0,c),c.C.notification.notify("Drawing with state "+a+" ("+c.bh(a)+")",15,120,15,!0)));return d};ea.prototype.Nd=function(a){var b=this.g.h,c=this.sc;
-1===b&&(c=b=2);this.g.I&&(c=b=7);a<b&&(a>=c?(this.ec=a-c+1,a=c-1):a>=this.ec?a-=this.ec:(this.ec=a,a=0),this.Ta.current=this.xr(a,!0,this),this.ll.current=this.zr([this.ec/(this.g.h-this.sc),0],!0,this))};ea.prototype.tG=function(a,b,c){var d=0;if(b)for(;d<a.length;)a[d]&&(a[d]=!1,c.Ta.current=c.xr(d,!0,c)),d+=1;return a};ea.prototype.KA=function(a){var b=0,c=this.Se,d=this.g.ib;var f=this.$;var e=d.F,g=d.J;var k=d.H;d=d.K;var l=(this.g.width>>1)-(this.v>>1)+(this.R<<1);var p=(this.g.height>>1)-
(this.A>>1)+(this.Y<<1);2<this.g.h&&!(this.g.ha||this.g.l||this.g.o||this.g.m||this.g.B)&&0<a&&(a=this.g.h-a);this.M&&(e=f.F+l,g=f.J+l,e>g&&(l=g,g=e,e=l),k=f.H+p,d=f.K+p,k>d&&(l=d,d=k,k=l));if(c!==a){for(;k<=d;k+=1)for(f=e;f<=g;f+=1)p=this.g.Ta(f,k,!1),2<this.g.h&&!(this.g.m||this.g.B||this.g.l||this.g.o)&&0<p&&(p=this.g.h-p),p===a&&(this.pa(f,k,c,!1),b+=1);0<b&&(!this.g.I&&!this.g.m||6!==a&&6!==c||this.g.gb(),this.T("replace states"))}else this.C.notification.notify("Cell and drawing state are the same",
15,120,15,!0)};ea.prototype.Wn=function(a,b,c){var d=a.Se,f=a.g.ib,e=0,g=0;if(0<d)if(2<a.g.h&&!(a.g.ha||a.g.l||a.g.o||a.g.m||a.g.B)&&(d=a.g.h-d),a.g.I&&1<d&&(g=d&1),a.g.I&&b)if(c){for(c=f.H;c<=f.K;c+=1)for(b=f.F;b<=f.J;b+=1){var k=a.g.Ta(b,c,!1);3<=k&&5>=k&&(a.pa(b,c,k&1,!1),e+=1)}0<e&&(a.g.m?a.T("clear [R]Super marked cells"):a.T("clear [R]History marked cells"))}else{for(c=f.H;c<=f.K;c+=1)for(b=f.F;b<=f.J;b+=1)k=a.g.Ta(b,c,!1),1<k&&(a.pa(b,c,k&1,!1),e+=1);0<e&&(a.g.m?a.T("clear Super cells"):(this.g.gb(),
a.T("clear History cells")))}else{for(c=f.H;c<=f.K;c+=1)for(b=f.F;b<=f.J;b+=1)k=a.g.Ta(b,c,!1),k===d&&(a.pa(b,c,g,!1),e+=1);0<e&&((a.g.I||a.g.m)&&6===d&&this.g.gb(),a.T("clear state "+d+" cells"))}return e};ea.prototype.vd=function(a,b,c){var d=a,f=c.Jb,e=c.va,g=c.jb,k=c.rc,l=c.da,p=c.Kb,n=40,q=0,m=0,r=0,u=0,t=0,w=0,y=0;if(b){c.cj=!1;switch(a){case H.Tt:c.rc=c.Rm||c.Pb&&0===c.g.counter&&0===c.la?!1:!0;c.Pb&&!c.rc?(a=H.ui,c.Fb=!0):(a=H.je,c.Fb=!1);c.T("");c.reset(c);b="Reset";!c.va&&e&&-1!==c.Lb&&
(m=1);c.va&&!e&&-1!==c.Lb&&(m=-1);!c.Jb&&f&&-1!==c.fc&&(r=1);c.Jb&&!f&&-1!==c.fc&&(r=-1);!l&&c.da&&(y=1);l&&!c.da&&(y=-1);!c.jb&&g&&(u=1);c.jb&&!g&&(u=-1);!c.Kb&&p&&(t=1);c.Kb&&!p&&(t=-1);!c.rc&&k&&c.Pb&&(w=1);c.rc&&!k&&c.Pb&&(w=-1);if(0!==m||0!==r||0!==u||0!==t||0!==w||0!==y)b="",0!==m&&(q+=1,b+="Loop"),0!==r&&(0<q&&(b=0<Math.abs(u)+Math.abs(t)+Math.abs(w)+Math.abs(y)?b+", ":b+" and "),q+=1,b+="Stop"),0!==u&&(0<q&&(b=0<Math.abs(t)+Math.abs(w)+Math.abs(y)?b+", ":b+" and "),q+=1,b+="Waypoints"),0!==
t&&(0<q&&(b=0<Math.abs(w)+Math.abs(y)?b+", ":b+" and "),q+=1,b+="Track"),0!==w&&(0<q&&(b=0!==y?b+", ":b+" and "),q+=1,b+="AutoStart"),0!==y&&(0<q&&(b+=" and "),b+="AutoFit"),b=0<r||0<m||0<u||0<t||0<w||0<y?b+" On":b+" Off",n=120;c.C.notification.notify(b,15,n,15,!0);break;case H.ui:c.Fb?(c.Fb=!1,c.T(""),(c.g.counter!==c.fc||c.Jb||c.ed)&&c.C.notification.notify("Pause",15,40,15,!0),c.oh=performance.now()-c.oh,c.Jm&&c.C.notification.notify("Playback time "+(c.oh/1E3).toFixed(2),15,300,15,!1)):(c.Ba&&
!c.jb&&(c.g.Z||c.g.l)&&(c.g.Za||!c.g.Za&&c.g.wb)&&c.iw(c),c.Fb=!0,c.T(""),c.Km&&Ba.Fv(c),c.C.notification.notify("Play",15,40,15,!0),c.oh=performance.now());break;case H.Bn:if(c.Fb)c.Fb=!1,c.T(""),c.C.notification.notify("Pause",15,40,15,!0);else{if((c.g.Z||c.g.l)&&null!==c.g.bb){c.g.wb=!c.g.wb;c.g.wb&&c.T("reverse playback");c.T("");for(f=0;f<c.V;f+=1)c.oi(),c.ha=c.g.counter*c.I,c.pf()&&-1===c.vb&&(c.vb=c.g.counter,c.ed&&(-1===c.Lb||c.va)&&(c.g.l||c.g.Z?c.C.notification.notify("Life ended at generation "+
(c.g.Hb+c.Ja),15,600,15,!1):c.C.notification.notify("Life ended at generation "+(c.g.counter+c.Ja),15,600,15,!1)));c.g.wb=!0}else 0<c.g.counter&&(c.Hm(c.g.counter-c.V),q=c.g.s,c.Nq(c.g.counter-c.V),0===q&&0<c.g.s&&(c.vb=-1),0===c.g.counter&&(c.g.I||(-1===c.g.h?c.g.lf(c.g.va):c.g.ue())));c.da&&c.Nb(!0,!0,H.cg)}break;case H.je:c.Fb?(c.Fb=!1,c.T(""),(c.g.counter!==c.fc||c.Jb||c.ed)&&c.C.notification.notify("Pause",15,40,15,!0),c.oh=performance.now()-c.oh,c.Jm&&c.C.notification.notify("Playback time "+
(c.oh/1E3).toFixed(2),15,300,15,!1)):(c.nd=!0,c.T(""))}d=a;c.yh(c.Fb)}return d};ea.prototype.qg=function(a,b,c){b&&(c.mc=!0,c.g.angle=a[0]);return[c.g.angle,c.g.angle]};ea.prototype.Oj=function(a){var b=.5/(.5-H.Rj/2);a=(a-H.Wo)/(H.It-H.Wo);a<.5-H.Rj/2?a*=b:a>.5+H.Rj/2?(a-=.5+H.Rj/2,a=a*b+.5):a=.5;return a};ea.prototype.bG=function(a){var b=.5/(.5-H.Rj/2);a<.5-H.Rj/2?a*=b:a>.5+H.Rj/2?(a-=.5+H.Rj/2,a=a*b+.5):a=.5;return(H.It-H.Wo)*a+H.Wo};ea.prototype.zj=function(a,b,c){b&&(c.mc=!0,c.g.Gb=c.bG(a[0]));
return[a[0],c.g.Gb]};ea.prototype.Hl=function(a,b,c){b?(c.mc=!0,c.g.za=a[0]+.5|0,a=a[0]):a=c.g.za;return[a,c.g.za]};ea.prototype.ff=function(a,b,c){return b?(c.mc=!0,c.g.Ub=a[0]*a[0],[a[0],c.g.Ub*H.il]):[Math.sqrt(c.g.Ub),c.g.Ub*H.il]};ea.prototype.pC=function(a,b,c,d){var f=Math.round(-this.g.O/2),e=Math.floor((this.g.O-1)/2),g=Math.round(-this.g.M/2),k=Math.floor((this.g.M-1)/2),l=this.Se;if(-1===c&&-1===d){if(-1!==this.g.D&&(0===this.g.O&&(f=-this.g.width/2,e=this.g.width/2-1),0===this.g.M&&(g=
-this.g.height/2,k=this.g.height/2-1),this.xj(a,b),c=this.Bc-this.g.width/2,d=this.Ec-this.g.height/2,c<f||c>e||d<g||d>k))return!0;this.xk=this.bx();2<this.g.h&&!(this.g.ha||this.g.l||this.g.o||this.g.m||this.g.B)&&(l=this.g.h-l);this.xk=this.zh&&this.xk===l?0:this.Se}else this.xj(c,d),c=this.Bc,d=this.Ec,this.xj(a,b),a=this.Bc,b=this.Ec,this.lC(c,d,a,b,this.xk)&&this.g.gb();0<this.g.s&&(this.vb=-1);return!1};ea.prototype.DG=function(a,b,c,d){d.kd&&!c&&(d.$b.current=d.vd(H.je,!0,d))};ea.prototype.eG=
function(a,b,c,d){d.Ua||d.Ew(a,b,c,d,!1)};ea.prototype.WB=function(a,b){b=(a.Hc-b)/a.Ok;-1!==a.Hc&&(0<b?a.zm(a,b):0>b&&a.Bm(a,-b))};ea.prototype.SB=function(a,b){b=(a.Hc-b)/a.Ok;-1!==a.Hc&&(0<b?a.vm(a,b):0>b&&a.xm(a,-b))};ea.prototype.hC=function(a,b){b=(a.Hc-b)/(24*this.h.s);-1!==a.Hc&&(a.g.cb+=b,0>a.g.cb&&(a.g.cb=0),a.g.cb>a.g.Wc&&(a.g.cb=a.g.Wc))};ea.prototype.$B=function(a,b,c){b=(a.lh-b)/a.g.$;c=(a.Hc-c)/a.g.$/a.g.hj();if(!a.da&&-1!==a.Hc){var d=a.g.ia||a.g.W?0:-a.g.angle;if(a.Va)a.Ba&&!a.jb&&
(a.$b.current=a.vd(H.je,!0,a));else{var f=Math.sin(d/180*Math.PI);d=Math.cos(d/180*Math.PI);a.mc=!0;a.g.ga+=b*d+c*-f;a.g.da+=b*f+c*d}}};ea.prototype.CB=function(a,b,c){var d=a.Fb,f=a.La,e=!1;a.Vd||(a.Fb&&a.aj&&(a.Fb=!1,a.cj=!0),d&&(a.La=0,a.T(""),a.La=f),e=a.pC(b,c,a.lh,a.Hc),d&&a.T(""));return e};ea.prototype.dC=function(a,b,c){a.ua||a.uB(a,b,c)};ea.prototype.xA=function(a,b){var c=this.g.width>>1,d=this.g.height>>1;this.kc?(c-=Math.floor(this.ra/2)-this.R-this.R,d-=Math.floor(this.qa/2)-this.Y-
this.Y):(c-=Math.floor(this.ra/2),d-=Math.floor(this.qa/2));0===this.g.O?(a.F=0,a.J=this.g.width-1):(a.F=Math.round((this.g.width-this.g.O)/2)+b,a.J=a.F+this.g.O-1);0===this.g.M?(a.H=0,a.K=this.g.height-1):(a.H=Math.round((this.g.height-this.g.M)/2)+b,a.K=a.H+this.g.M-1);return[c,d]};ea.prototype.uB=function(a,b,c){var d=a.$,f=new Oa(0,0,0,0),e=(a.g.width>>1)-(a.v>>1)+(a.R<<1),g=(a.g.height>>1)-(a.A>>1)+(a.Y<<1),k=a.g.Z?-1:0;-1!==a.g.D&&(g=a.xA(f,k),e=g[0],g=g[1]);if(-1!==b&&-1!==c)if(a.M&&a.Pk(a),
a.xj(b,c),-1===a.Hc)a.jy=b,a.ny=c,a.M=!1,a.Mc=!1;else{if(a.dd)d.J=a.Bc-e,d.K=a.Ec-g;else if(b!==a.jy||c!==a.ny)b=!1,-1!==a.g.D&&(a.Bc<f.F||a.Bc>f.J||a.Ec<f.H||a.Ec>f.K)&&(b=!0),b||(a.dd=!0,d.F=a.Bc-e,d.J=d.F,d.H=a.Ec-g,d.K=d.H);a.dd&&(a.yw(a),-1!==a.g.D?(g=a.xA(f,k),e=g[0],g=g[1]):(e=(a.g.width>>1)-(a.v>>1)+(a.R<<1),g=(a.g.height>>1)-(a.A>>1)+(a.Y<<1)));a.dd&&-1!==a.g.D&&(f.F-=e,f.J-=e,f.H-=g,f.K-=g,d.F<d.J?(d.F<f.F&&(d.F=f.F),d.J>f.J&&(d.J=f.J)):(d.J<f.F&&(d.J=f.F),d.F>f.J&&(d.F=f.J)),d.H<d.K?(d.H<
f.H&&(d.H=f.H),d.K>f.K&&(d.K=f.K)):(d.K<f.H&&(d.K=f.H),d.H>f.K&&(d.H=f.K)))}};ea.prototype.Pk=function(a){a.M=!1;a.Mc=!1;a.T("cancel selection");a.dd=!1};ea.prototype.OB=function(a){a.ua?a.Ds(a,a.Bc,a.Ec,!0):a.pB(a)};ea.prototype.ik=function(a){var b=a.$,c=a.g.A,d=b.F,f=b.H,e=b.J,g=b.K,k,l=0,p=(a.g.width>>1)-(a.v>>1)+(a.R<<1),n=(a.g.height>>1)-(a.A>>1)+(a.Y<<1);a.g.Wb=!0;a.g.ec();if(d>e){var q=d;d=e;e=q}f>g&&(q=f,f=g,g=q);d<c.F-p&&(d=c.F-p);f<c.H-n&&(f=c.H-n);e>c.J-p&&(e=c.J-p);g>c.K-n&&(g=c.K-n);
c=e+1;q=d-1;var m=g+1;var r=f-1;for(k=f;k<=g;k+=1)for(f=d;f<=e;f+=1){var u=a.g.Ta(f+p,k+n,!1);0<u&&(k<m&&(m=k),k>r&&(r=k),f<c&&(c=f),f>q&&(q=f),l+=1)}0<l&&(b.F=c,b.H=m,b.J=q,b.K=r)};ea.prototype.pB=function(a){var b=a.$;if(a.dd)if(a.M=!0,a.dd=!1,a.Mc=!1,a.be&&a.ik(a),a.M){var c=b.J<b.F?b.F-b.J+1:b.J-b.F+1;b=b.K<b.H?b.H-b.K+1:b.K-b.H+1;a.T("selection ("+c+" x "+b+")")}else a.Pk(a)};ea.prototype.KB=function(a,b,c){-1!==b&&-1!==c&&(a.ur=!0,b=a.bx(),a.th?(a.KA(b),a.th=!1,a.Vc.current=a.he([!1],!0,a)):
(a.xk=b,a.Nd(b)))};ea.prototype.GB=function(a){a.cj&&(a.Fb=!0,a.cj=!1,a.C.Ge(!0));0<a.La&&(a.g.ec(),a.T(""))};ea.prototype.Ew=function(a,b,c,d,f){var e=!1;-1!==a&&-1!==b&&d.C.l&&(c?(d.ja.current[0]||(d.s?d.WB(d,b):d.Z?d.SB(d,b):d.Rb&&1===d.Gd&&0!==d.g.Wc?d.hC(d,b):!d.bb&&!d.yc||f?d.$B(d,a,b):d.bb?e=d.CB(d,a,b):d.yc&&d.dC(d,a,b)),e||(d.lh=a,d.Hc=b)):-1!==d.lh?(d.s||d.ja.current[0]||(d.bb?d.Vd?d.KB(d,a,b):d.GB(d):d.yc&&d.OB(d)),d.lh=-1,d.Hc=-1):d.s||d.ja.current[0]||(d.Vd?d.th?d.C.notification.notify("Replace: Now click on a cell",
15,180,15,!0):d.C.notification.notify("Pick: Now click on a cell",15,180,15,!0):d.ua&&d.C.notification.notify("Now click to paste",15,180,15,!0)))};ea.prototype.rf=function(a,b){this.da||(8>this.g.zoom&&(0>a?a=-8:0<a&&(a=8),0>b?b=-8:0<b&&(b=8)),this.Hc=this.lh=0,this.Ew(a,b,!0,this,!0),this.Hc=this.lh=-1)};ea.prototype.YA=function(a){var b=H.No;null===b&&(b=new Image,b.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB1gAAAAoCAIAAADc7r8hAAAABnRSTlMAAAAAAABupgeRAAAUhklEQVR4nO2dS7LEpg6G3beyk2wqyzjjzDPPjsnA91A0LwshCYH/b9DVDRiJlwAZu68LAAAAAAAAAAAAAAAAAAAA7MXPz49q+JvRrlvUOVjSl35+fjrp9WIBAAAAAAAAoAP22rL8sVoBAOQJIWQhn8/HIOdVclcRQrBRw0wQAC+BtzaaiU25R7TNJ1ElsDuYjwAAGvCGPAwFAEAWrHOALHAEg2PRMGF9t+9aufaUrhaRmUMjzwNAPRzJz8/Pv//+W4bohd+Ugbcbt5pYJDYCLzDQAPMRAIDN0Ein2AEYCgCALAvXOdH5oGHZVDMHHf63WgEAVLhtpV7+Lcu7Su4q3lZeAGS5fbXxZ/Tb6oVX1Wj5izVizbzAfu6ZARswH4HrusI3q9UBe5AN7dSYlKMedgAAsITl6xxx6ZimFwJHMDgWPVvZt5Kr5K7ibeUFQJboq818ptrhHU00YuP37MSu0iesxzvBfDTq/dxuDxaeuK7r8wsxPQAZQ+O92pHQtQAAGixf5whKh51cC14NAU5Gwx1AyXCV3FW8rbwAyNJ6h4N2+I3lceDLxEub+ZrBKqpH6tJ1/1A4sTUxH12D2zl26dhbuMnKbF1eFiT6gjuXzGgCToXSc9I0Nh1pO0MEANDAfp2TWTkR6ZnZ3NS4tdauW4ATweBwZNdndMO3Su4q3lZe0MLhGSuHKrmienx4PrblI862zdVzea3zeo/h98+ZJfKS84NLhB7MwvnIT2M9aiKi6meceaEAZkGV0L75FGs+RqWPoaRp0gPpNmoz0Jh/PcsF4Bjs1zlZgvnx28kc2DD1InwNWn169Gb+kPJpJjOlFq80KcXYoqNQkXqm5JPJlUKkaRiZGMjtPI6tRPaUdxYrfodQJM+OLGLma+v5UrPJstkuNFlVNlpntNymSuHxZzW9XuxN2uuqW+5WR3oMz45o9Vu8TEBcVetN9HShoyO3WnXaA5Y4oUtV+/L5SGkBMwqxWatDb1QQ49rJSadzeacjPZ7rtEFqTRi/P5o4YspRuXScy6W3SHW+mDTLo/rMxLYuub8Izr+e5YogPor7LJ9QgCucrHPKlEPjl7g7M95699+e18LbzleGVffZQgOp9I+ZTKrNu/xRK+O2KCWK1DMlH/vCHknnL6FEws9gfnBZ1rPGoBC3e2WVLhzOIibLhvgOX7PwVkrt2Ou3J4v3kLIrUtJTpjnVjsQTylCjn49giRiY1bYBTrR9rD2Ruu1nPnrVpFAPuVHEzRefPjpkB9HjOFUavKvkVjUpv1cDs5AhfXjKs68SbCP/ckXEzUv00JnfyZL6PK8pJ/vnzOUO/Rtbt+/zqyE2LZgZgvVDz0q1UZw0txM1wMFkdyxf2OXiI42Ma0N385OFL1l4DYUvJJ6cbb1aQSNc9X/h+gus7Kyu1NPiaT5h8KWN5fB/fKR93mIsEQpeQus8TisEWMKu/+qFaM1JqnY11By4cVpJw9OxVs47jFXW0OQVteVNoxrzr2e5bGQ3+waXgJKFW5LD4D1LV018zhHaPaH+WVzw8bybK2TtCMU8ZVHsiZ+ihgc0CgjAlRg0xoL7JE4dYhu1afb+hPivbnrhUW72paWeVGwUHWjvbZhhKH/6qvTz+96J9Nr5+ygMoQyJ4G18vl9aWu1jSmPwyGklIjIAGaajvzs4u85VKdeB0dub3VCJbsfHpeNki5TX9qcMqdZPZ2f6p4hot2DCPQMDF8qr+LD+Ow5eYG9QHcE3cAffiM8KM6cDBJvD4Wz3Nkt9kokc7U72hU2X9Q47v3N4i4ChlAwe29HbmCrfSFV6b2XD09iqAjd6sQa7R/YelZKe3fMFhVoS5XobO4CH0gq2PIOMDtNn1HTExK3jqJb05eoZKw255XxR9cNGI1w95BsvZxwBflSvKk5WygUvcIHBnLtqHL2N1rMUh3XgbLWWWony+zVtQEYXwye5OI5hzBF88+YV3sFG2W3RzrPU74HecJbdL1qw+KiX2cNlrhBxYDEeYBQR3ckcUBD5O7h+zi28nQhOrxrKf1yv/8Pz46zyBUe5jLWf1HJxl2Vn6yDhTJ6T5wo7h4K167N/grUVJdVbGOn9dzCgQcftm7mGS198x3csQv8sv+w0yvACn7pBw2LyJF71LEVanP53kU5O9wXDC+yT53cEt4g+lJegWl72eJAaSM6b0rl6YDvKNT36mAGqlUzJHCuPCNuTm8ZW/5WuE3uT7R6lRl+aT3p6aygHemK2p499ms/eRqkaxmrOu4/Qzy/VQB7zKsXvaYPK+o+qLmb7wmYqLRE9pKS9UNCibI5qA6WnBz61WUDQZj56qT7Tdwer8+bQZ5nPqFwp/UXAdgCARzprierwaXmBMdyWw3cE37yhCReW0WaRukULbqEk8A/uSd5o3AbP6tZ4zD4Wh1Le0EU2jRPs/zUusLy0Q3y4J5WGtKp6Aej5D6m3sNuE5BU6gnm2ol5rk/Uwq9Jo37xZOVkYXuZyJY9+7pnP74m52J/j99bkFS+JX0w1loDhBd6xmC0cLs9WIV4Va+u26kgx8K7YM1QcwbL3fcEB++4RpPaPxHw4r4aoCrtObNq1ZqsaIq7SRtMeb2N/PC1HjF54/7lvz8xYKtRzFT87gb4a9EZvpSyXMiKbovL4bfVP3gTDR/WRio2wvbR0QnFeiYjbKcZ+oKVeD1lf8GNB/FiVY4hVurxuF+4X/GxVPOgAKHxqp1/jl2yKSUfW/DRHvFxwPmV4gc/oyZhuqgj2q/lMgHOypUXsPPAC8xjaY6qY4r4jmeJjlpUrlf4xk362GsWfLy9DKLGYjymlJDJUAh20vZYUhhrLoGVbXWi0X9l7hG+ISlKSTdZ2WWOPw1Z7IKd5zsjqJE7zb312dOjok7a45feqDtUEIrGRtNIutUdExftYXy5RnFL/1yDU5mWRbIkjVM9c6OFZ4aiYoIYUg9lSYzRDeho90fOIDyKplK+VO6Qhsf9kyXiVoFSE8tpS89HPMp9RuVL68y5nMK+z/TiiIyh3VRFcKWMmd3QMzgiqXj46ahh14sG/kSHbvoGwx6wq0NGq0xazr4YgarMRxvpXZXX8+tUonsKbNtOmal/FmGSnOYNVpes/wLI76ZyhKkJbyhDh+5yXwQ3nIHo0Jr5CITtRqx1eonccOF1ylaerRJoszSdwD2iDm5n+3M+Wnni7kyPh99y05763XLGFT+N6eBB4uQKqVNeu7AWtbG4t0lkj/dLanbViO09tEht9vmiMHKrzJuNE8Ojg0pj3hzh+kxUJ42SXz4gW1ARMIlifrXE36r/yMCk7pG9sO1cxZMm8GqIkfO/MgTe2Nq+U8QCc46oFXSkjQmeMCA4fdlaCFf4412g07tAzOxRa73DQDs8S2MTSlzVsTnpq1Z5WT0Z99vFcP2WbllZLz/VfPj5vc7tulejX0pkHGdUumxtF3JWsaqru0RieJc50bsVSFJgvwszlLQdE/3NSbWO23v8ugdfKqGd7+s1UGislHcqm385KdOh3bJGyU/aYVTUYQ1XLEQwAABmphTJePlZ3gIdtC7MqtSkdox21vcAxUK+PdTZFGuIOw2D3uO8e9WyGxsimo8nhtJJ5e+PPcspwpTbYEVkvgLZPIZ24Wz7ccoHRn1xiLM8dvJA3eIEBeBUL990iEN84JxVO/5uTx2QxMTFliuUeU8sRvF1Xextb+yzQuzYlbbjlXuDDqJ5MKcPn1wHE25IGPDr3DQ6cHuMFjv8sZxCLE8E7wl7OXoXljyMl3Z+0Qlr5+MR5r4uGsaqnxqipShHM36fol5PNhrJLDo3+2fL5lilvylPDaWD6ZUZh4ngUHLMML7Bzi1clbR1LWif47i+eq5Gn2+6r4h1p7QTL79XEUjpQFCNSemZbTzdKhVMg9u1549/ZY2azD1ui/DuC413QTTHWvyqr072qUWwbzbhqOZuqDSJB/z22pTh6+I48Hk6RrXMPY3DtEW/x7VDLl6odnqH6goj4Pauu2D8nSfM5wDW/hLsOs1WQgXOwVENQnBnefCLhl9WKXFcyPO1V0hPtpG4dQnGtrsqtpGzHzh2pLCp2qlTJGOLKIFSpzpsML/Do4NKY94ewbx3ibQYNuaNI6VZmNaMJYCO+726Nu1H/lZ8lyiiPnXOm9/L2mDyJko7gkwatZVlmZE3quV17badwCmV6e8MU+FE+rdkRGtniJjyRx+nh7kuyc+3aelvrBb6kTwTH+9KZL1U7vEzQV08q1sBLS1w2zcMuxS5rXyU9O02zS81UCQnVQAZsNbK1xCdx2XRWIFvXvyWoqD6yi1jVJXGac9msqQ8lHURExWb6yeN4lJ3mWgub/qeU9CUYb7WqsjxvQ+Z181y68+jM7GWseNNk1qAcXLubi4xOBU7WLcPY8h2JrYih1hLsTC25LRGj6R8zKS+0qYqqlP7qZEbco+gsf5F6puRDUeYYSqNZhjxm8njKTxziwxRDK1Qlr026WC/DhyQur+eyikZLIVvJvBl9XoFqqRkN2sm8xYfwRCE9zU3pKo2nd5XCS7I0ej8j4fsk0SXdMQL5FrqI0BuKrNH0xmQ11rKfQxlSLicaE4c15pBWt4/h/XEhNXHzRh/lqsc0eqLTxPeXJX2SbkZkDY5z83WxNIw2KpuVssFSzimWs0x/RE9mftXmTfpnmc+oXCn9RbIiMiNx1filI1irShnOqHFjX5/2cvUoG7TjvniMGt2ML381REppNyabWMrhO5tPoEHUhs6oIBHFZgRJVQgxfylxROn0BN4EbUFZRqlS671Jnc6Q/kpNXK1JwU5lWc96pWDTGq0dRCRSArfGsl9V3yOhFHsTbV38KdJ8WT4GXYLXsQWHgywtU2kmWs9uvIpWdaUjjnH5aGJeq1GuekyjJzqmFIGhZKmAVEpZuavgaRi+l9/VWEpgmSFdB4qGdAWGcg7FvDn6WeYzKldKf6kM9QZvKmVImUmJ4FpXn2ZyGXaPLSizG/0ythIw6sSDfyNj63HKfzWE8fMUy1EtL7vrSPU5503pXD3gn9JA796pqk/6LNHBjKB5FvhtiLwLuLyd3o+9yU4SSc2taT5B/6nVNPMh/R8f9HGCZ91Ai9A+JKg0IpQcJW45uGivJU5Jj6uL8Ov9pIymLUx9dd5knAgencc15n0RbJwbb3OhvJPqbHjGFJnZjSyqmj79GS85YyCkZnCtJgz+YFyzYzmliI/PrFZEHu1tM5s397fd8daj0rlnrSYieCjFkN2YVxheYCmix7bqrtWLvUyeqNXOX9CyqerJgO3gBtdxU8wjnWJ6m/0B6NDfyUcrHT/D91sRsqvKTCYNQrnQ0rAwDC+wt/lLioM3++Bs0m1RtiCpRomIi3SsQWbEDjMd+5ZlzBG8bzllEZ8h2E5Y8Ruh3qY9dLl9Qdu9BKLdmOwPpQh4gWeI53b7j0cJxka/sMHuUXWPOr8hP3tB/Fr6viE/dIaGZ7Wd4HCdXFLVUPYuRSnCvufoNcTj6iKNilvC/n2ReV/wzOUU4AXOgDsYzNCZLJQGTv+OVGm1JhldDGPp6xCqIxhNVSI7Q8Th0TpsX0bp3RAWz5bH8b1O/NQAoIBKFsfebhzjBV71Z3GP53b1Yvc9ESzo+ygXxDO5aSC4T5jPymH9lDhXD0iRDl6fjW7vgNidbL54vE1S+kOrUf0MRzVMfyptABmfxwN3MGBTNcVnDByeRYIv2BvP7whOpzdQIlg/9KxUG8VJcztRAxwG+tWOZA80ZfuurcleyBv9tnrhWYIqerFX7blakS1Wmk/cis9nG3MWX82XfbglaHeyEoWEO6Ssik+CnaISRAO1WpEe9+jI9mP+1faD/4qqauhf7SXEnh8HRTY6SkMdw8tR89dff/39999ZhvN8vhHJ81r3p22r5LLZcTICHijXNqs0EWTmvlTLnIIl9BzBsHp0NOpqoe1Y3u7iCkgtOHaRa0YosM+zTB+K0zqb+hRASnRVHNaO0VebuVC1w6+R/4UTjA01L+2jr/AxPP1Z3Z8LInsDWCSfITrWcmtT6WE+umtv1azdER2KI4rRHXykXdXGf3Ud6YDQ4PP9RGZrOGTrySww8ueff/7zzz9lyknELVuWeUsWMXwvuWxgJwGDjrlgsHydExpeYPr43doXXNZVn9X6PgBzBg4kfG94gpxHoJ/zErn913Rq0Hni+1r0FHBpasXXasvrWbA7AYe0DtJqh4+mpMd2UobvE8H3l8zExe9D4elOXmrItFa9ghiIeBv281EonhyfFM2jJdpYJZ44ylWPafRE74jUQHgV4dsvfBEqMEuWzkGeu5bG/OtZLgAnsWSdk/4UGb9lVMR4603ZJY36dmGdALAmHaXid2M6ma+SW9IynVLhJeH3eTpiepusNNCu2845SoJ2YFdW9assqkwmFRuxGeAYL29m1XxUPQMyen4kg6dztmCwHw565X1MY1nV4LWkfabVeWQ7FToqACASzNc54jMmI0N7/0bGYeuK53cEA7AvQeE+POWpz1VyV/G28gJwEsYviDA4IRVE3xEM9mLhfFR9scZnDp62n9WvfVAtr+y+a6aqwduIHSyOssvqzBc6KgDgxn6dk0WJSM8y2WLRrrGkWQgcweBY9HwNj7ZyidxVvK28Cxm9DznK6vK9l/stCtUTtarh1WRKsfF7SLy0Sp8f30/jAj0wH0V22YeMMroN232fBmwgju5P8r6Ix2vRuwAA4ixf5whKh5FcCxzB4Ey0vQAtW7lK7ireVt6FiO9+sR92QnShZr5a7fAUy0PBn+83J6p+trQCR4L5CADAozQd/cEe8PJlAIA52TpH3AQ9rnM0JMpmCOj8sVoBALRIDZmUlaFsAlfJtafcdYuUt8wTh/vAqWQHaW+3afzUCI9yW/r0tWXHRsy8wDAarwLzEQBAkE/y16PVqAvuYACAIUrLD8o6R/suu17moAMcweBA9AxKP+dVcldhppXP4gMwT/k6hdJ7Kxveknu7cVvp52Mj93C2+QTvAfMRAECcVct+AADIwDoHAAAAAAAAAAAAAAAAAAAD/AeJ2dhmPxHyugAAAABJRU5ErkJggg==",
H.No=b);this.l=new sb(b,a);this.l.add("play",40,40);this.l.add("pause",40,40);this.l.add("tostart",40,40);this.l.add("menu",40,40);this.l.add("stepback",40,40);this.l.add("stepforward",40,40);this.l.add("autofit",40,40);this.l.add("fit",40,40);this.l.add("grid",40,40);this.l.add("shrink",40,40);this.l.add("draw",40,40);this.l.add("hexgrid",40,40);this.l.add("lines",40,40);this.l.add("pan",40,40);this.l.add("pick",40,40);this.l.add("states",40,40);this.l.add("hexagongrid",40,40);this.l.add("trianglegrid",
40,40);this.l.add("inside",40,40);this.l.add("undo",40,40);this.l.add("redo",40,40);this.l.add("drawpause",40,40);this.l.add("invertselection",40,40);this.l.add("autoshrink",40,40);this.l.add("selectlibrary",40,40);this.l.add("cut",40,40);this.l.add("copy",40,40);this.l.add("paste",40,40);this.l.add("flipx",40,40);this.l.add("flipy",40,40);this.l.add("rotatecw",40,40);this.l.add("rotateccw",40,40);this.l.add("random",40,40);this.l.add("smart",40,40);this.l.add("outside",40,40);this.l.add("select",
40,40);this.l.add("reverse",40,40);this.l.add("uturn",40,40);this.l.add("nudgeright",40,40);this.l.add("nudgeleft",40,40);this.l.add("nudgeup",40,40);this.l.add("nudgedown",40,40);this.l.add("shrinksel",40,40);this.l.add("cancelsel",40,40);this.l.add("trirectgrid",40,40);this.l.add("download",40,40);this.l.add("changestate",40,40)};ea.prototype.sx=function(a){var b="",c,d=null;""===a&&(a="Life");a=a.replace(/[\n\r]/g,"\n");for(c=a.indexOf("\n");0===c||0<c&&"#"===a[0];)a=a.substring(c+1),c=a.indexOf("\n");
c=a.indexOf("\n");-1!==c&&(a=a.substring(0,c).trim(),c=a.indexOf("rule="),-1!==c?a=a.substring(c+6).trim():(c=a.indexOf("rule ="),-1!==c&&(a=a.substring(c+7).trim())));try{d=this.U.create("","x = 1, y = 1, rule = "+(a+"\nb!"),this.g.N,null,null,[],this)}catch(f){d=null}d&&d.R&&(b=a);return b};ea.prototype.tx=function(a){var b=window.prompt("Change rule",(""===a.xa?a.O:a.xa)+a.Rf);if(null!==b)if(b=a.sx(b),""!==b){var c=b.indexOf(":");-1!==c?(a.O=b.substring(0,c),a.Rf=b.substring(c)):(a.O=b,a.Rf="");
a.xa="";c=a.g.qg(a,a.g,!0,a.g.h,a.g.h,[],!0);a.Ad&&(a.ea=a.Jf,a.aa=a.If);a.yg(c,!1)}else a.C.notification.notify("Invalid rule",15,180,15,!0)};ea.prototype.Js=function(a,b,c,d,f){var e=this.O;""!==a&&(e=e.substring(0,e.length-a.length));this.xa=this.O=e+=b;a=this.g.qg(this,this.g,!0,c,d,f,!0);this.Ad&&(this.ea=this.Jf,this.aa=this.If);this.yg(a,!1)};ea.prototype.PF=function(a){a.Js(a.g.I?"History":"","Super",a.g.I?7:2,26,a.g.I?H.QD:H.VF)};ea.prototype.eF=function(a){a.Js(a.g.m?"Super":"","History",
a.g.m?26:2,7,a.g.m?H.ZF:H.UF)};ea.prototype.vF=function(a){a.Js(a.g.I?"History":"Super","",a.g.I?7:26,2,a.g.I?H.PD:H.$F)};ea.prototype.Dy=function(){var a=this.g.R.l;var b="",c,d;var f="R"+a+",C"+(this.g.R.X+",");a=this.U.ra(a,this.g.R.type,this.g.R.na);switch(this.g.R.type){case this.U.s:b="FC"+this.g.R.Y+"E"+this.g.R.Z;break;case this.U.i:b="";break;case this.U.m:b="N";break;case this.U.X:b="C";break;case this.U.Y:b="2";break;case this.U.R:b="+";break;case this.U.V:b="X";break;case this.U.W:b="*";
break;case this.U.I:b="H";break;case this.U.O:b="B";break;case this.U.M:b="D";break;case this.U.T:b="#";break;case 10:b="@"+this.g.R.L;this.g.ia?b+="H":this.g.W&&(b+="L");break;case this.U.B:b="3";break;case this.U.u:b="A";break;case this.U.L:b="L";break;case this.U.v:b="G";break;case 15:b="W"+this.g.R.L,this.g.ia?b+="H":this.g.W&&(b+="L")}var e=this.B.random()*a/a;f+="S";var g=-1;for(c=d=0;d<a;)this.B.random()<e?-1===g&&(0<c&&(f+=","),f+=String(d),g=d,c+=1):-1!==g&&(g!==d-1&&(f+="-"+String(d-1)),
g=-1),d+=1;-1!==g&&g!==d-1&&(f+="-"+String(d-1));0===c&&(g=this.B.random()*a|0,f+=String(g));f+=",B";e=this.B.random()*(a-1)/(a-1);g=-1;d=1;for(c=0;d<a;)this.B.random()<e?-1===g&&(0<c&&(f+=","),f+=String(d),g=d,c+=1):-1!==g&&(g!==d-1&&(f+="-"+String(d-1)),g=-1),d+=1;-1!==g&&g!==d-1&&(f+="-"+String(d-1));0===c&&(g=this.B.random()*(a-1)|1,f+=String(g));""!==b&&(f+=",N"+b);this.g.R.V&&(f+=",P",-1!==this.g.R.ka&&(f+=this.g.R.ka,-1!==this.g.R.ja&&(f+=","+this.g.R.ja,-1!==this.g.R.ha&&(f+=","+this.g.R.ha))));
return f};ea.prototype.Gy=function(){var a=this.g.R.l;var b="";var c="R"+a+",C"+(this.g.R.X+",");c+="M1,";a=this.U.ra(a,this.g.R.type,this.g.R.na);a+=1;switch(this.g.R.type){case this.U.s:b="FC"+this.g.R.Y+"E"+this.g.R.Z;break;case this.U.i:b="M";break;case this.U.m:b="N";break;case this.U.X:b="C";break;case this.U.Y:b="2";break;case this.U.R:b="+";break;case this.U.V:b="X";break;case this.U.W:b="*";break;case this.U.I:b="H";break;case this.U.O:b="B";break;case this.U.M:b="D";break;case this.U.T:b=
"#";break;case 10:b="@"+this.g.R.L;this.g.ia?b+="H":this.g.W&&(b+="L");break;case this.U.B:b="3";break;case this.U.u:b="A";break;case this.U.L:b="L";break;case this.U.v:b="G";break;case 15:b="W"+this.g.R.L,this.g.ia?b+="H":this.g.W&&(b+="L")}var d=this.B.random()*a|0;c+="S"+String(d);d=(this.B.random()*(a-d)|0)+d;c+=".."+String(d);d=(this.B.random()*(a-1)|0)+1;c+=",B"+String(d);d=(this.B.random()*(a-d)|0)+d;c+=".."+String(d);return c+(",N"+b)};ea.prototype.Oy=function(){var a="W";var b=2*(127*this.B.random()|
0);return a+=String(b)};ea.prototype.Iy=function(a){var b="B",c,d,f=8,e="";if(this.g.ia)switch(this.g.kg){case this.U.pa:f=6;e=this.U.Oa;break;case this.U.qa:f=3,e=this.U.Hb}else if(this.g.W)switch(this.g.mg){case this.U.ja:f=3;e=this.U.Ea;break;case this.U.ua:f=6;e=this.U.eb;break;case this.U.va:f=6;e=this.U.fb;break;case this.U.ka:f=9;e=this.U.Ga;break;case this.U.fa:f=12;e=this.U.Fa;break;case this.U.ta:f=9;e=this.U.cb;break;case this.U.wa:f=3,e=this.U.gb}else this.g.bd&&(f=4,e=this.U.jb);var g=
new Uint8Array(f+1);var k=new Uint8Array(f+1);var l=d=50;-1!==this.Oe&&(l=d=this.Oe);-1!==this.Pe&&(d=this.Pe);-1!==this.Sf&&(l=this.Sf);for(c=0;c<=f;c+=1)g[c]=d,k[c]=l;-1===this.Oe&&-1===this.Pe&&(g[0]=25);for(c=0;c<this.Wc.length;c+=2)this.Wc[c]<=f&&(g[this.Wc[c]]=this.Wc[c+1]);for(c=0;c<this.Kd.length;c+=2)this.Kd[c]<=f&&(k[this.Kd[c]]=this.Kd[c+1]);for(c=2<this.g.h||a?1:0;c<=f;)100*this.B.random()<=g[c]&&(b+=String(c)),c+=1;b+="/S";for(c=0;c<=f;c+=1)100*this.B.random()<=k[c]&&(b+=String(c));2<
this.g.h&&!this.g.m&&!this.g.B&&(b+="/"+this.g.h);return b+=e.toUpperCase()};ea.prototype.Ly=function(a){var b=a?"2PCA4,":"M",c,d=!1;var f=0;var e=[];var g=this.g.kc;if(this.to){d=new Uint8Array(16);a=new Uint8Array(16);for(c=0;16>c;c+=1)d[c]=c,a[c]=g[c];for(c=0;16>c;c+=1){var k=g[c];for(f=a=0;16>f;f+=1)k===g[f]&&(a+=1);var l=new Uint8Array(a);for(f=a=0;16>f;f+=1)k===g[f]&&(l[a]=f,a+=1);e[c]=l}for(c=1;16>c;c+=1).5>=this.B.random()&&(l=e[c],a=this.B.random()*l.length|0,a=l[a],g=d[c],d[c]=d[a],d[a]=
g);for(c=0;15>c;c+=1)b+=d[c]+",";b+=d[c]}else if(this.qo){c=16;a?(a=0,f|=1):(a=16*this.B.random()|0,15===a?(d=!0,f|=32769,--c):(a=0,f|=1));b+=String(a);for(--c;65535!==f;){a=this.B.random()*c|0;for(k=0;0<=a;)0===(f&1<<k)&&--a,k+=1;b+=","+String(k-1);f|=1<<k-1;--c}d&&(b+=",0")}else{a?a=0:(a=16*this.B.random()|0,15===a?d=!0:a=0);b+=String(a)+",";for(c=1;15>c;c+=1)a=16*this.B.random()|0,b+=String(a)+",";a=d?0:16*this.B.random()|0;b+=String(a)}return b};ea.prototype.Hk=function(a,b){var c="",d,f,e=0,
g,k=[],l=a.oo,p=a.vo,n=a.Ki/100,q=!1;-1!==a.O.indexOf("|")&&(q=!0);if(2>=a.g.h||a.Lk){k[0]="b";k[1]="o";var m=2}else for(m=a.g.h,k[0]=".",f=0;f<m-1;f+=1)k[f+1]=24<=f?String.fromCharCode(112+(f/24|0)-1)+String.fromCharCode(65+f%24):String.fromCharCode(65+f);-1!==a.g.Jd&&(l=1);for(d=0;d<l;d+=1){if(this.g.l){var r=0;this.B.random()<=n&&(r|=1);this.B.random()<=n&&(r|=2);this.B.random()<=n&&(r|=4);this.B.random()<=n&&(r|=8)}else r=this.B.random()<=n?(this.B.random()*(m-1)|0)+1:0;for(f=g=1;f<p;f+=1)this.g.l?
(e=0,this.B.random()<=n&&(e|=1),this.B.random()<=n&&(e|=2),this.B.random()<=n&&(e|=4),this.B.random()<=n&&(e|=8)):e=this.B.random()<=n?(this.B.random()*(m-1)|0)+1:0,e!==r&&(1<g&&(c+=g),c+=k[r],g=0,r=e),g+=1;0!==e&&(1<g&&(c+=g),c+=k[e]);d<l-1&&(c+="$\n")}c+="!\n";a.Jk||b||(a.g.o||(a.g.Z||a.g.l?(a.O=a.Ly(a.g.l),q&&(a.O+="|"+a.Ly(a.g.l))):a.g.Ia?a.Dr?(a.O=a.Gy(),q&&(a.O+="|"+a.Gy())):(a.O=a.Dy(),q&&(a.O+="|"+a.Dy())):-1!==a.g.Jd?(a.O=a.Oy(),q&&(a.O+="|"+a.Oy())):(a.O=a.Iy(q),q&&(a.O+="|"+a.Iy(q)))),
a.g.I&&(a.O+="History"),a.g.m&&(a.O+="Super"),a.g.B&&(a.O+="Investigator"),b=bb.Jo(a.O),a.xa=null!==b?b:"");b=a.g.lh;b+="x = "+H.Un+", y = "+H.Un+", rule = ";b+=(""===a.xa?a.O:a.xa)+a.Rf+"\n";b=b+c+a.g.kh;if(a.Qd.locked||a.fj||window.confirm("Create new random pattern?"))a.Ad&&(a.ea=a.Jf,a.aa=a.If),a.yg(b,!1),a.ux(a)};ea.prototype.Sw=function(a){var b=window.prompt("Create new pattern with rule",(""===a.xa?a.O:a.xa)+a.Rf);null!==b&&(b=a.sx(b),""!==b?(a.Ad&&(a.ea=a.Jf,a.aa=a.If),a.yg("x = 1, y = 1, rule = "+
(b+"\nb!"),!1)):a.C.notification.notify("Invalid rule",15,180,15,!0))};ea.prototype.lA=function(){this.gd.h=this.g.ia?this.g.ua?[this.l.h("hexgrid")]:[this.l.h("hexagongrid")]:this.g.W?this.g.ua?[this.l.h("trirectgrid")]:[this.l.h("trianglegrid")]:[this.l.h("grid")]};ea.prototype.HG=function(a,b){a.C.l&&(a.Wg||(a.di=-b.deltaY,1===b.deltaMode&&(a.di*=45),a.C.Ge(!0)),b.preventDefault())};ea.prototype.er=function(){var a=this.m.W(0===this.sl?0:this.Jc/this.sl),b=this.Xf,c=this.Ik,d=this.Hf,f=this.Ci;
this.g.ga=this.g.width/2-(this.Zf+a*(this.Ff-this.Zf));this.g.da=this.g.height/2-(this.ag+a*(this.Ei-this.ag));this.g.zoom=this.Ah*Math.pow(this.Fi/this.Ah,a);180<c-b?b+=360:-180>c-b&&(c+=360);this.g.angle=(b+a*(c-b))%360;this.g.Gb=d+a*(f-d);this.Im&&(this.g.Ub=this.zv+a*(this.sw-this.zv),this.Ha.current=this.ff([this.g.Ub,this.g.Ub],!1,this));this.An&&(this.g.za=this.Qv+a*(this.uw-this.Qv),this.eb.current=this.Hl([this.g.za,this.g.za],!1,this));this.Jc+=1;this.Jc>this.sl&&(this.Jc=-1,this.g.zoom=
this.Fi,this.g.angle=c%360,this.g.Gb=this.Ci,this.g.ga=this.g.width/2-this.Ff,this.g.da=this.g.height/2-this.Ei,this.Im&&(this.g.Ub=this.sw,this.Ha.current=this.ff([this.g.Ub,this.g.Ub],!1,this)),this.An&&(this.g.za=this.uw,this.eb.current=this.Hl([this.g.za,this.g.za],!1,this)));this.bc&&(this.bc.current=this.se([this.g.zoom,this.g.zoom],!1,this));this.na&&(this.na.current=this.qg([this.g.angle,this.g.angle],!1,this));this.Xa&&(this.Xa.current=this.zj([this.Oj(this.g.Gb),this.g.Gb],!1,this))};ea.prototype.dB=
function(){var a=this.m,b=a.m.length,c,d=this.v,f=this.A,e=a.B();for(c=0;c<b;c+=1){var g=a.m[c];e.rg=!0;e.x=-g.x+d/2;e.af=!0;e.y=-g.y+f/2;e.Je=!0;e.zoom=g.zoom;e.ce=!0;a.add(e,this);c<b-1&&(e=a.B())}};ea.prototype.Ot=function(a,b){var c=a.m.i[b];a.Zf=a.g.width/2-a.g.ga;a.ag=a.g.height/2-a.g.da;a.Ah=a.g.zoom;a.Xf=a.g.angle;a.Hf=a.g.Gb;a.Ff=c.af?c.x:a.Zf;a.Ei=c.Je?c.y:a.ag;a.Fi=c.ce?c.zoom:a.Ah;a.Ik=c.ig?c.angle:a.Xf;a.Ci=c.zg?c.Gb:a.Hf;a.g.ia&&(a.Ff+=a.g.da/2);a.Im=c.Kg;a.Im&&(a.zv=a.g.Ub,a.sw=c.depth/
H.il);a.An=c.Qg;a.An&&(a.Qv=a.g.za,a.uw=c.za);a.Jc=0;a.sl=c.i;a.er();c.l&&a.ex(a);c.h===Ta.play?a.$b.current=a.vd(H.ui,!0,a):c.h===Ta.stop&&a.Fb&&(a.$b.current=a.vd(H.je,!0,a));c.qe&&a.Tf(c.Dc,a.g.se,a);a.C.notification.notify("POI "+(b+1),15,60,15,!0);""!==c.le?a.C.notification.notify(c.le,15,180,15,!1):a.C.notification.clear(!1,!0);c.Rh&&(a.fc=c.fc);c.Kh&&(a.Lb=c.Lb);c.We&&(a.fa=Math.sqrt((c.Oc-H.Tg)/(a.I-H.Tg)));c.te&&(a.V=c.step);if(c.We||c.te)a.dc.current=a.Kc([a.Wf(),1],!0,a);c.jp&&(a.g.counter>
c.xc&&a.ex(a),a.g.counter<c.xc&&(a.Wg=!0,a.Cs=c.xc,a.zs=!1));c.Vj&&(a.g.Ka=c.grid);c.Eq&&(this.pd=c.ak)};ea.prototype.Qc=function(a,b,c){var d=b/a.g.Ha;c&&(b=1<=b?Math.round(b):1/Math.round(1/b),d=b/a.g.Ha);a.Va||(a.Zf=a.g.width/2-a.g.ga,a.ag=a.g.height/2-a.g.da,a.Ah=a.g.zoom,a.Xf=a.g.angle,a.Hf=a.g.Gb,a.Ff=a.Zf,a.Ei=a.ag,a.Fi=d,a.Ik=a.Xf,a.Ci=a.Hf,a.Jc=0)};ea.prototype.dG=function(a){a.dc.current=a.Kc([1,1],!0,a)};ea.prototype.vC=function(a){a.cr(a)};ea.prototype.yC=function(a){a.Ms(a)};ea.prototype.cC=
function(a){a.nb&&a.Ym(a);-1!==a.Ib&&a.ql(a,!0,!0)};ea.prototype.jk=function(a){a.Ue||a.Ve||a.Te||a.fe||a.Xe||a.ge||a.Re?(a.Ue=!1,a.Ve=!1,a.fe=!1,a.Te=!1,a.Xe=!1,a.Re=!1,a.ge=!1):a.ja.current=[!1]};ea.prototype.RD=function(a){a.Te=!0};ea.prototype.zB=function(a){a.fe=!0};ea.prototype.mB=function(a){a.Ue=!0};ea.prototype.xB=function(a){a.Re=!0};ea.prototype.DB=function(a){a.Xe=!0};ea.prototype.wF=function(a){a.Ve=!0};ea.prototype.TA=function(a){a.Sw(a)};ea.prototype.qC=function(a){a.Hk(a,!1)};ea.prototype.mC=
function(a){a.Hk(a,!0)};ea.prototype.wx=function(a){a.ux(a);a.M?a.C.notification.notify("Selection saved",15,120,15,!0):a.C.notification.notify("Pattern saved",15,120,15,!0)};ea.prototype.FG=function(a){a.Ow(a)};ea.prototype.HD=function(a){a.tx(a)};ea.prototype.xG=function(a){a.ge=!0};ea.prototype.hb=function(a,b,c){c&&(b[0]?(this.Tf(H.np[a],1,this),this.ja.current[0]&&(this.ja.current=this.ef([!1],!0,this))):(this.ja.current[0]&&(this.ja.current=this.ef([!1],!0,this)),b[0]=!0));return b};ea.prototype.UA=
function(a,b,c){return c.hb(0,a,b)};ea.prototype.XA=function(a,b,c){return c.hb(1,a,b)};ea.prototype.IB=function(a,b,c){return c.hb(2,a,b)};ea.prototype.QB=function(a,b,c){return c.hb(3,a,b)};ea.prototype.UB=function(a,b,c){return c.hb(4,a,b)};ea.prototype.YB=function(a,b,c){return c.hb(5,a,b)};ea.prototype.bC=function(a,b,c){return c.hb(6,a,b)};ea.prototype.fC=function(a,b,c){return c.hb(7,a,b)};ea.prototype.jC=function(a,b,c){return c.hb(8,a,b)};ea.prototype.nC=function(a,b,c){return c.hb(9,a,b)};
ea.prototype.$A=function(a,b,c){return c.hb(10,a,b)};ea.prototype.cB=function(a,b,c){return c.hb(11,a,b)};ea.prototype.fB=function(a,b,c){return c.hb(12,a,b)};ea.prototype.iB=function(a,b,c){return c.hb(13,a,b)};ea.prototype.lB=function(a,b,c){return c.hb(14,a,b)};ea.prototype.oB=function(a,b,c){return c.hb(15,a,b)};ea.prototype.rB=function(a,b,c){return c.hb(16,a,b)};ea.prototype.wB=function(a,b,c){return c.hb(17,a,b)};ea.prototype.AB=function(a,b,c){return c.hb(18,a,b)};ea.prototype.EB=function(a,
b,c){return c.hb(19,a,b)};ea.prototype.MB=function(a,b,c){return c.hb(20,a,b)};ea.prototype.br=function(a){a.Rb=!1};ea.prototype.XE=function(a){a.Xz(a)};ea.prototype.GA=function(a){a.g.Uk()};ea.prototype.EA=function(a){a.g.Sk()};ea.prototype.SE=function(a){a.g.Qk()};ea.prototype.LE=function(a){a.g.Ok()};ea.prototype.Rz=function(a){"Empty"===a.ob||"none"===a.ob||""===a.ob?a.C.notification.notify("No Identify Results",15,120,15,!1):(0!==a.s&&(a.s=0,a.jd.current=a.df([0!==a.s],!0,a)),a.ja.current[0]&&
(a.ja.current=a.ef([!1],!0,a),a.C.i=!0),a.g.cb=0,a.Cd.current=a.mg(0,!0,a),a.Rb=!0)};ea.prototype.oE=function(a){a.Oa=!1;a.jf.current=a.mr([a.Oa],!0,a)};ea.prototype.xC=function(){Pb()};ea.prototype.XD=function(a){a.Tb=[];a.Z=0;a.Vt(a.wa.current)};ea.prototype.$w=function(a){--a.Fc;0>a.Fc&&(a.Fc=a.m.i.length-1);a.Ot(a,a.Fc)};ea.prototype.Uw=function(a){a.Fc+=1;a.Fc>=a.m.i.length&&(a.Fc=0);a.Ot(a,a.Fc)};ea.prototype.ZA=function(a){a.Ga+=1;a.Ga>=Ba.ke.length&&(a.Ga=0);a.yg(Ba.ke[a.Ga].pattern,!1)};
ea.prototype.HB=function(a){--a.Ga;0>a.Ga&&(a.Ga=Ba.ke.length-1);a.yg(Ba.ke[a.Ga].pattern,!1)};ea.prototype.xF=function(a){a.ow();a.s&&(a.s=0);a.ja.current[0]=!1;a.C.i=!0};ea.prototype.FE=function(a){a.lj=!0};ea.prototype.rC=function(a){a.Cc(H.hg,a)};ea.prototype.DC=function(a,b){var c=0;if((a.g.I||a.g.m)&&b)for(;c<a.X.length;)1<a.X[c]&&(a.X[c]&=1),c+=1;else for(;c<a.X.length;)a.X[c]=0,c+=1};ea.prototype.Cx=function(a){var b=a.$,c=b.F,d=b.J,f=b.H;b=b.K;var e=a.g.A,g;var k=(a.g.width>>1)-(a.v>>1)+
(a.R<<1);var l=(a.g.height>>1)-(a.A>>1)+(a.Y<<1);var p=0;if(!a.D&&a.M){-1!==a.g.D&&(k+=Math.round((a.v-a.ra)/2),l+=Math.round((a.A-a.qa)/2));if(c>d){var n=d;d=c;c=n}f>b&&(n=b,b=f,f=n);c+=k;d+=k;f+=l;b+=l;a.g.Wb=!0;a.g.ec();n=e.F;l=e.H;k=e.J;e=e.K;for(g=l;g<=e;g+=1)for(l=n;l<=k;l+=1)if(!(g>=f&&g<=b&&l>=c&&l<=d)){var q=a.g.Ta(l,g,!1);0!==q&&(p|=a.pa(l,g,0,!1))}(a.g.I||a.g.m)&&p&&this.g.gb();a.g.Wb=!0;a.g.ec();a.T("clear cells outside selection")}};ea.prototype.dD=function(a,b){var c=a.$,d=c.F,f=c.J,
e=c.H;c=c.K;var g=(a.g.width>>1)-(a.v>>1)+(a.R<<1),k=(a.g.height>>1)-(a.A>>1)+(a.Y<<1);if(!a.D&&a.M){-1!==a.g.D&&(g+=Math.round((a.v-a.ra)/2),k+=Math.round((a.A-a.qa)/2));if(d>f){var l=f;f=d;d=l}e>c&&(l=c,c=e,e=l);if((a.g.I||a.g.m)&&b)for(l=e;l<=c;l+=1)for(e=d;e<=f;e+=1){var p=a.g.Ta(e+g,l+k,!1);1<p&&a.pa(e+g,l+k,p&1,!1)}else for(l=e;l<=c;l+=1)for(e=d;e<=f;e+=1)p=a.g.Ta(e+g,l+k,!1),0!==p&&a.pa(e+g,l+k,0,!1);(a.g.I||a.g.m)&&this.g.gb();a.g.Wb=!0;a.g.ec();a.Mc=!1;(a.g.I||a.g.m)&&b?a.g.I?a.T("clear History cells in selection"):
a.T("clear Super cells in selection"):a.T("clear cells in selection")}};ea.prototype.cG=function(a){a.Qc(a,a.g.zoom*a.g.Ha,!0)};ea.prototype.NC=function(a){a.Nb(!0,!0,H.Io)};ea.prototype.oC=function(a){a.Nb(!0,!0,H.Is)};ea.prototype.nw=function(a,b){a.D||(a.ua?a.DC(a,b):a.dD(a,b))};ea.prototype.jD=function(a){a.nw(a,!1)};ea.prototype.IA=function(a){a.Cx(a)};ea.prototype.QC=function(a){a.nw(a,!0)};ea.prototype.qx=function(a){a.wa.current!==H.Yj&&(a.wa.current=a.re(H.Yj,!0,a));a.th=!0;a.Vc.current=
a.he([!0],!0,a)};ea.prototype.Ix=function(a){var b=a.$,c=a.g.A,d=(a.g.width>>1)-(a.v>>1)+(a.R<<1),f=(a.g.height>>1)-(a.A>>1)+(a.Y<<1);0<a.g.s?(a.g.Wb=!0,a.g.ec(),-1!==a.g.D&&(d-=Math.floor((a.ra-a.v)/2),f-=Math.floor((a.qa-a.A)/2)),a.g.m||a.g.B||a.g.o||!(a.g.l||a.g.Ia&&2===a.g.h||2<a.g.h)?(b.F=c.F-d,b.H=c.H-f,b.J=c.J-d,b.K=c.K-f):(a.g.Pk(b),b.F-=d,b.J-=d,b.H-=f,b.K-=f),a.M=!0,a.Mc=!1,c=b.J<b.F?b.F-b.J+1:b.J-b.F+1,b=b.K<b.H?b.H-b.K+1:b.K-b.H+1,a.T("select all ("+c+" x "+b+")")):(a.C.notification.notify("No live cells to Select",
15,120,15,!1),a.M&&a.Pk(a))};ea.prototype.ax=function(a,b,c){a.D||(!a.bi&&a.Rc&&(b?a.Ak(a,!0):a.D?a.Ak(a,!0):c?a.ro(a,!0):a.ro(a,!1)),a.Ut(a,a.Gc,!1,!1))};ea.prototype.gz=function(a){a.ax(a,!1,!1)};ea.prototype.Ut=function(a,b,c,d){var f=a.$,e=f.F,g=f.J,k=f.H;f=f.K;var l,p=0,n=a.g.h,q=2<n&&!(this.g.ha||this.g.l||this.g.o||this.g.m||this.g.B),m=(a.g.width>>1)-(a.v>>1)+(a.R<<1),r=(a.g.height>>1)-(a.A>>1)+(a.Y<<1),u=0;if(a.M){if(e>g){var t=g;g=e;e=t}k>f&&(t=f,f=k,k=t);var w=g-e+1;var y=f-k+1;-1!==a.g.D&&
(m+=Math.round((a.v-a.ra)/2),r+=Math.round((a.A-a.qa)/2));var v=a.g.N.h(pa.Ma,w*y,"View.pasteBuffer"+b);t=0;for(l=k;l<=f;l+=1)for(k=e;k<=g;k+=1){var D=a.g.Ta(k+m,l+r,!1);0<D&&q&&(D=n-D);v[t]=D;0<D&&(p+=1);u|=a.pa(k+m,l+r,0,!1);t+=1}(a.g.I||a.g.m)&&u&&this.g.gb();a.fb[b]={buffer:v,width:w,height:y,count:p};a.X=v;a.Yb=w;a.Xb=y;a.qm();a.g.Wb=!0;a.g.ec();a.Fj=!0;a.Qa=!1;a.Mc=!0;d||(c?a.T("advance outside"):a.T("cut"))}};ea.prototype.$n=function(a,b,c){0!==a.s?(Xa.ps=!0,Xa.hl="",Xa.ly(a),a.ve(a,Xa.hl,
!1),Xa.ps=!1,Xa.hl=""):(a.bi||!a.Rc&&a.M||(b?a.Ak(a,!0):a.D?a.Ak(a,!0):c?a.ro(a,!0):a.ro(a,!1)),a.M&&(a.MA(a,a.Gc),a.up||(a.up=!0,a.C.notification.notify("Disable Sync for faster internal clipboard",15,360,15,!1))))};ea.prototype.vB=function(a){a.Dk(a,!0,!1)};ea.prototype.VA=function(a){a.$n(a,!1,!0)};ea.prototype.qG=function(a){a.$n(a,!0,!1)};ea.prototype.mG=function(a){a.qy(a)};ea.prototype.AG=function(a){a.wo(a,!1)};ea.prototype.PA=function(a){a.wo(a,!0)};ea.prototype.Ww=function(a){navigator.clipboard.readText().then(b=>
a.NA(a,b))};ea.prototype.EG=function(a){a.$n(a,!1,!1)};ea.prototype.SA=function(a){var b=a.$,c=b.F,d=b.H,f=b.J,e=b.K,g,k,l=(a.g.width>>1)-(a.v>>1)+(a.R<<1),p=(a.g.height>>1)-(a.A>>1)+(a.Y<<1),n=!0;b=[];if(a.M){if(c>f){var q=c;c=f;f=q}d>e&&(q=d,d=e,e=q);q=f-c+1;if(q!==e-d+1)a.C.notification.notify("Weighted needs a square selection",15,180,15,!0),n=!1;else if(0===(q&1))a.C.notification.notify("Weighted size must be odd",15,180,15,!0),n=!1;else if(3>q||99<q)a.C.notification.notify("Weighted size must be >= 3 and <= 99",
15,180,15,!0),n=!1;if(n){n="";var m=0;for(k=d;k<=e;k+=1)for(g=c;g<=f;g+=1)d=a.g.Ta(g+l,k+p,!1),b[b.length]=d,d>m&&(m=d);if(7>=m)for(c=0;c<b.length;c+=1)d=b[c],n+="0123456789abcdef"[d];else for(c=0;c<b.length;c+=1)d=b[c],n+="0123456789abcdef"[d>>4],n+="0123456789abcdef"[d&15];a.g.ia?n+="H":a.g.W&&(n+="L");a.ve(a,n,!1);a.C.notification.notify("Weighted R"+(q-1>>1)+" copied to clipboard",15,180,15,!0)}}else a.C.notification.notify("Weighted needs a selection",15,180,15,!0)};ea.prototype.gG=function(a){var b=
a.$,c=b.F,d=b.H,f=b.J;b=b.K;var e=0,g,k=(a.g.width>>1)-(a.v>>1)+(a.R<<1),l=(a.g.height>>1)-(a.A>>1)+(a.Y<<1);var p=!0;if(a.M){if(c>f){var n=c;c=f;f=n}d>b&&(n=d,d=b,b=n);n=f-c+1;if(n!==b-d+1)a.C.notification.notify("CoordCA needs a square selection",15,180,15,!0),p=!1;else if(0===(n&1))a.C.notification.notify("CoordCA size must be odd",15,180,15,!0),p=!1;else if(3>n||99<n)a.C.notification.notify("CoordCA size must be >= 3 and <= 99",15,180,15,!0),p=!1;if(p){var q="";var m=d+(b-d+1>>1);p=c+(f-c+1>>
1);var r=3;for(g=d;g<=b;g+=1)for(d=c;d<=f;d+=1)if(g!==m||d!==p){var u=a.g.Ta(d+k,g+l,!1);0<u&&(e|=1<<r);--r;0>r&&(q+="0123456789abcdef"[e],r=3,e=0)}a.g.ia?q+="H":a.g.W&&(q+="L");a.ve(a,q,!1);a.C.notification.notify("CoordCA R"+(n-1>>1)+" copied to clipboard",15,180,15,!0)}}else a.C.notification.notify("CoordCA needs a selection",15,180,15,!0)};ea.prototype.qy=function(a){2<a.g.h?a.SA(a):a.gG(a)};ea.prototype.MA=function(a,b){var c=a.$,d=c.F,f=c.H,e=c.J;c=c.K;var g,k=0,l=a.g.h,p=2<l&&!(this.g.ha||
this.g.l||this.g.o||this.g.m||this.g.B),n=a.ca-a.R,q=a.W-a.Y;if(a.M){if(d>e){var m=d;d=e;e=m}f>c&&(m=f,f=c,c=m);var r=e-d+1;var u=c-f+1;a.kc&&(-1!==a.g.D?(n+=a.Zb-d,q+=a.uc-f):(n+=2*a.Zb,q+=2*a.uc));var t=a.g.N.h(pa.Ma,r*u,"View.pasteBuffer"+b);m=0;for(g=f;g<=c;g+=1)for(f=d;f<=e;f+=1){var w=a.g.Ta(f+n,g+q,!1);0<w&&p&&(w=l-w);t[m]=w;0<w&&(k+=1);m+=1}a.fb[b]={buffer:t,width:r,height:u,count:k};a.X=t;a.Yb=r;a.Xb=u;a.qm();a.Fj=!0;a.Qa=!1;a.Mc=!0}};ea.prototype.En=function(a){a.ua=!1;a.C.notification.clear(!0,
!1);a.Qa&&a.cr(a);a.Qa=!1};ea.prototype.JA=function(a,b){var c=this.Fa,d=this.Rc;b?a.M?(a.Ut(a,a.Gc,!0,!1),a.g.Ef(a.wb),a.g.ue(),a.g.pf(a),a.T(""),this.Fa=H.Kn,a.Dk(a,!0,!0),this.Fa=c):a.C.notification.notify("Advance Outside needs a selection",15,180,15,!0):a.Qa?(a.dA(a),a.Qa||a.C.notification.notify("Advance Selection all cells died",15,180,15,!0)):a.M?(a.Mc||(this.Rc=!1,a.gz(a),this.Rc=d),a.Fj&&(a.dA(a),a.Qa||a.C.notification.notify("Advance Selection no live cells",15,180,15,!0))):a.C.notification.notify("Advance Selection needs a selection",
15,180,15,!0)};ea.prototype.dA=function(a){var b,c,d,f=a.Yb,e=a.Xb,g=a.X,k=a.$,l=a.g.A,p=a.g.ib,n=a.Gi,q=a.g.grid,m=a.g.Gc,r=a.g.i,u=a.g.$d,t=a.g.Da,w=a.g.Fa,y=a.g.X,v=a.g.L,D=a.g.V,F=a.g.ra,E=a.g.v,O=a.g.Pa,Q=a.g.width,N=a.g.height,U=a.g.va,S=a.g.Qa,G=a.g.df,L=a.g.dd,P=a.g.La,fa=a.g.na,ha=a.g.ca,ja=a.g.Y,ca=a.g.xa,Z=a.g.wa,la=a.g.counter,da=new Oa(l.F,l.H,l.J,l.K),na=new Oa(p.F,p.H,p.J,p.K),X=a.g.yc,ma=a.g.Vc,aa=a.g.rd,Y=a.g.Bc,V=a.g.Ba,oa=a.g.Xa,R=a.g.Ue,C=a.g.Fd,z=null,K=null,M=a.g.s,J=a.g.oa,
x=a.g.fa;a.g.Ia&&(z=a.g.R.h,K=a.g.R.la,a.g.R.resize(1024,1024));a.g.Mk();var A=Math.round((a.g.width-a.v)/2);var ka=Math.round((a.g.height-a.A)/2);for(d=b=0;d<e;d+=1)for(c=0;c<f;c+=1){var W=g[b];0<W&&a.g.qd(c+A,d+ka,W,!0);b+=1}a.g.Ef(!0);a.g.ue();a.g.pf(a);if(0<a.g.s){a.Yb=l.J-l.F+1;a.Xb=l.K-l.H+1;a.X=a.g.N.h(pa.Ma,a.Yb*a.Xb,"View.pasteBuffer");b=0;for(d=l.H;d<=l.K;d+=1)for(c=l.F;c<=l.J;c+=1)W=a.g.Ta(c,d,!1),0<W&&2<a.g.h&&!(a.g.m||a.g.B||a.g.l||a.g.o)&&(W=a.g.h-W),a.X[b]=W,b+=1;a.Qa?(n.F+=l.F-A,n.H+=
l.H-ka):(n.F=k.F<k.J?k.F+l.F-A:k.J+l.F-A,n.H=k.H<k.K?k.H+l.H-ka:k.K+l.H-ka);n.J=n.F+a.Yb-1;n.K=n.H+a.Xb-1;a.Qa=!0}else a.Qa=!1;a.g.grid=q;a.g.Gc=m;a.g.i=r;a.g.$d=u;a.g.Da=t;a.g.Fa=w;a.g.X=y;a.g.L=v;a.g.V=D;a.g.ra=F;a.g.v=E;a.g.Pa=O;a.g.width=Q;a.g.height=N;a.g.va=U;a.g.Qa=S;a.g.A.F=da.F;a.g.df=G;a.g.dd=L;a.g.La=P;a.g.na=fa;a.g.ca=ha;a.g.Y=ja;a.g.xa=ca;a.g.wa=Z;a.g.counter=la;a.g.yc=X;a.g.Vc=ma;a.g.rd=aa;a.g.Bc=Y;a.g.Ba=V;a.g.Xa=oa;a.g.Ue=R;a.g.Fd=C;l.F=da.F;l.H=da.H;l.J=da.J;l.K=da.K;p.F=na.F;p.H=
na.H;p.J=na.J;p.K=na.K;a.g.oa=J;a.g.fa=x;a.g.s=M;a.g.Ia&&(a.g.R.h=z,a.g.R.la=K)};ea.prototype.Ds=function(a,b,c,d){var f=a.Yb,e=a.Xb,g=a.X;var k=a.Qb;var l=a.g.width;var p=a.g.height;var n=0;switch(a.tc+.5|0){case H.Az:b-=f>>1;break;case H.Bz:b-=f-1;break;case H.Fz:c-=e>>1;break;case H.zz:b-=f>>1;c-=e>>1;break;case H.yz:b-=f-1;c-=e>>1;break;case H.Ez:c-=e-1;break;case H.Cz:b-=f>>1;c-=e-1;break;case H.Dz:b-=f-1,c-=e-1}k.F=b;k.H=c;k.J=b+f;k.K=c+e;for(a.Jj(a,k);l!==a.g.width;)b+=l>>1,l<<=1;for(;p!==
a.g.height;)c+=p>>1,p<<=1;switch(this.cE()){case H.Ln:for(p=k=0;p<e;p+=1)for(l=0;l<f;l+=1){var q=g[k];if(this.g.l){var m=this.g.Ta(b+l,c+p,!1);n|=a.pa(b+l,c+p,m|q,!1)}else 0<q&&(n|=a.pa(b+l,c+p,q,!1));k+=1}break;case H.Kn:for(p=k=0;p<e;p+=1)for(l=0;l<f;l+=1)q=g[k],n|=a.pa(b+l,c+p,q,!1),k+=1;break;case H.qq:for(p=k=0;p<e;p+=1)for(l=0;l<f;l+=1)q=g[k],m=this.g.Ta(b+l,c+p,!1),n|=a.pa(b+l,c+p,m^q,!1),k+=1;break;case H.pq:for(p=k=0;p<e;p+=1)for(l=0;l<f;l+=1)q=g[k],m=this.g.Ta(b+l,c+p,!1),n|=a.pa(b+l,c+
p,m&q,!1),k+=1}(a.g.I||a.g.m)&&n&&this.g.gb();a.ua=!1;a.Qa=!1;a.C.notification.clear(!0,!1);d&&a.T("paste")};ea.prototype.Of=function(a,b,c){var d=(a.g.width>>1)-(a.v>>1)+(a.R<<1),f=(a.g.height>>1)-(a.A>>1)+(a.Y<<1),e=a.$,g=e.F,k=e.H,l=e.J,p=e.K;var n=0;var q=a.g.width-1;var m=0;var r=a.g.height-1,u=0;if(!a.D&&a.M){if(g>l){var t=l;l=g;g=t}k>p&&(t=p,p=k,k=t);t=l-g+1;var w=p-k+1;-1!==a.g.D&&(d+=Math.round((a.v-a.ra)/2),f+=Math.round((a.A-a.qa)/2));-1!==a.g.D&&(0!==a.g.O?(n=Math.round((a.g.width-a.g.O)/
2)-1,q=n+a.g.O-1+2):(n=0,q=a.g.width-1),0!==a.g.M?(m=Math.round((a.g.height-a.g.M)/2)-1,r=m+a.g.M-1+2):(m=0,r=a.g.height-1));-1===a.g.D&&(a.Ij(g+d+b,k+f+c),d=(a.g.width>>1)-(a.v>>1)+(a.R<<1),f=(a.g.height>>1)-(a.A>>1)+(a.Y<<1),e=a.$,g=e.F,k=e.H,l=e.J,p=e.K,g>l&&(l=g),k>p&&(p=k),-1!==a.g.D&&(d+=Math.round((a.v-a.ra)/2),f+=Math.round((a.A-a.qa)/2)),a.Ij(l+d+b,p+f+c),d=(a.g.width>>1)-(a.v>>1)+(a.R<<1),f=(a.g.height>>1)-(a.A>>1)+(a.Y<<1),e=a.$,g=e.F,k=e.H,l=e.J,p=e.K,g>l&&(t=l,l=g,g=t),k>p&&(t=p,p=k,
k=t),t=l-g+1,w=p-k+1,-1!==a.g.D&&(d+=Math.round((a.v-a.ra)/2),f+=Math.round((a.A-a.qa)/2)));a.g.Ia&&(n+=2*a.g.R.o+1,q-=2*a.g.R.o+1,m+=2*a.g.R.l+1,r-=2*a.g.R.l+1);if(g+d+b>=n&&l+d+b<=q&&k+f+c>=m&&p+f+c<=r){a.fb[H.tj]=null;a.Ut(a,H.tj,!1,!0);d+=b;f+=c;n=0;l=a.fb[H.tj].buffer;for(m=0;m<w;m+=1)for(q=0;q<t;q+=1)p=l[n],u|=a.pa(g+q+d,k+m+f,p,!1),n+=1;a.fb[H.tj]=null;(a.g.I||a.g.m)&&u&&this.g.gb();e.F+=b;e.J+=b;e.H+=c;e.K+=c;a.T("nudge "+(0===b?-1===c?"up":"down":-1===b?"left":"right"))}else a.C.notification.notify("No room to nudge selection",
15,180,15,!0)}};ea.prototype.Dk=function(a,b,c){var d=(a.g.width>>1)-(a.v>>1)+(a.R<<1),f=(a.g.height>>1)-(a.A>>1)+(a.Y<<1),e=a.$,g=a.Gi,k=e.F,l=e.H,p=e.J;e=e.K;var n;if(!a.D&&null!==a.fb[a.Gc])if(b)if(a.M||a.Qa)if(a.Qa&&(k=g.F,l=g.H,p=g.J,e=g.K),k>p&&(b=k,k=p,p=b),l>e&&(b=l,l=e,e=b),p=p-k+1,e=e-l+1,a.Yb>p||a.Xb>e)a.C.notification.notify("Paste does not fit in selection",15,180,15,!0);else{b=a.tc;a.tc=H.Mn;for(n=l;n<=l+e-a.Xb;n+=a.Xb)for(g=k;g<=k+p-a.Yb;g+=a.Yb)a.Ds(a,g+d,n+f,!1);a.tc=b;a.be&&a.ik(a);
c?a.T("advance outside"):a.T("paste to selection");a.Qa=!1}else a.C.notification.notify("Paste to Selection needs a selection",15,180,15,!0);else a.ls(a,a.Gc),a.Qa=!1,a.C.notification.notify("Now click to paste",15,180,15,!0)};ea.prototype.nB=function(a){a.Qa?(a.Dk(a,!0,!1),a.Mc=!1):a.Ds(a,a.Bc,a.Ec,!0)};ea.prototype.Zw=function(a){a.Dk(a,!1,!1)};ea.prototype.ls=function(a,b){0<=b&&b<a.fb.length&&(null!==a.fb[b]?(a.ua=!0,a.Qa=!1,a.X=a.fb[b].buffer,a.Yb=a.fb[b].width,a.Xb=a.fb[b].height,a.wa.current!==
H.Zj&&(a.wa.current=a.re(H.Zj,!0,a))):(a.ua=!1,a.Qa=!1,a.C.notification.notify("Clipboard empty",15,180,15,!0)))};ea.prototype.aC=function(a,b){var c,d=a.g.h;-1===d&&(d=2);if(a.g.l)for(c=0;c<a.X.length;c+=1){var f=0;100*a.B.random()<=a.Eb&&(f|=1);100*a.B.random()<=a.Eb&&(f|=2);100*a.B.random()<=a.Eb&&(f|=4);100*a.B.random()<=a.Eb&&(f|=8);a.X[c]=f}else for(c=0;c<a.X.length;c+=1)f=100*a.B.random()<=a.Eb?2===d||b?a.Se:(a.B.random()*(d-1)|0)+1:0,a.X[c]=f};ea.prototype.iC=function(a,b){var c=a.$,d=c.F,
f=c.J,e=c.H;c=c.K;var g=(a.g.width>>1)-(a.v>>1)+(a.R<<1),k=(a.g.height>>1)-(a.A>>1)+(a.Y<<1),l=a.g.h,p=0;if(a.M){if(d>f){var n=f;f=d;d=n}e>c&&(n=c,c=e,e=n);-1===l&&(l=2);-1!==a.g.D&&(g+=Math.round((a.v-a.ra)/2),k+=Math.round((a.A-a.qa)/2));if(a.g.l)for(n=e;n<=c;n+=1)for(e=d;e<=f;e+=1){var q=0;100*a.B.random()<=a.Eb&&(q|=1);100*a.B.random()<=a.Eb&&(q|=2);100*a.B.random()<=a.Eb&&(q|=4);100*a.B.random()<=a.Eb&&(q|=8);p=a.pa(e+g,n+k,q,!1)}else for(n=e;n<=c;n+=1)for(e=d;e<=f;e+=1)q=100*a.B.random()<=a.Eb?
2===l||b?a.Se:(a.B.random()*(l-1)|0)+1:0,p|=a.pa(e+g,n+k,q,!1);(a.g.I||a.g.m)&&p&&this.g.gb();a.g.Wb=!0;a.g.ec();a.T("random "+a.Eb+"%")}};ea.prototype.mo=function(a,b){a.D||(a.ua?a.aC(a,b):a.iC(a,b))};ea.prototype.eC=function(a){a.D||a.mo(a,!1)};ea.prototype.XB=function(a){a.mo(a,!0)};ea.prototype.eD=function(a){var b=a.Yb,c=a.Xb,d=b>>1,f,e,g;for(e=g=0;e<c;e+=1){if(a.g.l)for(f=0;f<d;f+=1){var k=a.X[g+f];var l=a.X[g+b-f-1];a.X[g+f]=l&5|(l&2)<<2|(l&8)>>2;a.X[g+b-f-1]=k&5|(k&2)<<2|(k&8)>>2}else for(f=
0;f<d;f+=1)k=a.X[g+f],a.X[g+f]=a.X[g+b-f-1],a.X[g+b-f-1]=k;g+=b}};ea.prototype.kD=function(a){var b=a.$,c=b.F,d=b.J,f=b.H;b=b.K;var e,g=a.g.h,k=2<g&&!(this.g.ha||this.g.l||this.g.o||this.g.m||this.g.B),l=(a.g.width>>1)-(a.v>>1)+(a.R<<1),p=(a.g.height>>1)-(a.A>>1)+(a.Y<<1),n=0;if(a.M){if(c>d){var q=d;d=c;c=q}f>b&&(q=b,b=f,f=q);-1!==a.g.D&&(l+=Math.round((a.v-a.ra)/2),p+=Math.round((a.A-a.qa)/2));q=a.g.N.h(pa.Ma,d-c+1,"View.flipRow");for(e=f;e<=b;e+=1){for(f=c;f<=d;f+=1){var m=a.g.Ta(f+l,e+p,!1);k&&
0<m&&(m=g-m);q[f-c]=m}if(a.g.l)for(f=c;f<=d;f+=1)m=q[d-f],a.pa(f+l,e+p,m&5|(m&2)<<2|(m&8)>>2,!1);else for(f=c;f<=d;f+=1)n|=a.pa(f+l,e+p,q[d-f],!1)}(a.g.I||a.g.m)&&n&&this.g.gb();a.g.Wb=!0;a.g.ec();a.T("flip horizontally")}};ea.prototype.GD=function(a){var b=a.Yb,c=a.Xb,d=c>>1,f,e,g;for(f=g=0;f<b;f+=1){if(a.g.l)for(e=0;e<d;e+=1){var k=a.X[g+e*b];var l=a.X[g+(c-e-1)*b];a.X[g+e*b]=l&10|(l&1)<<2|(l&4)>>2;a.X[g+(c-e-1)*b]=k&10|(k&1)<<2|(k&4)>>2}else for(e=0;e<d;e+=1)k=a.X[g+e*b],a.X[g+e*b]=a.X[g+(c-e-
1)*b],a.X[g+(c-e-1)*b]=k;g+=1}};ea.prototype.SD=function(a){var b=a.$,c=b.F,d=b.J,f=b.H;b=b.K;var e,g=a.g.h,k=2<g&&!(this.g.ha||this.g.l||this.g.o||this.g.m||this.g.B),l=(a.g.width>>1)-(a.v>>1)+(a.R<<1),p=(a.g.height>>1)-(a.A>>1)+(a.Y<<1),n=0;if(a.M){if(c>d){var q=d;d=c;c=q}f>b&&(q=b,b=f,f=q);-1!==a.g.D&&(l+=Math.round((a.v-a.ra)/2),p+=Math.round((a.A-a.qa)/2));for(q=a.g.N.h(pa.Ma,b-f+1,"View.flipColumn");c<=d;c+=1){for(e=f;e<=b;e+=1){var m=a.g.Ta(c+l,e+p,!1);k&&0<m&&(m=g-m);q[e-f]=m}if(a.g.l)for(e=
f;e<=b;e+=1)m=q[b-e],a.pa(c+l,e+p,m&10|(m&1)<<2|(m&4)>>2,!1);else for(e=f;e<=b;e+=1)n|=a.pa(c+l,e+p,q[b-e],!1)}(a.g.I||a.g.m)&&n&&this.g.gb();a.g.Wb=!0;a.g.ec();a.T("flip vertically")}};ea.prototype.nx=function(a,b){var c=a.Yb,d=a.Xb,f,e,g=a.g.N.h(pa.Ma,c*d,"View.pasteBuffer");for(e=0;e<d;e+=1)for(f=0;f<c;f+=1)if(a.g.l)if(b){var k=a.X[e*c+f];g[f*d+(d-e-1)]=k<<1&15|(k&8)>>3}else k=a.X[e*c+f],g[(c-f-1)*d+e]=k>>1&15|(k&1)<<3;else b?g[f*d+(d-e-1)]=a.X[e*c+f]:g[(c-f-1)*d+e]=a.X[e*c+f];a.X=g;a.Yb=d;a.Xb=
c};ea.prototype.px=function(a,b,c){a.lD(a,b,c)};ea.prototype.lD=function(a,b,c){var d=a.$,f=d.F,e=d.J,g=d.H,k=d.K,l=0,p=a.g.h;var n=!0;var q=2<p&&!(this.g.ha||this.g.l||this.g.o||this.g.m||this.g.B),m=a.g.Z?-1:0;var r=Math.round((a.g.width-a.g.O)/2)+m;var u=Math.round((a.g.height-a.g.M)/2)+m;var t=r+a.g.O-1;var w=u+a.g.M-1;m=(a.g.width>>1)-(a.v>>1)+(a.R<<1);var y=(a.g.height>>1)-(a.A>>1)+(a.Y<<1),v=0;if(a.M){-1!==a.g.D&&(m+=Math.round((a.v-a.ra)/2),y+=Math.round((a.A-a.qa)/2));if(f>e){var D=e;e=f;
f=D}g>k&&(D=k,k=g,g=D);D=f+(e-f+1-1>>1);var F=g+(k-g+1-1>>1);var E=D+g-F;var O=F+f-D;var Q=D+k-F;F=F+e-D;var N=d.F;var U=d.H;var S=d.J;var G=d.K;d.F=E;d.H=O;d.J=Q;d.K=F;d.F>d.J&&(D=d.F,d.F=d.J,d.J=D);d.H>d.K&&(D=d.H,d.H=d.K,d.K=D);if(-1!==a.g.D){if(d.F+m<r||d.J+m>t||d.H+y<u||d.K+y>w)a.C.notification.notify("Rotation does not fit in bounded grid",15,180,15,!0),n=!1}else a.yw(a)?(a.C.notification.notify("Rotation does not fit on grid",15,180,15,!0),n=!1):(m=(a.g.width>>1)-(a.v>>1)+(a.R<<1),y=(a.g.height>>
1)-(a.A>>1)+(a.Y<<1),-1!==a.g.D&&(m+=Math.round((a.v-a.ra)/2),y+=Math.round((a.A-a.qa)/2)));if(n){b?(n=O,w=Q,t=1,u=-1):(n=F,w=E,t=-1,u=1);r=a.g.N.h(pa.Ao,3*(e-f+1)*(k-g+1),"View.rotateCells");for(Q=g;Q<=k;Q+=1){D=n;for(E=f;E<=e;E+=1)O=a.g.Ta(E+m,Q+y,!1),q?0<O&&(O=p-O):a.g.l&&(O=b?O<<1&15|(O&8)>>3:O>>1&15|(O&1)<<3),r[l]=w,r[l+1]=D,r[l+2]=O,l+=3,D+=t;w+=u}m=(a.g.width>>1)-(a.v>>1)+(a.R<<1);y=(a.g.height>>1)-(a.A>>1)+(a.Y<<1);-1!==a.g.D&&(m+=Math.round((a.v-a.ra)/2),y+=Math.round((a.A-a.qa)/2));for(l=
0;l<r.length;)E=r[l],Q=r[l+1],O=r[l+2],v|=a.pa(E+m,Q+y,O,!1),l+=3;for(E=f;E<d.F;E+=1)for(Q=g;Q<=k;Q+=1)v|=a.pa(E+m,Q+y,0,!1);for(E=d.J+1;E<=e;E+=1)for(Q=g;Q<=k;Q+=1)v|=a.pa(E+m,Q+y,0,!1);for(Q=g;Q<d.H;Q+=1)for(E=f;E<=e;E+=1)v|=a.pa(E+m,Q+y,0,!1);for(Q=d.K+1;Q<=k;Q+=1)for(E=f;E<=e;E+=1)v|=a.pa(E+m,Q+y,0,!1);(a.g.I||a.g.m)&&v&&this.g.gb();a.g.Wb=!0;a.g.ec();a.T(c)}else d.F=N,d.H=U,d.J=S,d.K=G}};ea.prototype.gC=function(a){a.Pk(a)};ea.prototype.eB=function(a){a.D||a.Of(a,-1,0)};ea.prototype.hB=function(a){a.D||
a.Of(a,1,0)};ea.prototype.kB=function(a){a.D||a.Of(a,0,-1)};ea.prototype.bB=function(a){a.D||a.Of(a,0,1)};ea.prototype.kA=function(a){a.D||(a.ua?a.eD(a):a.kD(a))};ea.prototype.sA=function(a){a.D||(a.ua?a.GD(a):a.SD(a))};ea.prototype.lx=function(a){a.D||(a.ua?a.nx(a,!0):a.px(a,!0,"rotate clockwise"))};ea.prototype.ix=function(a){a.D||(a.ua?a.nx(a,!1):a.px(a,!1,"rotate counter-clockwise"))};ea.prototype.hG=function(a){var b=0,c=a.g.h;if(!a.D)for(-1===c&&(c=2);b<a.X.length;){var d=a.X[b];a.X[b]=c-d-
1;b+=1}};ea.prototype.nG=function(a){var b=a.$,c=b.F,d=b.J,f=b.H;b=b.K;var e=(a.g.width>>1)-(a.v>>1)+(a.R<<1),g=(a.g.height>>1)-(a.A>>1)+(a.Y<<1),k=a.g.h,l=0;if(!a.D&&a.M){if(c>d){var p=d;d=c;c=p}f>b&&(p=b,b=f,f=p);-1===k&&(k=2);-1!==a.g.D&&(e+=Math.round((a.v-a.ra)/2),g+=Math.round((a.A-a.qa)/2));for(p=f;p<=b;p+=1)for(f=c;f<=d;f+=1){var n=a.g.Ta(f+e,p+g,!1);!(a.g.m||a.g.B||a.g.l||a.g.o)&&2<k&&0<n&&(n=k-n);l|=a.pa(f+e,p+g,k-n-1,!1)}(a.g.I||a.g.m)&&l&&this.g.gb();a.g.Wb=!0;a.g.ec();a.T("invert cells in selection")}};
ea.prototype.Aw=function(a){a.D||(a.ua?a.hG(a):a.nG(a))};ea.prototype.iw=function(a){a.g.wb=a.g.wb?!1:!0;a.yh(a.Fb);var b=a.g.Za;a.g.wb&&(b=!b);a.C.notification.notify("Playback "+(b?"Reverse":"Forward"),15,40,15,!0)};ea.prototype.EC=function(a){a.Nb(!0,!0,H.cg);a.Fb||(a.mc=!0)};ea.prototype.my=function(a){if(a.g.o&&2===a.g.h){var b=a.g.mo();a.ve(a,b,!1)}};ea.prototype.ty=function(a){var b=a.O;a.g.o&&(b=Ya.oD(b),""===b&&(b=a.U.Za));a.ve(a,b,!1)};ea.prototype.EE=function(a){if(0!==a.s||0!==a.Z)a.s=
0,a.jd.current=a.df([0!==a.s],!0,a),a.Z=0;0===a.g.s?(a.C.notification.notify("No live cells to Identify",15,120,15,!1),a.nb=!1,a.Rb=!1):(a.nb?(a.nb=!1,a.C.notification.notify("Identify cancelled",15,120,15,!1)):(a.nb=!0,a.Rb=!1,a.g.cb=0,a.C.notification.notify("Identifying...",15,216E3,15,!1)),a.T(""));a.g.Rf(a.nb);a.s=0;a.jk(a);a.jk(a);a.C.i=!0;a.h.locked=!1;a.Cd.current=a.mg(0,!0,a)};ea.prototype.dE=function(a){a.xh=1};ea.prototype.ZD=function(a){a.xh=2};ea.prototype.CA=function(a){var b=window.prompt("Enter generation",
String(a.g.counter)),c=!1;a.Yf=-1;if(null!==b){"b"===b.substring(b.length-1).toLowerCase()&&(b=b.substring(0,b.length-1),c=!0);if("+"===b.charAt(0)){var d=a.g.counter;d+=parseInt(b.substring(1),10)}else"-"===b.charAt(0)?(d=a.g.counter,d-=parseInt(b.substring(1),10)):d=parseInt(b,10);0<=d&&d<=H.$y?d!==a.g.counter&&(a.pf()?a.C.notification.notify("No live cells",15,360,15,!1):(a.Ib=d,a.ja.current=a.ef([!1],!0,a),a.C.i=!0,a.ed&&a.C.notification.notify("Going to generation "+d,15,1E4,15,!1),a.C.notification.clear(!0,
!1),d<a.g.counter&&(a.g.Hf(a,!1),a.Hm(a.g.counter)),c&&(a.Yf=performance.now()),a.gl=d-a.g.counter)):a.C.notification.notify("Invalid generation specified",15,240,15,!0)}};ea.prototype.Ym=function(a){a.EE(a)};ea.prototype.wj=function(a,b,c){b&&(c.g.Ka=a[0]);return[c.g.Ka]};ea.prototype.Yz=function(a,b,c){b&&(c.od=a[0]);return[c.od]};ea.prototype.eA=function(a,b,c){b&&(c.aj=a[0]);return[c.aj]};ea.prototype.Tq=function(a,b,c){b&&(c.Fd=a[0]);return[c.Fd]};ea.prototype.Zq=function(a,b,c){b&&(c.vf=a[0]);
return[c.vf]};ea.prototype.ef=function(a,b,c){b&&(0===c.s&&0===c.Z||!a[0]||(c.s=0,c.jd.current=c.df([0!==c.s],!0,c),c.Z=0),!a[0]&&0<c.Tb.length&&(c.Z=1),a[0]||c.jk(c),a[0]&&(c.C.notification.clear(!1,!1),c.C.notification.clear(!0,!1)));return a};ea.prototype.Vq=function(a,b,c){b&&(c.zh=a[0]);return[c.zh]};ea.prototype.Xq=function(a,b,c){b&&(c.Vf=a[0]);return[c.Vf]};ea.prototype.mg=function(a,b,c){b&&(c.Gd=a);return c.Gd};ea.prototype.he=function(a,b,c){b&&(c.Vd=a[0],c.Vd?c.th?c.C.notification.notify("Replace: Now click on a cell",
15,180,15,!0):c.C.notification.notify("Pick: Now click on a cell",15,180,15,!0):(c.ur||c.C.notification.clear(!0,!1),c.ur=!1,c.th=!1));return[c.Vd]};ea.prototype.Sz=function(a,b,c){b&&(c.da=a[0],c.da&&!c.Fb&&c.Nb(!0,!0,H.cg));return[c.da]};ea.prototype.OA=function(a,b,c){b&&-1!==c.Lb&&(c.va=!a[0],c.Ba?(c.jb=c.va,c.C.notification.notify("Loop and Waypoints "+(c.va?"Off":"On"),15,40,15,!0)):c.ib?(c.Kb=c.va,c.C.notification.notify("Loop and Track "+(c.va?"Off":"On"),15,40,15,!0),c.ox(c.Kb)):c.C.notification.notify("Loop "+
(c.va?"Off":"On"),15,40,15,!0));return[c.va]};ea.prototype.GG=function(a,b,c){b&&c.Pb&&(c.rc=!a[0]);return[c.rc]};ea.prototype.RA=function(a,b,c){b&&-1!==c.fc&&(c.Jb=!a[0]);return[c.Jb]};ea.prototype.ar=function(a,b,c){b&&(c.ib?(c.Kb=!a[0],c.ox(c.Kb),-1!==c.Lb&&(c.va=c.Kb)):c.Ba&&(c.jb=!a[0],c.jb?(c.C.notification.clear(!1,!1),c.Ee=""):(c.mc=!0,c.la=c.m.xa(c.g.counter),c.m.O(c,c.la,c.g.counter,!1),c.m.O(c,c.la,c.g.counter,!1)),-1!==c.Lb&&(c.va=c.jb)));return c.ib?[c.Kb]:[c.jb]};ea.prototype.df=function(a,
b,c){b&&(c.s=a[0]?1:0,c.s?(c.ja.current[0]&&(c.ja.current=c.ef([!1],!0,c)),c.C.notification.clear(!1,!1),c.C.notification.clear(!0,!1)):(c.Cc(H.hg,c),c.s=0));c.Vt(c.wa.current);return[0!==c.s]};ea.prototype.hE=function(a){a.et(a)};ea.prototype.fD=function(a){a.gx(a)};ea.prototype.BG=function(a){a.Rz(a)};ea.prototype.My=function(a){var b=a.na.current[0];b=45*Math.floor((b+22.5)/45);360<=b&&(b=0);a.na.current=a.qg([b,b],!0,a)};ea.prototype.iG=function(){Ba.hA()};ea.prototype.oG=function(a){Ba.Fv(a)};
ea.prototype.FC=function(){Ba.Wz()};ea.prototype.sC=function(a){a.Wn(a,!1,!1)};ea.prototype.Vw=function(a,b,c){b&&(c.Ae=a[0]);return[c.Ae]};ea.prototype.Rw=function(a,b,c){b&&(c.g.Hc=a[0],c.g.xi());return[c.g.Hc]};ea.prototype.Dp=function(a,b,c){b&&(c.jg=a[0]);c.C.Ge(!0);return[c.jg]};ea.prototype.xm=function(a,b){1<a.Z&&(a.Z-=b,1>a.Z&&(a.Z=1))};ea.prototype.vm=function(a,b){a.Z<a.Tb.length-a.Ea+1&&(a.Z+=b,a.Z>a.Tb.length-a.Ea+1&&(a.Z=a.Tb.length-a.Ea+1))};ea.prototype.Bm=function(a,b){1<a.s&&(a.s-=
b,1>a.s&&(a.s=1))};ea.prototype.zm=function(a,b){a.s<a.Vi-a.Ea&&(a.s+=b,a.s>a.Vi-a.Ea&&(a.s=a.Vi-a.Ea))};ea.prototype.LB=function(a){for(var b=a.u.length-1,c=!1;0<=b&&!c;)a.s<=a.u[b][0]?--b:c=!0;c&&(a.s=a.u[b][0])};ea.prototype.WA=function(a){for(var b=0,c=!1;b<a.u.length&&!c;)a.s>=a.u[b][0]?b+=1:c=!0;c&&(a.s=a.u[b][0])};ea.prototype.TD=function(a){for(this.g.l&&this.g.counter<a&&(1===(this.g.counter&1)?this.g.i.ba.fill(0):this.g.X.ba.fill(0));this.g.counter<a;)this.g.Ef(!1),this.g.ue(),this.g.Hi(),
this.g.pf(this),this.tk();this.la=this.ze[a];this.ha=a*this.I};ea.prototype.Nq=function(a){var b=this.Da+(0<this.g.h?this.g.h:0);!this.wb&&this.C.La&&(this.C.La=!1,0>a&&(a=0),this.la=this.ze[a],this.ha=a*this.I,-1!==this.vb&&a>this.vb+b?this.g.counter=a:this.g.Ak(a,this),this.la=this.ze[a],this.ha=a*this.I,this.m.bb(this.la),this.mc=!0,a!==this.g.counter&&(this.Wg=!0,this.Cs=a,this.g.Hf(this,!1),this.C.notification.notify("Computing previous generations",15,1E4,15,!0),this.zs=!0))};ea.prototype.Yk=
function(a){a.style.width="2em";a.style.height="2em";a.style.padding=0;a.style.border="none";a.style.outline="none";a.style.boxShadow="none";a.style.background="transparent";a.style.position="fixed";a.style.left="-100px";a.style.top="0px"};ea.prototype.ve=function(a,b,c){var d="textarea",f;if(f=document.getElementById("ViewerCopy"))f.innerHTML=b;a.Dx=document.documentElement.scrollTop||document.body.scrollTop;a.xl=b;a.Od=0;a.Ch=b.length;c&&(f=performance.now()-a.mm,f<H.TC&&a.Ch<H.SC?c=!1:a.ln||(d=
"div"));a.Bh=document.createElement("div");a.Bh.contentEditable=!0;a.Yk(a.Bh);a.bf=document.createElement(d);a.Yk(a.bf);a.bf.contentEditable=!0;a.Bh.appendChild(a.bf);document.body.appendChild(a.Bh);c?(a.Ls=H.UC,a.C.notification.notify("Copying...",15,1E4,15,!0),a.Mj=!0,a.po=!1,a.h.locked=!0):(a.bf.innerHTML=b,a.iy(a,c))};ea.prototype.iy=function(a,b){var c=null;if(a.ln)var d=a.bf;else b?d=a.Bh:(d=a.bf,d.contentEditable="true",d.readOnly="false");d.focus();var f=document.createRange();f.selectNodeContents(d);
try{b?document.execCommand("selectAll"):(c=window.getSelection(),c.removeAllRanges(),c.addRange(f),d.setSelectionRange(0,999999)),document.execCommand("copy")}catch(e){}document.body.removeChild(a.Bh);a.xl="";a.C.o||a.Pa.canvas.focus();a.C.notification.notify("Copied to external clipboard",15,180,15,!0);b&&(a.Mj=!1,a.h.locked=!1);document.documentElement.scrollTop=document.body.scrollTop=a.Dx;a.mm=-1};ea.prototype.wd=function(a){var b=eb.Qe,c=Object.keys(b),d=a.h,f=a.l;a=a.i;for(var e="",g=!1,k=null,
l=0;l<c.length&&!g;)k=b[c[l]],k[1]===d&&k[2]===f&&k[3]===a?(g=!0,l=c.length):l+=1;g?e=k[0]:e=d+" "+f+" "+a;return e};ea.prototype.gi=function(a,b){return a.h===b.h&&a.l===b.l&&a.i===b.i};ea.prototype.wo=function(a,b){var c="#C "+B.$j+" ",d=String(-(a.g.width/2-a.g.ga-a.g.Aa|0)),f=String(-(a.g.height/2-a.g.da-a.g.qa|0)),e=a.g.zoom,g=String(a.g.angle|0),k=String(a.g.Gb|0),l=a.g.pa[a.g.Xb];0!==a.g.counter&&(c+=B.ip+" "+a.g.counter+" ");c+=B.Ie+" "+d+" "+B.Ke+" "+f+" ";c+=B.de+" "+(e===(e|0)?String(e):
String(e.toFixed(2)))+" ";c+=B.Qj+" "+g+" ";0!==a.g.Gb&&(c+=B.ck+" "+k+" ");c+=B.Wl+"\n";if(b){c+="#C "+B.$j+" ";if(a.sa){if(2<a.g.h){if(c+=B.lb+" "+B.fo+" "+a.wd(l.D),c+=" "+B.lb+" "+B.eo+" "+a.wd(l.v),a.gi(l.i.i,l.D)||(c+=" "+B.lb+" "+B.jo+" "+a.wd(l.i.i)),a.gi(l.i.h,l.i.i)||(c+=" "+B.lb+" "+B.io+" "+a.wd(l.i.h)),l.I||(c+=" "+B.lb+" "+B.mp+" "+a.wd(l.m.i)),l.I||!a.gi(l.m.h,l.m.i))c+=" "+B.lb+" "+B.lp+" "+a.wd(l.m.h)}else c+=B.lb+" "+B.fo+" "+a.wd(l.u),c+=" "+B.lb+" "+B.eo+" "+a.wd(l.l.h),a.gi(l.l.h,
l.l.i)||(c+=" "+B.lb+" "+B.kp+" "+a.wd(l.l.i)),a.gi(l.h.i,l.u)||(c+=" "+B.lb+" "+B.jo+" "+a.wd(l.h.i)),a.gi(l.h.h,l.h.i)||(c+=" "+B.lb+" "+B.io+" "+a.wd(l.h.h));c+=" "+B.Wl+"\n#C "+B.$j+" "}c+=B.Bj+" "+l.name+" ";a.Da!==a.im&&(c+=B.on+" "+a.Da+" ");a.Pg!==a.Qw&&(c+=B.Bo+" "+a.Pg+" ");c+=B.so+" "+a.ea+" ";c+=B.nn+" "+a.aa+" ";c+=B.Wl+"\n"}a.ve(a,c,!1)};ea.prototype.ux=function(a){a.element.innerHTML=a.g.qg(a,a.g,!0,a.g.h,a.g.h,[],!1);a.element.value=a.element.innerHTML};ea.prototype.NA=function(a,
b){if(a.Qd.locked||a.fj||window.confirm("Open clipboard?"))a.element.innerHTML=b,a.element.value=a.element.innerHTML,Qb(a.element)};ea.prototype.Ak=function(a,b){a.mm=performance.now();Ca.yb?a.ve(a,Ba.ke[a.Ga].pattern,b):a.ve(a,zb(a.element),b)};ea.prototype.ro=function(a,b){a.mm=performance.now();a.ve(a,a.g.qg(a,a.g,b,a.g.h,a.g.h,[],!1),!1)};ea.prototype.Jw=function(a,b){var c=b.charCode||b.keyCode;if(a.Wg?Kb.cF(a,c,b):a.nb?Kb.dF(a,c,b):a.Mj?Kb.aF(a,c,b):-1!==a.Ib?Kb.bF(a,c,b):Kb.$E(a,c,b))a.C.Ge(!0),
b.preventDefault()};ea.prototype.ID=function(){this.g.I||this.g.m?(this.wf.setPosition(ba.Bb,-85,-130),this.mf.setPosition(ba.Bb,-130,-130),this.g.I?(this.vc.setPosition(ba.Bb,-175,-130),this.vc.S="random fill [Shift 5]",this.Wd.setPosition(ba.Bb,-280,-130)):(this.vc.setPosition(ba.Bb,-220,-130),this.vc.S="random multi-state fill [Shift 5]",this.vh.setPosition(ba.Bb,-175,-130),this.Wd.setPosition(ba.Bb,-325,-130))):2>=this.g.h?(this.wf.setPosition(ba.Bb,-40,-130),this.mf.setPosition(ba.Bb,-85,-130),
this.vc.setPosition(ba.Bb,-130,-130),this.vc.S="random fill [Shift 5]",this.Wd.setPosition(ba.Bb,-235,-130)):(this.wf.setPosition(ba.Bb,-40,-130),this.mf.setPosition(ba.Bb,-85,-130),this.g.l?(this.vc.setPosition(ba.Bb,-130,-130),this.vc.S="random multi-state fill [Shift 5]",this.Wd.setPosition(ba.Bb,-235,-130)):(this.vc.setPosition(ba.Bb,-175,-130),this.vc.S="random multi-state fill [Shift 5]",this.vh.setPosition(ba.Bb,-130,-130),this.Wd.setPosition(ba.Bb,-280,-130)))};ea.prototype.tA=function(){var a=
!(this.g.ha||this.g.m||this.g.B||this.g.o);if(this.aa<H.Xj){var b=50;this.Sk.setPosition(ba.$c,10,b);this.Uk.setPosition(ba.Sa,0,b);this.Qk.setPosition(ba.ic,-160,b);b+=50;a?(this.Wk.setPosition(ba.$c,10,b),this.Uh.setPosition(ba.Sa,0,b),this.Ji.setPosition(ba.ic,-160,b),0<this.m.A()?(this.gh.setPosition(ba.$c,10,150),this.Th.setPosition(ba.ic,-160,150)):this.gh.setPosition(ba.Sa,0,150)):(this.Uh.setPosition(ba.$c,10,b),this.Ji.setPosition(ba.Sa,0,b),this.gh.setPosition(ba.ic,-160,b),0<this.m.A()&&
this.Th.setPosition(ba.Sa,0,b+50))}else b=0<this.m.A()?-175:-150,this.Sk.setPosition(ba.$a,0,b),b+=50,this.Uk.setPosition(ba.$a,0,b),b+=50,this.Qk.setPosition(ba.$a,0,b),b+=50,a&&(this.Wk.setPosition(ba.$a,0,b),b+=50),this.Uh.setPosition(ba.$a,0,b),b+=50,this.Ji.setPosition(ba.$a,0,b),b+=50,this.gh.setPosition(ba.$a,0,b),this.Th.setPosition(ba.$a,0,b+50)};ea.prototype.uy=function(){var a="white",b="black",c="rgb(0,240,32)",d="blue",f="grey",e="white";var g=this.oa[H.Op];-1!==g?(a="rgb("+(g>>16)+","+
(g>>8&255)+","+(g&255)+")",this.l.o=!0):(this.l.o=!0,g=16777215);this.l.M=this.g.Ac?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255;g=this.oa[H.Lp];-1!==g?this.l.o=!0:(this.l.o=!0,g=7368816);this.l.I=this.g.Ac?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255;g=this.oa[H.Mp];-1!==g?b="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")":g=0;this.Ap=g;this.l.O=this.g.Ac?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<
8|255;g=this.oa[H.Pp];-1!==g&&(c="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");g=this.oa[H.Rp];-1!==g&&(d="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");g=this.oa[H.Qp];-1!==g?f="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")":g=8421504;this.l.L=this.g.Ac?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255;g=this.oa[H.Np];-1!==g&&(e="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");this.C.Eb(a,b,c,d,f,e,this.Jh);this.$g.jc="red"};ea.prototype.aB=function(){var a,b=0;this.ph=
10;this.h=this.C.Rb(this.iE,this.mw,this);this.h.O=this.eG;this.h.oa=this.DG;this.Be=this.h.l(ba.Sa,0,52,480,48,"Banner");this.Be.Sb("32px Arial");this.kk=this.h.l(ba.Sa,-160,140,160,32,"Cells");this.$q=this.h.l(ba.Sa,-160,180,160,32,"Bounding Box");this.dr=this.h.l(ba.Sa,-160,240,160,32,"Direction");this.hr=this.h.l(ba.Sa,-160,280,160,32,"Period");this.jr=this.h.l(ba.Sa,-160,320,160,32,"Slope");this.lr=this.h.l(ba.Sa,-160,360,160,32,"Speed");this.fr=this.h.l(ba.Sa,-160,400,160,32,"Heat");this.qr=
this.h.l(ba.Sa,-160,440,160,32,"Volatility");this.Zh=this.h.l(ba.Sa,-160,460,160,32,"Mod");this.Yq=this.h.l(ba.Sa,-160,500,160,32,"Active Cells");this.nr=this.h.l(ba.Sa,-160,540,160,32,"Temperature");this.Yh=this.h.l(ba.Sa,80,140,320,32,"");this.Um=this.h.l(ba.Sa,80,180,320,32,"");this.Wm=this.h.l(ba.Sa,80,220,320,32,"");this.Xm=this.h.l(ba.Sa,80,260,320,32,"");this.Zm=this.h.l(ba.Sa,80,300,320,32,"");this.kl=this.h.l(ba.Sa,80,340,320,32,"");this.bl=this.h.l(ba.Sa,80,380,320,32,"");this.lm=this.h.l(ba.Sa,
80,420,320,32,"");this.Li=this.h.l(ba.Sa,80,460,320,32,"");this.$k=this.h.l(ba.Sa,80,500,320,32,"");this.nl=this.h.l(ba.Sa,80,540,320,32,"");this.rl=this.h.l(ba.$c,0,40,16,20,"X");this.rl.Sb(H.fg);this.rl.V=ba.ne;this.wl=this.h.l(ba.$c,70,40,16,20,"Y");this.wl.Sb(H.fg);this.wl.V=ba.ne;this.pl=this.h.l(ba.$c,140,40,16,20,"A");this.pl.Sb(H.fg);this.pl.V=ba.ne;this.Gg=this.h.l(ba.$c,16,40,54,20,"");this.Gg.Sb(H.fg);this.Gg.l=ba.right;this.Gg.S="camera X position";this.Hg=this.h.l(ba.$c,86,40,54,20,"");
this.Hg.Sb(H.fg);this.Hg.l=ba.right;this.Hg.S="camera Y position";this.hh=this.h.l(ba.$c,156,40,40,20,"");this.hh.Sb(H.fg);this.hh.l=ba.right;this.hh.S="camera angle";this.sr=this.h.l(ba.$c,196,40,4,20,"");this.an=this.h.l(ba.ic,-280,40,20,20,"E");this.an.Sb(H.fg);this.dn=this.h.l(ba.ic,-210,40,20,20,"S");this.dn.Sb(H.fg);this.jn=this.h.l(ba.ic,-140,40,20,20,"W");this.jn.Sb(H.fg);this.bn=this.h.l(ba.ic,-70,40,20,20,"N");this.bn.Sb(H.fg);this.ih=this.h.l(ba.ic,-260,40,50,20,"");this.ih.Sb(H.fg);this.ih.l=
ba.right;this.ih.S="bounding box east edge velocity";this.Eg=this.h.l(ba.ic,-190,40,50,20,"");this.Eg.Sb(H.fg);this.Eg.l=ba.right;this.Eg.S="bounding box south edge velocity";this.Fg=this.h.l(ba.ic,-120,40,50,20,"");this.Fg.Sb(H.fg);this.Fg.l=ba.right;this.Fg.S="bounding box west edge velocity";this.Dg=this.h.l(ba.ic,-50,40,50,20,"");this.Dg.Sb(H.fg);this.Dg.l=ba.right;this.Dg.S="bounding box north edge velocity";this.Vg=this.h.m(this.GG,ba.ic,-210,0,38,20,["START"],[!1],ba.yb);this.Vg.Sb(H.Bq);this.Vg.S=
["autostart [Alt O]"];this.kg=this.h.m(this.RA,ba.ic,-210,20,38,20,["STOP"],[!1],ba.yb);this.kg.Sb(H.Bq);this.kg.S=["stop [Alt P]"];this.Lc=this.h.m(this.ar,ba.ic,-172,0,38,20,["WAYPT"],[!1],ba.yb);this.Lc.Sb(H.Bq);this.Lc.S=["toggle waypoint mode [W]"];this.qf=this.h.m(this.OA,ba.ic,-172,20,38,20,["LOOP"],[!1],ba.yb);this.qf.Sb(H.Bq);this.qf.S=["toggle loop mode [Shift P]"];this.wa=this.h.m(this.re,ba.$c,90,0,120,40,["","",""],H.ti,ba.Aj);this.wa.h=[this.l.h("draw"),this.l.h("select"),this.l.h("pan")];
this.wa.S=["draw [F2]","select [F4]","pan [F5]"];this.hd=this.h.m(this.jG,ba.ic,-80,100,80,60,["1","2"],0,ba.Aj);this.hd.orientation=ba.vertical;this.hd.S=["",""];this.hd.Sb("14px Arial");this.qw=this.h.i(this.yB,ba.ic,-110,40,60,"OK");this.qw.S="confirm setting disabled and hide warning";this.jd=this.h.m(this.df,ba.ic,-40,0,40,40,["Help"],[!1],ba.yb);this.jd.S=["toggle help display [H]"];this.jd.Sb("16px Arial");this.zp=this.h.i(this.rC,ba.ic,-40,50,40,"^");this.zp.S="show help topics [Backspace]";
this.Dm=this.h.i(this.FE,ba.ic,-40,100,40,"<");this.Dm.S="show help sections [Ins]";this.Sk=this.h.i(this.wG,ba.Sa,0,50,150,"Keys");this.Sk.S="show keyboard shortcuts [K]";this.Uk=this.h.i(this.pE,ba.Sa,0,100,150,"Scripts");this.Uk.S="show script commands [S]";this.Qk=this.h.i(this.QF,ba.Sa,0,150,150,"Info");this.Qk.S="show pattern and engine information [I]";this.Wk=this.h.i(this.CG,ba.Sa,0,200,150,"Themes");this.Wk.S="show colour Themes [T]";this.Uh=this.h.i(this.fE,ba.Sa,0,250,150,"Colours");this.Uh.S=
"show colour names [C]";this.Ji=this.h.i(this.NB,ba.Sa,0,300,150,"Aliases");this.Ji.S="show rule aliases [A]";this.gh=this.h.i(this.QA,ba.Sa,0,350,150,"Memory");this.gh.S="show memory usage [Y]";this.Th=this.h.i(this.RB,ba.Sa,0,350,150,"Annotations");this.Th.S="show annotations [N]";this.ae=this.h.m(this.Sz,ba.$c,0,0,40,40,["Auto"],[!1],ba.yb);this.ae.h=[this.l.h("autofit")];this.ae.S=["toggle autofit [Shift F]"];this.ae.Sb("16px Arial");this.Gf=this.h.i(this.EC,ba.$c,45,0,40,"");this.Gf.h=this.l.h("fit");
this.Gf.S="fit pattern to display [F]";this.gd=this.h.m(this.wj,ba.ic,-85,0,40,40,["Grid"],[!1],ba.yb);this.gd.h=[this.l.h("grid")];this.gd.S=["toggle gridlines [X]"];this.gd.Sb("16px Arial");this.$e=this.h.Da(ba.xg);this.$e.locked=!0;this.hf=this.h.l(ba.xg,0,-130,42,30,"Gen");this.hf.l=ba.left;this.hf.Sb(H.gg);this.hf.S="generation";this.fd=this.h.l(ba.xg,42,-130,98,30,"");this.fd.l=ba.right;this.fd.Sb(H.gg);this.fd.S="generation";this.vj=this.h.l(ba.xg,0,-100,70,30,"Time");this.vj.l=ba.left;this.vj.Sb(H.gg);
this.vj.S="elapsed time";this.Ef=this.h.l(ba.xg,70,-100,70,30,"");this.Ef.l=ba.right;this.Ef.Sb(H.gg);this.Ef.S="elapsed time";this.Zd=this.h.l(ba.xg,210,-70,130,30,"");this.Zd.l=ba.left;this.Zd.Sb(H.gg);this.Zd.S="selection size";this.mb=this.h.l(ba.xg,0,-70,210,30,"");this.mb.l=ba.left;this.mb.Sb(H.gg);this.mb.S="cell state at cursor position";this.cb=this.h.m(this.Dp,ba.xg,0,-40,100,40,["T 0"],[this.jg],ba.yb);this.cb.S=["toggle generation statistics [G]\ngeneration "+(this.g.counter+this.Ja)];
this.wc=this.h.l(ba.xg,0,-40,this.ea-40,40,"");this.wc.l=ba.left;this.wc.G=!0;this.Ne=this.h.l(ba.Bb,-70,-130,70,30,"Alive");this.Ne.l=ba.left;this.Ne.Sb(H.gg);this.Ne.S="current population";this.Jd=this.h.l(ba.Bb,-140,-130,70,30,"");this.Jd.l=ba.right;this.Jd.Sb(H.gg);this.Jd.S="alive";this.Pc=this.h.l(ba.Bb,-70,-100,70,30,"Births");this.Pc.l=ba.left;this.Pc.Sb(H.gg);this.Pc.S="cells born this generation";this.cd=this.h.l(ba.Bb,-140,-100,70,30,"");this.cd.l=ba.right;this.cd.Sb(H.gg);this.cd.S="births";
this.xe=this.h.l(ba.Bb,-70,-70,70,30,"Deaths");this.xe.l=ba.left;this.xe.Sb(H.gg);this.xe.S="cells died this generation";this.ye=this.h.l(ba.Bb,-140,-70,70,30,"");this.ye.l=ba.right;this.ye.Sb(H.gg);this.ye.S="deaths";this.Yd=this.h.l(ba.xg,0,-160,140,30,this.O);this.Yd.Sb(H.gg);this.bc=this.h.I(this.se,ba.Sa,0,0,H.sp,40,0,1,.1,"Zoom ","",1);this.bc.S="camera zoom [[ / ]]";this.eb=this.h.I(this.Hl,ba.Vp,-84,0,40,292,H.$p,H.iq,1,"Layers ","",0);this.eb.S="number of layers [Q / A]";this.Ha=this.h.I(this.ff,
ba.Vp,-40,0,40,292,1,0,.1,"Depth ","",2);this.Ha.S="depth between layers [P / L]";this.Xa=this.h.I(this.zj,ba.pw,0,0,40,292,0,1,.5,"Tilt ","",1);this.Xa.S="camera tilt [' / /]";this.na=this.h.I(this.qg,ba.Sa,0,50,390,40,0,359,0,"Angle ","\u00b0",0);this.na.S="camera angle [< / >]";this.lk=this.h.i(this.xF,ba.Bb,-40,-90,40,"");this.lk.h=this.l.h("shrink");this.lk.S="shrink to thumbnail [N]";this.xp=this.h.l(ba.Sa,0,100,120,40,"");this.Bd=this.h.m(this.pr,ba.$a,-100,-100,180,40,["Use Rectangles"],[this.g.ua],
ba.yb);this.Bd.S=["toggle hexagonal cells [?]"];this.li=this.h.m(this.HA,ba.$a,100,-100,180,40,["Cell Borders"],[this.g.Wa],ba.yb);this.li.S=["toggle cell borders [Alt B]"];this.Dd=this.h.m(this.Pw,ba.$a,-100,-50,180,40,["Major GridLines"],[this.g.Tc],ba.yb);this.Dd.S=["toggle major gridlines [Shift X]"];this.nj=this.h.m(this.Xw,ba.$a,100,-50,180,40,["Starfield"],[this.pd],ba.yb);this.nj.S=["toggle starfield display [S]"];this.nf=this.h.m(this.Nw,ba.$a,-100,0,180,40,["Annotations"],[this.ee],ba.yb);
this.nf.S=["toggle annotations [Alt L]"];this.uh=this.h.m(this.vr,ba.$a,100,0,180,40,["Rainbow"],[this.g.Vb],ba.yb);this.uh.S=["toggle rainbow mode [Alt W]"];this.ji=this.h.m(this.DA,ba.$a,-100,50,180,40,["Auto GridLines"],[this.bd],ba.yb);this.ji.S=["automatically turn on gridlines for Draw and Select and off for Pan [Ctrl G]"];this.$d=this.h.m(this.BA,ba.$a,100,50,180,40,["Alt GridLines"],[this.g.cd],ba.yb);this.$d.S=["toggle alternating gridlines [Alt D]"];this.kn=this.h.i(this.cG,ba.$a,-100,100,
180,"Integer Zoom");this.kn.S="set zoom to nearest integer [Shift 1]";this.Fk=this.h.m(this.Rw,ba.$a,100,100,180,40,["Render Quality"],[this.g.Hc],ba.yb);this.Fk.S=["toggle anti-aliased cell display [Ctrl Q]"];this.Qm=this.h.i(this.CA,ba.$a,-100,-50,180,"Go To Gen");this.Qm.S="go to specified generation [Shift N]";this.Wh=this.h.m(this.Iw,ba.$a,100,-50,180,40,["AutoFit History"],[this.ld],ba.yb);this.Wh.S=["toggle AutoFit History [Shift H]"];this.lg=this.h.m(this.Zq,ba.$a,-100,0,180,40,["Throttle"],
[this.vf],ba.yb);this.lg.S=["toggle playback throttling [Alt T]"];this.Uf=this.h.m(this.Tq,ba.$a,100,0,180,40,["Perf. Warning"],[this.Fd],ba.yb);this.Uf.S=["toggle performance warning display [Shift W]"];this.De=this.h.m(this.pG,ba.$a,-100,50,180,40,["Kill Gliders"],[this.g.hd],ba.yb);this.De.S=["toggle kill escaping gliders [Ctrl L]"];this.ki=this.h.m(this.FA,ba.$a,100,50,180,40,["AutoHide UI"],[this.kd],ba.yb);this.ki.S=["toggle hide UI on playback [Alt U]"];this.bt=this.h.i(this.HD,ba.$a,-100,
-100,180,"Change Rule");this.bt.S="change rule [Alt R]";this.Gr=this.h.i(this.TA,ba.$a,100,-100,180,"New Pattern");this.Gr.S="new pattern [Alt N]";this.Fr=this.h.i(this.FG,ba.$a,-100,-50,180,"Load Pattern");this.Fr.S="load last saved pattern [Ctrl O]";this.Xk=this.h.i(this.wx,ba.$a,100,-50,180,"Save Pattern");this.Xk.S="save pattern [Ctrl S]";this.ej=this.h.i(this.qC,ba.$a,-100,0,180,"Rand All");this.ej.S="randomize pattern and rule [Alt Z]";this.xo=this.h.i(this.mC,ba.$a,100,0,180,"Rand Pattern");
this.xo.S="randomize pattern and keep rule [Ctrl Alt Z]";this.Xh=this.h.i(this.Ym,ba.$a,-100,50,180,"Identify");this.Xh.S="identify oscillator or spaceship period [F6]";this.gm=this.h.i(this.BG,ba.$a,100,50,180,"Last Identify");this.gm.S="show last identify results [Shift F6]";this.mt=this.h.i(this.dE,ba.$a,-100,100,180,"Save Image");this.mt.S="save image [O]";this.ht=this.h.i(this.ZD,ba.$a,100,100,180,"Save Graph");this.ht.S="save population graph image [Shift O]";this.Kr=this.h.i(this.Ww,ba.$a,
-100,-100,180,"Open Clipboard");this.Kr.S="open clipboard as pattern [Ctrl Shift O]";this.$s=this.h.i(this.qG,ba.$a,100,-100,180,"Copy Original");this.$s.S="copy original pattern [Ctrl Shift C]";this.yo=this.h.i(this.ty,ba.$a,-100,-50,180,"Copy Rule");this.yo.S="copy rule definition [Ctrl J]";this.Pj=this.h.i(this.my,ba.$a,100,-50,180,"Copy as MAP");this.Pj.S="copy rule definition as MAP [Alt M]";this.uo=this.h.i(this.mG,ba.$a,-100,0,180,"Copy Nhood");this.uo.S="copy CoordCA neighbourhood definition [Ctrl B]";
this.om=this.h.i(this.VA,ba.$a,100,0,180,"Copy All");this.om.S="copy current pattern with comments [Ctrl Alt C]";this.dt=this.h.i(this.AG,ba.$a,-100,50,180,"Copy Position");this.dt.S="copy camera position [K]";this.gt=this.h.i(this.PA,ba.$a,100,50,180,"Copy View");this.gt.S="copy camera position and view [Shift K]";this.In=this.h.i(this.vB,ba.$a,-100,100,180,"Paste To Seln");this.In.S="paste to selection [Ctrl Shift V]";this.Bk=this.h.i(this.HB,ba.Yl,-135,-100,120,"Prev");this.Bk.S="go to previous universe [Page Up]";
this.km=this.h.i(this.ZA,ba.Yl,135,-100,120,"Next");this.km.S="go to next universe [Page Down]";this.$g=this.h.i(this.xC,ba.Bb,-40,-85,40,"X");this.$g.S="close window";this.$g.Sb("24px Arial");this.$g.jc="red";this.ks=this.h.i(this.XD,ba.Bb,-40,-85,40,"X");this.ks.S="close errors [Esc]";this.zk=this.h.i(this.$w,ba.pw,10,0,40,"<");this.zk.S="go to previous POI [Shift J]";this.jm=this.h.i(this.Uw,ba.Vp,-50,0,40,">");this.jm.S="go to next POI [J]";this.Wi=this.h.I(this.Cp,ba.Sa,0,45,172,40,0,1,this.Wa,
"Opacity ","%",0);this.Wi.S="graph opacity [7 / 9]";this.Vm=this.h.i(this.br,ba.ic,-40,45,40,"X");this.Vm.S="close results [Esc]";this.Cd=this.h.m(this.mg,ba.ic,-40,45,40,120,["Res","Tbl","Map"],this.Gd,ba.Aj);this.Cd.S=["show Identify results [Shift F6]","toggle cell period table [E]","toggle cell period map [D]"];this.Cd.Sb("15px Arial");this.Cd.V=ba.ne;this.dl=this.h.i(this.XE,ba.ic,-40,45,40,"");this.dl.S="download cell period map [Shift D]";this.dl.h=this.l.h("download");this.Ni=this.h.i(this.GA,
ba.ic,-40,45,40,"");this.Ni.h=this.l.h("nudgeup");this.Ni.S="scroll table up [PgUp]";this.Mi=this.h.i(this.EA,ba.ic,-40,45,40,"");this.Mi.h=this.l.h("nudgedown");this.Mi.S="scroll table down [PgDown]";this.Wq=this.h.i(this.oE,ba.ic,-40,45,40,"X");this.Wq.S="close graph [Y]";this.Ui=this.h.m(this.Yz,ba.ic,-85,45,40,40,[""],[!1],ba.yb);this.Ui.h=[this.l.h("lines")];this.Ui.S=["toggle graph lines/points [Shift Y]"];this.Vb=this.h.m(this.El,ba.ic,-210,45,120,40,["Pop","Bth","Dth"],[this.fh,this.dh,this.eh],
ba.yb);this.Vb.S=["toggle population [Shift F3]","toggle births [Shift F4]","toggle deaths [Shift F5]"];this.Vb.Sb("15px Arial");this.Vc=this.h.m(this.he,ba.$c,0,45,40,40,[""],[this.Vd],ba.yb);this.Vc.h=[this.l.h("pick")];this.Vc.S=["pick state [F3]"];this.pj=this.h.m(this.Xq,ba.$c,45,45,40,40,[""],[this.Vf],ba.yb);this.pj.h=[this.l.h("states")];this.pj.S=["toggle states display [Ctrl D]"];this.wk=this.h.m(this.eA,ba.$c,90,45,40,40,[""],[this.aj],ba.yb);this.wk.h=[this.l.h("drawpause")];this.wk.S=
["toggle pause playback while drawing [Ctrl P]"];this.mj=this.h.m(this.Vq,ba.$c,135,45,40,40,[""],[this.zh],ba.yb);this.mj.h=[this.l.h("smart")];this.mj.S=["toggle smart drawing [Shift F2]"];this.ja=this.h.m(this.ef,ba.Bb,-40,-40,40,40,[""],[!1],ba.yb);this.ja.h=[this.l.h("menu")];this.ja.S=["toggle settings menu [M]"];this.uk=this.h.i(this.zB,ba.$a,-100,-75,150,"Pattern");this.uk.S="pattern actions";this.ko=this.h.i(this.RD,ba.$a,100,-75,150,"Clipboard");this.ko.S="clipboard actions";this.rd=this.h.i(this.xG,
ba.$a,-100,75,150,"Theme");this.rd.S="choose colour theme";this.jf=this.h.m(this.mr,ba.$a,100,75,150,40,["Graph"],[this.Oa],ba.yb);this.jf.S=["toggle population graph display [Y]"];this.Ek=this.h.i(this.mB,ba.$a,-100,-25,150,"Display");this.Ek.S="display settings";this.Tn=this.h.i(this.DB,ba.$a,100,-25,150,"Playback");this.Tn.S="playback settings and actions";this.Lr=this.h.i(this.xB,ba.$a,-100,25,150,"General");this.Lr.S="general actions";this.Om=this.h.i(this.NC,ba.$a,-100,-50,180,"Fit Selection");
this.Om.S="fit selection to display [Ctrl F]";this.Hn=this.h.i(this.oC,ba.$a,100,-50,180,"Center Pattern");this.Hn.S="center pattern [Ctrl M]";this.Yn=this.h.i(this.sC,ba.$a,-100,0,180,"Clear Drawing");this.Yn.S="clear drawing state cells [Ctrl Alt K]";this.cl=this.h.i(this.My,ba.$a,100,0,180,"Snap Angle");this.cl.S="snap angle to nearest 45 degrees [Alt /]";this.tm=this.h.i(this.hE,ba.$a,-100,50,180,"Save View");this.tm.S="save current view [Shift V]";this.nm=this.h.i(this.fD,ba.$a,100,50,180,"Restore View");
this.nm.S="restore saved view [V]";this.yl=this.h.i(this.wF,ba.$a,100,25,150,"Advanced");this.yl.S="advanced settings and actions";this.Hi=this.h.m(this.sg,ba.$a,-100,-100,180,40,["Frame Times"],[this.C.v],ba.yb);this.Hi.S=["toggle timing display [T]"];this.zl=this.h.m(this.Br,ba.$a,100,-100,180,40,["Timing Details"],[this.C.B],ba.yb);this.zl.S=["toggle timing details [Shift T]"];this.ij=this.h.m(this.Vw,ba.$a,-100,-50,180,40,["Relative Gen"],[this.Ae],ba.yb);this.ij.S=["toggle absolute/relative generation display [Shift G]"];
this.zo=this.h.i(this.FC,ba.$a,100,-50,180,"Reset All");this.zo.S="reset all Viewers [Shift R]";this.Lm=this.h.i(this.iG,ba.$a,-100,0,180,"Stop All");this.Lm.S="stop all Viewers [Shift Z]";this.Nm=this.h.i(this.oG,ba.$a,100,0,180,"Stop Others");this.Nm.S="stop other Viewers [Z]";this.Oi=this.h.m(this.Kw,ba.$a,-100,50,180,40,["Info Bar"],[this.Ka],ba.yb);this.Oi.S=["toggle Information Bar [Shift I]"];this.ah=this.h.m(this.Gw,ba.$a,100,50,180,40,["Fast Lookup"],[this.g.Yb],ba.yb);this.ah.S=["toggle fast lookup [F7]"];
this.Py=this.h.m(this.yG,ba.$a,-100,100,180,40,["State Number"],[this.oj],ba.yb);this.Py.S=["toggle state number display [F8]"];this.xd=this.h.i(this.jk,ba.Yl,0,-100,120,"Back");this.xd.S="back to previous menu [Backspace]";this.Gj=this.h.i(this.cC,ba.Yl,0,-100,120,"Cancel");this.Gj.S="cancel operation [Esc]";this.Gj.L=!0;var c=-1;for(a=0;a<=this.g.jb;a+=1){var d=H.np[a];var f=H.aG[a];f!==c?(b=120,c=f):b+=60;this.Aa[a]=this.h.m(null,ba.Sa,140*f-210,b,120,40,[this.vp(d)],[!1],ba.yb);this.Aa[a].S=["select "+
this.vp(d)+" theme"];this.Aa[a].Sb("20px Arial")}this.Aa[0].oc=this.UA;this.Aa[1].oc=this.XA;this.Aa[2].oc=this.IB;this.Aa[3].oc=this.QB;this.Aa[4].oc=this.UB;this.Aa[5].oc=this.YB;this.Aa[6].oc=this.bC;this.Aa[7].oc=this.fC;this.Aa[8].oc=this.jC;this.Aa[9].oc=this.nC;this.Aa[10].oc=this.$A;this.Aa[11].oc=this.cB;this.Aa[12].oc=this.fB;this.Aa[13].oc=this.iB;this.Aa[14].oc=this.lB;this.Aa[15].oc=this.oB;this.Aa[16].oc=this.rB;this.Aa[17].oc=this.wB;this.Aa[18].oc=this.AB;this.Aa[19].oc=this.EB;this.Aa[20].oc=
this.MB;this.wz=this.h.l(ba.Sa,-210,60,120,40,"Default");this.hz=this.h.l(ba.Sa,-70,60,120,40,"Classic");this.Kz=this.h.l(ba.Sa,70,60,120,40,"Program");this.pz=this.h.l(ba.Sa,210,60,120,40,"Basic");this.el=this.h.i(this.dG,ba.Bb,-405,-40,40,"1x");this.el.S="set 1x playback speed [0]";this.dc=this.h.I(this.Kc,ba.Bb,-360,-40,105,40,0,2,1,"","",-1);this.dc.S="playback speed [+ / -]";this.rj=this.h.l(ba.Bb,-284,-30,27,20,"0");this.rj.Sb(H.gg);this.rj.G=!0;this.Qd=this.h.i(this.vC,ba.Bb,-495,-40,40,"");
this.Qd.h=this.l.h("undo");this.Qd.S="undo [Ctrl Z]";this.wh=this.h.i(this.yC,ba.Bb,-450,-40,40,"");this.wh.h=this.l.h("redo");this.wh.S="redo [Ctrl Y]";this.vi=this.h.m(this.kr,ba.ic,-130,0,40,40,["Sync"],[this.Rc],ba.yb);this.vi.S=["sync cut and copy with external clipboard [Alt S]"];this.vi.Sb("15px Arial");this.$b=this.h.m(this.vd,ba.Bb,-205,-40,160,40,["","","",""],H.je,ba.Aj);this.$b.h=[this.l.h("tostart"),this.l.h("stepback"),this.l.h("stepforward"),this.l.h("play")];this.$b.S=["reset [R]",
"previous generation [Shift Tab]","next generation [Tab]","play [Enter]"];this.Ta=this.h.m(this.xr,ba.ic,-280,45,280,20,"0123456".split(""),this.Se,ba.Aj);this.Ta.S="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.Ta.Sb("14px Arial");this.ma=this.h.m(this.tG,ba.ic,-280,65,280,20,"      ".split(" "),[!1,!1,!1,!1,!1,!1,!1],ba.yb);this.ma.S="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.ma.v=1;this.ol=this.h.i(null,ba.$c,175,45,5,"");this.ol.v=0;this.ol.locked=!0;this.ol.border=
0;this.ll=this.h.I(this.zr,ba.$c,180,45,130,40,0,1,0,"","",-1);this.ll.S="select drawing states range";this.Zk=this.h.i(this.Ix,ba.$c,0,45,40,"All");this.Zk.h=this.l.h("select");this.Zk.S="select all cells [Ctrl A]";this.Zk.Sb("16px Arial");this.Sg=this.h.m(this.ir,ba.$c,45,45,40,40,["Auto"],[this.be],ba.yb);this.Sg.h=[this.l.h("autoshrink")];this.Sg.S=["toggle auto shrink selection [Alt A]"];this.Sg.Sb("16px Arial");this.hk=this.h.i(this.RF,ba.$c,90,45,40,"");this.hk.h=this.l.h("shrinksel");this.hk.S=
"shrink selection [Shift A]";this.Me=this.h.m(null,ba.$c,135,45,40,40,[""],[!1],ba.yb);this.Me.h=[this.l.h("selectlibrary")];this.Me.S=["toggle clipboard library [Shift B]"];this.Nj=this.h.m(this.Bw,ba.Sa,0,90,400,40,"0123456789".split(""),this.Gc,ba.Aj);this.qm();this.Nf=this.h.m(this.rr,ba.ic,-160,45,160,40,["AND","CPY","OR","XOR"],H.hw[this.Mf],ba.Aj);this.Nf.S=["paste mode [Shift M]","paste mode [Shift M]","paste mode [Shift M]","paste mode [Shift M]"];this.Nf.Sb("16px Arial");this.Ck=this.h.i(this.gz,
ba.$c,180,45,40,"");this.Ck.h=this.l.h("cut");this.Ck.S="cut [Ctrl X]";this.yk=this.h.i(this.EG,ba.$c,225,45,40,"");this.yk.h=this.l.h("copy");this.yk.S="copy [Ctrl C]";this.rk=this.h.i(this.Zw,ba.$c,270,45,40,"");this.rk.h=this.l.h("paste");this.rk.S="paste [Ctrl V]";this.Hj=this.h.i(this.gC,ba.Bb,-220,-175,40,"");this.Hj.h=this.l.h("cancelsel");this.Hj.S="cancel selection [Ctrl K]";this.nk=this.h.i(this.eB,ba.Bb,-175,-175,40,"");this.nk.h=this.l.h("nudgeleft");this.nk.S="nudge left [Alt Left]";
this.pk=this.h.i(this.hB,ba.Bb,-130,-175,40,"");this.pk.h=this.l.h("nudgeright");this.pk.S="nudge right [Alt Right]";this.qk=this.h.i(this.kB,ba.Bb,-85,-175,40,"");this.qk.h=this.l.h("nudgeup");this.qk.S="nudge up [Alt Up]";this.mk=this.h.i(this.bB,ba.Bb,-40,-175,40,"");this.mk.h=this.l.h("nudgedown");this.mk.S="nudge down [Alt Down]";this.Kk=this.h.i(this.kA,ba.Bb,-265,-85,40,"");this.Kk.h=this.l.h("flipx");this.Kk.S="flip horizontally [Alt X]";this.Mk=this.h.i(this.sA,ba.Bb,-220,-85,40,"");this.Mk.h=
this.l.h("flipy");this.Mk.S="flip vertically [Alt Y]";this.Vk=this.h.i(this.lx,ba.Bb,-175,-85,40,"");this.Vk.h=this.l.h("rotatecw");this.Vk.S="rotate clockwise [>]";this.Tk=this.h.i(this.ix,ba.Bb,-130,-85,40,"");this.Tk.h=this.l.h("rotateccw");this.Tk.S="rotate counter-clockwise [<]";this.Lj=this.h.i(this.jD,ba.Bb,-85,-85,40,"");this.Lj.h=this.l.h("inside");this.Lj.S="clear cells in selection [Del]";this.Kj=this.h.i(this.IA,ba.Bb,-40,-85,40,"");this.Kj.h=this.l.h("outside");this.Kj.S="clear cells outside selection [Shift Del]";
this.xf=this.h.i(this.QC,ba.Bb,-40,-130,40,"R");this.xf.h=this.l.h("select");this.xf.S="clear History cells [Ctrl Del]";this.xf.Sb("16px Arial");this.wf=this.h.i(this.qx,ba.Bb,-40,-130,40,"");this.wf.h=this.l.h("changestate");this.wf.S="change cells to drawing state [Alt K]";this.mf=this.h.i(this.Aw,ba.Bb,-85,-130,40,"");this.mf.h=this.l.h("invertselection");this.mf.S="invert cells in selection [Ctrl I]";this.vc=this.h.i(this.eC,ba.Bb,-130,-130,40,"");this.vc.h=this.l.h("random");this.vc.S="random fill [Shift 5]";
this.vh=this.h.i(this.XB,ba.Bb,-175,-130,40,"2");this.vh.h=this.l.h("random");this.vh.S="random 2-state fill [Ctrl Shift 5]";this.Wd=this.h.I(this.Tw,ba.Bb,-275,-130,100,40,1,100,this.Eb,"","%",0);this.Wd.S="random fill density";this.sh=this.h.I(this.tr,ba.ic,-265,45,100,40,0,H.uz-1,this.tc,"","",-1);this.sh.S="paste location [Shift L]";this.sh.Sb("16px Arial");this.Bi=this.h.i(this.iw,ba.Bb,-250,-40,40,"");this.Bi.h=this.l.h("uturn");this.Bi.S="reverse playback direction [U]";this.Me.fa([this.Nj]);
this.ja.fa([this.xp,this.eb,this.Ha,this.na,this.Xa,this.xd,this.rd,this.uk,this.ko,this.yl,this.Ek,this.Tn,this.lg,this.Uf,this.lk,this.$g,this.ki,this.ji,this.$d,this.kn,this.Hn,this.Bd,this.li,this.nf,this.De,this.jf,this.Hi,this.Yn,this.zl,this.Oi,this.nj,this.zo,this.Lm,this.Nm,this.cl,this.Wh,this.Dd,this.Bk,this.km,this.Lr,this.tm,this.nm,this.gm]);this.cb.fa([this.Ne,this.Jd,this.Pc,this.cd,this.xe,this.ye,this.hf,this.fd,this.vj,this.Ef,this.Yd]);this.jd.fa([this.hd,this.zp,this.Dm])};ea.prototype.ZB=
function(a){var b=this,c=0,d=0;this.Za=a;this.Za.getContext&&(c=this.Za.width,d=this.Za.height,c!==this.md&&Ca.Ro&&(c=this.md),c<H.Yc&&(c=H.Yc),d<H.Mh&&(d=H.Mh),c&=-8,this.Za.width!==c&&(this.Za.width=c),this.Za.height!==d&&(this.Za.height=d),this.Pa=this.Za.getContext("2d",{alpha:!1}),this.Pa.globalAlpha=1,this.Pa.fillStyle="black",this.Pa.imageSmoothingEnabled=!1,this.Pa.imageSmoothingQuality="low",this.Pa.fillRect(0,0,this.Za.width,this.Za.height),this.Pa.textAlign="left",this.Pa.textBaseline=
"middle",this.ea=this.Za.width,this.aa=this.Za.height,this.g=new ra(this.Pa,this.ea,this.aa,512,256,this.U,this),this.g.On(this.Pa,this.ea,this.aa),this.ze=this.g.N.h(pa.Zc,H.sz,"View.elapsedTimes"),this.Md=new Nb(H.oq,this.g.N),this.YA(this.Pa),this.C=new Ja(this.Za,this.Pa,"24px Arial",this.l,this,this.gE),this.C.v=!1,this.g.km(),this.aB(),Ia(this.Za,"wheel",function(f){b.HG(b,f)},!1),this.C.notification.T=!0,this.C.Hb(this.h),this.Ad?(Ia(Ba.Sn.l,"keydown",function(f){b.Jw(b,f)},!1),Ba.Sn.C=this.C):
Ia(this.Za,"keydown",function(f){b.Jw(b,f)},!1))};ea.prototype.vp=function(a){var b=this.g.pa,c="";a|=0;a<b.length&&(c=b[a].name);return c};ea.prototype.sG=function(a){var b=!1,c=this.g.pa,d=0;for(a=a.toLowerCase();d<c.length-1&&!b;)c[d].name.toLowerCase()===a?b=!0:d+=1;b||(d=-1);return d};ea.prototype.eE=function(a){var b=this.m.D();b.af||(b.x=this.g.width/2-this.g.ga);b.Je||(b.y=this.g.height/2-this.g.da);b.ce||(b.zoom=this.g.zoom);b.ig||(b.angle=this.g.angle);b.zg||(b.Gb=this.g.Gb);b.Qg||(b.za=
this.g.za);b.Kg||(b.depth=this.g.Ub);b.We||(b.Oc=this.fa);b.te||(b.step=this.V);b.qe||(b.Dc=this.g.Xb);this.m.Ta(a,this)};ea.prototype.VC=function(a){var b=a,c=this.Pa,d=a.length;c.font=(18*this.h.D|0)+"px "+H.lw;var f=c.measureText(a).width;if(500<f){--d;for(f=c.measureText(a.substring(0,d)+"...").width;500<f;)--d,f=c.measureText(a.substring(0,d)+"...").width;b=b.substring(0,d)+"..."}return b};ea.prototype.uC=function(a,b){Jb.UE(this,a,b)};ea.prototype.WC=function(){this.Pu=this.Jm=!1;this.bv=this.g.Vb=
!1;this.Ib=-1;this.Oo=this.Km=!1;this.g.T=1<<H.YC;this.Yg=this.wp=-1;this.Ua=!1;this.Lk=this.Nk=this.Ks=this.bi=this.Hr=this.Fn=this.C.V=!1;this.g.Aa=0;this.g.qa=0;this.g.Ha=1;this.Ka=this.xn=this.da=!1;this.Sc=this.Tc=this.L=null;this.Ih=H.Ih;this.we=null;this.Jh=H.Jh;this.g.ld=this.g.Cl;this.g.kd=this.g.zl;this.g.jd=this.g.xl;this.g.md=this.g.El;this.g.nd=this.g.Hl;this.rc=this.Pb=this.Rm=!1;this.fc=-1;this.Jb=!1;this.Lb=-1;this.jg=this.Kb=this.Gh=this.ib=this.Dh=this.Ba=this.jb=this.va=!1;this.Da=
this.im=2<this.g.h?63<256-this.g.h?63:256-this.g.h:63;this.Pg=this.Qw;this.bb=!1;this.g.hd=!1;this.g.Wf=0};ea.prototype.jw=function(){this.ci?(Rb(this.element),this.C.l=!1):(this.ea=this.uj,this.aa=this.rw,this.da?(this.ga=!1,this.Nb(!0,!1,H.cg)):this.g.zoom=this.vw,this.bc&&(this.bc.current=this.se([this.g.zoom,this.g.zoom],!1,this)),this.s=this.tw,this.ga=!1,this.C.L=!1,this.h.G=!1,this.C.o||this.C.notification.notify("Shrink with hotkey N",15,100,15,!0),this.resize())};ea.prototype.gE=function(a){a.ga?
(a.jw(),a.xw&&!a.Fb&&(a.$b.current=a.vd(H.ui,!0,a))):a.Ua&&(a.bi||a.Ak(a,!1));a.po=!1};ea.prototype.resize=function(){this.Xn&&(Ba.Sn.B=this.Cr-this.ea,this.Cr=this.ea,this.Xn=!1);this.Za.width=this.ea;this.Za.height=this.aa;this.Pa.textBaseline="middle";this.g.Gj(this.ea,this.aa);"Empty"!==this.ob&&"none"!==this.ob&&""!==this.ob&&null!==this.g.Oa&&this.g.Xi(this.Be,this)};ea.prototype.ow=function(){this.uj=this.ea;this.rw=this.aa;this.vw=this.g.zoom;this.tw=this.s;this.ea=this.ea/this.Ub|0;this.aa=
this.aa/this.Ub|0;this.g.zoom/=this.Ub;this.ea&=-8;this.h.G=!0;this.C.L=!0;this.C.Ta=this.Ub;this.C.l=!1;this.ga=!0;this.resize()};ea.prototype.kw=function(){var a=this.g.h,b;a>this.sc&&(a=this.sc);this.Ta.i=[];this.Ta.S=[];this.Ta.gf(40*a);this.ma.i=[];this.ma.S=[];this.ma.current=[];this.ma.gf(40*a);this.ma.v=1;for(b=0;b<a;b+=1){var c=b+this.ec;this.Ta.i[b]=String(c);var d=this.bh(c);10>c&&(d+=" [Ctrl "+c+"]");this.Ta.S[b]=d;this.ma.i[b]="";this.ma.S[b]=d;this.ma.current[b]=!1}c=this.Se;0<c&&(this.g.ha||
this.g.l||this.g.o||this.g.m||this.g.B||(c=this.g.h-c));this.Ta.current=c-this.ec};ea.prototype.bA=function(){var a=this.g.h,b=this.h.s;this.Se=1;this.ec=0;this.pj.current=[this.Xq([!0],!0,this)];this.sc=7+((this.ea/b-H.Yc)/(40*b)|0);this.sc>a&&(this.sc=a);this.g.I?(this.Ta.i="0123456".split(""),this.Ta.gf(280),this.Ta.S="dead [Ctrl 0];alive [Ctrl 1];history [Ctrl 2];mark 1 [Ctrl 3];mark off [Ctrl 4];mark 2 [Ctrl 5];kill [Ctrl 6]".split(";"),this.Ta.current=this.Se,this.ma.i="      ".split(" "),this.ma.gf(280),
this.ma.S="dead [Ctrl 0];alive [Ctrl 1];history [Ctrl 2];mark 1 [Ctrl 3];mark off [Ctrl 4];mark 2 [Ctrl 5];kill [Ctrl 6]".split(";"),this.ma.v=1,this.ma.current=[!1,!1,!1,!1,!1,!1,!1]):2>=a?(this.Ta.i=["0","1"],this.Ta.gf(80),this.Ta.S=["dead [Ctrl 0]","alive [Ctrl 1]"],this.Ta.current=this.Se,this.ma.i=["",""],this.ma.gf(80),this.ma.S=["dead [Ctrl 0]","alive [Ctrl 1]"],this.ma.v=1,this.ma.current=[!1,!1]):(this.Se=this.g.ha||this.g.l||this.g.o||this.g.m||this.g.B?1:a-1,this.kw(),this.Ta.gf(40*this.sc),
this.ma.gf(40*this.sc),this.ll.current=this.zr([0,0],!0,this));this.Ta.setPosition(ba.ic,-this.Ta.O,45);this.ma.setPosition(ba.ic,-this.ma.O,65)};ea.prototype.ME=function(a){var b=this.g.jb;-1===a&&(a=this.sa?b:this.g.I?10:2<this.g.h&&!(this.g.m||this.g.B||this.g.l||this.g.o)?11:this.g.Z?17:this.g.l||this.g.o?18:1);this.Tf(a,1,this)};ea.prototype.zx=function(){var a=window.innerWidth,b=window.innerHeight,c=this.ea,d=this.aa+80;c*=this.bk;d*=this.bk;var f=this.bk;this.ue=1;if(c>a||d>b)if(f=c/a,d/b>
f&&(f=d/b),c/=f,d=this.aa*this.bk/f,f=c/this.ea,d/this.aa<f&&(f=d/this.aa),c<H.Yc||d<H.Mh)f=c/H.Yc,d/H.Mh<f&&(f=d/H.Mh),c/=f,d/=f,this.ue=f,f=1;this.ea=c&-8;this.aa=d|0;this.C.xa=this.ue;Ba.Sn.o=this.ue;this.h.La(f);this.l.R(f);this.Ok=18*f|0;this.Vh=this.Ok+"px "+H.py;this.kf=this.Ok+"px "+H.lw;this.ea!==this.Cr&&(this.Xn=!0)};ea.prototype.MC=function(){this.ek=!1;this.Ja=0;this.kc=!1;this.uc=this.Zb=0;this.vk=this.Yi=this.Rf=this.xa=this.O="";this.Pn=this.$i=this.A=this.v=0;this.fk="(none)";this.g.ha=
!1;this.g.Z=!1;this.g.l=!1;this.g.I=!1;this.g.m=!1;this.g.B=!1;this.g.ia=!1;this.g.kg=this.U.pa;this.g.W=!1;this.g.mg=this.U.fa;this.g.bd=!1;this.g.Jd=-1;this.g.gh=!1;this.g.h=-1;this.g.D=-1;this.ab=this.Na=this.g.Ia=!1;this.g.o=!1;this.g.Le=null;this.g.Ne=null;this.g.Qc=null;this.g.zc=null;this.g.xd=[];this.g.Pb=null;this.g.wd=0;this.g.Pc=0;this.g.lg=0};ea.prototype.yg=function(a,b){this.fa=60;this.V=1;this.dc.current=this.Kc([1,1],!0,this);this.mb.G=!0;this.Zd.G=!0;this.U.D=!1;this.Xl=this.g.Me=
!1;this.g.R.l=1;this.Jf=this.ea;this.If=this.aa;a=this.U.create("",a,this.g.N,this.mi,this.xE,[b],this);this.Mw=this.U.P;if(this.U.Pa){a=this.U.ma;var c=this.U.la;var d=this.U.create("","x=1,y=1,rule=Life\n!",this.g.N,this.mi,this.mi,[b],this);this.mi(d,[b],this);this.U.ma=a;this.U.la=c;this.ea=this.Jf;this.aa=this.If;this.C.notification.clear(!1,!0);this.C.notification.notify("Loading rule...",15,1E4,15,!0)}else this.mi(a,[b],this)};ea.prototype.xE=function(a,b,c){b[b.length]=a.title;b[b.length]=
a.s;c.U.P=c.Mw;c.U.ab=!0;c.mi(null,b,c)};ea.prototype.vx=function(){var a,b=0,c=!1;if(navigator.userAgentData){var d=navigator.userAgentData;if("Windows"===d.platform&&d.brands)for(a=0;a<d.brands.length;a+=1)if("Google Chrome"===d.brands[a].brand||"Brave Browser"===d.brands[a].brand)c=!0,b=Number(d.brands[a].version)}c&&103<=b&&107>b&&(a=localStorage.getItem(H.ky),"y"!==a?(this.C.notification.notify("If there are no cells displayed click on Help",15,300,15,!1),this.On=!0):this.On=!1)};ea.prototype.mi=
function(a,b,c){var d=0,f,e,g=!1;var k=f=0;var l=b[0],p="";c.ln=-1!==window.navigator.userAgent.indexOf("Edge")?!0:!1;c.g.s=0;c.Md&&(c.Md.h=new T(255,255,255));c.g.R.V=!1;c.Vb.current=c.El([!0,!0,!0],!0,c);c.g.Hc=!1;c.vb=-1;c.lg.current=c.Zq([!0],!0,c);c.ge=!1;c.Ve=!1;c.Ue=!1;c.Re=!1;c.Xe=!1;c.fe=!1;c.Te=!1;c.g.Xb=-1;c.C.hb();c.Rc=!0;c.be=!1;c.M=!1;c.dd=!1;c.fb=[];for(e=0;e<H.tj;e+=1)c.fb[e]=null;c.fb[H.tj]=null;c.Gc=0;c.Fj=!1;c.X=null;c.ua=!1;c.Yb=0;c.Xb=0;c.Qa=!1;c.Mc=!1;c.Nf.current=c.rr(2,!0,
c);c.cj=!1;c.Xd=[];c.hj=[];c.Tb=[];c.Ld=[];c.lc=[];c.Xg=[];c.La=0;c.ka=0;c.qh=0;c.g.Wb=!1;c.Uc=[];c.Fa=H.Ln;c.Le=0;c.sk=-1;c.Xi=[];c.Ud=0;c.Ul=!1;c.Oq=0;c.Mr=0;c.Td=-1;c.mn=!1;c.Lf=H.$h;c.Pf=-H.$h;c.Kf=H.$h;c.Qf=-H.$h;c.C.notification.clear(!0,!0);c.C.notification.clear(!1,!0);c.g.Za=!1;c.g.wb=!1;c.Dr=!1;c.g.zc=null;c.U.D&&a&&(-1===a.l||-1!==a.l&&(0===a.I||0===a.ca))&&(c.U.P=null===c.g.Pb?"@TREE B0 only valid with finite grid":"@TABLE B0 only valid with finite grid",a=null);if(a){c.ek=c.U.mb;c.Ja=
c.U.Eb;c.kc=c.U.Ha;c.Zb=c.U.Wa;c.uc=c.U.Xa;c.ra=c.U.ma;c.qa=c.U.la;c.v=a.width;c.A=a.height;-999999===c.ra&&(c.ra=c.v);-999999===c.qa&&(c.qa=c.A);c.Yi=a.name;c.vk=a.Ub;c.fk=a.bb;""===c.fk&&(c.fk="(none)");c.$i=a.s;c.Pn=a.Pa;c.O=a.h;c.xa=a.M;c.Rf=a.Ua;c.g.lh=a.u;c.g.kh=a.ua;c.ab=c.U.ab;c.g.I=a.O;c.g.m=a.L;c.g.B=a.$;c.xf.S="clear History cells [Ctrl Del]";c.g.m&&(c.xf.S="clear Super cells [Ctrl Del]");c.g.h=a.i;!c.ab&&2<a.s&&(c.g.h=a.s);c.g.Pb=null;c.g.xd=null;c.He=[];c.g.o=!1;c.g.Me=!1;-1!==a.ra&&
(c.g.yd=a.gb,c.g.nh=a.ra,c.g.h=a.ra,c.g.Mi=a.ib,c.g.Jf=a.fb,c.g.Le=a.cb,c.g.Ne=a.eb,c.g.Qc=a.Fa,c.g.zc=a.xa,c.He=a.Za,c.g.Me=c.U.D,c.g.o=!0);null!==a.qa&&(c.g.xd=a.Ka,c.g.Pb=a.qa,c.g.wd=a.Ja,c.g.Pc=a.Ta,c.g.lg=a.hb,c.g.h=a.ya,c.g.Qc=a.Fa,c.g.zc=a.xa,c.He=a.Za,c.g.Me=c.U.D,c.g.o=!0);a.xa&&c.g.Um(a.xa);if(c.g.Ia=a.Ia)c.g.R.B=a.B,c.g.R.v=a.T,c.g.R.X=a.i,c.g.R.V=a.nb,c.g.R.ja=a.Qa,c.g.R.ka=a.Xa,c.g.R.ha=a.Wa,c.g.R.ub(a.m,a.v,a.ha,a.na,a.o,a.ub,a.vb,a.va,a.wa),c.U.ca?(c.g.R.$=a.La,c.g.R.ca=a.Na,c.g.R.ma=
!0):c.g.R.ma=!1,c.Dr=a.X;c.g.ha=a.ga;c.g.Z=a.fa;c.g.cd=c.g.Z;c.g.l=a.ka;c.g.ua=!1;c.g.ia=a.ia;c.g.gh=a.ia;c.g.kg=a.pa;c.g.W=a.o;c.g.mg=a.W;c.g.bd=a.ja;c.g.Jd=a.oa;c.g.D=a.l;c.g.O=a.I;c.g.M=a.ca;c.g.Md=a.Ba;c.g.Nd=a.Da;c.g.Kf=a.Eb;c.g.Pg=a.Ib;c.g.Lf=a.Hb;d=-1===c.g.h?2:c.g.h;c.g.I&&(d=7);c.Zi=new Uint32Array(d);for(e=0;e<d;e+=1)c.Zi[e]=c.U.Z[e]}else c.MC();c.g.Yb=c.g.nf()?!0:!1;c.g.pm();c.ee=!0;c.Oa=!1;c.od=!0;c.Wa=H.ey;c.Wb=a?!1:!0;c.ed=!0;c.Ae=!1;c.P=c.U.P;c.g.De=H.by;c.R=0;c.Y=0;c.Fc=-1;c.Jc=-1;
c.Wg=!1;c.Mj=!1;c.h.locked=!1;c.ld=!1;c.qd=!1;c.g.Lk();c.g.Nk();c.g.I&&c.g.$i();c.g.I&&c.g.aj();c.sd="";c.pd=!1;eb.oe();c.g.nb=H.Rs;c.g.vc=H.Qs;c.g.Ua=10;c.g.vk=10;c.g.Tc=!0;c.Em=-1;c.Cm=-1;c.fa=60;c.V=1;c.g.za=1;c.g.Ub=.1;c.g.angle=0;c.g.Gb=0;c.g.zoom=6;c.g.Xn();c.g.qh();c.g.ga=c.g.width/2;c.g.da=c.g.height/2;c.Pv=!1;c.qv=!1;c.yv=!1;c.ta=0;c.ub=0;c.gb=-1;c.pc=-1;c.cc=-1;c.ad=-1;c.oa.fill(-1);c.Bt=H.Ny;c.lt=H.Gp;c.Nt=H.Nz;c.ga&&(c.fj?(c.aa=c.uj,c.ea=c.uj,c.g.zoom=this.vw,c.s=this.tw):c.jw());c.cf=
!1;c.C.L=!1;c.Ub=H.gy;c.ci=!1;c.C.ma=!1;c.yp=!1;c.Na=a?!1:!0;c.D=!1;c.g.Ka=!1;c.g.Wa=!1;c.$b.G=!1;c.wa.G=!1;c.cb.G=!1;c.dc.G=!1;c.ja.G=!1;c.eb.G=!1;c.Ha.G=!1;c.rd.G=!1;c.lg.G=!1;c.Uf.G=!1;c.h.G=!1;c.$e.G=!1;c.Qd.G=!1;c.wh.G=!1;c.uk.G=!1;c.yl.G=!1;c.Tn.G=!1;c.Ek.G=!1;c.xd.G=!1;c.Bi.G=!1;c.el.G=!1;c.ja.current=[!1];c.cb.current=[!1];c.s=0;c.Z=0;c.Me.current=[!1];c.Sg.current=c.ir([c.be],!0,c);c.vi.current=c.kr([c.Rc],!0,c);c.up=!1;c.wa.current=c.re(H.ti,!0,c);c.Wd.current=c.Tw([50,50],!0,c);c.sh.current=
c.tr([H.Mn,H.Mn],!0,c);c.jd.current=c.df([0!==c.s],!0,c);c.yd=[96,96,96];c.g.Ld=c.g.Ac?4284506208:1616929023;c.g.sg="rgb("+c.yd[0]+","+c.yd[1]+","+c.yd[2]+")";c.zf=[128,128,128];c.g.fe=c.g.Ac?4286611584:2155905279;c.Cf=[0,255,0];c.g.Ii="rgb(0,255,0)";c.Bf=[255,0,0];c.g.zi="rgb(255,0,0)";c.yf=[255,255,0];c.g.ng="rgb(255,255,0)";c.Df=[255,128,0];c.g.Ji="rgb(255,128,0)";c.m.reset();c.Ba=!1;c.m.ja();c.kd=!1;c.wb=!1;c.Fd=!0;c.sa=!1;c.Af=!1;c.g.tc=!1;c.vo=H.Un;c.oo=H.Un;c.Ki=50;c.Jk=!1;c.qo=!1;c.to=!1;
c.Oe=-1;c.Pe=-1;c.Sf=-1;c.Wc=[];c.Kd=[];c.pm=!1;c.xw=!1;c.rv=!0;c.cv=!0;c.Ee="";a?a.title&&(p=a.title):(1<b.length&&(p=b[1]),c.uy());c.g.I?(c.Qe=[0,65280,128,14221272,16711680,16776960,6316128],c.no="[R]History"):(c.Qe=eb.ws,c.no="(default)");c.WC();c.dj=Date.now().toString();!c.Ad&&Ca.fullScreen&&(c.ea=(document.body.clientWidth&-8)-8,c.aa=window.innerHeight-130,c.ea<H.Yc&&(c.ea=H.Yc),c.aa<H.Mh&&(c.aa=H.Mh),g=!0);""!==p&&(a?d=-1===a.i?a.s:a.i:d=b[2],c.g.I&&(d=7),c.g.l&&(d=16),c.g.m&&(d=26),c.g.B&&
(d=21),c.uC(p,d),c.Tb.length&&(c.Z=1),c.ga&&l&&(c.ga=!1),-1<c.gb&&(c.gb&=-8,c.gb!==c.ea&&(c.ea=c.gb,g=!0)),-1<c.pc&&c.pc!==c.aa&&(c.aa=c.pc,g=!0),c.Ad&&(-1<c.cc?(c.cc&=-8,c.cc!==c.ea&&(c.ea=c.cc,g=!0)):c.ea<H.Yc&&(c.ea=H.Yc),-1<c.ad&&c.ad!==c.aa&&(c.aa=c.ad,g=!0)));c.g.Vb&&(2<c.g.h||c.g.Ia||c.g.l||c.g.I||c.g.m||c.g.B||c.g.o)&&(c.g.Vb=!1);if(!c.ab||c.g.o||c.g.m||c.g.B)c.Da=0;c.B.oe(c.dj);c.g.Ia&&c.g.R.nb(c.dj);c.Ad&&(c.Jf=c.ea,c.If=c.aa,c.zx());a&&a.sa&&0===c.Uc.length&&(c.ab=!1);c.bA();c.uy();c.tA();
c.ID();c.g.Zm();c.g.u=c.Da;c.g.jg=c.Pg;c.ci&&!c.Oa&&(c.Wb=!0,c.Oa=!1);c.g.Kk(!c.Wb);d=c.Ii();a&&(a.width>c.g.T-d-2*Math.abs(c.R+c.Zb)||a.height>c.g.T-d-2*Math.abs(c.R-c.Zb))&&(c.P=a.width>c.g.T-d||a.height>c.g.T-d?"Pattern too big":"Pattern too big at specified location",a.sa=!0,c.ab=!1);a&&-1!==a.l&&(d=c.Ii(),a.I>c.g.T-d||a.ca>c.g.T-d)&&(c.P="Bounded grid too big",c.ab=!1,c.g.D=-1);c.ab||(c.g.Yb=!1,c.g.hb=-1);c.g.Fm(c);c.g.nf()&&c.g.Yb&&c.tB();c.mn&&(c.g.rh(),c.PB());c.Ep=!1;a&&(-1!==c.g.D?(f=c.g.O,
k=c.g.M,0===f&&(f=a.width),0===k&&(k=a.height)):(f=a.width,k=a.height,0<c.Uc.length&&(f=c.RE(f),k=c.JE(k))));d=c.Ii();c.kc&&(c.R+=c.Zb,c.Y+=c.uc);e=c.g.width<c.g.T&&f+d+2*Math.abs(c.R)>=c.g.width;for(b=c.g.height<c.g.T&&k+d+2*Math.abs(c.Y)>=c.g.height;e||b;)c.g.Af(e,b),e&&(c.ta+=c.g.width>>2),b&&(c.ub+=c.g.height>>2),e&&(c.ya+=c.g.width>>2),b&&(c.Hb+=c.g.height>>2),c.g.ia&&b&&(c.ta-=c.g.height>>3,c.ya-=c.g.height>>3),e=c.g.width<c.g.T&&f+d+2*Math.abs(c.R)>=c.g.width,b=c.g.height<c.g.T&&k+d+2*Math.abs(c.Y)>=
c.g.height;a&&a.Ia&&c.g.R.resize(c.g.width,c.g.height);a&&c.WE(c.v,c.A,c.ra,c.qa);c.C.notification.m=c.Tc?"rgb("+c.Tc[0]+","+c.Tc[1]+","+c.Tc[2]+")":c.C.notification.v;if(null===c.L)for(e=0;e<c.Qe.length;e+=1)c.Am[e]=c.U.Z[e]?H.gA:H.fA;c.g.Ba?(c.g.th(c.Qe,c.L),c.g.tc=!0):c.g.tc=!1;a&&!a.sa&&c.vG(a);c.Yd.tb=""!==c.xa?c.xa:c.O;c.Yd.S=c.O;""!==c.xa&&(c.Yd.S+=" alias "+c.xa);c.Yd.S+="\n"+c.Sq();c.Rb=!1;c.Ar="none";c.ob="none";c.Si="none";c.fm="none";c.Ti="none";c.am="none";c.tn="none";c.Pi="none";c.hm=
"none";c.Qi="none";c.nh="none";c.mh="none";c.Ri="none";c.nb=!1;c.Xh.current=[c.nb];c.g.Rf(c.nb);c.Uf.current=c.Tq([c.Fd],!0,c);(c.g.o||c.g.ha)&&-1!==c.oa[H.gj]&&(null===c.L?(c.L=c.g.N.h(pa.Hd,256,"View.customColours"),c.L.fill(-1),c.L[0]=c.oa[H.gj],c.oa[H.gj]=-1,c.oa[H.en]=-1):-1===c.L[0]&&(c.L[0]=c.oa[H.gj]));c.g.rh();c.ME(c.wp);c.g.Zb=c.L;c.g.ha||!c.ab&&2<c.g.h?c.g.Yi(c.Qe,c.L):c.g.sh();c.g.mb(1);c.g.vo();c.li.current=[c.g.Wa];c.mj.current=c.Vq([c.zh],!0,c);c.Wi.current=c.Cp([c.Wa,c.Wa],!1,c);c.Ui.current=
[c.od];c.ae.current=[c.da];c.gd.current=[c.g.Ka];c.uh.current=[c.g.Vb];c.g.counter=0;c.g.Hb=0;c.g.ee=0;c.ha=0;c.la=0;c.wa.o=[!1,!1,!1];if(c.Na){if(a&&(c.g.Gi(c.qd),c.L))for(e=0;e<c.L.length;e+=1)c.Qe[e]=c.L[e];c.bE=c.Qe.length;c.g.Yi(c.Qe,c.L);c.g.Cc.reset();c.Wb=!0;c.Oa=!1}else{c.g.Gi(c.qd);c.g.Fg();2>=c.g.h&&c.g.lf(c.g.va);c.tk();0<c.Uc.length&&(c.g.Gi(c.qd),c.g.Fg(),2>=c.g.h&&c.g.lf(c.g.va));c.g.I&&c.U.Z[2]&&c.g.Ql(a,c.ca,c.W);c.g.$n(c.g.va,c.g.i);d=0;f=c.g.h;c.g.I?f=7:-1===f&&(f=2);for(e=1;e<
f;e+=1)d+=c.Zi[e];a&&0===c.g.s&&!c.Ul&&0===d&&(c.g.ha||(a.sa?c.C.notification.notify("Pattern too big!",15,H.Fs,15,!1):""===c.P&&c.C.notification.notify("New pattern",15,300,15,!1)));""!==c.P&&c.C.notification.notify("Invalid pattern!",15,300,15,!1);-1!==c.g.D&&c.g.Ig();c.g.to(c.wb,c);c.g.Hf(c,c.wb)}c.Uf.current=[c.Fd];c.lg.current=[c.vf];c.De.current=[c.g.hd];c.ki.current=[c.kd];c.ji.current=[c.bd];c.$d.current=[c.g.cd];c.$d.locked=!c.g.Z;c.g.W?(c.Bd.current=[c.g.ua],c.Bd.S=["toggle triangular cells [?]"]):
(c.Bd.S=["toggle hexagonal cells [?]"],c.Bd.current=c.g.ia?[c.g.ua]:[!0]);c.Bi.locked=(c.g.Z||c.g.l)&&null!==c.g.bb?!1:!0;0===c.m.A()?(c.nf.locked=!0,c.ee=!1):(c.nf.locked=!1,c.ee=!0);c.nf.current=[c.ee];c.Oi.current=[c.Ka];c.g.o||(c.g.Yb=!1);c.ah.current=[c.g.Yb];c.ij.current=[c.Ae];c.Fk.current=[c.g.Hc];c.nj.current=[c.pd];c.Wh.current=[c.ld];c.m.i.length?(c.zk.G=!1,c.jm.G=!1):(c.zk.G=!0,c.jm.G=!0);0===c.g.Ua?(c.Dd.current=[!1],c.Dd.locked=!0):(c.Dd.current=[c.g.Tc],c.Dd.locked=!1);c.Wb||c.g.Gg();
d=c.g.zoom;f=c.g.ga;k=c.g.da;e=c.ga;c.ga=!1;c.Nb(!0,!1,H.cg);c.ga=e;c.Pv?c.g.zoom=d:!c.da&&c.g.zoom>H.Uy&&(c.g.zoom=H.Uy);c.qv&&(c.g.ga=f);c.yv&&(c.g.da=k);c.Ba&&c.eE(c.Tb);c.ga&&c.yp&&(c.g.zoom=c.Qq);c.Jz=c.g.zoom;c.bc.current=c.se([c.g.zoom,c.g.zoom],!1,c);c.ta=c.g.ga;c.ub=c.g.da;c.xi=c.g.angle;c.na.current=[c.xi,c.xi];c.zi=c.g.Gb;c.Xa.current=[c.Oj(c.zi),c.zi];c.Gm=c.g.Xb;c.Tf(c.Gm,c.g.se,c);c.oz=c.fa;c.vz=c.V;c.dc.current=1===c.V&&60===c.fa?c.Kc([1,1],!0,c):c.Kc([c.Wf(),1],!0,c);c.yi=c.g.za;c.eb.current=
[c.yi,c.yi];c.Ou=c.g.Ub;d=Math.sqrt(c.Ou);c.Ha.current=c.ff([d,d],!0,c);c.Pb&&!c.rc?(c.Fb=!0,c.$b.current=H.ui):(c.Fb=!1,c.$b.current=H.je);c.yh(c.Fb);c.ea>H.Yc&&!c.Ad?(e=c.ea-H.Yc+H.sp,e>H.Mq&&(e=H.Mq),c.bc.gf(e)):c.bc.gf(H.sp);if(g||c.ga)c.ga?c.ow():c.resize();a||(c.U.Ja?c.C.notification.notify("Pattern too big!",15,H.Fs,15,!1):c.C.notification.notify("Invalid pattern!",15,H.Fs,15,!1));c.Tb.length?c.s=0:c.Z=0;c.ab||(c.D=!0,c.g.tc=!1,c.g.ha=!0,c.g.I=!1,c.g.m=!1,c.g.B=!1,c.tA());if(c.D||c.g.ha)c.wa.o[H.Yj]=
!0,c.wa.o[H.Zj]=!0;c.D?(c.$b.G=!0,c.$e.G=!0,c.dc.G=!0,c.Qd.G=!0,c.wh.G=!0,c.Bi.G=!0,c.el.G=!0,c.Na&&(c.eb.G=!0,c.Ha.G=!0,c.rd.G=!0,c.g.za=1),c.wc.G=!1,""===c.P?(c.wc.tb=" "+B.rp,c.wc.A=c.C.u,c.wc.setPosition(ba.xg,c.cb.O,-40),c.ga?c.wc.gf(c.uj-(40+c.cb.O)):c.wc.gf(c.ea-(40+c.cb.O)),c.cb.G=!1):(c.wc.tb=c.P,c.wc.A=c.Ih,c.wc.setPosition(ba.xg,0,-40),c.ga?c.wc.gf(c.uj-40):c.wc.gf(c.ea-40),c.cb.G=!0)):c.wc.G=!0;540>c.aa?c.xd.setPosition(ba.Yl,0,-85):c.xd.setPosition(ba.Yl,0,-100);c.lA();c.mc=!1;c.et(c);
c.Mm()?(c.Pc.tb="Density",c.Pc.S="cell density"):(c.Pc.tb="Births",c.Pc.S="cells born this generation");c.C.i=!0;c.C.Ge(!0);c.Ad&&c.Ov&&(c.Ov.nodeValue=""===c.sd?H.Go:c.VC(c.sd));Ca.yb?(g=c.Yi,""===g&&(g="Universe "+(c.Ga+1)),c.C.notification.notify(g,15,120,15,!0),c.Bk.G=!1,c.km.G=!1):(c.Bk.G=!0,c.km.G=!0);c.T("");c.mq&&jc(c);!c.Pu&&(8===c.g.zoom||.125===c.g.zoom)&&0<c.rh&&0===(c.rh&3)&&1===(c.Ld.length&5)?(c.Gk=!0,c.g.mj()):c.Gk=!1;c.g.xi();(c.g.Z||c.g.l)&&null!==c.g.bb&&c.pm&&(c.g.wb=!0,c.yh(c.Fb));
c.Nk&&""===c.P&&(c.fj||(c.fj=!0,c.Hk(c,!0)),c.fj=!1);-1!==c.Ib&&(c.ed&&(0===c.g.s?(c.C.notification.notify("No live cells",15,360,15,!1),c.Ib=-1):c.C.notification.notify("Going to generation "+c.Ib,15,1E4,15,!1)),c.C.notification.clear(!0,!1));a||(a=c.g.ha,c.g.ha=!1,c.g.re=1,c.g.sh(),c.g.ha=a);c.Cd.current=c.mg(0,!0,c);c.g.ha&&(c.Wb=!0,c.Oa=!1);c.jf.locked=c.Wb;c.jf.current=[c.Oa];c.vx()};Ia(window,"load",function(){var a=document.getElementsByTagName("div"),b,c;var d=new fb;var f=new va;var e=document.getElementsByTagName("meta");
for(b=0;b<e.length;b+=1){var g=e[b];if(g.name===Ca.tagName&&(Ca.Ws=!1,Ca.Ro=!1,g=g.content,(c=g.match(/\S+/g))&&2<=c.length&&7>=c.length))for(Ca.Tp=c[0],Ca.Nn=c[1],g=2;g<c.length;g+=1)switch(c[g]){case Ca.ND:Ca.Ws=!0;break;case Ca.mE:Ca.Ro=!0;break;case Ca.HE:Ca.yb=!0;break;case Ca.nD:Ca.fullScreen=!0;break;default:if("/"===c[g][0])Ca.ov=c[g];else if("."===c[g][0]||"?"===c[g][0])Ca.Zz=c[g];else{var k=c[g];!isNaN(parseFloat(k))&&isFinite(Number(k))&&(Ca.rq=parseFloat(k)|0)}}}bb.oe();for(e=0;e<a.length;e+=
1)(c=a[e],c.className===Ca.Tp)?(b=c.getElementsByTagName(Ca.Nn)[0],g=c.getElementsByTagName("canvas")[0],(k=b.getElementsByTagName(Ca.Nn)[0])&&(b=k),La.Hq&&b&&(k=zb(b),Ca.yb?mc(k,d,f,c,b,g):g&&g.getContext?(-1<Ca.rq&&b.clientHeight>Ca.rq&&(b.style.height=Ca.rq+"px"),g.contentEditable="false",Ob(k,g,b.offsetWidth,!1,b)):Ca.Ws&&g&&(g.style.display="none"))):La.Hq&&c.className===Ca.Up&&c.parentNode.className!==Ca.Tp&&(b=c.getElementsByTagName(Ca.Nn)[0])&&(k=zb(b),mc(k,d,f,c,b,null));a=document.getElementsByTagName("a");
for(e=0;e<a.length;e+=1)d=a[e],""!==d.accessKey&&-1!==H.CC.indexOf(d.accessKey)&&(d.accessKey="")},!1);Ia(window,"resize",function(){if(Ca.fullScreen){var a=Ba.Sd[0][1];a.ea=(document.body.clientWidth&-8)-8;a.aa=window.innerHeight-130;a.ea<H.Yc&&(a.ea=H.Yc);a.aa<H.Qz&&(a.aa=H.Qz);if(a.ea>H.Yc&&!a.Ad){var b=a.ea-H.Yc+H.sp;b>H.Mq&&(b=H.Mq);a.bc.gf(b)}else a.bc.gf(H.sp);b=a.Se;a.bA();a.Se=b;a.kw();a.resize();a.C.Ge(!0)}},!1);window.updateViewer=Rb;window.updateMe=Qb;window.lifeViewerBuild=H.Iq;var Xa=
{Qh:0,hl:"",ps:!1,YF:function(a){a=I.Dn[a];var b=a.substring(a.length-1);10<a.length&&(a=a.replace(/marked/,"mkd"),a=a.replace(/trail/,"trl"),10<a.length&&(a="1"<=b&&"9">=b?a.substring(0,9)+b:a.substring(0,10)));return a},iD:function(a){a=I.Cn[a];10<a.length&&(a=a.replace(/killer/,"klr"),a=a.replace(/births/,"bth"),10<a.length&&(a=a.substring(0,10)));return a},nF:function(a,b,c,d,f,e,g,k,l,p){var n=k,q=a.h.s,m=this.Qh*q,r=this.Qh*a.h.s,u=!1,t=a.o;e&&(e.fillStyle===a.C.Ba&&(u=!0),t>=p&&t<=p+a.Ea&&
(e.font=a.Vh,u||(e.fillStyle=1<(a.s|0)?a.Jh:a.C.R),e.fillText(b,g+m,k+r),u||(e.fillStyle=a.Jh),e.fillText(c,g+m+e.measureText(b).width,k+r),u||(e.fillStyle=(a.s|0)<a.Vi-a.Ea?a.Jh:a.C.R),e.fillText(d,g+m+e.measureText(b+c).width,k+r),u||(e.fillStyle=a.Jh),e.font=a.kf,e.fillText(f,g+m+a.i[0]*q,k+r),n+=l));a.o+=1;return n},bs:function(a){a/=1048576;return 10>a?String(a.toFixed(1)):String(a.toFixed(0))},oF:function(a,b,c,d,f,e,g,k){var l=a.o;d&&(g-=6,l>=k&&l<=k+a.Ea&&(k=d.fillStyle,0===this.Qh?(d.save(),
d.imageSmoothingEnabled=!0,d.translate(f,e-(g>>1)-1),d.scale(g/c,g/c),d.drawImage(a.g.ff,0,(c+1)*b,c,c,0,0,c,c),d.restore()):d.fillRect(f+2,e-(g>>1)-1+2,g,g),d.fillStyle=k))},Ra:function(a,b,c,d,f,e,g,k,l){var p=a.o;f&&(k-=6,p>=l&&p<=l+a.Ea&&(a=f.fillStyle,0===this.Qh?(f.fillStyle="rgb("+b+","+c+","+d+")",f.fillRect(e,g-(k>>1)-1,k,k)):f.fillRect(e+2,g-(k>>1)-1+2,k,k),f.fillStyle=a))},measureText:function(a,b,c,d){var f=d?a.Tm:a.Sm;f[a.o]?b=f[a.o]:(b.font=0===d?a.Vh:a.kf,b=b.measureText(c).width,f[a.o]=
b);return b},j:function(a,b,c,d,f,e,g,k){var l=e,p=String(c).indexOf("\t"),n=0,q=a.h.s,m=this.Qh*q,r=this.Qh*a.h.D,u=a.o>=k&&a.o<=k+a.Ea;Xa.ps&&0===Xa.Qh&&(""===b?Xa.hl+=c+"\n":"H / Esc"!==b&&(Xa.hl+=b+"\t"+c+"\n"));if(b.length){u&&(d.font=a.Vh,d.fillText(b,f+m,e+r));b=this.measureText(a,d,b,0);b>a.i[n]*q&&""!==c&&(u&&(e+=g,l+=g),a.o+=1,u=a.o>=k&&a.o<=k+a.Ea);u&&(d.font=a.kf);for(;-1!==p;)u&&d.fillText(c.substring(0,p),f+m+a.i[n]*q,e+r),n+=1,c=c.substring(p+1),p=c.indexOf("\t");p=!1;if(a.zc&&(b=this.measureText(a,
d,c,1),f+a.i[n]*q+b>d.canvas.width)){var t=c.toLowerCase();b=t.indexOf("|");-1===b&&("r"===t[0]?b=t.indexOf("b"):"m"!==t[0]&&(b=t.indexOf("s")),-1===b&&(b=t.indexOf("/"),-1!==b&&"m"!==t[0]?b+=1:(b=c.length>>1,t=t.indexOf(",",b),-1!==t&&(b=t+1))));-1!==b&&(u&&(d.fillText(c.substring(0,b),f+m+a.i[n]*q,e+r),e+=g,l+=g),a.o+=1,(u=a.o>=k&&a.o<=k+a.Ea)&&d.fillText("  "+c.substring(b),f+m+a.i[n]*q,e+r),p=!0)}p||u&&d.fillText(c,f+m+a.i[n]*q,e+r)}else d.font=a.kf,u&&d.fillText(c,f+m,e+r);u&&(l+=g);a.o+=1;return l},
qb:function(a,b,c){var d=eb.Qe,f=Object.keys(d),e,g=!1,k=0;for(e="    "+a+"\t"+b+"\t"+c+("\t#"+(16777216|a<<16|b<<8|c).toString(16).slice(-6).toUpperCase());k<f.length&&!g;){var l=d[f[k]];l[1]===a&&l[2]===b&&l[3]===c?(e+="\t"+l[0],g=!0,k=f.length):k+=1}return e},pe:function(a){return this.qb(a.h,a.l,a.i)},HC:function(a){var b=0,c=0;0<a.g.s&&(b=a.g.A.J-a.g.A.F+1,c=a.g.A.K-a.g.A.H+1);-1!==a.g.D&&(0!==a.g.O&&(b=a.g.O),0!==a.g.M&&(c=a.g.M));return b+" x "+c},KC:function(a){var b="AutoFit";a.ld&&(b+=" History");
a.qd&&(b+=" State 1");return b},xz:function(a,b){b-=a.length;for(var c="";0<b;)c+=" ",--b;return c+a},ms:function(a){var b=a.indexOf(","),c=a.lastIndexOf(",");return[parseInt(a.substring(4,b),10),parseInt(a.substring(b+1,c),10),parseInt(a.substring(c+1,a.length-1),10)]},Vz:function(a,b,c,d,f,e){var g=d;switch(a.zd){case H.hg:this.uF(a,b,c,d,f,e);break;case H.it:this.qF(a,b,c,d,f,e);break;case H.tv:this.sF(a,b,c,d,f,e);break;case H.Zp:this.pF(a,b,c,d,f,e);break;case H.Iv:this.tF(a,b,c,d,f,e);break;
case H.os:this.lF(a,b,c,d,f,e);break;case H.Nr:this.jF(a,b,c,d,f,e);break;case H.Lt:this.rF(a,b,c,d,f,e);break;case H.Qr:this.kF(a,b,c,d,f,e)}a.Vi=a.o-1;a.o=1;a.i[0]=120;d=g+f*(a.Ea+2);a.zd!==H.hg?d=this.nF(a,"Up"," / ","Down","scroll help",b,c,d,f,0):d+=f;a.Ad?this.j(a,"H","close help",b,c,d,f,0):this.j(a,"H / Esc","close help",b,c,d,f,0)},uF:function(a,b,c,d,f,e){var g=H.TF;a.o=1;a.zc=!1;a.u=[];a.i[0]=108;a.u[0]=[a.o,"Top"];a.av&&(g=H.av);d=this.j(a,"",H.Go+" "+g+" build "+H.Iq+" by "+H.wA,b,c,
d,f,e);a.On&&(d=this.j(a,"","",b,c,d,f,e),d=this.j(a,"","If there are no cells displayed please go to chrome://flags",b,c,d,f,e),this.j(a,"","and set Out-of-process 2D canvas rasterization to Disabled. ",b,c,d,f,e))},kF:function(a,b,c,d,f,e){var g,k=0,l=a.h.s;a.o=1;a.zc=!1;a.u=[];a.u[k]=[a.o,"Top"];k+=1;a.i[0]=128;a.i[1]=208;a.i[2]=288;a.i[3]=368;d=this.j(a,"","Annotations",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.u[k]=[a.o,"Labels"];k+=1;d=this.j(a,"","Labels:",b,c,d,f,e);d=this.j(a,"Number",a.m.m.length,
b,c,d,f,e);for(g=0;g<a.m.m.length;g+=1){var p="Label "+String(g+1);d=this.j(a,p,a.m.ya(g),b,c,d,f,e);d=this.j(a," ",a.m.Aa(g),b,c,d,f,e);d=this.j(a," ",a.m.Ba(g),b,c,d,f,e);p=this.ms(a.m.Da(g));this.Ra(a,p[0],p[1],p[2],b,c+a.i[0]*l,d,f,e);d=this.j(a,"Colour",this.qb(p[0],p[1],p[2]),b,c,d,f,e)}d=this.j(a,"","",b,c,d,f,e);a.u[k]=[a.o,"Arrows"];k+=1;d=this.j(a,"","Arrows:",b,c,d,f,e);d=this.j(a,"Number",a.m.o.length,b,c,d,f,e);for(g=0;g<a.m.o.length;g+=1)p="Arrow "+String(g+1),d=this.j(a,p,a.m.fa(g),
b,c,d,f,e),d=this.j(a," ",a.m.ga(g),b,c,d,f,e),d=this.j(a," ",a.m.ha(g),b,c,d,f,e),p=this.ms(a.m.Gp(g)),this.Ra(a,p[0],p[1],p[2],b,c+a.i[0]*l,d,f,e),d=this.j(a,"Colour",this.qb(p[0],p[1],p[2]),b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.u[k]=[a.o,"Polygons"];d=this.j(a,"","Polygons:",b,c,d,f,e);d=this.j(a,"Number",a.m.s.length,b,c,d,f,e);for(g=0;g<a.m.s.length;g+=1)p="Polygon "+String(g+1),d=this.j(a,p,a.m.Na(g),b,c,d,f,e),d=this.j(a," ",a.m.Oa(g),b,c,d,f,e),d=this.j(a," ",a.m.Pa(g),b,c,d,f,e),p=this.ms(a.m.Qa(g)),
this.Ra(a,p[0],p[1],p[2],b,c+a.i[0]*l,d,f,e),d=this.j(a,"Colour",this.qb(p[0],p[1],p[2]),b,c,d,f,e)},qF:function(a,b,c,d,f,e){var g,k=0;a.o=1;a.u=[];a.zc=!0;a.i[0]=124;a.u[k]=[a.o,"Top"];k+=1;d=this.j(a,"","Keyboard commands",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.u[k]=[a.o,"Playback"];k+=1;d=this.j(a,"","Playback controls:",b,c,d,f,e);if(a.Na)d=this.j(a,"R","reset",b,c,d,f,e);else{d=this.j(a,"Enter","toggle play / pause",b,c,d,f,e);d=this.j(a,"Space","pause / next generation",b,c,d,f,e);d=this.j(a,
"B","pause / previous generation",b,c,d,f,e);d=this.j(a,"Backspace","pause / previous generation",b,c,d,f,e);d=this.j(a,"Tab","pause / next step",b,c,d,f,e);d=this.j(a,"Shift Tab","pause / previous step",b,c,d,f,e);if(a.g.Z||a.g.l)d=this.j(a,"U","toggle playback direction",b,c,d,f,e);d=a.Ad?this.j(a,"Esc","close LifeViewer",b,c,d,f,e):this.j(a,"Esc","pause if playing",b,c,d,f,e);d=this.j(a,"R","reset to generation 0",b,c,d,f,e);d=this.j(a,"Shift N","go to generation",b,c,d,f,e);d=this.j(a,"-","decrease playback speed",
b,c,d,f,e);d=this.j(a,"+","increase playback speed",b,c,d,f,e);d=this.j(a,"Shift -","minimum playback speed",b,c,d,f,e);d=this.j(a,"Shift +","maximum playback speed",b,c,d,f,e);d=this.j(a,"0","reset step and speed",b,c,d,f,e);d=this.j(a,"Ctrl P","toggle pause playback while drawing",b,c,d,f,e);d=this.j(a,"Alt T","toggle throttling",b,c,d,f,e);a.g.nf()&&(d=this.j(a,"F7","toggle fast lookup",b,c,d,f,e));d=this.j(a,"Alt T","toggle throttling",b,c,d,f,e);a.Ba?-1!==a.Lb?(d=this.j(a,"W","toggle waypoint playback and loop",
b,c,d,f,e),d=this.j(a,"Shift P","toggle just loop",b,c,d,f,e)):d=this.j(a,"W","toggle waypoint playback",b,c,d,f,e):-1!==a.Lb&&(d=this.j(a,"W","toggle loop",b,c,d,f,e));a.Pb&&(d=this.j(a,"Alt O","toggle autostart",b,c,d,f,e));-1!==a.fc&&(d=this.j(a,"Alt P","toggle stop",b,c,d,f,e))}d=this.j(a,"","",b,c,d,f,e);a.u[k]=[a.o,"Multi"];k+=1;d=this.j(a,"","Multi-Viewer controls:",b,c,d,f,e);Ca.yb&&(d=this.j(a,"Page Up","previous universe",b,c,d,f,e),d=this.j(a,"Page Down","next universe",b,c,d,f,e),d=this.j(a,
"Home","first universe",b,c,d,f,e),d=this.j(a,"End","last universe",b,c,d,f,e));d=this.j(a,"Shift R","reset all LifeViewers to generation 0",b,c,d,f,e);d=this.j(a,"Z","stop playback in all other LifeViewers",b,c,d,f,e);d=this.j(a,"Shift Z","stop playback in all LifeViewers",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.u[k]=[a.o,"Camera"];k+=1;d=this.j(a,"","Camera controls:",b,c,d,f,e);if(a.aa>=H.Xj||(a.ga&&a.rw)>=H.Xj)d=this.j(a,"M","toggle settings menu",b,c,d,f,e);d=this.j(a,"V","restore saved camera position",
b,c,d,f,e);d=this.j(a,"Shift V","save current camera position",b,c,d,f,e);var l=a.m.i.length;if(0<l&&(d=this.j(a,"J","jump to next point of interest",b,c,d,f,e),d=this.j(a,"Shift J","jump to previous point of interest",b,c,d,f,e),9<l&&(l=9),!a.bb&&!a.yc))for(g=1;g<=l;g+=1)d=this.j(a,"Alt "+String(g),"jump to POI #"+String(g),b,c,d,f,e);d=this.j(a,"F","fit pattern to display",b,c,d,f,e);d=this.j(a,"Shift F","toggle autofit",b,c,d,f,e);d=this.j(a,"Shift H","toggle autofit history mode",b,c,d,f,e);d=
this.j(a,"Ctrl F","fit selection to display",b,c,d,f,e);d=this.j(a,"Ctrl M","center pattern on display",b,c,d,f,e);a.g.I&&(d=this.j(a,"Shift S","toggle autofit state 1 mode",b,c,d,f,e));d=this.j(a,"[","zoom out",b,c,d,f,e);d=this.j(a,"]","zoom in",b,c,d,f,e);d=this.j(a,"Shift [","halve zoom",b,c,d,f,e);d=this.j(a,"Shift ]","double zoom",b,c,d,f,e);d=this.j(a,"1","1x zoom",b,c,d,f,e);d=this.j(a,"2","2x zoom",b,c,d,f,e);d=this.j(a,"4","4x zoom",b,c,d,f,e);d=this.j(a,"8","8x zoom",b,c,d,f,e);d=this.j(a,
"6","16x zoom",b,c,d,f,e);d=this.j(a,"3","32x zoom",b,c,d,f,e);d=this.j(a,"Shift 1","integer zoom",b,c,d,f,e);d=this.j(a,"Shift 2","-2x zoom",b,c,d,f,e);d=this.j(a,"Shift 4","-4x zoom",b,c,d,f,e);d=this.j(a,"Shift 8","-8x zoom",b,c,d,f,e);d=this.j(a,"Shift 6","-16x zoom",b,c,d,f,e);d=this.j(a,"Shift 3","-32x zoom",b,c,d,f,e);d=this.j(a,"Left","pan left",b,c,d,f,e);d=this.j(a,"Right","pan right",b,c,d,f,e);d=this.j(a,"Up","pan up",b,c,d,f,e);d=this.j(a,"Down","pan down",b,c,d,f,e);d=this.j(a,"Shift Left",
"pan north west",b,c,d,f,e);d=this.j(a,"Shift Right","pan south east",b,c,d,f,e);d=this.j(a,"Shift Up","pan north east",b,c,d,f,e);d=this.j(a,"Shift Down","pan south west",b,c,d,f,e);d=this.j(a,"<","rotate left",b,c,d,f,e);d=this.j(a,">","rotate right",b,c,d,f,e);d=this.j(a,"Shift <","rotate left 90 degrees",b,c,d,f,e);d=this.j(a,"Shift >","rotate right 90 degrees",b,c,d,f,e);d=this.j(a,"Alt <","rotate left 45 degrees",b,c,d,f,e);d=this.j(a,"Alt >","rotate right 45 degrees",b,c,d,f,e);d=this.j(a,
"5","reset angle",b,c,d,f,e);d=this.j(a,"Alt /","snap angle to nearest 45 degrees",b,c,d,f,e);d=this.j(a,"'","tilt down",b,c,d,f,e);d=this.j(a,"/","tilt up",b,c,d,f,e);d=this.j(a,"@","reset tilt",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.Na||(a.u[k]=[a.o,"View"],k+=1,d=this.j(a,"","View controls:",b,c,d,f,e),d=this.j(a,"Q","increase number of layers",b,c,d,f,e),d=this.j(a,"A","decrease number of layers",b,c,d,f,e),d=this.j(a,"P","increase layer depth",b,c,d,f,e),d=this.j(a,"L","decrease layer depth",
b,c,d,f,e),d=this.j(a,"C","next colour theme",b,c,d,f,e),d=this.j(a,"Shift C","previous colour theme",b,c,d,f,e),d=this.j(a,"Alt C","default theme",b,c,d,f,e),d=this.j(a,"","",b,c,d,f,e));a.u[k]=[a.o,"Display"];k+=1;d=this.j(a,"","Display controls:",b,c,d,f,e);a.Na||(d=this.j(a,"G","toggle generation statistics",b,c,d,f,e),d=this.j(a,"Shift G","toggle generation display mode",b,c,d,f,e),a.Wb||(d=this.j(a,"Y","toggle population graph",b,c,d,f,e),d=this.j(a,"Shift Y","toggle graph lines",b,c,d,f,e),
d=this.j(a,"7","decrease graph opacity",b,c,d,f,e),d=this.j(a,"9","increase graph opacity",b,c,d,f,e),d=this.j(a,"Shift F3","toggle population plot",b,c,d,f,e),d=this.j(a,"Shift F4","toggle births plot",b,c,d,f,e),d=this.j(a,"Shift F5","toggle deaths plot",b,c,d,f,e)),d=this.j(a,"Shift W","toggle performance warning",b,c,d,f,e));a.g.ia?d=this.j(a,"?","toggle hexagons for hexagonal grid",b,c,d,f,e):a.g.W&&(d=this.j(a,"?","toggle triangles for triangular grid",b,c,d,f,e));d=this.j(a,"T","toggle timing information",
b,c,d,f,e);d=this.j(a,"Shift T","toggle extended timing information",b,c,d,f,e);d=this.j(a,"I","toggle pattern and engine information",b,c,d,f,e);d=this.j(a,"Shift I","toggle information bar",b,c,d,f,e);d=this.j(a,"Ctrl Q","toggle cell anti-aliasing",b,c,d,f,e);d=this.j(a,"Alt B","toggle cell borders",b,c,d,f,e);d=this.j(a,"X","toggle gridlines",b,c,d,f,e);0<a.g.Ua&&(d=this.j(a,"Shift X","toggle major gridlines",b,c,d,f,e));d=this.j(a,"Ctrl G","toggle auto gridlines",b,c,d,f,e);a.g.Z&&(d=this.j(a,
"Alt D","toggle alternating gridlines",b,c,d,f,e));if(a.g.I||a.g.m||-1===a.g.h)d=this.j(a,"Alt G","convert pattern to [R]Super",b,c,d,f,e),d=this.j(a,"Alt H","convert pattern to [R]History",b,c,d,f,e),d=this.j(a,"Alt J","convert pattern to [R]Standard",b,c,d,f,e);0<a.m.A()&&(d=this.j(a,"Alt L","toggle annotation display",b,c,d,f,e));d=this.j(a,"Ctrl L","toggle kill escaping gliders",b,c,d,f,e);a.cf&&(d=this.j(a,"N","toggle thumbnail view",b,c,d,f,e));d=this.j(a,"S","toggle stars",b,c,d,f,e);d=this.j(a,
"O","save screenshot",b,c,d,f,e);d=this.j(a,"Shift O","save population graph screenshot",b,c,d,f,e);d=this.j(a,"Shift U","toggle UI",b,c,d,f,e);d=this.j(a,"Alt U","toggle autohide UI during playback",b,c,d,f,e);-1===a.g.h&&(d=this.j(a,"Alt W","toggle rainbow mode",b,c,d,f,e));d=this.j(a,"D","toggle cell period map",b,c,d,f,e);d=this.j(a,"Shift D","download cell period map",b,c,d,f,e);d=this.j(a,"E","toggle cell period table",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.u[k]=[a.o,"Pattern"];k+=1;d=this.j(a,
"","Pattern controls:",b,c,d,f,e);d=this.j(a,"Alt N","new pattern",b,c,d,f,e);d=this.j(a,"Alt R","change rule",b,c,d,f,e);d=this.j(a,"Ctrl O","open original or last saved pattern",b,c,d,f,e);d=this.j(a,"Ctrl+Shift O","open clipboard as pattern",b,c,d,f,e);d=this.j(a,"Ctrl S","save pattern",b,c,d,f,e);d=this.j(a,"Alt Z","randomize pattern and rule",b,c,d,f,e);d=this.j(a,"Ctrl+Alt Z","randomize pattern only",b,c,d,f,e);d=this.j(a,"F6","toggle pattern identification",b,c,d,f,e);d=this.j(a,"Shift F6",
"display last identification result",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.u[k]=[a.o,"Clipboard"];k+=1;d=this.j(a,"","External clipboard controls:",b,c,d,f,e);d=this.j(a,"Alt S","toggle sync cut and copy with external clipboard",b,c,d,f,e);d=this.j(a,"Ctrl+Shift C","copy original pattern",b,c,d,f,e);d=this.j(a,"Ctrl C","copy current selection",b,c,d,f,e);d=this.j(a,"Ctrl+Alt C","copy current selection with comments",b,c,d,f,e);d=this.j(a,"Ctrl+Shift X","cut original pattern",b,c,d,f,e);d=this.j(a,
"Ctrl X","cut current selection",b,c,d,f,e);d=this.j(a,"Ctrl+Alt X","cut current selection with comments",b,c,d,f,e);d=this.j(a,"Ctrl J","copy rule definition",b,c,d,f,e);a.g.o&&2===a.g.h&&(d=this.j(a,"Alt M","copy rule definition as MAP",b,c,d,f,e));d=this.j(a,"K","copy camera position",b,c,d,f,e);d=this.j(a,"Shift K","copy camera position and view",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.u[k]=[a.o,"Edit"];k+=1;d=this.j(a,"","Edit controls:",b,c,d,f,e);d=this.j(a,"F1","toggle draw/pan mode",b,c,
d,f,e);d=this.j(a,"F2","draw mode",b,c,d,f,e);d=this.j(a,"Shift F2","toggle smart drawing",b,c,d,f,e);d=this.j(a,"F3","pick mode",b,c,d,f,e);d=this.j(a,"F4","select mode",b,c,d,f,e);d=this.j(a,"F5","pan mode",b,c,d,f,e);d=this.j(a,"Ctrl A","select all",b,c,d,f,e);d=this.j(a,"Shift A","shrink selection",b,c,d,f,e);d=this.j(a,"Alt A","toggle auto-shrink selection",b,c,d,f,e);d=this.j(a,"Ctrl C","copy",b,c,d,f,e);d=this.j(a,"Ctrl D","toggle states display",b,c,d,f,e);d=this.j(a,"Ctrl I","invert selection",
b,c,d,f,e);d=this.j(a,"Ctrl K","remove selection",b,c,d,f,e);d=this.j(a,"Ctrl V","paste",b,c,d,f,e);d=this.j(a,"Ctrl+Shift V","paste to selection",b,c,d,f,e);d=this.j(a,"Ctrl X","cut",b,c,d,f,e);d=this.j(a,"Ctrl Y","redo edit",b,c,d,f,e);d=this.j(a,"Ctrl Z","undo edit",b,c,d,f,e);d=this.j(a,"Ctrl+Shift Z","redo edit",b,c,d,f,e);d=this.j(a,"Ctrl Space","advance selection",b,c,d,f,e);d=this.j(a,"Shift Space","advance outside",b,c,d,f,e);d=this.j(a,"Shift L","cycle paste location",b,c,d,f,e);d=this.j(a,
"Shift M","cycle paste mode",b,c,d,f,e);2<a.g.h?(d=this.j(a,"Shift 5","multi-state random fill",b,c,d,f,e),a.g.l||(d=this.j(a,"Ctrl+Shift 5","2-state random fill",b,c,d,f,e))):d=this.j(a,"Shift 5","random fill",b,c,d,f,e);d=this.j(a,"Alt K","pick cell state to replace with drawing state",b,c,d,f,e);d=this.j(a,"Ctrl+Alt K","clear current drawing state cells",b,c,d,f,e);d=this.j(a,"Del","clear cells in selection",b,c,d,f,e);d=this.j(a,"Shift Del","clear outside selection",b,c,d,f,e);a.g.I&&(d=this.j(a,
"Ctrl Del","clear [R]History cells",b,c,d,f,e),d=this.j(a,"Alt Del","clear [R]History marked cells",b,c,d,f,e));d=this.j(a,">","rotate selection clockwise",b,c,d,f,e);d=this.j(a,"<","rotate selection counter-clockwise",b,c,d,f,e);d=this.j(a,"Alt X","flip selection horizontally",b,c,d,f,e);d=this.j(a,"Alt Y","flip selection vertically",b,c,d,f,e);d=this.j(a,"Alt Left","nudge selection 1 cell left",b,c,d,f,e);d=this.j(a,"Alt Right","nudge selection 1 cell right",b,c,d,f,e);d=this.j(a,"Alt Up","nudge selection 1 cell up",
b,c,d,f,e);d=this.j(a,"Alt Down","nudge selection 1 cell down",b,c,d,f,e);d=this.j(a,"Esc","hide paste",b,c,d,f,e);d=this.j(a,"Enter","perform paste",b,c,d,f,e);a.g.I?l=7:(l=-1===a.g.h?2:a.g.h,10<l&&(l=10));for(g=0;g<l;g+=1)d=this.j(a,"Ctrl "+g,"select state "+g+" for drawing",b,c,d,f,e);d=this.j(a,"Shift B","toggle clipboard library",b,c,d,f,e);for(g=0;10>g;g+=1)d=this.j(a,"Alt "+g,"make clipboard "+g+" active",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.u[k]=[a.o,"Help"];d=this.j(a,"","Help controls:",
b,c,d,f,e);d=this.j(a,"Up","scroll up one line",b,c,d,f,e);d=this.j(a,"Down","scroll down one line",b,c,d,f,e);d=this.j(a,"Page Up","scroll up one page",b,c,d,f,e);d=this.j(a,"Page Down","scroll down one page",b,c,d,f,e);d=this.j(a,"Shift Page Up","scroll up one section",b,c,d,f,e);d=this.j(a,"Shift Page Down","scroll down one section",b,c,d,f,e);d=this.j(a,"Home","go to first help page",b,c,d,f,e);d=this.j(a,"End","go to last help page",b,c,d,f,e);this.j(a,"Ins","show help sections",b,c,d,f,e)},
sF:function(a,b,c,d,f,e){var g=0,k;a.o=1;a.zc=!1;a.u=[];a.i[0]=252;a.u[g]=[a.o,"Top"];g+=1;d=this.j(a,"","Scripts",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);d=this.j(a,"","Scripts must be embedded in pattern comments",b,c,d,f,e);d=this.j(a,"","Commands must be surrounded by whitespace",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.u[g]=[a.o,"Params"];g+=1;d=this.j(a,"","Parameter conventions:",b,c,d,f,e);d=this.j(a,"A|B","either A or B",b,c,d,f,e);d=this.j(a,"(A)","A is optional",b,c,d,f,e);d=this.j(a,"A*",
"zero or more A",b,c,d,f,e);d=this.j(a,"A+","one or more A",b,c,d,f,e);d=this.j(a,"<1..3>","integer range",b,c,d,f,e);d=this.j(a,"<1.0..3.0>","decimal range",b,c,d,f,e);d=this.j(a,'"<string>"',"text string",b,c,d,f,e);d=this.j(a," "+B.Rd+"B","program build number",b,c,d,f,e);d=this.j(a," "+B.Rd+"N","pattern name",b,c,d,f,e);d=this.j(a," "+B.Rd+"O","pattern originator",b,c,d,f,e);d=this.j(a," "+B.Rd+"R","rule name",b,c,d,f,e);d=this.j(a," "+B.Rd+"A","rule alias",b,c,d,f,e);d=this.j(a," "+B.Rd+"D",
"rule neighbourhood",b,c,d,f,e);d=this.j(a," "+B.Rd+"T","program title",b,c,d,f,e);d=this.j(a," "+B.Rd+"S","random seed",b,c,d,f,e);d=this.j(a," "+B.Rd+"G","current generation (Labels)",b,c,d,f,e);d=this.j(a," "+B.Rd+"H","reversible generation (Labels)",b,c,d,f,e);d=this.j(a," "+B.Rd+"I","current generation relative (Labels)",b,c,d,f,e);d=this.j(a," "+B.Rd+"J","reversible generation relative (Labels)",b,c,d,f,e);d=this.j(a," "+B.Rd+"P","current population (Labels)",b,c,d,f,e);d=this.j(a," "+B.Rd+
"0..9","saved timing as average fps",b,c,d,f,e);d=this.j(a," "+B.Rd+B.Rd,B.Rd+" symbol",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.u[g]=[a.o,"General"];g+=1;d=this.j(a,"","General:",b,c,d,f,e);d=this.j(a,B.$j,"start script section",b,c,d,f,e);d=this.j(a,B.Wl,"end script section",b,c,d,f,e);d=this.j(a,B.Gv,"suppress overwrite warning",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.u[g]=[a.o,"Playback"];g+=1;d=this.j(a,"","Playback:",b,c,d,f,e);d=this.j(a,B.Ip+" ("+B.Ob+")","start play automatically",b,c,d,
f,e);d=this.j(a,B.Lh+" <1..>|"+B.Ob,"loop at generation",b,c,d,f,e);d=this.j(a,B.Sh+" <1..>|"+B.Ob,"stop at generation",b,c,d,f,e);d=this.j(a,B.Fq+" <1..>","play to generation on load",b,c,d,f,e);d=this.j(a,B.tl+" <"+H.Tg+".."+a.I+">","set steps per second",b,c,d,f,e);d=this.j(a,B.Zl+" <"+H.ug+".."+H.ni+">","set generations per step",b,c,d,f,e);(a.g.Z||a.g.l)&&a.g.bb&&(d=this.j(a,B.pv,"set initial playback to Reverse",b,c,d,f,e));d=this.j(a,B.Ss,"always use hard reset",b,c,d,f,e);d=this.j(a,B.rp,
"disable playback",b,c,d,f,e);d=this.j(a,B.Yt,"disable step back",b,c,d,f,e);d=this.j(a,B.$t,"disable stop messages",b,c,d,f,e);d=this.j(a,B.Zt,"disable performance warning",b,c,d,f,e);d=this.j(a,B.bu,"disable playback throttling",b,c,d,f,e);d=this.j(a,B.Gs,"starting playback pauses others",b,c,d,f,e);d=this.j(a,B.ct,"ignore other pause requests",b,c,d,f,e);d=this.j(a,B.Qu,"show playback duration",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.u[g]=[a.o,"Camera"];g+=1;d=this.j(a,"","Camera:",b,c,d,f,e);
d=this.j(a,B.Qj+" <0..359>","set camera angle",b,c,d,f,e);d=this.j(a,B.ck+" <0.0..5.0>","set camera tilt",b,c,d,f,e);d=this.j(a,B.Ie+" <-"+(a.g.T>>1)+".."+(a.g.T>>1)+">","set camera x position",b,c,d,f,e);d=this.j(a,B.Ke+" <-"+(a.g.T>>1)+".."+(a.g.T>>1)+">","set camera y position",b,c,d,f,e);d=this.j(a,B.de+" <"+Number(-1/H.Mb).toFixed(1)+".."+H.ac.toFixed(1)+">","set camera zoom",b,c,d,f,e);d=this.j(a,B.Or,"same as "+B.de,b,c,d,f,e);d=this.j(a,B.Hp+" ("+B.Ob+")","fit pattern to display",b,c,d,f,
e);d=this.j(a,B.Zs+" ("+B.Ob+")","autofit uses pattern history",b,c,d,f,e);d=this.j(a,B.Bv+" ("+B.Ob+")","autofit only uses state 1",b,c,d,f,e);d=this.j(a,B.pp+" X Y","camera tracking",b,c,d,f,e);d=this.j(a," X ","horizontal speed cells/gen",b,c,d,f,e);d=this.j(a," Y ","vertical speed cells/gen",b,c,d,f,e);d=this.j(a,B.dm+" E S W N","camera box tracking",b,c,d,f,e);d=this.j(a," E ","east edge speed cells/gen",b,c,d,f,e);d=this.j(a," S ","south edge speed cells/gen",b,c,d,f,e);d=this.j(a," W ","west edge speed cells/gen",
b,c,d,f,e);d=this.j(a," N ","north edge speed cells/gen",b,c,d,f,e);d=this.j(a,B.op+" P X Y","camera tracking with loop",b,c,d,f,e);d=this.j(a," P ","period",b,c,d,f,e);d=this.j(a," X ","horizontal speed cells/gen",b,c,d,f,e);d=this.j(a," Y ","vertical speed cells/gen",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.u[g]=[a.o,"Waypoints"];g+=1;d=this.j(a,"","Waypoints:",b,c,d,f,e);d=this.j(a,B.ip+" <0..>","waypoint at generation",b,c,d,f,e);d=this.j(a,B.Nu+" <0.0..>","pause for time",b,c,d,f,e);d=this.j(a,
B.tg+" "+B.tf+"|"+B.Ie+"|"+B.Ke+"|"+B.de,"linear motion",b,c,d,f,e);d=this.j(a,B.Fh+" "+B.tf+"|"+B.Ie+"|"+B.Ke+"|"+B.de,"bezier motion (default)",b,c,d,f,e);d=this.j(a,B.jA,"save timing at waypoint start",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.u[g]=[a.o,"POIs"];g+=1;d=this.j(a,"","Points of interest:",b,c,d,f,e);d=this.j(a,B.tq,"define point of interest",b,c,d,f,e);d=this.j(a,B.sq+" <0..>","start POI at generation",b,c,d,f,e);d=this.j(a,B.ap,"reset generation at POI",b,c,d,f,e);d=this.j(a,B.Qn,
"start playback at POI",b,c,d,f,e);d=this.j(a,B.Rn,"stop playback at POI",b,c,d,f,e);d=this.j(a,B.bp+" <"+Ta.Mz+".."+Ta.Lz+">","set POI transition speed",b,c,d,f,e);d=this.j(a,"<command>|ALL "+B.qc,"use initial value for POI",b,c,d,f,e);d=this.j(a,B.ud+"<string>"+B.ud,"define message",b,c,d,f,e);d=this.j(a,B.Ru,"add Labels as POIs",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.u[g]=[a.o,"Annotations"];g+=1;d=this.j(a,"","Annotations:",b,c,d,f,e);d=this.j(a,B.Qo+" X Y ZOOM","define label at position",b,
c,d,f,e);d=this.j(a," ("+B.Id+") "+B.ud+"<string>"+B.ud,"... fix position, label text ",b,c,d,f,e);d=this.j(a,B.wt+" <"+H.dz+".."+H.Yy+">","define label font size",b,c,d,f,e);d=this.j(a," ("+B.Id+")","... optionally fix size",b,c,d,f,e);d=this.j(a,B.rt+" <0.0..1.0>","define label font alpha",b,c,d,f,e);d=this.j(a,B.xt+" <0..> <0..> <0..>","generation range / fade",b,c,d,f,e);d=this.j(a,B.st+" <0..359>","label angle",b,c,d,f,e);d=this.j(a," ("+B.Id+")","... optionally fix angle",b,c,d,f,e);d=this.j(a,
B.zt+" D|"+B.Ob,"label view distance",b,c,d,f,e);d=this.j(a,B.At+" MINZOOM MAXZOOM|"+B.Ob,"label zoom visibility",b,c,d,f,e);d=this.j(a,B.yt+" DX DY|"+B.Id,"label move per generation",b,c,d,f,e);d=this.j(a,B.vt+" ("+B.Ob+")","turn label shadow on or off",b,c,d,f,e);d=this.j(a,B.qt+" "+B.nt+"|"+B.ot+"|"+B.pt,"set label text alignment",b,c,d,f,e);d=this.j(a,B.Co+" X1 Y1 X2 Y2 ZOOM","define arrow at position",b,c,d,f,e);d=this.j(a," ("+B.Id+")","... fix position",b,c,d,f,e);d=this.j(a,B.Wr+" <"+H.jq+
".."+H.aq+"> <0.0..1.0>","line width and head multiple",b,c,d,f,e);d=this.j(a,B.Tr+" <0.0..1.0>","define arrow alpha",b,c,d,f,e);d=this.j(a,B.Xr+" <0..> <0..> <0..>","generation range / fade",b,c,d,f,e);d=this.j(a,B.Ur+" <0..359>","arrow angle",b,c,d,f,e);d=this.j(a," ("+B.Id+")","... optionally fix angle",b,c,d,f,e);d=this.j(a,B.Zr+" D|"+B.Ob,"arrow view distance",b,c,d,f,e);d=this.j(a,B.$r+" MINZOOM MAXZOOM|"+B.Ob,"arrow zoom visibility",b,c,d,f,e);d=this.j(a,B.Yr+" DX DY|"+B.Id,"arrow move per generation",
b,c,d,f,e);d=this.j(a,B.Vr+" ("+B.Ob+")","turn arrow shadow on or off",b,c,d,f,e);d=this.j(a,B.Uu+" X1 Y1 X2 Y2 .. ZOOM","define outline polygon",b,c,d,f,e);d=this.j(a," ("+B.Id+")","... fix position",b,c,d,f,e);d=this.j(a,B.uq+" X1 Y1 X2 Y2 .. ZOOM","define filled polygon",b,c,d,f,e);d=this.j(a," ("+B.Id+")","... fix position",b,c,d,f,e);d=this.j(a,B.Wu+" <"+H.jq+".."+H.aq+">","line width",b,c,d,f,e);d=this.j(a,B.Su+" <0.0..1.0>","define polygon alpha",b,c,d,f,e);d=this.j(a,B.Xu+" <0..> <0..> <0..>",
"generation range / fade",b,c,d,f,e);d=this.j(a,B.Tu+" <0..359>","polygon angle",b,c,d,f,e);d=this.j(a," ("+B.Id+")","... optionally fix angle",b,c,d,f,e);d=this.j(a,B.Zu+" D|"+B.Ob,"polygon view distance",b,c,d,f,e);d=this.j(a,B.$u+" MINZOOM MAXZOOM|"+B.Ob,"polygon zoom visilibility",b,c,d,f,e);d=this.j(a,B.Yu+" DX DY|"+B.Id,"polygon move per generation",b,c,d,f,e);d=this.j(a,B.Vu+" ("+B.Ob+")","turn polygon shadow on or off",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.u[g]=[a.o,"Display"];g+=1;d=this.j(a,
"","Display:",b,c,d,f,e);d=this.j(a,B.so+" <"+H.Yc+".."+a.md+">","set LifeViewer width",b,c,d,f,e);d=this.j(a,B.nn+" <"+H.Mh+".."+H.To+">","set LifeViewer height",b,c,d,f,e);d=this.j(a,B.ep+" <"+H.Yc+".."+a.md+">","set popup width",b,c,d,f,e);d=this.j(a,B.cp+" <"+H.Mh+".."+H.To+">","set popup height",b,c,d,f,e);d=this.j(a,B.lo+" "+B.ud+"<string>"+B.ud,"set popup window title",b,c,d,f,e);d=this.j(a,B.Fl+" <"+H.iq+".."+H.$p+">","set number of layers",b,c,d,f,e);d=this.j(a,B.jl+" <"+H.hq.toFixed(1)+
".."+H.Wy.toFixed(1)+">","set layer depth",b,c,d,f,e);d=this.j(a,B.Mo+" ("+B.Ob+")","display gridlines",b,c,d,f,e);d=this.j(a,B.Lo+" <0..16>","set major grid line interval",b,c,d,f,e);d=this.j(a,B.Bo+" <0.."+(2<a.g.h?1:63)+">","number of age states to draw",b,c,d,f,e);d=this.j(a,B.on+" <0.."+(2<a.g.h?1:63)+">","number of history states to draw",b,c,d,f,e);d=this.j(a,B.gp+" ("+B.Ob+")","display stars",b,c,d,f,e);a.g.ia?(d=this.j(a,B.Us,"hexagonal cells for grid",b,c,d,f,e),d=this.j(a,B.Cq,"offset square cells for grid",
b,c,d,f,e)):a.g.W&&(d=this.j(a,B.fw,"triangular cells for grid",b,c,d,f,e),d=this.j(a,B.Cq,"rectangular cells for grid",b,c,d,f,e));d=this.j(a,B.fs,"display cell borders",b,c,d,f,e);d=this.j(a,B.Xt,"disable menus and hotkeys",b,c,d,f,e);d=this.j(a,B.Xs,"hide menus during playback",b,c,d,f,e);d=this.j(a,B.xv,"show timing information",b,c,d,f,e);d=this.j(a,B.Hs,"extended timing information",b,c,d,f,e);d=this.j(a,B.vv,"show generation statistics",b,c,d,f,e);d=this.j(a,B.wv,"show information bar",b,c,
d,f,e);d=this.j(a,B.Tz,"use rainbow colours",b,c,d,f,e);d=this.j(a,B.dv,"use high quality rendering",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.u[g]=[a.o,"Thumb"];g+=1;d=this.j(a,"","Thumbnails:",b,c,d,f,e);d=this.j(a,B.Nv+" ("+B.Ob+")","start at 1/"+a.Ub+" size",b,c,d,f,e);d=this.j(a,B.Kv+" <"+H.fz+".."+H.az+">","set thumbnail divisor",b,c,d,f,e);d=this.j(a,B.Jv+" ("+B.Ob+")","thumbnail launches viewer",b,c,d,f,e);d=this.j(a,B.Mv+" <"+Number(-1/H.Mb).toFixed(1)+".."+H.ac.toFixed(1)+">","set thumbnail zoom",
b,c,d,f,e);d=this.j(a,B.Lv,"start playback on thumbnail expand",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.u[g]=[a.o,"Graph"];g+=1;d=this.j(a,"","Population Graph:",b,c,d,f,e);d=this.j(a,B.Xp,"display population graph",b,c,d,f,e);d=this.j(a,B.Os+" <0.0..1.0>","population graph opacity",b,c,d,f,e);d=this.j(a,B.Ps,"population graph use points",b,c,d,f,e);d=this.j(a,B.nq,"disable population graph",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.u[g]=[a.o,"Colours"];g+=1;d=this.j(a,"","Colours:",b,c,d,f,e);a.g.m||
a.g.B||a.g.o||a.g.ha?d=this.j(a,B.lb+" "+B.fo+" R G B","set background color",b,c,d,f,e):(d=this.j(a,B.Bj+" <0.."+(a.g.jb-1)+">|name","set theme",b,c,d,f,e),d=this.j(a," name = "+B.ho,"set custom theme",b,c,d,f,e),d=this.j(a,B.lb+" "+B.fo+" R G B","set theme background",b,c,d,f,e),a.g.l||(d=this.j(a,B.lb+" "+B.eo+" R G B","set theme alive color",b,c,d,f,e),2>=a.g.h&&(d=this.j(a,B.lb+" "+B.kp+" R G B","set theme alive ramp",b,c,d,f,e))),d=this.j(a,B.lb+" "+B.jo+" R G B","set theme dead color",b,c,
d,f,e),d=this.j(a,B.lb+" "+B.io+" R G B","set theme dead ramp",b,c,d,f,e),!a.g.l&&2<a.g.h&&(d=this.j(a,B.lb+" "+B.mp+" R G B","set theme dying color",b,c,d,f,e),d=this.j(a,B.lb+" "+B.lp+" R G B","set theme dying ramp",b,c,d,f,e)));d=this.j(a,B.lb+" "+B.Ex+" R G B","set boundary color",b,c,d,f,e);d=this.j(a,B.lb+" <0.."+(-1===a.g.h?a.g.I?"6":"1":String(a.g.h-1))+"> R G B","set state color",b,c,d,f,e);a.g.I&&(d=this.j(a,B.lb+" "+B.du+" R G B","set [R]History state color "+H.PE,b,c,d,f,e),d=this.j(a,
B.lb+" "+B.fu+" R G B","set [R]History state color "+H.QE,b,c,d,f,e),d=this.j(a,B.lb+" "+B.Ys+" R G B","set [R]History state color "+H.OD,b,c,d,f,e),d=this.j(a,B.lb+" "+B.Dt+" R G B","set [R]History state color "+H.Ry,b,c,d,f,e),d=this.j(a,B.lb+" "+B.Ft+" R G B","set [R]History state color "+H.Ty,b,c,d,f,e),d=this.j(a,B.lb+" "+B.Et+" R G B","set [R]History state color "+H.Sy,b,c,d,f,e),d=this.j(a,B.lb+" "+B.jt+" R G B","set [R]History state color "+H.Ky,b,c,d,f,e));a.g.l&&(d=this.j(a,B.lb+" N*E*S*W* R G B",
"set PCA state color",b,c,d,f,e));if(a.g.o)for(k=0;k<a.He.length;k+=1)if(void 0!==a.He[k]){var l=a.He[k];var p=a.AA(l);if(0<=a.Uq(l)||a.Fw(l)||a.rG(l)||a.Hw(l)||a.Dw(l))l='"'+l+'"';d=this.j(a,B.lb+" "+l+" R G B","set state "+p+" color ",b,c,d,f,e)}d=this.j(a,B.lb+" "+B.gs+" R G B","set bounded color",b,c,d,f,e);d=this.j(a,B.lb+" "+B.$z+" R G B","set select color",b,c,d,f,e);d=this.j(a,B.lb+" "+B.wi+" R G B","set paste color",b,c,d,f,e);d=this.j(a,B.lb+" "+B.xx+" R G B","set advance color",b,c,d,f,
e);d=this.j(a,B.lb+" "+B.aA+" R G B","set selected cells color",b,c,d,f,e);d=this.j(a,B.lb+" "+B.Mo+" R G B","set grid color",b,c,d,f,e);d=this.j(a,B.lb+" "+B.Lo+" R G B","set grid major color",b,c,d,f,e);d=this.j(a,B.lb+" "+B.gp+" R G B","set star color",b,c,d,f,e);d=this.j(a,B.lb+" "+B.Hv+" R G B","set waypoint message color",b,c,d,f,e);d=this.j(a,B.lb+" "+B.Es+" R G B","set error message color",b,c,d,f,e);d=this.j(a,B.lb+" "+B.Ts+" R G B","set help message color",b,c,d,f,e);d=this.j(a,B.lb+" "+
B.xy+" R G B","set graph background color",b,c,d,f,e);d=this.j(a,B.lb+" "+B.wy+" R G B","set graph axis color",b,c,d,f,e);d=this.j(a,B.lb+" "+B.vy+" R G B","set graph alive color",b,c,d,f,e);d=this.j(a,B.lb+" "+B.yy+" R G B","set graph birth color",b,c,d,f,e);d=this.j(a,B.lb+" "+B.zy+" R G B","set graph death color",b,c,d,f,e);d=this.j(a,B.lb+" "+B.Qo+" R G B","set label text color",b,c,d,f,e);d=this.j(a,B.lb+" "+B.Co+" R G B","set arrow line color",b,c,d,f,e);d=this.j(a,B.lb+" "+B.Pz+" R G B","set polygon color",
b,c,d,f,e);d=this.j(a,B.lb+" "+B.oA+" R G B","set UI foreground color",b,c,d,f,e);d=this.j(a,B.lb+" "+B.mA+" R G B","set UI background color",b,c,d,f,e);d=this.j(a,B.lb+" "+B.pA+" R G B","set UI highlight text color",b,c,d,f,e);d=this.j(a,B.lb+" "+B.rA+" R G B","set UI selected color",b,c,d,f,e);d=this.j(a,B.lb+" "+B.qA+" R G B","set UI locked color",b,c,d,f,e);d=this.j(a,B.lb+" "+B.nA+" R G B","set UI border color",b,c,d,f,e);d=this.j(a,B.ns,"same as "+B.lb,b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);
a.u[g]=[a.o,"Pattern"];g+=1;d=this.j(a,"","Pattern:",b,c,d,f,e);d=this.j(a,B.Jq+" <-"+(a.g.T>>1)+".."+(a.g.T>>1)+">","set pattern x offset",b,c,d,f,e);d=this.j(a,B.Kq+" <-"+(a.g.T>>1)+".."+(a.g.T>>1)+">","set pattern y offset",b,c,d,f,e);d=this.j(a,B.ys+" <"+H.bz+".."+H.Vy+">","set boundary delete range",b,c,d,f,e);d=this.j(a,B.Wt,"disable pattern source copy",b,c,d,f,e);d=this.j(a,B.au,"hide pattern source",b,c,d,f,e);d=this.j(a,B.Ht+" <"+H.cz+".."+H.Xy+">","set maximum grid size 2^n",b,c,d,f,e);
d=this.j(a,B.Vn+" name X Y (<1..>)+","create a named recipe",b,c,d,f,e);d=this.j(a,B.Vl+" name rle|"+B.Zg+" W H","create a named set of cells",b,c,d,f,e);d=this.j(a," (X Y) (TRANS)","... X Y and transformation",b,c,d,f,e);d=this.j(a," "+B.aw,"identity",b,c,d,f,e);d=this.j(a," "+B.Yv,"flip",b,c,d,f,e);d=this.j(a," "+B.Zv,"flip X",b,c,d,f,e);d=this.j(a," "+B.$v,"flip Y",b,c,d,f,e);d=this.j(a," "+B.dw,"swap X and Y",b,c,d,f,e);d=this.j(a," "+B.ew,"swap X and Y and flip",b,c,d,f,e);d=this.j(a," "+B.cw,
"rotate clockwise",b,c,d,f,e);d=this.j(a," "+B.bw,"rotate counter-clockwise",b,c,d,f,e);d=this.j(a,B.wi+" name|rle|"+B.Zg+" W H (X Y)","paste cells at optional X Y",b,c,d,f,e);d=this.j(a," (TRANS)","... optional transformation",b,c,d,f,e);d=this.j(a," (XT|YT dp1 dt1 dp2 dt2 ... dpn dtn)","... optional slow salvo definition",b,c,d,f,e);d=this.j(a,B.Zo+" <0..>","set paste generation",b,c,d,f,e);d=this.j(a," (recipe|<1..>+)*","... optional delta list",b,c,d,f,e);d=this.j(a,B.Zo+" "+B.Fo+" <1..>","set paste interval",
b,c,d,f,e);d=this.j(a," (<0..> (<1..>))","... optional start and end",b,c,d,f,e);d=this.j(a,B.gu+" X Y","set position delta for "+B.Zo+" "+B.Fo,b,c,d,f,e);d=this.j(a,B.Cu+" <0..15>|mode","set paste mode",b,c,d,f,e);d=this.j(a," 0   0000  "+B.Lu,"",b,c,d,f,e);d=this.j(a," 1   0001  "+B.pu,"",b,c,d,f,e);d=this.j(a," 2   0010  "+B.iu,"",b,c,d,f,e);d=this.j(a," 3   0011  "+B.Gu+"|"+B.qu,"",b,c,d,f,e);d=this.j(a," 4   0100  "+B.ku,"",b,c,d,f,e);d=this.j(a," 5   0101  "+B.Ju,"",b,c,d,f,e);d=this.j(a," 6   0110  "+
B.Hu,"",b,c,d,f,e);d=this.j(a," 7   0111  "+B.Bu,"",b,c,d,f,e);d=this.j(a," 8   1000  "+B.uu,"",b,c,d,f,e);d=this.j(a," 9   1001  "+B.Fu,"",b,c,d,f,e);d=this.j(a," 10  1010  "+B.yu,"",b,c,d,f,e);d=this.j(a," 11  1011  "+B.mu,"",b,c,d,f,e);d=this.j(a," 12  1100  "+B.wu,"",b,c,d,f,e);d=this.j(a," 13  1101  "+B.ou,"",b,c,d,f,e);d=this.j(a," 14  1110  "+B.su,"",b,c,d,f,e);d=this.j(a," 15  1111  "+B.Au,"",b,c,d,f,e);d=this.j(a,B.kt,"suppress escaping gliders",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.u[g]=
[a.o,"Randomize"];d=this.j(a,"","Randomize:",b,c,d,f,e);d=this.j(a,B.nv,"create random pattern",b,c,d,f,e);d=this.j(a,B.mv,"create 2-state random pattern",b,c,d,f,e);d=this.j(a,B.jv+" <string>","set random seed",b,c,d,f,e);d=this.j(a,B.lv+" <"+H.Vo+".."+H.fq+">","set random pattern width",b,c,d,f,e);d=this.j(a,B.gv+" <"+H.Mt+".."+H.eq+">","set random pattern height",b,c,d,f,e);d=this.j(a,B.fv+" <"+H.kq+".."+H.cq+">","set random pattern fill percentage",b,c,d,f,e);d=this.j(a,B.wq+" "+B.Id,"keep rule fixed",
b,c,d,f,e);a.g.Z||a.g.l?(d=this.j(a,B.hv,"only generate reversible rules",b,c,d,f,e),this.j(a,B.kv,"only generate fixed population rules",b,c,d,f,e)):a.g.Ia||-1!==a.g.Jd||(d=this.j(a,B.wq+" <item> <0..100>","set percentage chance for <item>",b,c,d,f,e),d=this.j(a," "+B.tf,"all conditions",b,c,d,f,e),d=this.j(a," "+B.vq,"all birth conditions",b,c,d,f,e),d=this.j(a," "+B.xq,"all survival conditions",b,c,d,f,e),d=this.j(a," "+B.vq+"<0..n>","specified birth condition",b,c,d,f,e),this.j(a," "+B.xq+"<0..n>",
"specified survival condition",b,c,d,f,e))},pF:function(a,b,c,d,f,e){var g,k,l=Ba.Sd.length,p=a.g.pa[a.g.Xb],n=0,q=a.h.s;a.o=1;a.zc=!1;a.u=[];a.i[0]=128;a.i[1]=210;a.i[2]=270;a.i[3]=330;a.i[4]=430;a.u[n]=[a.o,"Top"];n+=1;d=this.j(a,"","Information",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.u[n]=[a.o,"Display"];n+=1;d=this.j(a,"","Display:",b,c,d,f,e);d=this.j(a,"Size",a.ea+" x "+a.aa,b,c,d,f,e);d=this.j(a,"Scale",a.h.s.toFixed(2),b,c,d,f,e);d=this.j(a,"Pixel Ratio",a.bk.toFixed(2),b,c,d,f,e);d=this.j(a,
"Window Zoom",a.ue.toFixed(2),b,c,d,f,e);d=this.j(a,"Refresh",a.I+"Hz ("+((a.Jr-a.ww)/(H.Jt-1)).toFixed(1)+"ms)",b,c,d,f,e);Ca.Ro&&(d=this.j(a,"Limit Width",a.md,b,c,d,f,e));var m=a.g.$;1>m&&(m=-1/m);d=this.j(a,"View","X "+-(a.g.width/2-(a.g.ga+a.g.Aa)|0)+"  Y "+-(a.g.height/2-(a.g.da+a.g.qa)|0)+"  Z "+m.toFixed(2)+"  ANGLE "+a.g.angle.toFixed(0),b,c,d,f,e);m=a.kj;1>m&&(m=1/m);d=this.j(a,"Saved View","X "+-(a.g.width/2-a.ya|0)+"  Y "+-(a.g.height/2-a.Hb|0)+"  Z "+m.toFixed(2)+"  ANGLE "+a.Ct.toFixed(0),
b,c,d,f,e);d=this.j(a,"Origin","X "+a.g.Aa.toFixed(2)+"  Y "+a.g.qa.toFixed(2)+"  Z "+a.g.Ha.toFixed(3),b,c,d,f,e);var r=a.D?a.Na?"Multi-State Viewer":"Viewer":a.g.I?"History Player":"Player";r=a.Ad?r+" (PopUp)":r+" (InLine)";d=this.j(a,"Type",r,b,c,d,f,e);r=a.g.ia?"Hexagonal":a.g.W?"Triangular":"Square";d=this.j(a,"Mode",r,b,c,d,f,e);r="Rectangular";a.g.ia&&!a.g.ua?r="Hexagonal":a.g.W&&!a.g.ua&&(r="Triangular");d=this.j(a,"Cells",r,b,c,d,f,e);d=this.j(a,"Quality",a.g.Hc?"High":"Standard",b,c,d,f,
e);a.cf&&(d=this.j(a,"Thumbnail","1/"+a.Ub,b,c,d,f,e));d=this.j(a,"","",b,c,d,f,e);a.u[n]=[a.o,"Pattern"];n+=1;d=this.j(a,"","Pattern:",b,c,d,f,e);""!==a.Yi&&(d=this.j(a,"Name",a.Yi,b,c,d,f,e));""!==a.vk&&(d=this.j(a,"Originator",a.vk,b,c,d,f,e));d=this.j(a,"Actual Size",a.v+" x "+a.A,b,c,d,f,e);-999999!==a.ra&&-999999!==a.qa&&(d=this.j(a,"Specified",a.ra+" x "+a.qa,b,c,d,f,e));0<a.Uc.length&&(d=this.j(a,"Pastes",a.Uc.length,b,c,d,f,e),d=this.j(a,"Paste Size",a.Pf-a.Lf+1+" x "+(a.Qf-a.Kf+1)+" from ("+
a.Lf+", "+a.Kf+") to ("+a.Pf+", "+a.Qf+")",b,c,d,f,e),d=this.j(a,"Paste Max T",a.Td+(a.Ul?" + "+B.Fo:""),b,c,d,f,e));0<a.Ld.length&&(d=this.j(a,"RLEs",a.Ld.length,b,c,d,f,e));0<a.Xd.length&&(d=this.j(a,"Recipes",a.Xd.length,b,c,d,f,e));d=this.j(a,"Offset","X "+a.R+"  Y "+a.Y,b,c,d,f,e);a.ek&&(d=this.j(a,"CXRLE Gen",a.Ja,b,c,d,f,e));a.kc&&(d=this.j(a,"CXRLE Pos","X "+a.Zb+"  Y "+a.uc,b,c,d,f,e));a.Ep&&(d=this.j(a,"Clipped",(0===a.g.O?"Inf":a.g.O)+" x "+(0===a.g.M?"Inf":a.g.M)+" "+a.U.Ub(a.g.D),b,c,
d,f,e));a.ab?r=a.O:(r=a.O,""===r&&(r="(none)"));if("MAP"===r.substring(0,3)&&89===r.length)for(d=this.j(a,"Rule","MAP",b,c,d,f,e),m=3;89>m;)d=this.j(a,"  "+(m-3),r.substring(m,m+16),b,c,d,f,e),m+=16;else a.zc=!0,d=this.j(a,"Rule",r,b,c,d,f,e),a.zc=!1;""!==a.xa&&(d=this.j(a,"Alias",a.xa,b,c,d,f,e));a.g.o&&(r=null===a.g.Pb?"@TREE ["+a.g.Mi+"]":"@TABLE ["+a.g.wd+(0<a.g.lg?" / "+a.g.lg:"")+"]",r=null===a.g.Ga&&null===a.g.Ee||!a.g.Yb||-1!==a.g.hb?r+" using standard lookup":r+" using fast lookup",d=this.j(a,
"Type",r,b,c,d,f,e),a.g.nf()&&a.ab&&(r="",-1===a.g.hb?(m=null===a.g.Ee?a.g.Ga.length:4*a.g.Ee.length,r=(1048576<=m?r+((m>>20)+"Mb"):1024<=m?r+((m>>10)+"Kb"):r+(m+" bytes"))+(" fast lookup created in "+(a.g.Ve/1E3).toFixed(1)+" seconds")):(m=a.g.h,r+="Creating fast lookup ("+(100*a.g.hb/(m*m*m*m*m)|0)+"%)"),d=this.j(a,"Lookup",r,b,c,d,f,e)));d=this.j(a,"N'hood",a.Sq(),b,c,d,f,e);if(a.g.Ia)switch(a.g.R.type){case 15:m=2*a.g.R.l+1;for(g=0;g<m;g+=1)r=a.g.R.L.length>m*m?" "+a.g.R.L.substring(g*m*2,(g+
1)*m*2):" "+a.g.R.L.substring(g*m,(g+1)*m),d=this.j(a,r,"",b,c,d,f,e);break;case 10:for(m=2*a.g.R.l+1,g=0;g<m;g+=1){r=" ";for(k=0;k<m;k+=1)r+=a.g.R.Ll[g][k]?"1":"0";d=this.j(a,r,"",b,c,d,f,e)}}r=String(a.$i);2<a.$i&&a.Pn!==a.$i&&(r=a.Pn+" of "+r);d=this.j(a,"States",r,b,c,d,f,e);if(a.Zi)for(g=1;g<a.$i;g+=1)a.Zi[g]&&(d=this.j(a,"State "+g,a.Zi[g]+"\t"+a.bh(g),b,c,d,f,e));if(a.g.zc)if(a.i[1]=200,a.i[2]=280,a.i[3]=360,a.i[4]=440,a.g.zc[0].hs!==Aa.sv)d=this.j(a,"Icons",Aa.FF[a.g.zc[0].hs],b,c,d,f,e);
else{d=this.j(a,"Icons","Size\tNumber\tColours\tGrayScale",b,c,d,f,e);for(g=0;g<a.g.zc.length;g+=1)m=a.g.zc[g].width,r=m+"x"+m+"\t"+a.g.zc[g].height/m+"\t"+a.g.zc[g].rz+"\t"+(a.g.zc[g].Ay?"Yes":"No"),d=this.j(a,"  Set "+g,r,b,c,d,f,e);if(a.g.ff)for(m=a.g.zc[0].height,g=a.g.zc[0].width,k=0;k<m/g;k+=1)this.oF(a,k,g,b,c+a.i[0]*q,d,f,e),r=a.bh(k+1),d=this.j(a,"Icon "+String(k+1),"      "+r,b,c,d,f,e)}d=this.j(a,"Decoder",a.fk,b,c,d,f,e);-1!==a.pn&&(d=this.j(a,"Last Bench","gens: "+a.yr+"  time: "+a.pn.toFixed(1)+
"s  gps: "+(a.yr/a.pn).toFixed(1),b,c,d,f,e));d=this.j(a,"","",b,c,d,f,e);if("none"!==a.ob&&"Empty"!==a.ob){a.u[n]=[a.o,"Identify"];n+=1;d=this.j(a,"","Identify:",b,c,d,f,e);d=this.j(a,"Type",a.ob,b,c,d,f,e);d=this.j(a,"Cells",a.Pi,b,c,d,f,e);""!==a.g.dh&&(d=this.j(a,"  T Min/Max",a.g.dh,b,c,d,f,e));"Oscillator"===a.ob&&(d=this.j(a,"Active",a.qn,b,c,d,f,e));d=this.j(a,"Bounding",a.am,b,c,d,f,e);""!==a.g.bh&&(d=this.j(a,"  T Min/Max",a.g.bh,b,c,d,f,e));"Oscillator"===a.ob?(d=this.j(a,"Period",a.Si,
b,c,d,f,e),d=this.j(a,"Mod",a.Ri,b,c,d,f,e)):"Still Life"!==a.ob&&(d=this.j(a,"Direction",a.fm,b,c,d,f,e),d=this.j(a,"Period",a.Si,b,c,d,f,e),d=this.j(a,"Mod",a.Ri,b,c,d,f,e),d=this.j(a,"Slope",a.hm,b,c,d,f,e),d=this.j(a,"Speed",a.Ti,b,c,d,f,e));"Still Life"!==a.ob&&-1===a.g.D&&(d=this.j(a,"Heat",a.Qi,b,c,d,f,e));if("Oscillator"===a.ob)if(-1===a.g.D&&(d=this.j(a,"Temperature",a.un,b,c,d,f,e)),""===a.mh)d=this.j(a,"Volatility",a.nh+" | N/A",b,c,d,f,e);else{d=this.j(a,"Volatility",a.nh+" | "+a.mh,b,
c,d,f,e);a.i[1]=215;a.i[2]=300;a.i[3]=385;a.i[4]=425;a.i[5]=465;a.i[6]=505;a.i[7]=600;d=this.j(a,"  Period","    Count\t% Total\t% Rotor\tColour",b,c,d,f,e);for(g=a.g.Oa.length-1;0<g;--g)m=a.g.Oa[g],0<m&&(this.Ra(a,a.g.Jc[g]>>16,a.g.Jc[g]>>8&255,a.g.Jc[g]&255,b,c+a.i[0]*q,d,f,e),k=this.qb(a.g.Jc[g]>>16,a.g.Jc[g]>>8&255,a.g.Jc[g]&255).trim(),d=1<g?this.j(a,"  "+g,"    "+m+"\t"+(Math.floor(1E4*m/a.g.Yf)/100).toFixed(2)+"%\t"+(Math.floor(1E4*m/a.g.Bi)/100).toFixed(2)+"%\t"+k,b,c,d,f,e):this.j(a,"  "+
g,"    "+m+"\t"+(Math.floor(1E4*m/a.g.Yf)/100).toFixed(2)+"%\t\t"+k,b,c,d,f,e));a.g.cc&&(this.Ra(a,96,96,96,b,c+a.i[0]*q,d,f,e),d=a.g.B?this.j(a,"  State3","    "+a.g.cc+"\t\t\t"+this.qb(96,96,96).trim(),b,c,d,f,e):this.j(a,"  State6","    "+a.g.cc+"\t\t\t"+this.qb(96,96,96).trim(),b,c,d,f,e));this.Ra(a,0,0,0,b,c+a.i[0]*q,d,f,e);a.g.ij||(d=this.j(a,"  Back","\t\t\t"+this.qb(0,0,0).trim(),b,c,d,f,e));-1!==a.g.D&&(this.Ra(a,128,128,128,b,c+a.i[0]*q,d,f,e),d=this.j(a,"  Bounded","\t\t\t"+this.qb(128,
128,128).trim(),b,c,d,f,e));this.Ra(a,80,80,80,b,c+a.i[0]*q,d,f,e);d=this.j(a,"  Grid","\t\t\t"+this.qb(80,80,80).trim(),b,c,d,f,e)}"Still Life"===a.ob&&(d=this.j(a,"Density",a.sn,b,c,d,f,e));d=this.j(a,"Generation",a.tn,b,c,d,f,e);d=this.j(a,"Time","Period: "+a.g.kj.toFixed(1)+" seconds   Total: "+a.g.lj.toFixed(1)+" seconds",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e)}a.u[n]=[a.o,"Grid"];n+=1;d=this.j(a,"","Grid:",b,c,d,f,e);d=this.j(a,"Size",a.g.width+" x "+a.g.height,b,c,d,f,e);d=this.j(a,"Maximum",
a.g.T+" x "+a.g.T,b,c,d,f,e);d=this.j(a,"Area",this.HC(a),b,c,d,f,e);d=a.g.o||a.g.B?0!==(a.g.counter&1)?this.j(a,"Tiles",a.g.sd(a.g.V)+" / "+a.g.sd(a.g.v),b,c,d,f,e):this.j(a,"Tiles",a.g.sd(a.g.L)+" / "+a.g.sd(a.g.v),b,c,d,f,e):0!==(a.g.counter&1)?this.j(a,"Tiles",a.g.sd(a.g.V)+" / "+a.g.sd(a.g.ra)+" / "+a.g.sd(a.g.v),b,c,d,f,e):this.j(a,"Tiles",a.g.sd(a.g.L)+" / "+a.g.sd(a.g.ra)+" / "+a.g.sd(a.g.v),b,c,d,f,e);a.g.Bc&&(d=this.j(a,"State6",a.g.sd(a.g.Bc),b,c,d,f,e));d=this.j(a,"Tile Size","16 x 16",
b,c,d,f,e);d=this.j(a,"Generation",a.g.counter,b,c,d,f,e);0!==a.Ja&&(d=this.j(a,"AbsoluteGen",a.g.counter+a.Ja,b,c,d,f,e));a.g.Z&&(d=this.j(a,"MargolusGen",a.g.Hb+a.Ja,b,c,d,f,e));a.g.l&&(d=this.j(a,"PCAGen",a.g.Hb+a.Ja,b,c,d,f,e));(a.g.Z||a.g.l)&&a.g.bb&&(k=a.g.Za,a.g.wb&&(k=!k),d=this.j(a,"Direction",k?"Reverse":"Forward",b,c,d,f,e));d=this.j(a,"DeleteRange",a.g.De,b,c,d,f,e);a.g.hd&&(d=this.j(a,"KillGliders",a.g.Wf,b,c,d,f,e));d=this.j(a,"","",b,c,d,f,e);-1!==a.g.D&&(a.u[n]=[a.o,"Bounded"],n+=
1,d=this.j(a,"","Bounded grid:",b,c,d,f,e),d=this.j(a,"Type",a.U.Ub(a.g.D),b,c,d,f,e),d=0===a.g.O?this.j(a,"Width","Infinite",b,c,d,f,e):this.j(a,"Width",a.g.O,b,c,d,f,e),4!==a.g.D?(d=0===a.g.M?this.j(a,"Height","Infinite",b,c,d,f,e):this.j(a,"Height",a.g.M,b,c,d,f,e),2===a.g.D&&(d=a.g.Kf?this.j(a,"Twist","Horizontal",b,c,d,f,e):this.j(a,"Twist","Vertical",b,c,d,f,e)),0!==a.g.Md&&(d=this.j(a,"H'Shift",a.g.Md,b,c,d,f,e)),0!==a.g.Nd&&(d=this.j(a,"V'Shift",a.g.Nd,b,c,d,f,e))):d=a.g.Lf?this.j(a,"Axis",
"Top Left",b,c,d,f,e):this.j(a,"Axis","Top Right",b,c,d,f,e),d=this.j(a,"","",b,c,d,f,e));a.u[n]=[a.o,"AutoFit"];n+=1;d=this.j(a,"","AutoFit:",b,c,d,f,e);d=this.j(a,"Enabled",a.da?"On":"Off",b,c,d,f,e);d=this.j(a,"Mode",this.KC(a),b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.u[n]=[a.o,"Track"];n+=1;d=this.j(a,"","Track:",b,c,d,f,e);d=this.j(a,"Enabled",a.ib&&!a.Kb?"On":"Off",b,c,d,f,e);a.ib&&(a.Dh?(d=this.j(a,"Mode","Track Box",b,c,d,f,e),d=this.j(a,"Definition","E "+a.ng.toFixed(3)+"  S "+a.pg.toFixed(3)+
"  W "+a.Eh.toFixed(3)+"  N "+a.jh.toFixed(3),b,c,d,f,e)):(d=this.j(a,"Mode","Track",b,c,d,f,e),d=this.j(a,"Definition","X "+a.ng.toFixed(3)+"  Y "+a.pg.toFixed(3),b,c,d,f,e)));d=this.j(a,"Current","E "+a.sm.toFixed(3)+"  S "+a.wm.toFixed(3)+"  W "+a.ym.toFixed(3)+"  N "+a.um.toFixed(3),b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.u[n]=[a.o,"Undo/Redo"];n+=1;d=this.j(a,"","Undo/Redo:",b,c,d,f,e);d=this.j(a,"Enabled",a.wb?"Off":"On",b,c,d,f,e);if(!a.wb)for(d=this.j(a,"Snapshots",a.g.Cc.Z()+"/"+a.g.Cc.l.length,
b,c,d,f,e),d=this.j(a,"Buffer",(a.g.Cc.V()>>10)+"K",b,c,d,f,e),d=this.j(a,"Next Gen",a.g.Te,b,c,d,f,e),d=this.j(a,"Undo",a.ka,b,c,d,f,e),d=this.j(a,"Redo",a.qh-a.ka,b,c,d,f,e),g=0;g<H.tj;g+=1)null!==a.fb[g]&&(d=this.j(a,"Clip "+g+(g===a.Gc?"*":""),a.fb[g].width+" x "+a.fb[g].height,b,c,d,f,e));d=this.j(a,"","",b,c,d,f,e);a.u[n]=[a.o,"Engine"];n+=1;d=this.j(a,"","Engine:",b,c,d,f,e);d=this.j(a,"Name",H.Go,b,c,d,f,e);d=this.j(a,"Build",H.Iq,b,c,d,f,e);d=this.j(a,"Author",H.wA,b,c,d,f,e);d=this.j(a,
"Decoders","RLE, Life 1.06, Life 1.05, Cells",b,c,d,f,e);d=this.j(a,"N'hoods","Moore, Hexagonal, von Neumann, Triangular, 1D,",b,c,d,f,e);d=this.j(a," ","Circular, Cross, L2, Saltire, Star, Checkerboard,",b,c,d,f,e);d=this.j(a," ","Aligned Checkerboard, Hash, Tripod, Asterisk,",b,c,d,f,e);d=this.j(a," ","Far Corners/Edges, Custom (CoordCA),",b,c,d,f,e);d=this.j(a," ","Gaussian and Weighted",b,c,d,f,e);d=this.j(a,"Rules","Wolfram, Totalistic, Generations, Margolus,",b,c,d,f,e);d=this.j(a," ","Isotropic Non-Totalistic (Hensel, Callahan),",
b,c,d,f,e);d=this.j(a," ","Alternating, MAP, Larger than Life (LtL),",b,c,d,f,e);d=this.j(a," ","Higher-range outer-totalistic (HROT),",b,c,d,f,e);d=this.j(a," ","Partitioned cellular automata (PCA),",b,c,d,f,e);d=this.j(a," ","[R]History, [R]Super, [R]Investigator",b,c,d,f,e);d=this.j(a," ","and Non-Deterministic",b,c,d,f,e);d=this.j(a,"Repository","RuleTable (@TABLE, @TREE, @COLORS and",b,c,d,f,e);d=this.j(a," ","@NAMES)",b,c,d,f,e);d=this.j(a,"BoundedGrid","Plane, Torus, Klein, Cross-surface and Sphere",
b,c,d,f,e);d=this.j(a,"Viewers",l,b,c,d,f,e);d=this.j(a,"Playing",Ba.lG(),b,c,d,f,e);if(Ca.yb){m=Ba.ke.length;d=this.j(a,"Universe","Multi ("+(a.Ga+1)+" of "+m+")",b,c,d,f,e);a.zc=!0;for(g=0;g<m;g+=1)d=this.j(a,String(g+1)+(g===a.Ga?"*":""),Ba.ke[g].name,b,c,d,f,e),d=this.j(a," ",Ba.ke[g].zF,b,c,d,f,e),d=this.j(a," ",Ba.ke[g].width+" x "+Ba.ke[g].height,b,c,d,f,e);a.zc=!1}else d=this.j(a,"Universe","Single",b,c,d,f,e);d=this.j(a,"Exclusive",a.Km?"Yes":"No",b,c,d,f,e);d=this.j(a,"IgnorePause",a.Oo?
"Yes":"No",b,c,d,f,e);d=this.j(a,"Endian",La.Ac?"Little":"Big",b,c,d,f,e);d=this.j(a,"ArrayFill",La.Rr?"Yes":"No",b,c,d,f,e);d=this.j(a,"ArraySlice",La.Sr?"Yes":"No",b,c,d,f,e);d=this.j(a,"CopyWithin",La.copyWithin?"Yes":"No",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.i[1]=300;a.i[2]=380;a.i[3]=460;a.u[n]=[a.o,"Rule Cache"];n+=1;d=this.j(a,"","Rule Cache:",b,c,d,f,e);d=this.j(a,"Entries",Ya.rules.length,b,c,d,f,e);if(0<Ya.rules.length)for(d=this.j(a,"Entry","Name\tSize Kb\tFetch\tDecode",b,c,d,f,e),
g=0;g<Ya.rules.length;g+=1)r=Ya.rules[g].name,17<r.length&&(r=r.substring(0,17)+"*"),d=this.j(a,String(g),r+"\t"+(Ya.gq[g].size>>10)+"\t"+Ya.gq[g].fetch+"ms\t"+Ya.gq[g].decode+"ms",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.i[1]=210;a.i[2]=270;a.i[3]=330;a.g.o||a.g.B||a.g.m||a.g.ha||(a.u[n]=[a.o,"Theme"],n+=1,d=this.j(a,"","Theme:",b,c,d,f,e),d=this.j(a,"Name",a.g.pa[a.g.Xb].name,b,c,d,f,e),d=this.j(a,"History",a.Da,b,c,d,f,e),2>=a.g.h&&(d=this.j(a,"Age",a.Pg,b,c,d,f,e)),d=this.j(a,"","",b,c,d,f,e));
a.u[n]=[a.o,"Cells"];n+=1;d=this.j(a,"","Cells:",b,c,d,f,e);this.Ra(a,a.g.la[0],a.g.ka[0],a.g.ja[0],b,c+a.i[0]*q,d,f,e);d=this.j(a,"Background",this.qb(a.g.la[0],a.g.ka[0],a.g.ja[0]),b,c,d,f,e);if(a.g.ha||a.g.o)for(g=1;g<a.g.h;g+=1)this.Ra(a,a.g.la[g],a.g.ka[g],a.g.ja[g],b,c+a.i[0]*q,d,f,e),d=this.j(a,"State "+g,this.qb(a.g.la[g],a.g.ka[g],a.g.ja[g]),b,c,d,f,e);else if(a.g.l){for(g=1;16>g;g+=1)k=g+a.Da,this.Ra(a,a.g.la[k],a.g.ka[k],a.g.ja[k],b,c+a.i[0]*q,d,f,e),r="",g&1&&(r+="N"),g&2&&(r+="E"),g&
4&&(r+="S"),g&8&&(r+="W"),d=this.j(a,r,this.qb(a.g.la[k],a.g.ka[k],a.g.ja[k]),b,c,d,f,e);0<a.Da&&(k=a.Da,this.Ra(a,a.g.la[k],a.g.ka[k],a.g.ja[k],b,c+a.i[0]*q,d,f,e),d=this.j(a,"Dead",this.qb(a.g.la[k],a.g.ka[k],a.g.ja[k]),b,c,d,f,e),1<a.Da&&(k=1,p.h.h.h!==p.h.i.h||p.h.h.l!==p.h.i.l||p.h.h.i!==p.h.i.i?(this.Ra(a,a.g.la[k],a.g.ka[k],a.g.ja[k],b,c+a.i[0]*q,d,f,e),d=this.j(a,"DeadRamp",this.qb(a.g.la[k],a.g.ka[k],a.g.ja[k]),b,c,d,f,e)):d=this.j(a,"DeadRamp","    (none)",b,c,d,f,e)))}else if(2<a.g.h)if(a.g.m||
a.g.B)for(g=1;g<a.g.h;g+=1)this.Ra(a,a.g.la[g],a.g.ka[g],a.g.ja[g],b,c+a.i[0]*q,d,f,e),d=a.g.m?this.j(a,this.YF(g),this.qb(a.g.la[g],a.g.ka[g],a.g.ja[g]),b,c,d,f,e):this.j(a,this.iD(g),this.qb(a.g.la[g],a.g.ka[g],a.g.ja[g]),b,c,d,f,e);else{k=a.g.h+a.Da-1;this.Ra(a,a.g.la[k],a.g.ka[k],a.g.ja[k],b,c+a.i[0]*q,d,f,e);d=this.j(a,"Alive",this.qb(a.g.la[k],a.g.ka[k],a.g.ja[k]),b,c,d,f,e);for(g=1;g<a.g.h-1;g+=1)k=a.g.h-g+a.Da-1,this.Ra(a,a.g.la[k],a.g.ka[k],a.g.ja[k],b,c+a.i[0]*q,d,f,e),d=this.j(a,"Dying "+
g,this.qb(a.g.la[k],a.g.ka[k],a.g.ja[k]),b,c,d,f,e);0<a.Da&&(k=a.Da,this.Ra(a,a.g.la[k],a.g.ka[k],a.g.ja[k],b,c+a.i[0]*q,d,f,e),d=this.j(a,"Dead",this.qb(a.g.la[k],a.g.ka[k],a.g.ja[k]),b,c,d,f,e),1<a.Da&&(k=1,p.h.h.h!==p.h.i.h||p.h.h.l!==p.h.i.l||p.h.h.i!==p.h.i.i?(this.Ra(a,a.g.la[k],a.g.ka[k],a.g.ja[k],b,c+a.i[0]*q,d,f,e),d=this.j(a,"DeadRamp",this.qb(a.g.la[k],a.g.ka[k],a.g.ja[k]),b,c,d,f,e)):d=this.j(a,"DeadRamp","    (none)",b,c,d,f,e)))}else this.Ra(a,p.l.h.h,p.l.h.l,p.l.h.i,b,c+a.i[0]*q,d,
f,e),d=this.j(a,"Alive",this.pe(p.l.h),b,c,d,f,e),p.l.h.h!==p.l.i.h||p.l.h.l!==p.l.i.l||p.l.h.i!==p.l.i.i?(this.Ra(a,p.l.i.h,p.l.i.l,p.l.i.i,b,c+a.i[0]*q,d,f,e),d=this.j(a,"AliveRamp",this.pe(p.l.i),b,c,d,f,e)):d=this.j(a,"AliveRamp","    (none)",b,c,d,f,e),0<a.Da&&(this.Ra(a,p.h.i.h,p.h.i.l,p.h.i.i,b,c+a.i[0]*q,d,f,e),d=this.j(a,"Dead",this.pe(p.h.i),b,c,d,f,e),1<a.Da&&(p.h.h.h!==p.h.i.h||p.h.h.l!==p.h.i.l||p.h.h.i!==p.h.i.i?(this.Ra(a,p.h.h.h,p.h.h.l,p.h.h.i,b,c+a.i[0]*q,d,f,e),d=this.j(a,"DeadRamp",
this.pe(p.h.h),b,c,d,f,e)):d=this.j(a,"DeadRamp","    (none)",b,c,d,f,e)));if(a.g.I)for(g=3;6>=g;g+=1)m=128+H.Cb[g],k=this.qb(a.g.la[m],a.g.ka[m],a.g.ja[m]),r=H.He[g],this.Ra(a,a.g.la[m],a.g.ka[m],a.g.ja[m],b,c+a.i[0]*q,d,f,e),d=this.j(a,r,k,b,c,d,f,e);-1!==a.g.D&&(256>a.g.h+a.g.u?(this.Ra(a,a.zf[0],a.zf[1],a.zf[2],b,c+a.i[0]*q,d,f,e),d=this.j(a,"Bounded",this.qb(a.zf[0],a.zf[1],a.zf[2]),b,c,d,f,e)):(this.Ra(a,a.g.la[2],a.g.ka[2],a.g.ja[2],b,c+a.i[0]*q,d,f,e),d=this.j(a,"Bounded*",this.qb(a.g.la[2],
a.g.ka[2],a.g.ja[2]),b,c,d,f,e)));this.Ra(a,a.yd[0],a.yd[1],a.yd[2],b,c+a.i[0]*q,d,f,e);d=this.j(a,"Boundary",this.qb(a.yd[0],a.yd[1],a.yd[2]),b,c,d,f,e);d=this.j(a,"Borders",a.g.Wa?"On":"Off",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.u[n]=[a.o,"Gridlines"];n+=1;d=this.j(a,"","Gridlines:",b,c,d,f,e);r=a.g.Ka?"On":"Off";a.g.Ka&&!a.g.ge()&&(r+=" (Hidden)");d=this.j(a,"Enabled",r,b,c,d,f,e);1!==a.g.Ua&&(this.Ra(a,a.g.nb>>16,a.g.nb>>8&255,a.g.nb&255,b,c+a.i[0]*q,d,f,e),d=this.j(a,"Line Color",this.qb(a.g.nb>>
16,a.g.nb>>8&255,a.g.nb&255),b,c,d,f,e));0<a.g.Ua&&(this.Ra(a,a.g.vc>>16,a.g.vc>>8&255,a.g.vc&255,b,c+a.i[0]*q,d,f,e),d=this.j(a,"Major Color",this.qb(a.g.vc>>16,a.g.vc>>8&255,a.g.vc&255),b,c,d,f,e));r=0<a.g.Ua&&a.g.Tc?String(a.g.Ua):"Off";d=this.j(a,"Interval",r,b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.u[n]=[a.o,"UI"];d=this.j(a,"","UI:",b,c,d,f,e);n+=1;m=a.oa[H.Op];-1===m&&(m=16777215);this.Ra(a,m>>16,m>>8&255,m&255,b,c+a.i[0]*q,d,f,e);d=this.j(a,"Foreground",this.qb(m>>16,m>>8&255,m&255),b,c,d,
f,e);m=a.oa[H.Mp];-1===m&&(m=0);this.Ra(a,m>>16,m>>8&255,m&255,b,c+a.i[0]*q,d,f,e);d=this.j(a,"Background",this.qb(m>>16,m>>8&255,m&255),b,c,d,f,e);m=a.oa[H.Pp];-1===m&&(m=61472);this.Ra(a,m>>16,m>>8&255,m&255,b,c+a.i[0]*q,d,f,e);d=this.j(a,"Highlight",this.qb(m>>16,m>>8&255,m&255),b,c,d,f,e);m=a.oa[H.Rp];-1===m&&(m=255);this.Ra(a,m>>16,m>>8&255,m&255,b,c+a.i[0]*q,d,f,e);d=this.j(a,"Selected",this.qb(m>>16,m>>8&255,m&255),b,c,d,f,e);m=a.oa[H.Qp];-1===m&&(m=8421504);this.Ra(a,m>>16,m>>8&255,m&255,
b,c+a.i[0]*q,d,f,e);d=this.j(a,"Locked",this.qb(m>>16,m>>8&255,m&255),b,c,d,f,e);m=a.oa[H.Np];-1===m&&(m=16777215);this.Ra(a,m>>16,m>>8&255,m&255,b,c+a.i[0]*q,d,f,e);d=this.j(a,"Border",this.qb(m>>16,m>>8&255,m&255),b,c,d,f,e);a.Tc?(this.Ra(a,a.Tc[0],a.Tc[1],a.Tc[2],b,c+a.i[0]*q,d,f,e),d=this.j(a,"Text*",this.qb(a.Tc[0],a.Tc[1],a.Tc[2]),b,c,d,f,e)):(this.Ra(a,255,255,255,b,c+a.i[0]*q,d,f,e),d=this.j(a,"Text",this.qb(255,255,255),b,c,d,f,e));a.Sc?(this.Ra(a,a.Sc[0],a.Sc[1],a.Sc[2],b,c+a.i[0]*q,d,f,
e),d=this.j(a,"Error*",this.qb(a.Sc[0],a.Sc[1],a.Sc[2]),b,c,d,f,e)):(this.Ra(a,255,48,48,b,c+a.i[0]*q,d,f,e),d=this.j(a,"Error",this.qb(255,96,96),b,c,d,f,e));a.we?(this.Ra(a,a.we[0],a.we[1],a.we[2],b,c+a.i[0]*q,d,f,e),d=this.j(a,"Help*",this.qb(a.we[0],a.we[1],a.we[2]),b,c,d,f,e)):(this.Ra(a,32,255,255,b,c+a.i[0]*q,d,f,e),d=this.j(a,"Help",this.qb(32,255,255),b,c,d,f,e));d=this.j(a,"","",b,c,d,f,e);a.u[n]=[a.o,"Selection"];n+=1;d=this.j(a,"","Selection Boxes:",b,c,d,f,e);this.Ra(a,a.Cf[0],a.Cf[1],
a.Cf[2],b,c+a.i[0]*q,d,f,e);d=this.j(a,"Selection",this.qb(a.Cf[0],a.Cf[1],a.Cf[2]),b,c,d,f,e);this.Ra(a,a.Bf[0],a.Bf[1],a.Bf[2],b,c+a.i[0]*q,d,f,e);d=this.j(a,"Paste Box",this.qb(a.Bf[0],a.Bf[1],a.Bf[2]),b,c,d,f,e);this.Ra(a,a.Df[0],a.Df[1],a.Df[2],b,c+a.i[0]*q,d,f,e);d=this.j(a,"Paste Cell",this.qb(a.Df[0],a.Df[1],a.Df[2]),b,c,d,f,e);this.Ra(a,a.yf[0],a.yf[1],a.yf[2],b,c+a.i[0]*q,d,f,e);d=this.j(a,"Advance",this.qb(a.yf[0],a.yf[1],a.yf[2]),b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.u[n]=[a.o,"Graph"];
n+=1;d=this.j(a,"","Population Graph:",b,c,d,f,e);d=this.j(a,"Enabled",a.Oa?"On":"Off",b,c,d,f,e);d=this.j(a,"Disabled",a.Wb?"On":"Off",b,c,d,f,e);d=this.j(a,"Mode",a.od?"Lines":"Points",b,c,d,f,e);-1===a.g.D?(l="",a.fh&&(l="Population"),a.dh&&(l=""===l?"Births":l+", Births"),a.eh&&(l=""===l?"Deaths":l+", Deaths"),""===l&&(l="<none>")):l="Population";d=this.j(a,"Data",l,b,c,d,f,e);d=this.j(a,"Opacity",a.Wa.toFixed(2),b,c,d,f,e);this.Ra(a,a.g.ld[0],a.g.ld[1],a.g.ld[2],b,c+a.i[0]*q,d,f,e);d=this.j(a,
"Bg Color",this.qb(a.g.ld[0],a.g.ld[1],a.g.ld[2]),b,c,d,f,e);this.Ra(a,a.g.kd[0],a.g.kd[1],a.g.kd[2],b,c+a.i[0]*q,d,f,e);d=this.j(a,"Axis Color",this.qb(a.g.kd[0],a.g.kd[1],a.g.kd[2]),b,c,d,f,e);this.Ra(a,a.g.jd[0],a.g.jd[1],a.g.jd[2],b,c+a.i[0]*q,d,f,e);d=this.j(a,"Alive Color",this.qb(a.g.jd[0],a.g.jd[1],a.g.jd[2]),b,c,d,f,e);this.Ra(a,a.g.md[0],a.g.md[1],a.g.md[2],b,c+a.i[0]*q,d,f,e);d=this.j(a,"Birth Color",this.qb(a.g.md[0],a.g.md[1],a.g.md[2]),b,c,d,f,e);this.Ra(a,a.g.nd[0],a.g.nd[1],a.g.nd[2],
b,c+a.i[0]*q,d,f,e);d=this.j(a,"Death Color",this.qb(a.g.nd[0],a.g.nd[1],a.g.nd[2]),b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.u[n]=[a.o,"Stars"];n+=1;d=this.j(a,"","Stars:",b,c,d,f,e);d=this.j(a,"Enabled",a.pd?"On":"Off",b,c,d,f,e);this.Ra(a,a.Md.h.h,a.Md.h.l,a.Md.h.i,b,c+a.i[0]*q,d,f,e);d=this.j(a,"Color",this.pe(a.Md.h),b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);a.u[n]=[a.o,"Randomize"];n+=1;d=this.j(a,"","Randomize:",b,c,d,f,e);d=this.j(a,"Pattern",a.Nk?"On":"Off",b,c,d,f,e);d=this.j(a,"States",a.Lk?
"2":"All",b,c,d,f,e);d=this.j(a,"Custom Seed",a.Ks?"On":"Off",b,c,d,f,e);d=this.j(a,"Seed",a.dj,b,c,d,f,e);d=this.j(a,"Width",a.vo,b,c,d,f,e);d=this.j(a,"Height",a.oo,b,c,d,f,e);d=this.j(a,"Fill",a.Ki+"%",b,c,d,f,e);d=this.j(a,"Rule Fixed",a.Jk?"Yes":"No",b,c,d,f,e);if(!a.Jk)if(a.g.Z||a.g.l)d=this.j(a,"Reversible",a.qo?"Only":"Any",b,c,d,f,e),d=this.j(a,"FixedPop",a.to?"Yes":"No",b,c,d,f,e);else if(!a.g.Ia&&-1===a.g.Jd){if(-1===a.Pe&&-1===a.Sf){d=this.j(a,"Chance ALL"+(-1===a.Oe?"*":""),-1===a.Oe?
"50%":a.Oe+"%",b,c,d,f,e);k=!1;for(g=0;g<a.Wc.length;g+=2)0===a.Wc[g]&&(k=!0);k||(d=this.j(a,"Chance B0*","25%",b,c,d,f,e))}else d=this.j(a,"Chance B"+(-1===a.Pe?"*":""),-1===a.Pe?"50%":a.Pe+"%",b,c,d,f,e),d=this.j(a,"Chance S"+(-1===a.Sf?"*":""),-1===a.Sf?"50%":a.Sf+"%",b,c,d,f,e);for(g=0;g<a.Wc.length;g+=2)d=this.j(a,"Chance B"+a.Wc[g],a.Wc[g+1]+"%",b,c,d,f,e);for(g=0;g<a.Kd.length;g+=2)d=this.j(a,"Chance S"+a.Kd[g],a.Kd[g+1]+"%",b,c,d,f,e)}d=this.j(a,"","",b,c,d,f,e);a.u[n]=[a.o,"Script"];n+=1;
d=this.j(a,"","Script:",b,c,d,f,e);d=this.j(a,"Commands",a.rh,b,c,d,f,e);d=this.j(a,"Errors",a.Ir,b,c,d,f,e);if(a.Ba)for(d=this.j(a,"","",b,c,d,f,e),a.u[n]=[a.o,"Waypoints"],n+=1,d=this.j(a,"","Waypoints:",b,c,d,f,e),d=this.j(a,"Enabled",a.jb?"Off":"On",b,c,d,f,e),d=this.j(a,"Number",a.m.h.length,b,c,d,f,e),g=0;g<a.m.h.length;g+=1)r=String(g),g===a.m.u&&(r=a.m.V(a.la)?r+">":r+"*"),d=this.j(a,r,a.m.cb(g,B.ud),b,c,d,f,e);if(a.m.i.length)for(d=this.j(a,"","",b,c,d,f,e),a.u[n]=[a.o,"POIs"],d=this.j(a,
"","Points of interest:",b,c,d,f,e),d=this.j(a,"Number",a.m.i.length,b,c,d,f,e),g=0;g<a.m.i.length;g+=1)r=String(g+1),g===a.Fc&&(r+="*"),g===a.Yg&&(r+=" INITIAL"),k=!1,l=a.m.Ga(g),""!==l&&(d=this.j(a,k?" ":r,(k?"  ":"")+l,b,c,d,f,e),k=!0),l=a.m.La(g),""!==l&&(d=this.j(a,k?" ":r,(k?"  ":"")+l,b,c,d,f,e),k=!0),l=a.m.Ha(g),""!==l&&(d=this.j(a,k?" ":r,(k?"  ":"")+l,b,c,d,f,e),k=!0),l=a.m.Fa(g),""!==l&&(d=this.j(a,k?" ":r,(k?"  ":"")+l,b,c,d,f,e),k=!0),l=a.m.Ka(g),""!==l&&(d=this.j(a,k?" ":r,(k?"  ":"")+
l,b,c,d,f,e),k=!0),l=a.m.Ja(g,B.ud),""!==l&&(d=this.j(a,k?" ":r,(k?"  ":"")+l,b,c,d,f,e))},tF:function(a,b,c,d,f,e){var g,k,l=0,p=a.h.s;a.o=1;a.zc=!1;a.u=[];a.i[0]=130;a.i[1]=200;a.i[2]=250;a.i[3]=300;a.i[4]=390;a.u[l]=[a.o,"Top"];l+=1;d=this.j(a,"","Themes",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);d=this.j(a,"","Themes are used to provide a visual representation of",b,c,d,f,e);d=this.j(a,"","cell history and longevity and also define grid colours",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);d=this.j(a,
"","Grid:",b,c,d,f,e);d=this.j(a,"GRID","grid line colour",b,c,d,f,e);d=this.j(a,"GRIDMAJOR","major grid line colour and interval",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);if(2>=a.g.h)for(d=this.j(a,"","Two-state Themes:",b,c,d,f,e),d=this.j(a,"BACKGROUND","cell never occupied",b,c,d,f,e),d=this.j(a,"ALIVE","cell just born",b,c,d,f,e),d=this.j(a,"ALIVERAMP","cell alive for several generations",b,c,d,f,e),d=this.j(a,"DEAD","cell just died",b,c,d,f,e),d=this.j(a,"DEADRAMP","cell dead for several generations",
b,c,d,f,e),d=this.j(a,"","",b,c,d,f,e),d=this.j(a,"",a.Pg+" ("+B.Bo+") states from ALIVE to ALIVERAMP",b,c,d,f,e),d=this.j(a,"",a.Da+" ("+B.on+") states from DEAD to DEADRAMP",b,c,d,f,e),g=0;g<a.g.pa.length-1;g+=1){d=this.j(a,"","",b,c,d,f,e);var n=a.g.pa[g];a.u[l]=[a.o,n.name];l+=1;d=this.j(a,"Name"+(g===a.g.Xb&&2>=a.g.h?"*":""),n.name,b,c,d,f,e);this.Ra(a,n.u.h,n.u.l,n.u.i,b,c+a.i[0]*p,d,f,e);d=this.j(a,"BACKGROUND",this.pe(n.u),b,c,d,f,e);this.Ra(a,n.l.h.h,n.l.h.l,n.l.h.i,b,c+a.i[0]*p,d,f,e);d=
this.j(a,"ALIVE",this.pe(n.l.h),b,c,d,f,e);if(n.l.h.h!==n.l.i.h||n.l.h.l!==n.l.i.l||n.l.h.i!==n.l.i.i)this.Ra(a,n.l.i.h,n.l.i.l,n.l.i.i,b,c+a.i[0]*p,d,f,e),d=this.j(a,"ALIVERAMP",this.pe(n.l.i),b,c,d,f,e);this.Ra(a,n.h.i.h,n.h.i.l,n.h.i.i,b,c+a.i[0]*p,d,f,e);d=this.j(a,"DEAD",this.pe(n.h.i),b,c,d,f,e);if(n.h.h.h!==n.h.i.h||n.h.h.l!==n.h.i.l||n.h.h.i!==n.h.i.i)this.Ra(a,n.h.h.h,n.h.h.l,n.h.h.i,b,c+a.i[0]*p,d,f,e),d=this.j(a,"DEADRAMP",this.pe(n.h.h),b,c,d,f,e);this.Ra(a,n.o>>16,n.o>>8&255,n.o&255,
b,c+a.i[0]*p,d,f,e);d=this.j(a,"GRID",this.qb(n.o>>16,n.o>>8&255,n.o&255),b,c,d,f,e);0<n.A&&(this.Ra(a,n.s>>16,n.s>>8&255,n.s&255,b,c+a.i[0]*p,d,f,e),d=this.j(a,"GRIDMAJOR",this.qb(n.s>>16,n.s>>8&255,n.s&255),b,c,d,f,e));d=a.g.Z&&0<n.A?this.j(a,"GRIDMAJOR",2,b,c,d,f,e):this.j(a,"GRIDMAJOR",n.A,b,c,d,f,e)}else if(a.g.l)for(d=this.j(a,"","PCA Themes:",b,c,d,f,e),d=this.j(a,"BACKGROUND","cell never occupied",b,c,d,f,e),d=this.j(a,"DEAD","cell just died",b,c,d,f,e),d=this.j(a,"DEADRAMP","cell dead for several generations",
b,c,d,f,e),d=this.j(a,"","",b,c,d,f,e),d=this.j(a,"",a.Da+" ("+B.on+") states from DEAD to DEADRAMP",b,c,d,f,e),g=0;g<a.g.pa.length-1;g+=1){d=this.j(a,"","",b,c,d,f,e);n=a.g.pa[g];a.u[l]=[a.o,n.name];l+=1;d=this.j(a,"Name"+(g===a.g.Xb?"*":""),n.name,b,c,d,f,e);this.Ra(a,n.u.h,n.u.l,n.u.i,b,c+a.i[0]*p,d,f,e);d=this.j(a,"BACKGROUND",this.pe(n.u),b,c,d,f,e);for(k=1;16>k;k+=1){this.Ra(a,n.B[k-1].h,n.B[k-1].l,n.B[k-1].i,b,c+a.i[0]*p,d,f,e);var q="";k&1&&(q+="N");k&2&&(q+="E");k&4&&(q+="S");k&8&&(q+="W");
d=this.j(a,q,this.qb(n.B[k-1].h,n.B[k-1].l,n.B[k-1].i),b,c,d,f,e)}this.Ra(a,n.i.i.h,n.i.i.l,n.i.i.i,b,c+a.i[0]*p,d,f,e);d=this.j(a,"DEAD",this.pe(n.i.i),b,c,d,f,e);if(n.i.h.h!==n.i.i.h||n.i.h.l!==n.i.i.l||n.i.h.i!==n.i.i.i)this.Ra(a,n.i.h.h,n.i.h.l,n.i.h.i,b,c+a.i[0]*p,d,f,e),d=this.j(a,"DEADRAMP",this.pe(n.i.h),b,c,d,f,e);this.Ra(a,n.o>>16,n.o>>8&255,n.o&255,b,c+a.i[0]*p,d,f,e);d=this.j(a,"GRID",this.qb(n.o>>16,n.o>>8&255,n.o&255),b,c,d,f,e);0<n.A&&(this.Ra(a,n.s>>16,n.s>>8&255,n.s&255,b,c+a.i[0]*
p,d,f,e),d=this.j(a,"GRIDMAJOR",this.qb(n.s>>16,n.s>>8&255,n.s&255),b,c,d,f,e));d=this.j(a,"GRIDMAJOR",n.A,b,c,d,f,e)}else for(d=this.j(a,"","Multi-state Themes:",b,c,d,f,e),d=this.j(a,"BACKGROUND","cell never occupied",b,c,d,f,e),d=this.j(a,"ALIVE","cell alive",b,c,d,f,e),d=this.j(a,"DYING","cell just starting dying",b,c,d,f,e),d=this.j(a,"DYINGRAMP","cell about to die",b,c,d,f,e),d=this.j(a,"DEAD","cell just died",b,c,d,f,e),d=this.j(a,"DEADRAMP","cell dead for several generations",b,c,d,f,e),d=
this.j(a,"","",b,c,d,f,e),d=this.j(a,"","Rule defines "+(2>a.g.h?"":String(a.g.h-1)+" ")+"states from DYING to DYINGRAMP",b,c,d,f,e),d=this.j(a,"",a.Da+" (HISTORYSTATES) states from DEAD to DEADRAMP",b,c,d,f,e),g=0;g<a.g.pa.length-1;g+=1)d=this.j(a,"","",b,c,d,f,e),n=a.g.pa[g],a.u[l]=[a.o,n.name],l+=1,d=this.j(a,"Name"+(g===a.g.Xb&&2<a.g.h?"*":""),n.name,b,c,d,f,e),this.Ra(a,n.D.h,n.D.l,n.D.i,b,c+a.i[0]*p,d,f,e),d=this.j(a,"BACKGROUND",this.pe(n.D),b,c,d,f,e),this.Ra(a,n.v.h,n.v.l,n.v.i,b,c+a.i[0]*
p,d,f,e),d=this.j(a,"ALIVE",this.pe(n.v),b,c,d,f,e),3===a.g.h?(this.Ra(a,n.m.h.h,n.m.h.l,n.m.h.i,b,c+a.i[0]*p,d,f,e),d=this.j(a,"DYING",this.pe(n.m.h),b,c,d,f,e)):(this.Ra(a,n.m.i.h,n.m.i.l,n.m.i.i,b,c+a.i[0]*p,d,f,e),d=this.j(a,"DYING",this.pe(n.m.i),b,c,d,f,e),3<a.g.h&&(n.m.h.h!==n.m.i.h||n.m.h.l!==n.m.i.l||n.m.h.i!==n.m.i.i)&&(this.Ra(a,n.m.h.h,n.m.h.l,n.m.h.i,b,c+a.i[0]*p,d,f,e),d=this.j(a,"DYINGRAMP",this.pe(n.m.h),b,c,d,f,e))),255>a.g.h&&(this.Ra(a,n.i.i.h,n.i.i.l,n.i.i.i,b,c+a.i[0]*p,d,f,e),
d=this.j(a,"DEAD",this.pe(n.i.i),b,c,d,f,e)),256>a.g.h&&(n.i.h.h!==n.i.i.h||n.i.h.l!==n.i.i.l||n.i.h.i!==n.i.i.i)&&(this.Ra(a,n.i.h.h,n.i.h.l,n.i.h.i,b,c+a.i[0]*p,d,f,e),d=this.j(a,"DEADRAMP",this.pe(n.i.h),b,c,d,f,e)),this.Ra(a,n.o>>16,n.o>>8&255,n.o&255,b,c+a.i[0]*p,d,f,e),d=this.j(a,"GRID",this.qb(n.o>>16,n.o>>8&255,n.o&255),b,c,d,f,e),0<n.A&&(this.Ra(a,n.s>>16,n.s>>8&255,n.s&255,b,c+a.i[0]*p,d,f,e),d=this.j(a,"GRIDMAJOR",this.qb(n.s>>16,n.s>>8&255,n.s&255),b,c,d,f,e)),d=this.j(a,"GRIDMAJOR",n.A,
b,c,d,f,e);this.j(a,"","",b,c,d,f,e)},lF:function(a,b,c,d,f,e){var g,k=eb.Qe,l=Object.keys(k),p=a.h.s;a.o=1;a.zc=!1;a.u=[];a.i[0]=260;a.i[1]=330;a.i[2]=380;a.i[3]=430;a.i[4]=a.ea;a.u[0]=[a.o,"Top"];d=this.j(a,"","Colours",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);d=this.j(a,"","The following names can be used in place of R G B or hex specification",b,c,d,f,e);d=this.j(a,"","for example [[ COLOUR ALIVE Green ]]",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);for(g=0;g<l.length;g+=1){var n=k[l[g]];this.Ra(a,n[1],
n[2],n[3],b,c+a.i[0]*p,d,f,e);d=this.j(a,n[0],this.qb(n[1],n[2],n[3]),b,c,d,f,e)}},jF:function(a,b,c,d,f,e){var g,k=0,l=bb.Xc,p=bb.uv;a.o=1;a.zc=!1;a.u=[];a.i[0]=260;a.u[k]=[a.o,"Top"];k+=1;d=this.j(a,"","Aliases",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);d=this.j(a,"","Alias names can be used as rule names in RLE",b,c,d,f,e);d=this.j(a,"","for example 'rule = HighLife'",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);d=this.j(a,"","* denotes duplicate definition",b,c,d,f,e);d=this.j(a,"","+ denotes duplicate alias name",
b,c,d,f,e);a.zc=!0;for(g=0;g<l.length;g+=1)""===l[g][1]?(d=this.j(a,"","",b,c,d,f,e),a.u[k]=[a.o,p[k-1]],k+=1,d=this.j(a,"",l[g][0]+" Aliases:",b,c,d,f,e)):""!==l[g][0]&&(d=this.j(a,l[g][0]+" "+(l[g][2]?"*":"")+(l[g][3]?"+":""),l[g][1],b,c,d,f,e))},rF:function(a,b,c,d,f,e){var g,k=0,l=Ba.Sd.length,p=0,n=0,q=0,m=0,r;a.o=1;a.zc=!1;a.u=[];a.i[0]=128;a.i[1]=200;a.i[2]=290;a.i[3]=530;a.u[k]=[a.o,"Top"];k+=1;d=this.j(a,"","Memory usage",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e);if(1<l){a.u[k]=[a.o,"All"];
k+=1;d=this.j(a,"","Memory (all "+l+" LifeViewers):",b,c,d,f,e);for(g=0;g<l;g+=1)if(r=Ba.pD(g))p+=r.g.N.Xo,q+=r.g.N.bm>>10,n+=r.g.N.Yo,m+=r.g.N.cm>>10;d=this.j(a,"In Use",p-n+"\t"+((q>>10)-(m>>10))+"M",b,c,d,f,e);d=this.j(a,"Allocations",p+"\t"+(q>>10)+"M",b,c,d,f,e);d=this.j(a,"Frees",n+"\t"+(m>>10)+"M",b,c,d,f,e);d=this.j(a,"","",b,c,d,f,e)}a.u[k]=[a.o,"Current"];d=this.j(a,"","Memory (this LifeViewer):",b,c,d,f,e);d=this.j(a,"In Use",a.g.N.Xo-a.g.N.Yo+"\t"+this.bs(a.g.N.bm-a.g.N.cm)+"M\t"+(a.g.N.bm-
a.g.N.cm),b,c,d,f,e);d=this.j(a,"Allocations",a.g.N.Xo+"\t"+this.bs(a.g.N.bm)+"M\t"+a.g.N.bm,b,c,d,f,e);d=this.j(a,"Frees",a.g.N.Yo+"\t"+this.bs(a.g.N.cm)+"M\t"+a.g.N.cm,b,c,d,f,e);d=this.j(a,this.xz("Bytes",10),"Type\tElements\tName\tCount",b,c,d,f,e);for(g=0;g<a.g.N.i.length;g+=1)d=this.j(a,this.xz(String(a.g.N.i[g].size),10),a.g.N.s(g),b,c,d,f,e);this.j(a,"","",b,c,d,f,e)},ly:function(a){var b=a.Pa,c=a.h.s,d=a.h.D,f=19*d;a.Ea=(a.aa/f|0)-6;b.fillStyle=a.C.jc;b.globalAlpha=.7;b.fillRect(0,0,b.canvas.width,
b.canvas.height);b.globalAlpha=1;b.fillStyle=a.C.jc;this.Qh=2;Xa.Vz(a,b,6*c,14*d,f,a.s|0);b.fillStyle=a.Jh;this.Qh=0;Xa.Vz(a,b,6*c,14*d,f,a.s|0)},mF:function(a,b,c,d,f,e,g,k,l,p){var n=k,q=a.h.s,m=this.Qh*q,r=this.Qh*a.h.s,u=0,t=!1,w=a.o;e.fillStyle===a.C.Ba&&(t=!0);w>=p&&w<=p+a.Ea&&(e.font=a.Vh,t||(e.fillStyle=1<(a.Z|0)?a.Ih:a.C.R),e.fillText(b,g+m,k+r),t||(e.fillStyle=a.Ih),e.fillText(c,g+m+e.measureText(b).width,k+r),t||(e.fillStyle=(a.Z|0)<a.Tb.length-a.Ea+1?a.Ih:a.C.R),e.fillText(d,g+m+e.measureText(b+
c).width,k+r),a.i[0]&&(u=a.i[0]*q),t||(e.fillStyle=a.Ih),e.font=a.kf,e.fillText(f,g+m+u,k+r),n+=l);return n},yq:function(a,b,c,d,f,e,g,k){var l=e,p=a.h.s,n=0,q=a.o;q>=k&&q<=k+a.Ea&&(b.length&&(d.font=a.Vh,d.fillText(b,f,e),n=d.measureText(b+" ").width),a.i[0]&&(n=a.i[0]*p),d.font=a.kf,d.fillText(c,f+n,e),l+=g);a.o+=1;return l},Uz:function(a,b,c,d,f,e){var g,k=a.Tb,l=d;a.o=1;a.i[0]=0;b.font=a.kf;d=this.yq(a,"",H.IF,b,c,d,f,e);for(g=0;g<k.length;g+=1)d=this.yq(a,k[g][0],k[g][1],b,c,d,f,e);a.ga||(a.i[0]=
120,a.o=1,d=l+f*(a.Ea+2),d=this.mF(a,"Up"," / ","Down","scroll errors",b,c,d,f,0),d=this.yq(a,"Esc","clear messages",b,c,d,f,0),this.yq(a,"H  ","help",b,c,d,f,0))},aD:function(a){var b=a.Pa,c=a.h.s,d=a.h.D,f=19*d,e=7;a.ga&&(e=1);a.Ea=(a.aa/f|0)-e;b.fillStyle=a.C.jc;b.globalAlpha=.7;b.fillRect(0,0,b.canvas.width,b.canvas.height);b.globalAlpha=1;b.fillStyle=a.C.jc;this.Uz(a,b,6*c,14*d,f,a.Z|0);b.fillStyle=a.Ih;this.Uz(a,b,4*c,12*d,f,a.Z|0)}},B={ud:'"',$j:"[[",Wl:"]]",qz:"NOSNOW",dv:"QUALITY",jA:"TIME",
Qu:"PLAYTIME",Gv:"SUPPRESS",sq:"POIT",qc:"INITIAL",Ob:"OFF",Bv:"STATE1FIT",ap:"POIRESET",Qn:"POIPLAY",Rn:"POISTOP",bp:"POITRANS",Ru:"POIADDLABELS",Ss:"HARDRESET",pp:"TRACK",dm:"TRACKBOX",op:"TRACKLOOP",$t:"NOREPORT",Xp:"GRAPH",nq:"NOGRAPH",Os:"GRAPHOPACITY",Ps:"GRAPHPOINTS",Zt:"NOPERFWARNING",Xs:"AUTOHIDEGUI",tf:"ALL",tg:"LINEAR",Fh:"BEZIER",fw:"TRIANGULARCELLS",Us:"HEXCELLS",Cq:"SQUARECELLS",fs:"CELLBORDERS",Zg:"RANDCELLS",nv:"RANDOMIZE",mv:"RANDOMIZE2",jv:"RANDSEED",lv:"RANDWIDTH",gv:"RANDHEIGHT",
fv:"RANDFILL",hv:"RANDREVERSIBLE",kv:"RANDFIXEDPOP",wq:"RANDCHANCE",vq:"B",xq:"S",ys:"DELETERANGE",xv:"SHOWTIMING",Hs:"EXTENDEDTIMING",vv:"SHOWGENSTATS",wv:"SHOWINFOBAR",au:"NOSOURCE",tq:"POI",lo:"TITLE",Pz:"POLY",Vu:"POLYSHADOW",uq:"POLYFILL",Uu:"POLYLINE",Su:"POLYALPHA",Wu:"POLYSIZE",Xu:"POLYT",Tu:"POLYANGLE",$u:"POLYZOOMRANGE",Yu:"POLYTRACK",Zu:"POLYVIEWDIST",Co:"ARROW",Vr:"ARROWSHADOW",Tr:"ARROWALPHA",Wr:"ARROWSIZE",Xr:"ARROWT",Ur:"ARROWANGLE",$r:"ARROWZOOMRANGE",Yr:"ARROWTRACK",Zr:"ARROWVIEWDIST",
Qo:"LABEL",vt:"LABELSHADOW",rt:"LABELALPHA",wt:"LABELSIZE",xt:"LABELT",st:"LABELANGLE",At:"LABELZOOMRANGE",yt:"LABELTRACK",zt:"LABELVIEWDIST",qt:"LABELALIGN",ot:"LEFT",pt:"RIGHT",nt:"CENTER",Id:"FIXED",Ht:"MAXGRIDSIZE",gp:"STARS",ho:"CUSTOM",Jq:"XOFFSET",Kq:"YOFFSET",fo:"BACKGROUND",eo:"ALIVE",kp:"ALIVERAMP",jo:"DEAD",io:"DEADRAMP",mp:"DYING",lp:"DYINGRAMP",oA:"UIFOREGROUND",TG:"UIFOREGROUNDA",mA:"UIBACKGROUND",QG:"UIBACKGROUNDA",pA:"UIHIGHLIGHT",UG:"UIHIGHTLIGHTA",rA:"UISELECT",WG:"UISELECTA",qA:"UILOCKED",
VG:"UILOCKEDA",nA:"UIBORDER",SG:"UIBORDERA",Ex:"BOUNDARY",gs:"BOUNDED",$z:"SELECT",xx:"ADVANCE",aA:"SELECTED",Hp:"AUTOFIT",Zs:"HISTORYFIT",on:"HISTORYSTATES",Bo:"AGESTATES",Zl:"STEP",Yt:"NOSTEPBACK",ip:"T",Nu:"PAUSE",Mo:"GRID",Lo:"GRIDMAJOR",Hv:"TEXT",Es:"ERROR",Ts:"HELP",du:"OFF",fu:"ON",Ys:"HISTORY",Dt:"MARK1",Ft:"MARKOFF",Et:"MARK2",jt:"KILL",xy:"GRAPHBG",wy:"GRAPHAXIS",vy:"GRAPHALIVE",yy:"GRAPHBIRTH",zy:"GRAPHDEATH",lb:"COLOR",ns:"COLOUR",ck:"TILT",rp:"VIEWONLY",Xt:"NOGUI",Wt:"NOCOPY",Nv:"THUMBNAIL",
Kv:"THUMBSIZE",Jv:"THUMBLAUNCH",Lv:"THUMBSTART",Gs:"EXCLUSIVEPLAY",ct:"IGNOREEXCLUSIVE",Bj:"THEME",Tz:"RAINBOW",Fq:"STARTFROM",Ip:"AUTOSTART",Lh:"LOOP",Sh:"STOP",Qj:"ANGLE",Fl:"LAYERS",jl:"DEPTH",tl:"GPS",de:"ZOOM",Or:"Z",Ie:"X",Ke:"Y",so:"WIDTH",nn:"HEIGHT",ep:"POPUPWIDTH",cp:"POPUPHEIGHT",Mv:"THUMBZOOM",bu:"NOTHROTTLE",pv:"REVERSESTART",kt:"KILLGLIDERS",oy:"FASTLOOKUP",Vn:"RECIPE",Vl:"RLE",wi:"PASTE",Zo:"PASTET",gu:"PASTEDELTA",Fo:"EVERY",Cu:"PASTEMODE",Lu:"ZERO",pu:"AND",iu:"0010",Gu:"X",ku:"DIFF",
Ju:"Y",Hu:"XOR",Bu:"OR",uu:"NOR",Fu:"XNOR",yu:"NOTY",mu:"1011",wu:"NOTX",ou:"1101",su:"NAND",Au:"ONE",qu:"COPY",aw:"IDENTITY",Yv:"FLIP",Zv:"FLIPX",$v:"FLIPY",dw:"SWAPXY",ew:"SWAPXYFLIP",cw:"RCW",bw:"RCCW",Mu:"XT",Gz:"YT",Rd:"#"},Kb={aF:function(a,b,c){var d=!0;if(c.ctrlKey&&82===b)return!0;switch(b){case 13:a.Od===a.Ch&&a.iy(a,!0);break;case 84:a.sg([!a.C.v],!0,a);break;default:d=!1}return d},bF:function(a,b,c){var d=!0,f=c.altKey,e=c.metaKey;if(c.ctrlKey||e||f)b=-1;switch(b){case 84:a.sg([!a.C.v],
!0,a);break;case 27:a.ql(a,!0,!1);break;default:d=!1}return d},dF:function(a,b,c){var d=!0,f=c.metaKey,e=c.altKey;if(c.ctrlKey||f||e)b=-1;switch(b){case 84:a.sg([!a.C.v],!0,a);break;case 27:case 117:a.Ym(a);break;default:d=!1}return d},dk:function(a,b){a.zd===H.hg?a.Cc(b,a):a.zd===b&&a.Cc(H.hg,a)},cF:function(a,b,c){var d=!0,f=c.metaKey,e=c.altKey;if(c.ctrlKey||f||e)b=-1;switch(b){case 84:a.sg([!a.C.v],!0,a);break;default:d=!1}return d},$E:function(a,b,c){var d=!0,f=c.shiftKey,e=c.ctrlKey;c=c.altKey;
if(a.Ua)!a.Fn&&85===b&&f&&(a.Ua=!a.Ua,a.h.G=a.Ua,a.C.V=a.Ua);else{e&&!c&&37<=b&&40>=b&&(37===b?b=33:38===b?b=36:39===b?b=34:40===b&&(b=35));if(c&&!e){if(48<=b&&57>=b)b-=48,a.yc||0===a.m.i.length?a.Gc===b?a.ua?a.ls(a,b):a.Zw(a):a.Nj.current=a.Bw(b,!0,a):(--b,0<=b&&b<a.m.i.length&&(a.Fc=b,a.Ot(a,a.Fc)));else switch(b){case 37:a.Of(a,-1,0);break;case 38:a.Of(a,0,-1);break;case 39:a.Of(a,1,0);break;case 40:a.Of(a,0,1);break;case 46:a.Wn(a,!0,!0);a.C.notification.notify("Cleared [R]History marked cells",
15,120,15,!0);break;case 65:a.Sg.current=a.ir([!a.be],!0,a);a.C.notification.notify("Auto-Shrink Selection "+(a.be?"On":"Off"),15,40,15,!0);break;case 66:a.li.current=a.HA([!a.g.Wa],!0,a);a.C.notification.notify("Cell Borders "+(a.g.Wa?"On":"Off"),15,40,15,!0);break;case 67:a.Na||!a.rd||a.rd.locked||(a.Tf(a.Gm,a.g.se,a),a.g.ha||a.ge||a.C.notification.notify(a.vp(a.g.Xb)+" Theme",15,40,15,!0));break;case 68:a.g.Z&&2===a.g.Ua&&(a.$d.current=a.BA([!a.g.cd],!0,a),a.C.notification.notify("Alternating Gridlines "+
(a.g.cd?"On":"Off"),15,40,15,!0));break;case 71:a.g.I||-1===a.g.h?a.PF(a):a.g.m?a.C.notification.notify("Rule is already [R]Super",15,120,15,!0):a.C.notification.notify("Unsupported rule for [R]Super",15,120,15,!0);break;case 72:-1===a.g.h&&!a.g.I||a.g.m?a.eF(a):a.g.I?a.C.notification.notify("Rule is already [R]History",15,120,15,!0):a.C.notification.notify("Unsupported rule for [R]History",15,120,15,!0);break;case 74:a.g.I||a.g.m?a.vF(a):-1===a.g.h?a.C.notification.notify("Rule is already [R]Standard",
15,120,15,!0):a.C.notification.notify("Unsupported rule for [R]Standard",15,120,15,!0);break;case 75:a.qx(a);break;case 76:0<a.m.A()&&(a.nf.current=a.Nw([!a.ee],!0,a),a.C.notification.notify("Annotations "+(a.ee?"On":"Off"),15,40,15,!0));break;case 77:a.Pj.locked||a.my(a);break;case 78:a.Sw(a);break;case 79:a.Pb&&(a.rc=!a.rc,a.Vg.current=[a.rc],a.C.notification.notify("AutoStart "+(a.rc?"Off":"On"),15,40,15,!0));break;case 80:-1!==a.fc&&(a.Jb=!a.Jb,a.kg.current=[a.Jb],a.C.notification.notify("Stop "+
(a.Jb?"Off":"On"),15,40,15,!0));break;case 82:a.tx(a);break;case 83:a.vi.current=a.kr([!a.Rc],!0,a);a.C.notification.notify("Sync Clipboard "+(a.Rc?"On":"Off"),15,40,15,!0);break;case 84:a.lg.current=a.Zq([!a.vf],!0,a);a.C.notification.notify("Throttling "+(a.vf?"On":"Off"),15,40,15,!0);break;case 85:a.ki.current=a.FA([!a.kd],!0,a);a.C.notification.notify("AutoHide UI "+(a.kd?"On":"Off"),15,80,15,!0);break;case 87:2<a.g.h||a.g.Ia||a.g.l||a.g.I||a.g.m||a.g.B||a.g.o||(a.uh.current=a.vr([!a.g.Vb],!0,
a));break;case 88:a.kA(a);break;case 89:a.sA(a);break;case 90:a.ej.locked||a.Hk(a,!1);break;case 188:b=a.na.current[0];b-=45;0>b&&(b+=360);a.na.current=a.qg([b,b],!0,a);break;case 190:b=a.na.current[0];b+=45;360<=b&&(b-=360);a.na.current=a.qg([b,b],!0,a);break;case 191:a.My(a)}b=-2}switch(b){case 191:f?a.g.ia?(a.Bd.current=a.pr([!a.g.ua],!0,a),a.C.notification.notify("Hexagonal display uses "+(a.g.ua?"Rectangles":"Hexagons"),15,120,15,!0)):a.g.W&&(a.Bd.current=a.pr([!a.g.ua],!0,a),a.C.notification.notify("Triangular display uses "+
(a.g.ua?"Rectangles":"Triangles"),15,120,15,!0)):a.Xa.locked||(b=a.Xa.current[0],.47<b&&.53>b?b=.46:(b-=.02,0>b&&(b=0)),a.Xa.current=a.zj([b,b],!0,a));break;case 192:f?a.Xa.locked||(a.Xa.current=a.zj([.5,0],!0,a)):a.Xa.locked||(b=a.Xa.current[0],.47<b&&.53>b?b=.54:(b+=.02,1<b&&(b=1)),a.Xa.current=a.zj([b,b],!0,a));break;case 8:0!==a.s?a.zd!==H.hg?a.Cc(H.hg,a):(a.s=0,a.jd.current=a.df([0!==a.s],!0,a),a.C.i=!0):a.ja.current[0]?(a.jk(a),a.C.i=!0):a.D||a.$b.o[1]||(b=a.V,a.V=1,a.$b.current=a.vd(H.Bn,!0,
a),a.V=b);break;case 66:e?a.qy(a):f?(a.Me.current=[!a.Me.current[0]],a.C.i=!0):a.D||a.$b.o[1]||(b=a.V,a.V=1,a.$b.current=a.vd(H.Bn,!0,a),a.V=b);break;case 13:a.ua||a.Qa?a.nB(a):a.D||(a.$b.current===H.ui?a.$b.current=a.vd(H.ui,!0,a):a.bb&&a.C.X||(a.$b.current=a.vd(H.ui,!0,a)));break;case 9:a.D||(a.Fb?a.$b.current=a.vd(H.je,!0,a):f?(a.g.Z||a.g.l)&&null!==a.g.bb?a.$b.current=a.vd(H.Bn,!0,a):0<a.g.counter&&(a.Nq(a.g.counter-a.V),a.Hm(a.g.counter-a.V+1)):(a.nd=!0,a.T("")));break;case 32:a.D||(a.Fb?a.$b.current=
a.vd(H.je,!0,a):e||f?a.JA(a,f):(a.nd=!0,a.eu=!0,a.T("")));break;case 87:f?(a.Uf.current=a.Tq([!a.Fd],!0,a),a.C.notification.notify("Performance Warning "+(a.Fd?"On":"Off"),15,40,15,!0)):a.ib?(a.Lc.current=a.ar([a.Kb],!0,a),-1!==a.Lb?a.C.notification.notify("Track and Loop "+(a.Kb?"Off":"On"),15,40,15,!0):a.C.notification.notify("Track "+(a.Kb?"Off":"On"),15,40,15,!0)):a.Ba&&(a.Lc.current=a.ar([a.jb],!0,a),-1!==a.Lb?a.C.notification.notify("Waypoints and Loop "+(a.jb?"Off":"On"),15,40,15,!0):a.C.notification.notify("Waypoints "+
(a.jb?"Off":"On"),15,40,15,!0));break;case 68:e?(a.pj.current=a.Xq([!a.Vf],!0,a),a.C.notification.notify("States Display "+(a.Vf?"On":"Off"),15,80,15,!0)):f?a.Xz(a):"Oscillator"===a.ob&&null!==a.g.he&&(a.Cd.current=2===a.Gd?a.mg(0,!0,a):a.mg(2,!0,a));break;case 69:"Oscillator"===a.ob&&null!==a.g.he&&(a.Cd.current=1===a.Gd?a.mg(0,!0,a):a.mg(1,!0,a));break;case 90:e?(c&&(a.ej.locked||a.Hk(a,!0)),f?a.Ms(a):a.Qd.locked||a.cr(a)):f?(b=Ba.hA(),0===b?a.C.notification.notify("No LifeViewers playing",15,100,
15,!0):1<b&&a.C.notification.notify("Paused all LifeViewers",15,100,15,!0)):(b=Ba.Fv(a),0<b&&(1<b?a.C.notification.notify("Paused "+b+" other LifeViewers",15,100,15,!0):a.C.notification.notify("Paused "+b+" other LifeViewer",15,100,15,!0)));break;case 88:e?a.ax(a,f,c):f?(a.Dd.current=a.Pw([!a.g.Tc],!0,a),0<a.g.Ua&&(a.C.notification.notify("Major Grid Lines "+(a.g.Tc?"On":"Off"),15,40,15,!0),a.yx())):(a.g.Ka=!a.g.Ka,a.gd.current=a.wj([a.g.Ka],!0,a),a.C.notification.notify("Grid Lines "+(a.g.Ka?"On":
"Off"),15,40,15,!0));break;case 89:0!==a.s?this.dk(a,H.Lt):e?a.Ms(a):a.Wb?a.C.notification.notify("Graph Disabled",15,40,15,!0):f?(a.od=!a.od,a.Ui.current=a.Yz([a.od],!0,a),a.C.notification.notify("Graph "+(a.od?"Lines":"Points"),15,40,15,!0)):(a.Oa=!a.Oa,a.jf.current=a.mr([a.Oa],!0,a),a.C.notification.notify("Population Graph "+(a.Oa?"On":"Off"),15,40,15,!0));break;case 75:0!==a.s?this.dk(a,H.it):e?c?(a.Wn(a,!1,!1),b=a.Se,2<a.g.h&&!(a.g.ha||a.g.l||a.g.o||a.g.m||a.g.B)&&0<b&&(b=a.g.h-b),a.g.o?a.C.notification.notify("Cleared state "+
b+" cells",15,120,15,!0):a.C.notification.notify("Cleared "+a.bh(b)+" cells",15,120,15,!0)):a.Pk(a):f?(a.wo(a,!0),a.C.notification.notify("Copied view to clipboard",15,180,15,!0)):(a.wo(a,!1),a.C.notification.notify("Copied position to clipboard",15,180,15,!0));break;case 80:e?(a.wk.current=a.eA([!a.aj],!0,a),a.C.notification.notify("Pause while drawing "+(a.aj?"On":"Off"),15,80,15,!0)):f?-1!==a.Lb&&(a.va=!a.va,a.qf.current=[a.va],a.C.notification.notify("Loop "+(a.va?"Off":"On"),15,40,15,!0)):a.Na||
a.Ha.locked||(a.Ha.current=.99>=a.Ha.current[0]?a.ff([a.Ha.current[0]+.01,a.Ha.current[1]],!0,a):a.ff([1,a.Ha.current[1]],!0,a));break;case 76:e?a.De.locked||(a.g.hd=!a.g.hd,a.C.notification.notify("Kill Gliders "+(a.g.hd?"On":"Off"),15,40,15,!0)):f?a.gB(a):a.Na||a.Ha.locked||(a.Ha.current=.01<=a.Ha.current[0]?a.ff([a.Ha.current[0]-.01,a.Ha.current[1]],!0,a):a.ff([0,a.Ha.current[1]],!0,a));break;case 81:e?(a.Fk.current=a.Rw([!a.g.Hc],!0,a),a.C.notification.notify((a.g.Hc?"High":"Standard")+" Quality Rendering",
15,80,15,!0)):!a.Na&&!a.eb.locked&&a.eb.current[0]<H.$p&&(a.eb.current=a.Hl([a.g.za+1,a.eb.current[1]],!0,a));break;case 65:0!==a.s?this.dk(a,H.Nr):f?a.M&&a.ik(a):e?a.wa.o[H.Zj]||a.Ix(a):!a.Na&&!a.eb.locked&&a.eb.current[0]>H.iq&&(a.eb.current=a.Hl([a.g.za-1,a.eb.current[1]],!0,a));break;case 82:f?Ba.Wz():a.$b.current=a.vd(H.Tt,!0,a);break;case 83:0!==a.s?this.dk(a,H.tv):e?a.Xk.locked||a.wx(a):f?a.g.I&&(a.qd=!a.qd,a.C.notification.notify("AutoFit State 1 Mode "+(a.qd?"On":"Off"),15,40,15,!0)):(a.nj.current=
a.Xw([!a.pd],!0,a),a.C.notification.notify("Stars "+(a.pd?"On":"Off"),15,40,15,!0));break;case 78:0!==a.s?0<a.m.A()&&this.dk(a,H.Qr):f?a.D||a.CA(a):a.cf&&(a.ga?a.jw():(a.ow(),a.s&&(a.s=0)));break;case 86:e?a.Dk(a,f,!1):f?(a.et(a),a.C.notification.notify("Saved camera position",15,100,15,!0)):a.Va||a.bc.locked||(a.gx(a),a.C.notification.notify("Restored camera position",15,100,15,!0),a.Fb||(a.mc=!0));break;case 221:a.Va||a.bc.locked||(f?a.gk(a.bc.current[0],Math.log(a.g.zoom*a.g.Ha*2/H.Mb)/Math.log(H.ac/
H.Mb)-a.bc.current[0]):a.gk(a.bc.current[0],.01));break;case 219:a.Va||a.bc.locked||(f?a.gk(a.bc.current[0],Math.log(a.g.zoom*a.g.Ha/2/H.Mb)/Math.log(H.ac/H.Mb)-a.bc.current[0]):a.gk(a.bc.current[0],-.01));break;case 53:case 101:e?f?a.g.l||a.mo(a,!0):a.Nd(5):f?a.mo(a,!1):a.na.locked||(a.g.angle=0,a.na.current=[a.g.angle,a.g.angle]);break;case 49:case 97:e?a.Nd(1):a.bc.locked||(f?(a.Qc(a,a.g.zoom*a.g.Ha,!0),a.C.notification.notify("Integer Zoom",15,40,15,!0)):a.Qc(a,1,!1));break;case 50:case 98:e?
a.Nd(2):a.bc.locked||(f?a.Qc(a,.5,!1):a.Qc(a,2,!1));break;case 51:case 99:e?a.Nd(3):a.bc.locked||(f?a.Qc(a,.03125,!1):a.Qc(a,32,!1));break;case 52:case 100:e?a.Nd(4):a.bc.locked||(f?a.Qc(a,.25,!1):a.Qc(a,4,!1));break;case 54:case 102:e?a.Nd(6):a.bc.locked||(f?a.Qc(a,.0625,!1):a.Qc(a,16,!1));break;case 55:e?a.Nd(7):a.Wb?a.C.notification.notify("Graph Disabled",15,40,15,!0):(0<a.Wa&&(a.Wa-=.05,0>a.Wa&&(a.Wa=0)),a.Wi.current=a.Cp([a.Wa,a.Wa],!1,a));break;case 56:case 104:e?a.Nd(8):a.bc.locked||(f?a.Qc(a,
.125,!1):a.Qc(a,8,!1));break;case 57:e?a.Nd(9):a.Wb?a.C.notification.notify("Graph Disabled",15,40,15,!0):(1>a.Wa&&(a.Wa+=.05,1<a.Wa&&(a.Wa=1)),a.Wi.current=a.Cp([a.Wa,a.Wa],!1,a));break;case 48:case 96:e?a.Nd(0):a.dc.current=a.Kc([1,1],!0,a);break;case 189:case 109:e&&189===b?d=!1:a.D||(a.V>H.ug?f?a.V=H.ug:(--a.V,a.V<H.ug&&(a.V=H.ug)):a.fa>H.Tg&&(f?a.fa=H.Tg:(--a.fa,a.fa<H.Tg&&(a.fa=H.Tg))),a.dc.current=a.Kc([a.Wf(),1],!0,a));break;case 187:case 107:e&&187===b?d=!1:a.D||(a.fa<a.I?f?a.fa=a.I:(a.fa+=
1,a.fa>a.I&&(a.fa=a.I)):a.V<H.ni&&(f?a.V=H.ni:(a.V+=1,a.V>H.ni&&(a.V=H.ni))),a.dc.current=a.Kc([a.Wf(),1],!0,a));break;case 188:f&&(a.M||a.ua)?a.ix(a):a.na.locked||(b=a.na.current[0],b=f?b-90:b-1,0>b&&(b+=360),a.na.current=a.qg([b,b],!0,a));break;case 190:f&&(a.M||a.ua)?a.lx(a):a.na.locked||(b=a.na.current[0],b=f?b+90:b+1,360<=b&&(b-=360),a.na.current=a.qg([b,b],!0,a));break;case 46:a.M?f?a.Cx(a):a.nw(a,e):e&&(b=a.Wn(a,e,!1))&&a.C.notification.notify("Cleared [R]History cells",15,120,15,!0);break;
case 74:e&&!f?a.ty(a):e&&f?d=!1:a.m.i.length?a.Va||(f?a.$w(a):a.Uw(a)):a.C.notification.notify("No POIs defined",15,80,15,!0);break;case 84:0===a.s||a.g.ha||a.g.m||a.g.B||a.g.o?f?a.C.B=!a.C.B:a.Hi.current=a.sg([!a.C.v],!0,a):this.dk(a,H.Iv);break;case 85:f?!a.Fn&&(a.Ua=!a.Ua,a.h.G=a.Ua,a.C.V=a.Ua)&&(a.s=0,a.Z=0):(a.g.Z||a.g.l)&&a.g.bb&&a.iw(a);break;case 71:e?(a.bd=!a.bd,a.ji.current=a.DA([a.bd],!0,a),a.C.notification.notify("Auto Grid Lines "+(a.bd?"On":"Off"),15,40,15,!0)):f?a.ek&&(a.ij.current=
a.Vw([!a.Ae],!0,a),a.C.notification.notify("Generation display "+(a.Ae?"Relative":"Absolute"),15,40,15,!0)):(a.Dp([!a.jg],!0,a),a.cb&&(a.cb.current=[a.jg],a.C.i=!0));break;case 70:e?a.M&&(a.Nb(!0,!0,H.Io),a.C.notification.notify("Fit Selection",15,80,15,!0)):f?a.ae.locked||(a.da=!a.da,a.ae.current=a.Sz([a.da],!0,a),a.C.notification.notify("AutoFit "+(a.da?"On":"Off"),15,40,15,!0)):a.Gf.locked||(a.Nb(!0,!0,H.cg),a.C.notification.notify("Fit Pattern",15,80,15,!0),a.Fb||(a.mc=!0));break;case 79:e?f?
a.Ww(a):a.Ow(a):a.xh=f?2:1;break;case 37:f?a.rf(a.g.zoom,a.g.zoom):a.rf(a.g.zoom,0);break;case 38:a.s?a.Bm(a,1):a.Z?a.xm(a,1):f?a.rf(-a.g.zoom,a.g.zoom):a.rf(0,a.g.zoom);break;case 39:f?a.rf(-a.g.zoom,-a.g.zoom):a.rf(-a.g.zoom,0);break;case 40:a.s?a.zm(a,1):a.Z?a.vm(a,1):f?a.rf(a.g.zoom,-a.g.zoom):a.rf(0,-a.g.zoom);break;case 77:e?(a.Nb(!0,!0,H.Is),a.C.notification.notify("Center Pattern",15,80,15,!0)):f?a.jB(a):!a.ja||a.ja.G||a.ja.locked||(a.ja.current=a.ef([!a.ja.current[0]],!0,a),a.C.i=!0);break;
case 67:e?a.$n(a,f,c):0!==a.s?this.dk(a,H.os):a.Na||!a.rd||a.rd.locked||(f?(b=a.g.Xb-1,0>b&&(b=a.sa||a.Af?a.g.jb:a.g.jb-1)):(b=a.g.Xb+1,a.sa||a.Af?b>=a.g.jb+1&&(b=0):b>=a.g.jb&&(b=0)),a.Tf(b,a.g.se,a),a.g.ha||a.ge||a.C.notification.notify(a.vp(a.g.Xb)+" Theme",15,40,15,!0));break;case 72:f?(a.Wh.current=a.Iw([!a.ld],!0,a),a.C.notification.notify("AutoFit History Mode "+(a.ld?"On":"Off"),15,40,15,!0)):(a.Tb.length?a.s=a.s?0:1:a.s?a.s=0:a.ga||(a.s=1),a.jd.current=a.df([0!==a.s],!0,a),a.C.i=!0);break;
case 73:e&&f?d=!1:e?a.Aw(a):f?a.Oi.current=a.Kw([!a.Ka],!0,a):(a.s?this.dk(a,H.Zp):a.ga||a.Cc(H.Zp,a),a.jd.current=a.df([0!==a.s],!0,a),a.C.i=!0);break;case 27:a.Ad?a.Tb.length?(a.Tb=[],a.Z=0):a.ua||a.Qa?a.En(a):a.Vd?a.Vc.current=a.he([!1],!0,a):a.Rb?a.br(a):-1!==a.Ib?a.ql(a,!0,!1):Pb():a.s?a.s=0:a.Tb.length?(a.Tb=[],a.Z=0):a.ua||a.Qa?a.En(a):a.Vd?a.Vc.current=a.he([!1],!0,a):a.Rb?a.br(a):-1!==a.Ib?a.ql(a,!0,!1):a.Fb&&(a.$b.current=a.vd(H.je,!0,a));a.jd.current=a.df([0!==a.s],!0,a);a.C.i=!0;break;
case 33:a.s?f?a.LB(a):a.Bm(a,a.Ea):a.Z?a.xm(a,a.Ea):Ca.yb?(--a.Ga,0>a.Ga&&(a.Ga=Ba.ke.length-1),a.yg(Ba.ke[a.Ga].pattern,!1)):a.GA(a);break;case 34:a.s?f?a.WA(a):a.zm(a,a.Ea):a.Z?a.vm(a,a.Ea):Ca.yb?(a.Ga+=1,a.Ga>=Ba.ke.length&&(a.Ga=0),a.yg(Ba.ke[a.Ga].pattern,!1)):a.EA(a);break;case 36:a.s?a.s=1:a.Z?a.Z=1:Ca.yb?(a.Ga=0,a.yg(Ba.ke[a.Ga].pattern,!1)):a.SE(a);break;case 35:a.s?a.s=a.Vi-a.Ea:a.Z?a.Z=a.Tb.length-a.Ea:Ca.yb?(a.Ga=Ba.ke.length-1,a.yg(Ba.ke[a.Ga].pattern,!1)):a.LE(a);break;case 112:a.D||
(a.bb=!a.bb,a.wa.current=a.re(a.bb?H.Yj:H.ti,!0,a),a.C.notification.notify((a.bb?"Draw":"Pan")+" Mode",15,40,15,!0));break;case 113:f?(a.mj.current=a.Vq([!a.zh],!0,a),a.C.notification.notify("Smart Drawing "+(a.zh?"On":"Off"),15,40,15,!0)):a.wa.current=a.re(H.Yj,!0,a);break;case 114:f?a.Vb.current=a.El([!a.Vb.current[0],a.Vb.current[1],a.Vb.current[2]],!0,a):a.D||(a.wa.current=a.re(H.Yj,!0,a),a.Vd||(a.Vc.current=a.he([!0],!0,a)));break;case 115:f?a.Vb.current=a.El([a.Vb.current[0],!a.Vb.current[1],
a.Vb.current[2]],!0,a):a.wa.o[H.Zj]||(a.wa.current=a.re(H.Zj,!0,a));break;case 116:f?a.Vb.current=a.El([a.Vb.current[0],a.Vb.current[1],!a.Vb.current[2]],!0,a):a.wa.current=a.re(H.ti,!0,a);break;case 117:a.Xh.locked||(f?a.Rz(a):a.Ym(a));break;case 118:a.ah.locked||(a.ah.current=a.Gw([!a.g.Yb],!0,a),a.C.notification.notify("Fast Lookup "+(a.g.Yb?"On":"Off"),15,40,15,!0));break;case 45:a.lj=!0;break;case 122:d=!1;break;default:if(-1===b||116===b)d=!1}}return d}}}());
